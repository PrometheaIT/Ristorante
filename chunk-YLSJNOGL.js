import{a as U,b as V,d as H}from"./chunk-VFQO4QZK.js";import{a as z}from"./chunk-7FT2VBWG.js";import{a as N}from"./chunk-PESVHT2V.js";import{a as B}from"./chunk-5M5JQCWW.js";import{a as q}from"./chunk-RWHEAJGO.js";import"./chunk-MEGBB4Y7.js";import{Ea as j}from"./chunk-OFUIVTUT.js";import{b as $}from"./chunk-NPMWXJE4.js";import"./chunk-6GCWWUP3.js";import{j as A,k as M,p as R,s as F}from"./chunk-N5RTTLWI.js";import{D as C,Ha as s,Hb as w,Ib as n,J as P,Jb as v,Kb as u,Lb as I,Sb as L,Xa as k,Z as b,ab as S,ca as p,ib as h,jb as a,kb as i,s as D,wb as E}from"./chunk-R56C6QW6.js";import{a as T,b as O,j as m}from"./chunk-4ZZIO3ZI.js";var _=class d extends q{constructor(){super(),this.authService.currentUser$.pipe(C(e=>!!e),P(1)).subscribe(()=>{this.loadData()})}getTableName(){return"reviews"}loadData(e){return m(this,null,function*(){try{this.loadingSubject.next(!0);let t=yield this.getCurrentRestaurantId();if(!t){this.dataSubject.next([]),this.loadingSubject.next(!1);return}let{data:r,error:o}=yield this.supabaseService.getSupabaseClient().from(this.getTableName()).select("*").eq("restaurant_id",t).order("created_at",{ascending:!1});if(o)throw o;console.log("Reviews loaded:",r?.length),this.dataSubject.next(r||[])}catch(t){console.error("Error loading reviews:",t),this.handleError("loadData",t)}finally{this.loadingSubject.next(!1)}})}getAverageRating(){let e=this.dataSubject.value;if(e.length===0)return{average:0,count:0};let r=e.reduce((o,l)=>o+l.rating,0)/e.length;return{average:Math.round(r*10)/10,count:e.length}}loadReviews(){return m(this,null,function*(){return this.loadData()})}static \u0275fac=function(t){return new(t||d)};static \u0275prov=b({token:d,factory:d.\u0275fac,providedIn:"root"})};var x=class d{supabaseService=p($);getTodayOrders(){return m(this,null,function*(){try{let e=yield this.getCurrentRestaurantId();if(!e)return{count:0,revenue:0};let t=new Date().toISOString().split("T")[0],{data:r,error:o}=yield this.supabaseService.getSupabaseClient().from("order_headers").select("total_amount, status, comande(total_amount)").eq("restaurant_id",e).eq("status","completed").gte("created_at",`${t}T00:00:00`).lte("created_at",`${t}T23:59:59`);if(o)throw o;let l=0,c=r||[];for(let g of c)g.comande&&Array.isArray(g.comande)&&(l+=g.comande.reduce((y,f)=>y+(Number(f.total_amount)||0),0));return{count:c.length,revenue:l}}catch(e){return console.error("Error in getTodayOrders:",e),{count:0,revenue:0}}})}getLast7DaysSales(){return m(this,null,function*(){try{let e=yield this.getCurrentRestaurantId();if(!e)return this.generateEmptySalesData();let t=new Date,r=new Date;r.setDate(r.getDate()-6);let{data:o,error:l}=yield this.supabaseService.getSupabaseClient().from("comande").select("created_at, total_amount, status").eq("restaurant_id",e).eq("status","completed").gte("created_at",r.toISOString()).lte("created_at",t.toISOString());if(l)throw l;return this.groupSalesByDay(o||[],r,t)}catch(e){return console.error("Error in getLast7DaysSales:",e),this.generateEmptySalesData()}})}getTopDishes(e=5){return m(this,null,function*(){try{let t=yield this.getCurrentRestaurantId();if(!t)return[];let{data:r,error:o}=yield this.supabaseService.getSupabaseClient().rpc("get_top_dishes",{p_restaurant_id:t,p_limit:e});return o?yield this.getTopDishesFallback(t,e):r||[]}catch(t){return console.error("Error in getTopDishes:",t),[]}})}getTopDishesFallback(e,t){return m(this,null,function*(){try{let{data:r,error:o}=yield this.supabaseService.getSupabaseClient().from("order_items").select(`
          quantity,
          dish:dish_id (
            id,
            name,
            base_price
          )
        `).eq("restaurant_id",e);if(o)throw o;let l=new Map;return(r||[]).forEach(c=>{if(!c.dish)return;let g=c.dish.id,y=l.get(g),f=c.quantity*(c.dish.base_price||0);y?(y.quantity+=c.quantity,y.revenue+=f):l.set(g,{name:c.dish.name,quantity:c.quantity,revenue:f})}),Array.from(l.entries()).map(([c,g])=>({id:c,name:g.name,quantity:g.quantity,revenue:g.revenue})).sort((c,g)=>g.quantity-c.quantity).slice(0,t)}catch(r){return console.error("Error in getTopDishesFallback:",r),[]}})}getActiveComande(){return m(this,null,function*(){try{let e=yield this.getCurrentRestaurantId();if(!e)return[];let{data:t,error:r}=yield this.supabaseService.getSupabaseClient().from("comande").select(`
          *,
          table:table_id (table_number, table_name),
          order_header:order_header_id (order_number, customer_name),
          order_items (
            id,
            dish_id,
            quantity,
            status
          )
        `).eq("restaurant_id",e).in("status",["ordered","waiting","preparing","ready"]).order("created_at",{ascending:!1}).limit(10);if(r)throw r;return(t||[]).map(o=>O(T({},o),{order_number:o.order_header?.order_number||`CMD-${o.id.slice(-6)}`,total_amount:Number(o.total_amount)||0}))}catch(e){return console.error("Error in getActiveComande:",e),[]}})}getCurrentRestaurantId(){return m(this,null,function*(){try{return localStorage.getItem("currentRestaurantId")}catch{return null}})}generateEmptySalesData(){let e=[];for(let t=6;t>=0;t--){let r=new Date;r.setDate(r.getDate()-t),e.push({day:r.toLocaleDateString("it-IT",{weekday:"short"}),amount:0})}return e}groupSalesByDay(e,t,r){let o=new Map;for(let l=new Date(t);l<=r;l.setDate(l.getDate()+1)){let c=l.toISOString().split("T")[0];o.set(c,0)}return e.forEach(l=>{let c=l.created_at.split("T")[0];o.has(c)&&o.set(c,o.get(c)+(Number(l.total_amount)||0))}),Array.from(o.entries()).map(([l,c])=>({day:new Date(l).toLocaleDateString("it-IT",{weekday:"short"}),amount:c}))}static \u0275fac=function(t){return new(t||d)};static \u0275prov=b({token:d,factory:d.\u0275fac,providedIn:"root"})};function W(d,e){if(d&1&&(a(0,"div",16)(1,"div",17),n(2),i(),a(3,"div",18)(4,"strong"),n(5),i(),a(6,"div",19),n(7),i()(),a(8,"div",20),n(9),i()()),d&2){let t=e.$implicit,r=e.index,o=E();s(2),v(r+1),s(3),v(t.name),s(2),u("",t.orders," ordini"),s(2),u("\u20AC",o.formatNumber(t.revenue,"1.0-0"))}}function J(d,e){d&1&&(a(0,"div",21)(1,"span",22),n(2,"restaurant_menu"),i(),a(3,"p",23),n(4,"Nessun piatto venduto ancora"),i()())}function Q(d,e){if(d&1&&(a(0,"div",24)(1,"div")(2,"strong"),n(3),i(),a(4,"div",23),n(5),i()(),a(6,"div",25)(7,"span",26),n(8),i(),a(9,"div",27),n(10),i()()()),d&2){let t=e.$implicit;s(3),v(t.time),s(2),I(" ",t.customer_name," \u2022 ",t.party_size," persone "),s(2),w(t.status==="confermata"?"bg-emerald-500/20 text-emerald-500":t.status==="in attesa"?"bg-amber-500/20 text-amber-500":"bg-red-500/20 text-red-500"),s(),u(" ",t.status," "),s(2),u("Tavolo ",t.table)}}function X(d,e){d&1&&(a(0,"div",21)(1,"span",22),n(2,"event_available"),i(),a(3,"p",23),n(4,"Nessuna prenotazione in arrivo"),i()())}function Y(d,e){if(d&1&&(a(0,"div",28)(1,"div",29)(2,"strong"),n(3),i(),a(4,"span",26),n(5),i()(),a(6,"div",23),n(7),i(),a(8,"div",30)(9,"div",31),n(10),i(),a(11,"div",32),n(12),i()()()),d&2){let t=e.$implicit,r=E();s(3),u("#",t.order_number),s(),w(t.status==="preparing"?"preparing":t.status==="pronto"?"bg-emerald-500/20 text-emerald-500":"bg-gray-500/20 text-gray-500"),s(),u(" ",t.status," "),s(2),u("",t.items," articoli"),s(3),u("\u20AC",r.formatNumber(t.total)),s(2),v(t.time)}}function Z(d,e){d&1&&(a(0,"div",21)(1,"span",33),n(2,"check_circle"),i(),a(3,"p",23),n(4,"Tutto tranquillo in cucina"),i()())}function ee(d,e){if(d&1&&(a(0,"div",34)(1,"div",35)(2,"div")(3,"strong"),n(4),i(),a(5,"div",19),n(6),i()(),a(7,"div",25)(8,"div",31),n(9),i(),a(10,"div",32),n(11),i()()()()),d&2){let t=e.$implicit;s(4),v(t.ingredient_name),s(2),I("Scorta attuale: ",t.current_stock," ",t.unit),s(3),v(t.current_stock),s(2),u("su ",t.minimum_stock," min")}}function te(d,e){d&1&&(a(0,"div",21)(1,"span",33),n(2,"inventory_2"),i(),a(3,"p",23),n(4,"Tutto in ordine"),i()())}var K=class d{todayOrders=0;todayRevenue=0;todayReservations=0;upcomingReservations=0;lowStockIngredients=0;averageRating=0;totalReviews=0;salesData=[];topDishes=[];upcomingReservationsList=[];currentOrders=[];inventoryAlerts=[];decimalPipe=p(R);ingredientService=p(N);reservationService=p(B);reviewService=p(_);dishService=p(z);orderHeaderService=p(H);comandaService=p(U);orderItemService=p(V);statisticsService=p(x);ngOnInit(){return m(this,null,function*(){console.log("\u{1F680} Dashboard ngOnInit started"),yield new Promise(e=>setTimeout(e,0)),console.log("\u23F3 Loading service started");try{yield this.loadAllData(),console.log("\u2705 loadAllData completed successfully")}catch(e){console.error("\u274C Error loading dashboard data:",e),this.loadSampleData()}finally{console.log("\u{1F6D1} Finally block reached, stopping loading service"),console.log("\u23F9\uFE0F Loading service stopped")}})}loadAllData(){return m(this,null,function*(){try{console.log("\u{1F504} Loading all dashboard data...");let e=[this.ingredientService.loadData().then(()=>console.log("\u2705 Ingredients loaded")),this.reservationService.loadRestaurantReservations().then(()=>console.log("\u2705 Reservations loaded")),this.reviewService.loadData().then(()=>console.log("\u2705 Reviews loaded")),this.dishService.loadData().then(()=>console.log("\u2705 Dishes loaded"))];yield Promise.all(e),console.log("\u2705 All base data loaded successfully"),console.log("\u2705 Base data loaded, updating dashboard..."),yield this.updateDashboardData()}catch(e){throw console.error("\u274C Error in loadAllData:",e),e}})}updateDashboardData(){return m(this,null,function*(){console.log("\u{1F4CA} Starting dashboard data update");try{console.log("STEP 1: Loading today orders..."),yield this.loadTodayOrders(),console.log("\u2705 STEP 1 COMPLETED"),console.log("STEP 2: Loading today reservations..."),yield this.loadTodayReservations(),console.log("\u2705 STEP 2 COMPLETED"),console.log("STEP 3: Starting parallel load of sales data and top dishes..."),yield Promise.all([this.loadSalesData().then(()=>console.log("\u2705 STEP 3a - Sales data completed")),this.loadTopDishes().then(()=>console.log("\u2705 STEP 3b - Top dishes completed"))]),console.log("\u2705 STEP 3 COMPLETED"),console.log("STEP 4: Starting parallel load of current orders and upcoming reservations..."),yield Promise.all([this.loadCurrentOrders().then(()=>console.log("\u2705 STEP 4a - Current orders completed")),this.loadUpcomingReservationsList().then(()=>console.log("\u2705 STEP 4b - Upcoming reservations completed"))]),console.log("\u2705 STEP 4 COMPLETED"),console.log("STEP 5: Loading sync data..."),this.loadLowStockIngredients(),this.loadAverageRating(),this.loadInventoryAlerts(),console.log("\u2705 STEP 5 COMPLETED"),console.log("\u{1F4CA} Dashboard data updated successfully")}catch(e){throw console.error("\u274C Error in updateDashboardData:",e),e}})}loadTodayOrders(){return m(this,null,function*(){try{console.log("\u{1F4E6} Loading today orders (from order headers)...");let e=yield this.statisticsService.getTodayOrders();this.todayOrders=e.count,this.todayRevenue=e.revenue,console.log(`\u2705 Today order headers: ${this.todayOrders}, Revenue: \u20AC${this.todayRevenue}`)}catch(e){console.error("\u274C Error loading today orders:",e),this.todayOrders=0,this.todayRevenue=0}})}loadTodayReservations(){return m(this,null,function*(){try{console.log("\u{1F4C5} Loading today reservations..."),yield this.reservationService.loadRestaurantReservations();let e=yield D(this.reservationService.restaurantReservations$),t=this.reservationService.getActiveReservations(e),r=this.reservationService.getFutureReservations(e);this.todayReservations=t.length,this.upcomingReservations=r.length,console.log(`\u2705 Today reservations: ${this.todayReservations}, Upcoming: ${this.upcomingReservations}`)}catch(e){console.error("\u274C Error loading today reservations:",e),this.todayReservations=0,this.upcomingReservations=0}})}loadLowStockIngredients(){try{console.log("\u26A0\uFE0F Loading low stock ingredients...");let e=this.ingredientService.getLowStockIngredients();this.lowStockIngredients=e.length,console.log(`\u2705 Low stock ingredients: ${this.lowStockIngredients}`)}catch(e){console.error("\u274C Error loading low stock ingredients:",e),this.lowStockIngredients=0}}loadAverageRating(){try{console.log("\u2B50 Loading average rating...");let e=this.reviewService.getAverageRating();this.averageRating=e.average,this.totalReviews=e.count,console.log(`\u2705 Average rating: ${this.averageRating}/5 (${this.totalReviews} reviews)`)}catch(e){console.error("\u274C Error loading average rating:",e),this.averageRating=0,this.totalReviews=0}}loadSalesData(){return m(this,null,function*(){try{console.log("\u{1F4C8} Loading sales data..."),this.salesData=yield this.statisticsService.getLast7DaysSales(),console.log(`\u2705 Sales data loaded: ${this.salesData.length} days`)}catch(e){console.error("\u274C Error loading sales data:",e),this.salesData=this.generateSampleSalesData()}})}loadTopDishes(){return m(this,null,function*(){try{console.log("\u{1F37D}\uFE0F Loading top dishes..."),this.topDishes=yield this.statisticsService.getTopDishes(5),console.log(`\u2705 Top dishes loaded: ${this.topDishes.length}`)}catch(e){console.error("\u274C Error loading top dishes:",e),this.topDishes=[]}})}loadUpcomingReservationsList(){return m(this,null,function*(){try{console.log("\u{1F552} Loading upcoming reservations list...");let e=yield D(this.reservationService.restaurantReservations$),t=this.reservationService.getFutureReservations(e);this.upcomingReservationsList=t.slice(0,4).map(r=>({time:r.reservation_time.substring(0,5),customer_name:this.getCustomerName(r),party_size:r.party_size,table:this.getTableName(r),status:r.status})),console.log(`\u2705 Upcoming reservations list: ${this.upcomingReservationsList.length}`)}catch(e){console.error("\u274C Error loading upcoming reservations list:",e),this.upcomingReservationsList=[]}})}loadCurrentOrders(){return m(this,null,function*(){try{console.log("\u{1F525} Loading current comande...");let e=yield this.statisticsService.getActiveComande();console.log("\u{1F4CB} Raw current comande:",e);let t=yield Promise.all(e.slice(0,4).map(r=>m(this,null,function*(){try{let o=r.order_items?r.order_items.length:0;return{order_number:r.order_number||`#${r.id?.slice(-6)||"N/A"}`,items:o,total:r.total_amount||0,status:r.status||"pending",time:this.formatTimeSince(r.created_at),customer_name:r.customer_name||r.order_header?.customer_name||"Cliente"}}catch(o){return console.error("\u274C Error processing comanda:",r.id,o),{order_number:r.order_number||`#${r.id?.slice(-6)||"N/A"}`,items:0,total:r.total_amount||0,status:r.status||"pending",time:"N/A",customer_name:"Cliente"}}})));this.currentOrders=t.filter(r=>r!==null),console.log(`\u2705 Current comande processed: ${this.currentOrders.length}`)}catch(e){console.error("\u274C Error loading current comande:",e),this.currentOrders=[]}})}loadInventoryAlerts(){try{console.log("\u{1F6A8} Loading inventory alerts...");let e=this.ingredientService.getLowStockIngredients();this.inventoryAlerts=e.slice(0,4).map(t=>({ingredient_name:t.name,current_stock:t.current_stock,minimum_stock:t.minimum_stock,unit:t.units?.symbol||"pz",priority:t.current_stock<=t.minimum_stock*.5?"high":"medium"})),console.log(`\u2705 Inventory alerts: ${this.inventoryAlerts.length}`)}catch(e){console.error("\u274C Error loading inventory alerts:",e),this.inventoryAlerts=[]}}loadSampleData(){console.warn("\u26A0\uFE0F Using sample data for dashboard"),this.todayOrders=12,this.todayRevenue=450.5,this.todayReservations=8,this.upcomingReservations=15,this.lowStockIngredients=2,this.averageRating=4.5,this.totalReviews=24,this.salesData=this.generateSampleSalesData(),this.topDishes=this.generateSampleTopDishes(),this.upcomingReservationsList=this.generateSampleReservations(),this.currentOrders=this.generateSampleOrders(),this.inventoryAlerts=this.generateSampleAlerts()}generateSampleSalesData(){return["Lun","Mar","Mer","Gio","Ven","Sab","Dom"].map(t=>({day:t,amount:Math.floor(Math.random()*500)+100}))}generateSampleTopDishes(){return[{name:"Pizza Margherita",quantity:45,revenue:675},{name:"Spaghetti Carbonara",quantity:38,revenue:570},{name:"Tagliata di Manzo",quantity:25,revenue:625},{name:"Insalada Cesare",quantity:22,revenue:198},{name:"Tiramis\xF9",quantity:18,revenue:126}]}generateSampleReservations(){return[{time:"20:00",customer_name:"Mario Rossi",party_size:4,status:"confirmed",table:"Tavolo 5"},{time:"20:30",customer_name:"Laura Bianchi",party_size:2,status:"pending",table:"Tavolo 2"},{time:"21:00",customer_name:"Giuseppe Verdi",party_size:6,status:"confirmed",table:"Tavolo 8"}]}generateSampleOrders(){return[{order_number:"#12345",items:3,total:45.5,status:"preparing",time:"15 min"},{order_number:"#12346",items:2,total:28,status:"ready",time:"8 min"}]}generateSampleAlerts(){return[{ingredient_name:"Pomodori San Marzano",current_stock:5,minimum_stock:20,unit:"kg",priority:"high"},{ingredient_name:"Mozzarella di Bufala",current_stock:8,minimum_stock:15,unit:"pz",priority:"medium"}]}getCustomerName(e){return this.reservationService.getCustomerName(e)}getTableName(e){return this.reservationService.getTableInfo(e)}formatTimeSince(e){if(!e)return"Ora";try{let t=new Date,r=new Date(e),o=Math.floor((t.getTime()-r.getTime())/6e4);return o<1?"Ora":o<60?`${o} min`:`${Math.floor(o/60)} h`}catch{return"Ora"}}get maxSales(){if(this.salesData.length===0)return 1;let e=Math.max(...this.salesData.map(t=>t.amount));return e>0?e:1}formatNumber(e,t="1.2-2"){return e==null?"0":this.decimalPipe.transform(e,t)||"0"}getStatusClass(e){return{confirmed:"chip success",pending:"chip warning",cancelled:"chip error",confermata:"chip success","in attesa":"chip warning",cancellata:"chip error"}[e]||"chip"}getOrderStatusClass(e){return{preparing:"preparing",ready:"chip success",completed:"chip inactive",served:"chip inactive",received:"chip warning"}[e]||"chip"}static \u0275fac=function(t){return new(t||d)};static \u0275cmp=k({type:d,selectors:[["app-dashboard"]],features:[L([R])],decls:79,vars:16,consts:[[1,"page-container"],[1,"grid-cards","p-sm1","mt-lg"],[1,"card"],[1,"flex","items-center","gap-sm","mb-md"],[1,"material-icons","text-primary","text-md"],[1,"card-title"],[1,"text-md","font-bold","text-primary","justify-center","flex"],[1,"card-footer","text-muted"],[1,"grid-cards","mt-lg","p-sm1"],[1,"font-bold","text-md","m-0"],[1,"flex","flex-col","gap-md"],["class","card-body",4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],["class","flex items-center justify-between p-md rounded border hover:border-primary transition",4,"ngFor","ngForOf"],["class","p-md rounded border hover:border-primary transition",4,"ngFor","ngForOf"],["class","p-md rounded border border-red-500/30 bg-red-500/5",4,"ngFor","ngForOf"],[1,"card-body"],[1,"text-md","font-bold","text-primary","w-10"],[1,"flex-1"],[1,"text-muted","text-sm"],[1,"text-md","font-bold","text-primary"],[1,"empty-state"],[1,"material-icons","text-lg"],[1,"text-muted"],[1,"flex","items-center","justify-between","p-md","rounded","border","hover:border-primary","transition"],[1,"text-right"],[1,"chip"],[1,"text-sm","text-muted","mt-1"],[1,"p-md","rounded","border","hover:border-primary","transition"],[1,"flex","justify-between","items-start","mb-sm"],[1,"flex","justify-between","items-end","mt-md"],[1,"font-bold","text-primary"],[1,"text-sm","text-muted"],[1,"material-icons","text-lg","text-primary"],[1,"p-md","rounded","border","border-red-500/30","bg-red-500/5"],[1,"flex","items-center","justify-between"]],template:function(t,r){t&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),n(5,"receipt"),i(),a(6,"h3",5),n(7,"Ordini Oggi"),i()(),a(8,"div",6),n(9),i(),a(10,"div",7),n(11),i()(),a(12,"div",2)(13,"div",3)(14,"span",4),n(15,"event_available"),i(),a(16,"h3",5),n(17,"Prenotazioni Oggi"),i()(),a(18,"div",6),n(19),i(),a(20,"div",7),n(21),i()(),a(22,"div",2)(23,"div",3)(24,"span",4),n(25,"warning"),i(),a(26,"h3",5),n(27,"Scorte Basse"),i()(),a(28,"div",6),n(29),i(),a(30,"div",7),n(31),i()(),a(32,"div",2)(33,"div",3)(34,"span",4),n(35,"star"),i(),a(36,"h3",5),n(37,"Valutazione Media"),i()(),a(38,"div",6),n(39),i(),a(40,"div",7),n(41),i()()(),a(42,"div",8)(43,"div",2)(44,"div",3)(45,"span",4),n(46,"local_fire_department"),i(),a(47,"h3",9),n(48,"Piatti Pi\xF9 Venduti"),i()(),a(49,"div",10),S(50,W,10,4,"div",11)(51,J,5,0,"div",12),i()(),a(52,"div",2)(53,"div",3)(54,"span",4),n(55,"schedule"),i(),a(56,"h3",9),n(57,"Prossime Prenotazioni"),i()(),a(58,"div",10),S(59,Q,11,7,"div",13)(60,X,5,0,"div",12),i()(),a(61,"div",2)(62,"div",3)(63,"span",4),n(64,"restaurant"),i(),a(65,"h3",9),n(66,"Ordini in Corso"),i()(),a(67,"div",10),S(68,Y,13,7,"div",14)(69,Z,5,0,"div",12),i()(),a(70,"div",2)(71,"div",3)(72,"span",4),n(73,"notification_important"),i(),a(74,"h3",9),n(75,"Alert Inventario"),i()(),a(76,"div",10),S(77,ee,12,5,"div",15)(78,te,5,0,"div",12),i()()()()),t&2&&(s(9),v(r.todayOrders),s(2),u("\u20AC",r.formatNumber(r.todayRevenue)),s(8),v(r.todayReservations),s(2),u("",r.upcomingReservations," in arrivo"),s(8),v(r.lowStockIngredients),s(2),u(" ",r.lowStockIngredients>0?"Azione richiesta":"Tutto sotto controllo"," "),s(8),u("",r.averageRating,"/5"),s(2),u("",r.totalReviews," recensioni"),s(9),h("ngForOf",r.topDishes),s(),h("ngIf",r.topDishes.length===0),s(8),h("ngForOf",r.upcomingReservationsList),s(),h("ngIf",r.upcomingReservationsList.length===0),s(8),h("ngForOf",r.currentOrders),s(),h("ngIf",r.currentOrders.length===0),s(8),h("ngForOf",r.inventoryAlerts),s(),h("ngIf",r.inventoryAlerts.length===0))},dependencies:[F,A,M,j],encapsulation:2})};export{K as Dashboard};
