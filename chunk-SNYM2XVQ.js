import{a as Ys}from"./chunk-R4FRWSH2.js";import{a as Ot}from"./chunk-FK6H3RFT.js";import{a as Xh}from"./chunk-3ECEHBUD.js";import{b as mc,c as vc,d as Yh}from"./chunk-V3SLOTRO.js";import{a as Zs}from"./chunk-72TRYMVS.js";import{a as Gh}from"./chunk-BZWMLJP5.js";import{a as Gs}from"./chunk-LQIM4RV2.js";import{a as $s}from"./chunk-SPXRHTZC.js";import{a as Hh}from"./chunk-JA5I2VC4.js";import"./chunk-Z3UXT6XE.js";import{eb as $h,fb as Zh}from"./chunk-GDRKFSJ5.js";import{a as Kh}from"./chunk-FH5TYEUV.js";import{b as Th,d as Bh,h as Oh,j as Rh,l as zh,q as jh,r as Uh,s as qh,u as Vh,x as Wh}from"./chunk-D6L6OQLW.js";import{b as Ih,d as Fh}from"./chunk-SMFU76LW.js";import{f as Ph}from"./chunk-TSK5DXKO.js";import{i as Ch,j as kh,k as Mh,q as Nh,r as Lh,t as Dh,u as Eh}from"./chunk-WSJCHGNS.js";import{$b as ui,Bb as le,Ea as yh,Fb as wh,Gb as xh,Ha as W,Hb as Sh,Kb as Ai,Mb as Fo,Nb as U,Ob as Dn,Pb as at,Qb as fa,Tb as $t,Ub as Zt,Vb as Yt,Xa as bh,Z as Rr,Zb as Ws,ab as et,bc as Ci,ca as Ht,cc as Hs,g as vh,ia as Me,ja as Ne,mc as Ah,nb as he,ob as D,pb as E,qb as Gt,t as gc,ua as _h,ub as Yi,vb as Ki,wb as ei,zb as Ie}from"./chunk-QIXMMTC2.js";import{a as Io,b as Vs,j as rt}from"./chunk-4ZZIO3ZI.js";var zr=class i extends Hh{getTableName(){return"ingredient_groups"}loadData(){return rt(this,null,function*(){try{this.loadingSubject.next(!0);let{data:e,error:t}=yield this.supabaseService.getSupabaseClient().from(this.getTableName()).select("*").order("sort_order",{ascending:!0}).order("name");if(t)throw t;this.dataSubject.next(e??[])}catch(e){this.handleError("loadData",e),this.dataSubject.next([])}finally{this.loadingSubject.next(!1)}})}getCurrentRestaurantId(){return rt(this,null,function*(){return null})}drinkGroupIds=["2fe735fb-5e1f-4dd6-8ec6-5e4e4d79d03d","bb2e6dc6-2932-4c03-abb7-bd0c5877625d","8fe1a885-1755-4baf-8c66-1603d4378909"];drinkGroupNames=["Analcolici","Caff\xE8 e T\xE8","Vini e Alcolici"];ensureDrinkGroupsExist(){return rt(this,null,function*(){console.log("Gruppi bevande verificati:",this.drinkGroupNames)})}getDrinkGroupIds(){return rt(this,null,function*(){return this.drinkGroupIds})}getDrinkGroupDetails(){return rt(this,null,function*(){return[{id:"2fe735fb-5e1f-4dd6-8ec6-5e4e4d79d03d",name:"Analcolici"},{id:"bb2e6dc6-2932-4c03-abb7-bd0c5877625d",name:"Caff\xE8 e T\xE8"},{id:"8fe1a885-1755-4baf-8c66-1603d4378909",name:"Vini e Alcolici"}]})}getDrinkTypeFromGroup(e){return{"2fe735fb-5e1f-4dd6-8ec6-5e4e4d79d03d":"non_alcoholic","bb2e6dc6-2932-4c03-abb7-bd0c5877625d":"non_alcoholic","8fe1a885-1755-4baf-8c66-1603d4378909":"alcoholic"}[e]||"non_alcoholic"}getGroupName(e){return{"2fe735fb-5e1f-4dd6-8ec6-5e4e4d79d03d":"Analcolici","bb2e6dc6-2932-4c03-abb7-bd0c5877625d":"Caff\xE8 e T\xE8","8fe1a885-1755-4baf-8c66-1603d4378909":"Vini e Alcolici"}[e]||"Sconosciuto"}static \u0275fac=(()=>{let e;return function(n){return(e||(e=_h(i)))(n||i)}})();static \u0275prov=Rr({token:i,factory:i.\u0275fac,providedIn:"root"})};var Ra=class i{drinkIngredientsSubject=new vh([]);drinkIngredients$=this.drinkIngredientsSubject.asObservable();drinkGroupIds=[];ingredientService=Ht(Gs);drinkGroupService=Ht(zr);supabaseService=Ht(Ih);initialize(){return rt(this,null,function*(){yield this.drinkGroupService.ensureDrinkGroupsExist(),this.drinkGroupIds=yield this.drinkGroupService.getDrinkGroupIds(),this.ingredientService.data$.subscribe(e=>{let t=e.filter(n=>n.group_id&&this.drinkGroupIds.includes(n.group_id));this.drinkIngredientsSubject.next(t)})})}getDrinkIngredients(){return this.drinkIngredientsSubject.value}markAsDrink(e,t){return rt(this,null,function*(){try{let n=this.supabaseService.getSupabaseClient();if(!this.drinkGroupIds.includes(t))return console.error(`Gruppo di bevanda non valido: ${t}`),!1;let{error:r}=yield n.from("ingredients").update({group_id:t}).eq("id",e);return r?(console.error("Errore nell'aggiornamento dell'ingrediente:",r),!1):(yield this.ingredientService.loadData(),!0)}catch(n){return console.error("Errore nel contrassegnare come bevanda:",n),!1}})}getDrinkIngredientsByType(){let e=this.getDrinkIngredients(),t={alcoholic:[],non_alcoholic:[]};return e.forEach(n=>{this.drinkGroupService.getDrinkTypeFromGroup(n.group_id)==="alcoholic"?t.alcoholic.push(n):t.non_alcoholic.push(n)}),t}getGroupNameForIngredient(e){return this.drinkGroupService.getGroupName(e.group_id)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=Rr({token:i,factory:i.\u0275fac,providedIn:"root"})};var Xs=class i{dishService=Ht($s);categoryService=Ht(Zs);menuService=Ht(Ys);drinkIngredientService=Ht(Ra);drinkGroupService=Ht(zr);createBeverageFromIngredient(e,t,n){return rt(this,null,function*(){let r=this.drinkIngredientService.getDrinkIngredients().find(d=>d.id===e);if(!r)throw new Error("Ingrediente non trovato");let a=this.drinkGroupService.getGroupName(r.group_id),l="Bevande";a==="Vini e Alcolici"&&(l="Alcolici");let s=yield this.findOrCreateCategory(l),h=this.drinkGroupService.getDrinkTypeFromGroup(r.group_id),u=yield this.dishService.createDish({name:`[Bev] ${r.name}`,description:`${a} - Prodotto confezionato`,base_price:t,food_cost:r.cost_per_unit||0,category_id:s.id,status:"available",preparation_time:0,extended_data:{type:"beverage",drink_type:h,beverage_group:a,group_id:r.group_id,volume:r.volume||null}});return u&&n&&(yield this.menuService.addDishToMenu(n,u.id,s.id,0)),u})}findOrCreateCategory(e){return rt(this,null,function*(){try{let n=(yield gc(this.categoryService.data$)).find(r=>r.name===e);if(!n){let r=yield this.categoryService.createCategory({name:e,description:`Categoria per ${e.toLowerCase()}`});r?n=r:(console.warn(`Impossibile creare la categoria "${e}", creo una temporanea`),n={id:`temp-${Date.now()}`,restaurant_id:(yield gc(this.categoryService.getRestaurantId$()))||"",name:e,description:`Categoria per ${e.toLowerCase()}`,order_index:999,is_default:!1,created_at:new Date().toISOString()})}return n}catch(t){return console.error(`Errore nel trovare/creare la categoria "${e}":`,t),{id:`error-${Date.now()}`,restaurant_id:"",name:e,description:`Categoria per ${e.toLowerCase()}`,order_index:999,is_default:!1,created_at:new Date().toISOString()}}})}createAlcoholicBeverage(e,t){return rt(this,null,function*(){let n="";switch(e.type){case"vino":n="Vini";break;case"birra":n="Birre";break;case"superalcolico":n="Superalcolici";break;case"cocktail":n="Cocktail";break}let r=yield this.findOrCreateCategory(n),a=yield this.dishService.createDish({name:e.name,description:e.description||`${e.type} - ${e.grapeVariety||""} ${e.vintageYear||""}`.trim(),base_price:e.price,food_cost:e.cost,category_id:r.id,status:"available",preparation_time:e.type==="cocktail"?5:0,extended_data:{type:"alcoholic_beverage",beverage_type:e.type,volume:e.volume,alcohol_content:e.alcoholContent,vintage_year:e.vintageYear,grape_variety:e.grapeVariety}});return a&&t&&(yield this.menuService.addDishToMenu(t,a.id,r.id,0)),a})}static \u0275fac=function(t){return new(t||i)};static \u0275prov=Rr({token:i,factory:i.\u0275fac,providedIn:"root"})};var En=Uint8Array,ln=Uint16Array,xc=Int32Array,Sc=new En([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Ac=new En([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Jh=new En([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),nf=function(i,e){for(var t=new ln(31),n=0;n<31;++n)t[n]=e+=1<<i[n-1];for(var r=new xc(t[30]),n=1;n<30;++n)for(var a=t[n];a<t[n+1];++a)r[a]=a-t[n]<<5|n;return{b:t,r}},rf=nf(Sc,2),E1=rf.b,yc=rf.r;E1[28]=258,yc[258]=28;var af=nf(Ac,0),a_=af.b,Qh=af.r,bc=new ln(32768);for(Dt=0;Dt<32768;++Dt)gr=(Dt&43690)>>1|(Dt&21845)<<1,gr=(gr&52428)>>2|(gr&13107)<<2,gr=(gr&61680)>>4|(gr&3855)<<4,bc[Dt]=((gr&65280)>>8|(gr&255)<<8)>>1;var gr,Dt,Oo=function(i,e,t){for(var n=i.length,r=0,a=new ln(e);r<n;++r)i[r]&&++a[i[r]-1];var l=new ln(e);for(r=1;r<e;++r)l[r]=l[r-1]+a[r-1]<<1;var s;if(t){s=new ln(1<<e);var h=15-e;for(r=0;r<n;++r)if(i[r])for(var u=r<<4|i[r],d=e-i[r],v=l[i[r]-1]++<<d,_=v|(1<<d)-1;v<=_;++v)s[bc[v]>>h]=u}else for(s=new ln(n),r=0;r<n;++r)i[r]&&(s[r]=bc[l[i[r]-1]++]>>15-i[r]);return s},da=new En(288);for(Dt=0;Dt<144;++Dt)da[Dt]=8;var Dt;for(Dt=144;Dt<256;++Dt)da[Dt]=9;var Dt;for(Dt=256;Dt<280;++Dt)da[Dt]=7;var Dt;for(Dt=280;Dt<288;++Dt)da[Dt]=8;var Dt,Js=new En(32);for(Dt=0;Dt<32;++Dt)Js[Dt]=5;var Dt,P1=Oo(da,9,0);var I1=Oo(Js,5,0);var of=function(i){return(i+7)/8|0},F1=function(i,e,t){return(e==null||e<0)&&(e=0),(t==null||t>i.length)&&(t=i.length),new En(i.subarray(e,t))};var mr=function(i,e,t){t<<=e&7;var n=e/8|0;i[n]|=t,i[n+1]|=t>>8},To=function(i,e,t){t<<=e&7;var n=e/8|0;i[n]|=t,i[n+1]|=t>>8,i[n+2]|=t>>16},_c=function(i,e){for(var t=[],n=0;n<i.length;++n)i[n]&&t.push({s:n,f:i[n]});var r=t.length,a=t.slice();if(!r)return{t:lf,l:0};if(r==1){var l=new En(t[0].s+1);return l[t[0].s]=1,{t:l,l:1}}t.sort(function(se,we){return se.f-we.f}),t.push({s:-1,f:25001});var s=t[0],h=t[1],u=0,d=1,v=2;for(t[0]={s:-1,f:s.f+h.f,l:s,r:h};d!=r-1;)s=t[t[u].f<t[v].f?u++:v++],h=t[u!=d&&t[u].f<t[v].f?u++:v++],t[d++]={s:-1,f:s.f+h.f,l:s,r:h};for(var _=a[0].s,n=1;n<r;++n)a[n].s>_&&(_=a[n].s);var p=new ln(_+1),A=wc(t[d-1],p,0);if(A>e){var n=0,N=0,I=A-e,C=1<<I;for(a.sort(function(we,pe){return p[pe.s]-p[we.s]||we.f-pe.f});n<r;++n){var Z=a[n].s;if(p[Z]>e)N+=C-(1<<A-p[Z]),p[Z]=e;else break}for(N>>=I;N>0;){var V=a[n].s;p[V]<e?N-=1<<e-p[V]++-1:++n}for(;n>=0&&N;--n){var z=a[n].s;p[z]==e&&(--p[z],++N)}A=e}return{t:new En(p),l:A}},wc=function(i,e,t){return i.s==-1?Math.max(wc(i.l,e,t+1),wc(i.r,e,t+1)):e[i.s]=t},ef=function(i){for(var e=i.length;e&&!i[--e];);for(var t=new ln(++e),n=0,r=i[0],a=1,l=function(h){t[n++]=h},s=1;s<=e;++s)if(i[s]==r&&s!=e)++a;else{if(!r&&a>2){for(;a>138;a-=138)l(32754);a>2&&(l(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(l(r),--a;a>6;a-=6)l(8304);a>2&&(l(a-3<<5|8208),a=0)}for(;a--;)l(r);a=1,r=i[s]}return{c:t.subarray(0,n),n:e}},Bo=function(i,e){for(var t=0,n=0;n<e.length;++n)t+=i[n]*e[n];return t},sf=function(i,e,t){var n=t.length,r=of(e+2);i[r]=n&255,i[r+1]=n>>8,i[r+2]=i[r]^255,i[r+3]=i[r+1]^255;for(var a=0;a<n;++a)i[r+a+4]=t[a];return(r+4+n)*8},tf=function(i,e,t,n,r,a,l,s,h,u,d){mr(e,d++,t),++r[256];for(var v=_c(r,15),_=v.t,p=v.l,A=_c(a,15),N=A.t,I=A.l,C=ef(_),Z=C.c,V=C.n,z=ef(N),se=z.c,we=z.n,pe=new ln(19),X=0;X<Z.length;++X)++pe[Z[X]&31];for(var X=0;X<se.length;++X)++pe[se[X]&31];for(var j=_c(pe,7),ie=j.t,M=j.l,F=19;F>4&&!ie[Jh[F-1]];--F);var $=u+5<<3,H=Bo(r,da)+Bo(a,Js)+l,ce=Bo(r,_)+Bo(a,N)+l+14+3*F+Bo(pe,ie)+2*pe[16]+3*pe[17]+7*pe[18];if(h>=0&&$<=H&&$<=ce)return sf(e,d,i.subarray(h,h+u));var de,me,oe,_e;if(mr(e,d,1+(ce<H)),d+=2,ce<H){de=Oo(_,p,0),me=_,oe=Oo(N,I,0),_e=N;var Ee=Oo(ie,M,0);mr(e,d,V-257),mr(e,d+5,we-1),mr(e,d+10,F-4),d+=14;for(var X=0;X<F;++X)mr(e,d+3*X,ie[Jh[X]]);d+=3*F;for(var Ce=[Z,se],S=0;S<2;++S)for(var R=Ce[S],X=0;X<R.length;++X){var q=R[X]&31;mr(e,d,Ee[q]),d+=ie[q],q>15&&(mr(e,d,R[X]>>5&127),d+=R[X]>>12)}}else de=P1,me=da,oe=I1,_e=Js;for(var X=0;X<s;++X){var Y=n[X];if(Y>255){var q=Y>>18&31;To(e,d,de[q+257]),d+=me[q+257],q>7&&(mr(e,d,Y>>23&31),d+=Sc[q]);var Q=Y&31;To(e,d,oe[Q]),d+=_e[Q],Q>3&&(To(e,d,Y>>5&8191),d+=Ac[Q])}else To(e,d,de[Y]),d+=me[Y]}return To(e,d,de[256]),d+me[256]},T1=new xc([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),lf=new En(0),B1=function(i,e,t,n,r,a){var l=a.z||i.length,s=new En(n+l+5*(1+Math.ceil(l/7e3))+r),h=s.subarray(n,s.length-r),u=a.l,d=(a.r||0)&7;if(e){d&&(h[0]=a.r>>3);for(var v=T1[e-1],_=v>>13,p=v&8191,A=(1<<t)-1,N=a.p||new ln(32768),I=a.h||new ln(A+1),C=Math.ceil(t/3),Z=2*C,V=function(Ze){return(i[Ze]^i[Ze+1]<<C^i[Ze+2]<<Z)&A},z=new xc(25e3),se=new ln(288),we=new ln(32),pe=0,X=0,j=a.i||0,ie=0,M=a.w||0,F=0;j+2<l;++j){var $=V(j),H=j&32767,ce=I[$];if(N[H]=ce,I[$]=H,M<=j){var de=l-j;if((pe>7e3||ie>24576)&&(de>423||!u)){d=tf(i,h,0,z,se,we,X,ie,F,j-F,d),ie=pe=X=0,F=j;for(var me=0;me<286;++me)se[me]=0;for(var me=0;me<30;++me)we[me]=0}var oe=2,_e=0,Ee=p,Ce=H-ce&32767;if(de>2&&$==V(j-Ce))for(var S=Math.min(_,de)-1,R=Math.min(32767,j),q=Math.min(258,de);Ce<=R&&--Ee&&H!=ce;){if(i[j+oe]==i[j+oe-Ce]){for(var Y=0;Y<q&&i[j+Y]==i[j+Y-Ce];++Y);if(Y>oe){if(oe=Y,_e=Ce,Y>S)break;for(var Q=Math.min(Ce,Y-2),ne=0,me=0;me<Q;++me){var ue=j-Ce+me&32767,fe=N[ue],xe=ue-fe&32767;xe>ne&&(ne=xe,ce=ue)}}}H=ce,ce=N[H],Ce+=H-ce&32767}if(_e){z[ie++]=268435456|yc[oe]<<18|Qh[_e];var De=yc[oe]&31,Be=Qh[_e]&31;X+=Sc[De]+Ac[Be],++se[257+De],++we[Be],M=j+oe,++pe}else z[ie++]=i[j],++se[i[j]]}}for(j=Math.max(j,M);j<l;++j)z[ie++]=i[j],++se[i[j]];d=tf(i,h,u,z,se,we,X,ie,F,j-F,d),u||(a.r=d&7|h[d/8|0]<<3,d-=7,a.h=I,a.p=N,a.i=j,a.w=M)}else{for(var j=a.w||0;j<l+u;j+=65535){var Te=j+65535;Te>=l&&(h[d/8|0]=u,Te=l),d=sf(h,d+1,i.subarray(j,Te))}a.i=l}return F1(s,0,n+of(d)+r)};var cf=function(){var i=1,e=0;return{p:function(t){for(var n=i,r=e,a=t.length|0,l=0;l!=a;){for(var s=Math.min(l+2655,a);l<s;++l)r+=n+=t[l];n=(n&65535)+15*(n>>16),r=(r&65535)+15*(r>>16)}i=n,e=r},d:function(){return i%=65521,e%=65521,(i&255)<<24|(i&65280)<<8|(e&255)<<8|e>>8}}},O1=function(i,e,t,n,r){if(!r&&(r={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),l=new En(a.length+i.length);l.set(a),l.set(i,a.length),i=l,r.w=a.length}return B1(i,e.level==null?6:e.level,e.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(i.length)))*1.5):20:12+e.mem,t,n,r)};var uf=function(i,e,t){for(;t;++e)i[e]=t,t>>>=8};var R1=function(i,e){var t=e.level,n=t==0?0:t<6?1:t==9?3:2;if(i[0]=120,i[1]=n<<6|(e.dictionary&&32),i[1]|=31-(i[0]<<8|i[1])%31,e.dictionary){var r=cf();r.p(e.dictionary),uf(i,2,r.d())}};function Qs(i,e){e||(e={});var t=cf();t.p(i);var n=O1(i,e,e.dictionary?6:2,4);return R1(n,e),uf(n,n.length-4,t.d()),n}var z1=typeof TextDecoder<"u"&&new TextDecoder,j1=0;try{z1.decode(lf,{stream:!0}),j1=1}catch{}function hf(i){if(Array.isArray(i))return i}function ff(i,e){var t=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(t!=null){var n,r,a,l,s=[],h=!0,u=!1;try{if(a=(t=t.call(i)).next,e===0){if(Object(t)!==t)return;h=!1}else for(;!(h=(n=a.call(t)).done)&&(s.push(n.value),s.length!==e);h=!0);}catch(d){u=!0,r=d}finally{try{if(!h&&t.return!=null&&(l=t.return(),Object(l)!==l))return}finally{if(u)throw r}}return s}}function Cc(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,n=Array(e);t<e;t++)n[t]=i[t];return n}function df(i,e){if(i){if(typeof i=="string")return Cc(i,e);var t={}.toString.call(i).slice(8,-1);return t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set"?Array.from(i):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Cc(i,e):void 0}}function pf(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kc(i,e){return hf(i)||ff(i,e)||df(i,e)||pf()}function Mc(i,e="utf8"){return new TextDecoder(e).decode(i)}var U1=new TextEncoder;function gf(i){return U1.encode(i)}var q1=1024*8,V1=(()=>{let i=new Uint8Array(4),e=new Uint32Array(i.buffer);return!((e[0]=1)&i[0])})(),Nc={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array},Ro=class i{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=q1,t={}){let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);let r=t.offset?t.offset>>>0:0,a=e.byteLength-r,l=r;(ArrayBuffer.isView(e)||e instanceof i)&&(e.byteLength!==e.buffer.byteLength&&(l=e.byteOffset+r),e=e.buffer),n?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=l,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,l,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){let e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){let n=(this.offset+e)*2,r=new Uint8Array(n);r.set(new Uint8Array(this.buffer)),this.buffer=r.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){let n=Nc[t].BYTES_PER_ELEMENT*e,r=this.byteOffset+this.offset,a=this.buffer.slice(r,r+n);if(this.littleEndian===V1&&t!=="uint8"&&t!=="int8"){let s=new Uint8Array(this.buffer.slice(r,r+n));s.reverse();let h=new Nc[t](s.buffer);return this.offset+=n,h.reverse(),h}let l=new Nc[t](a);return this.offset+=n,l}readInt16(){let e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){let e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){let e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){let e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){let e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){let e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){let e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){let e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let n=0;n<e;n++)t+=this.readChar();return t}readUtf8(e=1){return Mc(this.readBytes(e))}decodeText(e=1,t="utf8"){return Mc(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(gf(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}};function Wa(i){let e=i.length;for(;--e>=0;)i[e]=0}var W1=0,ed=1,H1=2,G1=3,$1=258,Jc=29,Qo=256,Ho=Qo+1+Jc,Ua=30,Qc=19,td=2*Ho+1,pa=15,Lc=16,Z1=7,eu=256,id=16,nd=17,rd=18,Vc=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),al=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Y1=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),ad=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),K1=512,_r=new Array((Ho+2)*2);Wa(_r);var qo=new Array(Ua*2);Wa(qo);var Go=new Array(K1);Wa(Go);var $o=new Array($1-G1+1);Wa($o);var tu=new Array(Jc);Wa(tu);var ol=new Array(Ua);Wa(ol);function Dc(i,e,t,n,r){this.static_tree=i,this.extra_bits=e,this.extra_base=t,this.elems=n,this.max_length=r,this.has_stree=i&&i.length}var od,sd,ld;function Ec(i,e){this.dyn_tree=i,this.max_code=0,this.stat_desc=e}var cd=i=>i<256?Go[i]:Go[256+(i>>>7)],Zo=(i,e)=>{i.pending_buf[i.pending++]=e&255,i.pending_buf[i.pending++]=e>>>8&255},Xi=(i,e,t)=>{i.bi_valid>Lc-t?(i.bi_buf|=e<<i.bi_valid&65535,Zo(i,i.bi_buf),i.bi_buf=e>>Lc-i.bi_valid,i.bi_valid+=t-Lc):(i.bi_buf|=e<<i.bi_valid&65535,i.bi_valid+=t)},Hn=(i,e,t)=>{Xi(i,t[e*2],t[e*2+1])},ud=(i,e)=>{let t=0;do t|=i&1,i>>>=1,t<<=1;while(--e>0);return t>>>1},X1=i=>{i.bi_valid===16?(Zo(i,i.bi_buf),i.bi_buf=0,i.bi_valid=0):i.bi_valid>=8&&(i.pending_buf[i.pending++]=i.bi_buf&255,i.bi_buf>>=8,i.bi_valid-=8)},J1=(i,e)=>{let t=e.dyn_tree,n=e.max_code,r=e.stat_desc.static_tree,a=e.stat_desc.has_stree,l=e.stat_desc.extra_bits,s=e.stat_desc.extra_base,h=e.stat_desc.max_length,u,d,v,_,p,A,N=0;for(_=0;_<=pa;_++)i.bl_count[_]=0;for(t[i.heap[i.heap_max]*2+1]=0,u=i.heap_max+1;u<td;u++)d=i.heap[u],_=t[t[d*2+1]*2+1]+1,_>h&&(_=h,N++),t[d*2+1]=_,!(d>n)&&(i.bl_count[_]++,p=0,d>=s&&(p=l[d-s]),A=t[d*2],i.opt_len+=A*(_+p),a&&(i.static_len+=A*(r[d*2+1]+p)));if(N!==0){do{for(_=h-1;i.bl_count[_]===0;)_--;i.bl_count[_]--,i.bl_count[_+1]+=2,i.bl_count[h]--,N-=2}while(N>0);for(_=h;_!==0;_--)for(d=i.bl_count[_];d!==0;)v=i.heap[--u],!(v>n)&&(t[v*2+1]!==_&&(i.opt_len+=(_-t[v*2+1])*t[v*2],t[v*2+1]=_),d--)}},hd=(i,e,t)=>{let n=new Array(pa+1),r=0,a,l;for(a=1;a<=pa;a++)r=r+t[a-1]<<1,n[a]=r;for(l=0;l<=e;l++){let s=i[l*2+1];s!==0&&(i[l*2]=ud(n[s]++,s))}},Q1=()=>{let i,e,t,n,r,a=new Array(pa+1);for(t=0,n=0;n<Jc-1;n++)for(tu[n]=t,i=0;i<1<<Vc[n];i++)$o[t++]=n;for($o[t-1]=n,r=0,n=0;n<16;n++)for(ol[n]=r,i=0;i<1<<al[n];i++)Go[r++]=n;for(r>>=7;n<Ua;n++)for(ol[n]=r<<7,i=0;i<1<<al[n]-7;i++)Go[256+r++]=n;for(e=0;e<=pa;e++)a[e]=0;for(i=0;i<=143;)_r[i*2+1]=8,i++,a[8]++;for(;i<=255;)_r[i*2+1]=9,i++,a[9]++;for(;i<=279;)_r[i*2+1]=7,i++,a[7]++;for(;i<=287;)_r[i*2+1]=8,i++,a[8]++;for(hd(_r,Ho+1,a),i=0;i<Ua;i++)qo[i*2+1]=5,qo[i*2]=ud(i,5);od=new Dc(_r,Vc,Qo+1,Ho,pa),sd=new Dc(qo,al,0,Ua,pa),ld=new Dc(new Array(0),Y1,0,Qc,Z1)},fd=i=>{let e;for(e=0;e<Ho;e++)i.dyn_ltree[e*2]=0;for(e=0;e<Ua;e++)i.dyn_dtree[e*2]=0;for(e=0;e<Qc;e++)i.bl_tree[e*2]=0;i.dyn_ltree[eu*2]=1,i.opt_len=i.static_len=0,i.sym_next=i.matches=0},dd=i=>{i.bi_valid>8?Zo(i,i.bi_buf):i.bi_valid>0&&(i.pending_buf[i.pending++]=i.bi_buf),i.bi_buf=0,i.bi_valid=0},mf=(i,e,t,n)=>{let r=e*2,a=t*2;return i[r]<i[a]||i[r]===i[a]&&n[e]<=n[t]},Pc=(i,e,t)=>{let n=i.heap[t],r=t<<1;for(;r<=i.heap_len&&(r<i.heap_len&&mf(e,i.heap[r+1],i.heap[r],i.depth)&&r++,!mf(e,n,i.heap[r],i.depth));)i.heap[t]=i.heap[r],t=r,r<<=1;i.heap[t]=n},vf=(i,e,t)=>{let n,r,a=0,l,s;if(i.sym_next!==0)do n=i.pending_buf[i.sym_buf+a++]&255,n+=(i.pending_buf[i.sym_buf+a++]&255)<<8,r=i.pending_buf[i.sym_buf+a++],n===0?Hn(i,r,e):(l=$o[r],Hn(i,l+Qo+1,e),s=Vc[l],s!==0&&(r-=tu[l],Xi(i,r,s)),n--,l=cd(n),Hn(i,l,t),s=al[l],s!==0&&(n-=ol[l],Xi(i,n,s)));while(a<i.sym_next);Hn(i,eu,e)},Wc=(i,e)=>{let t=e.dyn_tree,n=e.stat_desc.static_tree,r=e.stat_desc.has_stree,a=e.stat_desc.elems,l,s,h=-1,u;for(i.heap_len=0,i.heap_max=td,l=0;l<a;l++)t[l*2]!==0?(i.heap[++i.heap_len]=h=l,i.depth[l]=0):t[l*2+1]=0;for(;i.heap_len<2;)u=i.heap[++i.heap_len]=h<2?++h:0,t[u*2]=1,i.depth[u]=0,i.opt_len--,r&&(i.static_len-=n[u*2+1]);for(e.max_code=h,l=i.heap_len>>1;l>=1;l--)Pc(i,t,l);u=a;do l=i.heap[1],i.heap[1]=i.heap[i.heap_len--],Pc(i,t,1),s=i.heap[1],i.heap[--i.heap_max]=l,i.heap[--i.heap_max]=s,t[u*2]=t[l*2]+t[s*2],i.depth[u]=(i.depth[l]>=i.depth[s]?i.depth[l]:i.depth[s])+1,t[l*2+1]=t[s*2+1]=u,i.heap[1]=u++,Pc(i,t,1);while(i.heap_len>=2);i.heap[--i.heap_max]=i.heap[1],J1(i,e),hd(t,h,i.bl_count)},_f=(i,e,t)=>{let n,r=-1,a,l=e[1],s=0,h=7,u=4;for(l===0&&(h=138,u=3),e[(t+1)*2+1]=65535,n=0;n<=t;n++)a=l,l=e[(n+1)*2+1],!(++s<h&&a===l)&&(s<u?i.bl_tree[a*2]+=s:a!==0?(a!==r&&i.bl_tree[a*2]++,i.bl_tree[id*2]++):s<=10?i.bl_tree[nd*2]++:i.bl_tree[rd*2]++,s=0,r=a,l===0?(h=138,u=3):a===l?(h=6,u=3):(h=7,u=4))},yf=(i,e,t)=>{let n,r=-1,a,l=e[1],s=0,h=7,u=4;for(l===0&&(h=138,u=3),n=0;n<=t;n++)if(a=l,l=e[(n+1)*2+1],!(++s<h&&a===l)){if(s<u)do Hn(i,a,i.bl_tree);while(--s!==0);else a!==0?(a!==r&&(Hn(i,a,i.bl_tree),s--),Hn(i,id,i.bl_tree),Xi(i,s-3,2)):s<=10?(Hn(i,nd,i.bl_tree),Xi(i,s-3,3)):(Hn(i,rd,i.bl_tree),Xi(i,s-11,7));s=0,r=a,l===0?(h=138,u=3):a===l?(h=6,u=3):(h=7,u=4)}},ep=i=>{let e;for(_f(i,i.dyn_ltree,i.l_desc.max_code),_f(i,i.dyn_dtree,i.d_desc.max_code),Wc(i,i.bl_desc),e=Qc-1;e>=3&&i.bl_tree[ad[e]*2+1]===0;e--);return i.opt_len+=3*(e+1)+5+5+4,e},tp=(i,e,t,n)=>{let r;for(Xi(i,e-257,5),Xi(i,t-1,5),Xi(i,n-4,4),r=0;r<n;r++)Xi(i,i.bl_tree[ad[r]*2+1],3);yf(i,i.dyn_ltree,e-1),yf(i,i.dyn_dtree,t-1)},ip=i=>{let e=4093624447,t;for(t=0;t<=31;t++,e>>>=1)if(e&1&&i.dyn_ltree[t*2]!==0)return 0;if(i.dyn_ltree[18]!==0||i.dyn_ltree[20]!==0||i.dyn_ltree[26]!==0)return 1;for(t=32;t<Qo;t++)if(i.dyn_ltree[t*2]!==0)return 1;return 0},bf=!1,np=i=>{bf||(Q1(),bf=!0),i.l_desc=new Ec(i.dyn_ltree,od),i.d_desc=new Ec(i.dyn_dtree,sd),i.bl_desc=new Ec(i.bl_tree,ld),i.bi_buf=0,i.bi_valid=0,fd(i)},pd=(i,e,t,n)=>{Xi(i,(W1<<1)+(n?1:0),3),dd(i),Zo(i,t),Zo(i,~t),t&&i.pending_buf.set(i.window.subarray(e,e+t),i.pending),i.pending+=t},rp=i=>{Xi(i,ed<<1,3),Hn(i,eu,_r),X1(i)},ap=(i,e,t,n)=>{let r,a,l=0;i.level>0?(i.strm.data_type===2&&(i.strm.data_type=ip(i)),Wc(i,i.l_desc),Wc(i,i.d_desc),l=ep(i),r=i.opt_len+3+7>>>3,a=i.static_len+3+7>>>3,a<=r&&(r=a)):r=a=t+5,t+4<=r&&e!==-1?pd(i,e,t,n):i.strategy===4||a===r?(Xi(i,(ed<<1)+(n?1:0),3),vf(i,_r,qo)):(Xi(i,(H1<<1)+(n?1:0),3),tp(i,i.l_desc.max_code+1,i.d_desc.max_code+1,l+1),vf(i,i.dyn_ltree,i.dyn_dtree)),fd(i),n&&dd(i)},op=(i,e,t)=>(i.pending_buf[i.sym_buf+i.sym_next++]=e,i.pending_buf[i.sym_buf+i.sym_next++]=e>>8,i.pending_buf[i.sym_buf+i.sym_next++]=t,e===0?i.dyn_ltree[t*2]++:(i.matches++,e--,i.dyn_ltree[($o[t]+Qo+1)*2]++,i.dyn_dtree[cd(e)*2]++),i.sym_next===i.sym_end),sp=np,lp=pd,cp=ap,up=op,hp=rp,fp={_tr_init:sp,_tr_stored_block:lp,_tr_flush_block:cp,_tr_tally:up,_tr_align:hp},dp=(i,e,t,n)=>{let r=i&65535|0,a=i>>>16&65535|0,l=0;for(;t!==0;){l=t>2e3?2e3:t,t-=l;do r=r+e[n++]|0,a=a+r|0;while(--l);r%=65521,a%=65521}return r|a<<16|0},Yo=dp,pp=()=>{let i,e=[];for(var t=0;t<256;t++){i=t;for(var n=0;n<8;n++)i=i&1?3988292384^i>>>1:i>>>1;e[t]=i}return e},gp=new Uint32Array(pp()),mp=(i,e,t,n)=>{let r=gp,a=n+t;i^=-1;for(let l=n;l<a;l++)i=i>>>8^r[(i^e[l])&255];return i^-1},ki=mp,va={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Ha={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:vp,_tr_stored_block:Hc,_tr_flush_block:_p,_tr_tally:qr,_tr_align:yp}=fp,{Z_NO_FLUSH:Vr,Z_PARTIAL_FLUSH:bp,Z_FULL_FLUSH:wp,Z_FINISH:bn,Z_BLOCK:wf,Z_OK:Fi,Z_STREAM_END:xf,Z_STREAM_ERROR:Gn,Z_DATA_ERROR:xp,Z_BUF_ERROR:Ic,Z_DEFAULT_COMPRESSION:Sp,Z_FILTERED:Ap,Z_HUFFMAN_ONLY:el,Z_RLE:Cp,Z_FIXED:kp,Z_DEFAULT_STRATEGY:Mp,Z_UNKNOWN:Np,Z_DEFLATED:cl}=Ha,Lp=9,Dp=15,Ep=8,Pp=29,Ip=256,Gc=Ip+1+Pp,Fp=30,Tp=19,Bp=2*Gc+1,Op=15,Ct=3,Ur=258,$n=Ur+Ct+1,Rp=32,qa=42,iu=57,$c=69,Zc=73,Yc=91,Kc=103,ga=113,jo=666,Hi=1,Ga=2,_a=3,$a=4,zp=3,ma=(i,e)=>(i.msg=va[e],e),Sf=i=>i*2-(i>4?9:0),jr=i=>{let e=i.length;for(;--e>=0;)i[e]=0},jp=i=>{let e,t,n,r=i.w_size;e=i.hash_size,n=e;do t=i.head[--n],i.head[n]=t>=r?t-r:0;while(--e);e=r,n=e;do t=i.prev[--n],i.prev[n]=t>=r?t-r:0;while(--e)},Up=(i,e,t)=>(e<<i.hash_shift^t)&i.hash_mask,Wr=Up,cn=i=>{let e=i.state,t=e.pending;t>i.avail_out&&(t=i.avail_out),t!==0&&(i.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+t),i.next_out),i.next_out+=t,e.pending_out+=t,i.total_out+=t,i.avail_out-=t,e.pending-=t,e.pending===0&&(e.pending_out=0))},un=(i,e)=>{_p(i,i.block_start>=0?i.block_start:-1,i.strstart-i.block_start,e),i.block_start=i.strstart,cn(i.strm)},Et=(i,e)=>{i.pending_buf[i.pending++]=e},zo=(i,e)=>{i.pending_buf[i.pending++]=e>>>8&255,i.pending_buf[i.pending++]=e&255},Xc=(i,e,t,n)=>{let r=i.avail_in;return r>n&&(r=n),r===0?0:(i.avail_in-=r,e.set(i.input.subarray(i.next_in,i.next_in+r),t),i.state.wrap===1?i.adler=Yo(i.adler,e,r,t):i.state.wrap===2&&(i.adler=ki(i.adler,e,r,t)),i.next_in+=r,i.total_in+=r,r)},gd=(i,e)=>{let t=i.max_chain_length,n=i.strstart,r,a,l=i.prev_length,s=i.nice_match,h=i.strstart>i.w_size-$n?i.strstart-(i.w_size-$n):0,u=i.window,d=i.w_mask,v=i.prev,_=i.strstart+Ur,p=u[n+l-1],A=u[n+l];i.prev_length>=i.good_match&&(t>>=2),s>i.lookahead&&(s=i.lookahead);do if(r=e,!(u[r+l]!==A||u[r+l-1]!==p||u[r]!==u[n]||u[++r]!==u[n+1])){n+=2,r++;do;while(u[++n]===u[++r]&&u[++n]===u[++r]&&u[++n]===u[++r]&&u[++n]===u[++r]&&u[++n]===u[++r]&&u[++n]===u[++r]&&u[++n]===u[++r]&&u[++n]===u[++r]&&n<_);if(a=Ur-(_-n),n=_-Ur,a>l){if(i.match_start=e,l=a,a>=s)break;p=u[n+l-1],A=u[n+l]}}while((e=v[e&d])>h&&--t!==0);return l<=i.lookahead?l:i.lookahead},Va=i=>{let e=i.w_size,t,n,r;do{if(n=i.window_size-i.lookahead-i.strstart,i.strstart>=e+(e-$n)&&(i.window.set(i.window.subarray(e,e+e-n),0),i.match_start-=e,i.strstart-=e,i.block_start-=e,i.insert>i.strstart&&(i.insert=i.strstart),jp(i),n+=e),i.strm.avail_in===0)break;if(t=Xc(i.strm,i.window,i.strstart+i.lookahead,n),i.lookahead+=t,i.lookahead+i.insert>=Ct)for(r=i.strstart-i.insert,i.ins_h=i.window[r],i.ins_h=Wr(i,i.ins_h,i.window[r+1]);i.insert&&(i.ins_h=Wr(i,i.ins_h,i.window[r+Ct-1]),i.prev[r&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=r,r++,i.insert--,!(i.lookahead+i.insert<Ct)););}while(i.lookahead<$n&&i.strm.avail_in!==0)},md=(i,e)=>{let t=i.pending_buf_size-5>i.w_size?i.w_size:i.pending_buf_size-5,n,r,a,l=0,s=i.strm.avail_in;do{if(n=65535,a=i.bi_valid+42>>3,i.strm.avail_out<a||(a=i.strm.avail_out-a,r=i.strstart-i.block_start,n>r+i.strm.avail_in&&(n=r+i.strm.avail_in),n>a&&(n=a),n<t&&(n===0&&e!==bn||e===Vr||n!==r+i.strm.avail_in)))break;l=e===bn&&n===r+i.strm.avail_in?1:0,Hc(i,0,0,l),i.pending_buf[i.pending-4]=n,i.pending_buf[i.pending-3]=n>>8,i.pending_buf[i.pending-2]=~n,i.pending_buf[i.pending-1]=~n>>8,cn(i.strm),r&&(r>n&&(r=n),i.strm.output.set(i.window.subarray(i.block_start,i.block_start+r),i.strm.next_out),i.strm.next_out+=r,i.strm.avail_out-=r,i.strm.total_out+=r,i.block_start+=r,n-=r),n&&(Xc(i.strm,i.strm.output,i.strm.next_out,n),i.strm.next_out+=n,i.strm.avail_out-=n,i.strm.total_out+=n)}while(l===0);return s-=i.strm.avail_in,s&&(s>=i.w_size?(i.matches=2,i.window.set(i.strm.input.subarray(i.strm.next_in-i.w_size,i.strm.next_in),0),i.strstart=i.w_size,i.insert=i.strstart):(i.window_size-i.strstart<=s&&(i.strstart-=i.w_size,i.window.set(i.window.subarray(i.w_size,i.w_size+i.strstart),0),i.matches<2&&i.matches++,i.insert>i.strstart&&(i.insert=i.strstart)),i.window.set(i.strm.input.subarray(i.strm.next_in-s,i.strm.next_in),i.strstart),i.strstart+=s,i.insert+=s>i.w_size-i.insert?i.w_size-i.insert:s),i.block_start=i.strstart),i.high_water<i.strstart&&(i.high_water=i.strstart),l?$a:e!==Vr&&e!==bn&&i.strm.avail_in===0&&i.strstart===i.block_start?Ga:(a=i.window_size-i.strstart,i.strm.avail_in>a&&i.block_start>=i.w_size&&(i.block_start-=i.w_size,i.strstart-=i.w_size,i.window.set(i.window.subarray(i.w_size,i.w_size+i.strstart),0),i.matches<2&&i.matches++,a+=i.w_size,i.insert>i.strstart&&(i.insert=i.strstart)),a>i.strm.avail_in&&(a=i.strm.avail_in),a&&(Xc(i.strm,i.window,i.strstart,a),i.strstart+=a,i.insert+=a>i.w_size-i.insert?i.w_size-i.insert:a),i.high_water<i.strstart&&(i.high_water=i.strstart),a=i.bi_valid+42>>3,a=i.pending_buf_size-a>65535?65535:i.pending_buf_size-a,t=a>i.w_size?i.w_size:a,r=i.strstart-i.block_start,(r>=t||(r||e===bn)&&e!==Vr&&i.strm.avail_in===0&&r<=a)&&(n=r>a?a:r,l=e===bn&&i.strm.avail_in===0&&n===r?1:0,Hc(i,i.block_start,n,l),i.block_start+=n,cn(i.strm)),l?_a:Hi)},Fc=(i,e)=>{let t,n;for(;;){if(i.lookahead<$n){if(Va(i),i.lookahead<$n&&e===Vr)return Hi;if(i.lookahead===0)break}if(t=0,i.lookahead>=Ct&&(i.ins_h=Wr(i,i.ins_h,i.window[i.strstart+Ct-1]),t=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),t!==0&&i.strstart-t<=i.w_size-$n&&(i.match_length=gd(i,t)),i.match_length>=Ct)if(n=qr(i,i.strstart-i.match_start,i.match_length-Ct),i.lookahead-=i.match_length,i.match_length<=i.max_lazy_match&&i.lookahead>=Ct){i.match_length--;do i.strstart++,i.ins_h=Wr(i,i.ins_h,i.window[i.strstart+Ct-1]),t=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart;while(--i.match_length!==0);i.strstart++}else i.strstart+=i.match_length,i.match_length=0,i.ins_h=i.window[i.strstart],i.ins_h=Wr(i,i.ins_h,i.window[i.strstart+1]);else n=qr(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++;if(n&&(un(i,!1),i.strm.avail_out===0))return Hi}return i.insert=i.strstart<Ct-1?i.strstart:Ct-1,e===bn?(un(i,!0),i.strm.avail_out===0?_a:$a):i.sym_next&&(un(i,!1),i.strm.avail_out===0)?Hi:Ga},za=(i,e)=>{let t,n,r;for(;;){if(i.lookahead<$n){if(Va(i),i.lookahead<$n&&e===Vr)return Hi;if(i.lookahead===0)break}if(t=0,i.lookahead>=Ct&&(i.ins_h=Wr(i,i.ins_h,i.window[i.strstart+Ct-1]),t=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),i.prev_length=i.match_length,i.prev_match=i.match_start,i.match_length=Ct-1,t!==0&&i.prev_length<i.max_lazy_match&&i.strstart-t<=i.w_size-$n&&(i.match_length=gd(i,t),i.match_length<=5&&(i.strategy===Ap||i.match_length===Ct&&i.strstart-i.match_start>4096)&&(i.match_length=Ct-1)),i.prev_length>=Ct&&i.match_length<=i.prev_length){r=i.strstart+i.lookahead-Ct,n=qr(i,i.strstart-1-i.prev_match,i.prev_length-Ct),i.lookahead-=i.prev_length-1,i.prev_length-=2;do++i.strstart<=r&&(i.ins_h=Wr(i,i.ins_h,i.window[i.strstart+Ct-1]),t=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart);while(--i.prev_length!==0);if(i.match_available=0,i.match_length=Ct-1,i.strstart++,n&&(un(i,!1),i.strm.avail_out===0))return Hi}else if(i.match_available){if(n=qr(i,0,i.window[i.strstart-1]),n&&un(i,!1),i.strstart++,i.lookahead--,i.strm.avail_out===0)return Hi}else i.match_available=1,i.strstart++,i.lookahead--}return i.match_available&&(n=qr(i,0,i.window[i.strstart-1]),i.match_available=0),i.insert=i.strstart<Ct-1?i.strstart:Ct-1,e===bn?(un(i,!0),i.strm.avail_out===0?_a:$a):i.sym_next&&(un(i,!1),i.strm.avail_out===0)?Hi:Ga},qp=(i,e)=>{let t,n,r,a,l=i.window;for(;;){if(i.lookahead<=Ur){if(Va(i),i.lookahead<=Ur&&e===Vr)return Hi;if(i.lookahead===0)break}if(i.match_length=0,i.lookahead>=Ct&&i.strstart>0&&(r=i.strstart-1,n=l[r],n===l[++r]&&n===l[++r]&&n===l[++r])){a=i.strstart+Ur;do;while(n===l[++r]&&n===l[++r]&&n===l[++r]&&n===l[++r]&&n===l[++r]&&n===l[++r]&&n===l[++r]&&n===l[++r]&&r<a);i.match_length=Ur-(a-r),i.match_length>i.lookahead&&(i.match_length=i.lookahead)}if(i.match_length>=Ct?(t=qr(i,1,i.match_length-Ct),i.lookahead-=i.match_length,i.strstart+=i.match_length,i.match_length=0):(t=qr(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++),t&&(un(i,!1),i.strm.avail_out===0))return Hi}return i.insert=0,e===bn?(un(i,!0),i.strm.avail_out===0?_a:$a):i.sym_next&&(un(i,!1),i.strm.avail_out===0)?Hi:Ga},Vp=(i,e)=>{let t;for(;;){if(i.lookahead===0&&(Va(i),i.lookahead===0)){if(e===Vr)return Hi;break}if(i.match_length=0,t=qr(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++,t&&(un(i,!1),i.strm.avail_out===0))return Hi}return i.insert=0,e===bn?(un(i,!0),i.strm.avail_out===0?_a:$a):i.sym_next&&(un(i,!1),i.strm.avail_out===0)?Hi:Ga};function Wn(i,e,t,n,r){this.good_length=i,this.max_lazy=e,this.nice_length=t,this.max_chain=n,this.func=r}var Uo=[new Wn(0,0,0,0,md),new Wn(4,4,8,4,Fc),new Wn(4,5,16,8,Fc),new Wn(4,6,32,32,Fc),new Wn(4,4,16,16,za),new Wn(8,16,32,32,za),new Wn(8,16,128,128,za),new Wn(8,32,128,256,za),new Wn(32,128,258,1024,za),new Wn(32,258,258,4096,za)],Wp=i=>{i.window_size=2*i.w_size,jr(i.head),i.max_lazy_match=Uo[i.level].max_lazy,i.good_match=Uo[i.level].good_length,i.nice_match=Uo[i.level].nice_length,i.max_chain_length=Uo[i.level].max_chain,i.strstart=0,i.block_start=0,i.lookahead=0,i.insert=0,i.match_length=i.prev_length=Ct-1,i.match_available=0,i.ins_h=0};function Hp(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=cl,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Bp*2),this.dyn_dtree=new Uint16Array((2*Fp+1)*2),this.bl_tree=new Uint16Array((2*Tp+1)*2),jr(this.dyn_ltree),jr(this.dyn_dtree),jr(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Op+1),this.heap=new Uint16Array(2*Gc+1),jr(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Gc+1),jr(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var es=i=>{if(!i)return 1;let e=i.state;return!e||e.strm!==i||e.status!==qa&&e.status!==iu&&e.status!==$c&&e.status!==Zc&&e.status!==Yc&&e.status!==Kc&&e.status!==ga&&e.status!==jo?1:0},vd=i=>{if(es(i))return ma(i,Gn);i.total_in=i.total_out=0,i.data_type=Np;let e=i.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?iu:e.wrap?qa:ga,i.adler=e.wrap===2?0:1,e.last_flush=-2,vp(e),Fi},_d=i=>{let e=vd(i);return e===Fi&&Wp(i.state),e},Gp=(i,e)=>es(i)||i.state.wrap!==2?Gn:(i.state.gzhead=e,Fi),yd=(i,e,t,n,r,a)=>{if(!i)return Gn;let l=1;if(e===Sp&&(e=6),n<0?(l=0,n=-n):n>15&&(l=2,n-=16),r<1||r>Lp||t!==cl||n<8||n>15||e<0||e>9||a<0||a>kp||n===8&&l!==1)return ma(i,Gn);n===8&&(n=9);let s=new Hp;return i.state=s,s.strm=i,s.status=qa,s.wrap=l,s.gzhead=null,s.w_bits=n,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=r+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+Ct-1)/Ct),s.window=new Uint8Array(s.w_size*2),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<r+6,s.pending_buf_size=s.lit_bufsize*4,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=(s.lit_bufsize-1)*3,s.level=e,s.strategy=a,s.method=t,_d(i)},$p=(i,e)=>yd(i,e,cl,Dp,Ep,Mp),Zp=(i,e)=>{if(es(i)||e>wf||e<0)return i?ma(i,Gn):Gn;let t=i.state;if(!i.output||i.avail_in!==0&&!i.input||t.status===jo&&e!==bn)return ma(i,i.avail_out===0?Ic:Gn);let n=t.last_flush;if(t.last_flush=e,t.pending!==0){if(cn(i),i.avail_out===0)return t.last_flush=-1,Fi}else if(i.avail_in===0&&Sf(e)<=Sf(n)&&e!==bn)return ma(i,Ic);if(t.status===jo&&i.avail_in!==0)return ma(i,Ic);if(t.status===qa&&t.wrap===0&&(t.status=ga),t.status===qa){let r=cl+(t.w_bits-8<<4)<<8,a=-1;if(t.strategy>=el||t.level<2?a=0:t.level<6?a=1:t.level===6?a=2:a=3,r|=a<<6,t.strstart!==0&&(r|=Rp),r+=31-r%31,zo(t,r),t.strstart!==0&&(zo(t,i.adler>>>16),zo(t,i.adler&65535)),i.adler=1,t.status=ga,cn(i),t.pending!==0)return t.last_flush=-1,Fi}if(t.status===iu){if(i.adler=0,Et(t,31),Et(t,139),Et(t,8),t.gzhead)Et(t,(t.gzhead.text?1:0)+(t.gzhead.hcrc?2:0)+(t.gzhead.extra?4:0)+(t.gzhead.name?8:0)+(t.gzhead.comment?16:0)),Et(t,t.gzhead.time&255),Et(t,t.gzhead.time>>8&255),Et(t,t.gzhead.time>>16&255),Et(t,t.gzhead.time>>24&255),Et(t,t.level===9?2:t.strategy>=el||t.level<2?4:0),Et(t,t.gzhead.os&255),t.gzhead.extra&&t.gzhead.extra.length&&(Et(t,t.gzhead.extra.length&255),Et(t,t.gzhead.extra.length>>8&255)),t.gzhead.hcrc&&(i.adler=ki(i.adler,t.pending_buf,t.pending,0)),t.gzindex=0,t.status=$c;else if(Et(t,0),Et(t,0),Et(t,0),Et(t,0),Et(t,0),Et(t,t.level===9?2:t.strategy>=el||t.level<2?4:0),Et(t,zp),t.status=ga,cn(i),t.pending!==0)return t.last_flush=-1,Fi}if(t.status===$c){if(t.gzhead.extra){let r=t.pending,a=(t.gzhead.extra.length&65535)-t.gzindex;for(;t.pending+a>t.pending_buf_size;){let s=t.pending_buf_size-t.pending;if(t.pending_buf.set(t.gzhead.extra.subarray(t.gzindex,t.gzindex+s),t.pending),t.pending=t.pending_buf_size,t.gzhead.hcrc&&t.pending>r&&(i.adler=ki(i.adler,t.pending_buf,t.pending-r,r)),t.gzindex+=s,cn(i),t.pending!==0)return t.last_flush=-1,Fi;r=0,a-=s}let l=new Uint8Array(t.gzhead.extra);t.pending_buf.set(l.subarray(t.gzindex,t.gzindex+a),t.pending),t.pending+=a,t.gzhead.hcrc&&t.pending>r&&(i.adler=ki(i.adler,t.pending_buf,t.pending-r,r)),t.gzindex=0}t.status=Zc}if(t.status===Zc){if(t.gzhead.name){let r=t.pending,a;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>r&&(i.adler=ki(i.adler,t.pending_buf,t.pending-r,r)),cn(i),t.pending!==0)return t.last_flush=-1,Fi;r=0}t.gzindex<t.gzhead.name.length?a=t.gzhead.name.charCodeAt(t.gzindex++)&255:a=0,Et(t,a)}while(a!==0);t.gzhead.hcrc&&t.pending>r&&(i.adler=ki(i.adler,t.pending_buf,t.pending-r,r)),t.gzindex=0}t.status=Yc}if(t.status===Yc){if(t.gzhead.comment){let r=t.pending,a;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>r&&(i.adler=ki(i.adler,t.pending_buf,t.pending-r,r)),cn(i),t.pending!==0)return t.last_flush=-1,Fi;r=0}t.gzindex<t.gzhead.comment.length?a=t.gzhead.comment.charCodeAt(t.gzindex++)&255:a=0,Et(t,a)}while(a!==0);t.gzhead.hcrc&&t.pending>r&&(i.adler=ki(i.adler,t.pending_buf,t.pending-r,r))}t.status=Kc}if(t.status===Kc){if(t.gzhead.hcrc){if(t.pending+2>t.pending_buf_size&&(cn(i),t.pending!==0))return t.last_flush=-1,Fi;Et(t,i.adler&255),Et(t,i.adler>>8&255),i.adler=0}if(t.status=ga,cn(i),t.pending!==0)return t.last_flush=-1,Fi}if(i.avail_in!==0||t.lookahead!==0||e!==Vr&&t.status!==jo){let r=t.level===0?md(t,e):t.strategy===el?Vp(t,e):t.strategy===Cp?qp(t,e):Uo[t.level].func(t,e);if((r===_a||r===$a)&&(t.status=jo),r===Hi||r===_a)return i.avail_out===0&&(t.last_flush=-1),Fi;if(r===Ga&&(e===bp?yp(t):e!==wf&&(Hc(t,0,0,!1),e===wp&&(jr(t.head),t.lookahead===0&&(t.strstart=0,t.block_start=0,t.insert=0))),cn(i),i.avail_out===0))return t.last_flush=-1,Fi}return e!==bn?Fi:t.wrap<=0?xf:(t.wrap===2?(Et(t,i.adler&255),Et(t,i.adler>>8&255),Et(t,i.adler>>16&255),Et(t,i.adler>>24&255),Et(t,i.total_in&255),Et(t,i.total_in>>8&255),Et(t,i.total_in>>16&255),Et(t,i.total_in>>24&255)):(zo(t,i.adler>>>16),zo(t,i.adler&65535)),cn(i),t.wrap>0&&(t.wrap=-t.wrap),t.pending!==0?Fi:xf)},Yp=i=>{if(es(i))return Gn;let e=i.state.status;return i.state=null,e===ga?ma(i,xp):Fi},Kp=(i,e)=>{let t=e.length;if(es(i))return Gn;let n=i.state,r=n.wrap;if(r===2||r===1&&n.status!==qa||n.lookahead)return Gn;if(r===1&&(i.adler=Yo(i.adler,e,t,0)),n.wrap=0,t>=n.w_size){r===0&&(jr(n.head),n.strstart=0,n.block_start=0,n.insert=0);let h=new Uint8Array(n.w_size);h.set(e.subarray(t-n.w_size,t),0),e=h,t=n.w_size}let a=i.avail_in,l=i.next_in,s=i.input;for(i.avail_in=t,i.next_in=0,i.input=e,Va(n);n.lookahead>=Ct;){let h=n.strstart,u=n.lookahead-(Ct-1);do n.ins_h=Wr(n,n.ins_h,n.window[h+Ct-1]),n.prev[h&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=h,h++;while(--u);n.strstart=h,n.lookahead=Ct-1,Va(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=Ct-1,n.match_available=0,i.next_in=l,i.input=s,i.avail_in=a,n.wrap=r,Fi},Xp=$p,Jp=yd,Qp=_d,e2=vd,t2=Gp,i2=Zp,n2=Yp,r2=Kp,a2="pako deflate (from Nodeca project)",Vo={deflateInit:Xp,deflateInit2:Jp,deflateReset:Qp,deflateResetKeep:e2,deflateSetHeader:t2,deflate:i2,deflateEnd:n2,deflateSetDictionary:r2,deflateInfo:a2},o2=(i,e)=>Object.prototype.hasOwnProperty.call(i,e),s2=function(i){let e=Array.prototype.slice.call(arguments,1);for(;e.length;){let t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(let n in t)o2(t,n)&&(i[n]=t[n])}}return i},l2=i=>{let e=0;for(let n=0,r=i.length;n<r;n++)e+=i[n].length;let t=new Uint8Array(e);for(let n=0,r=0,a=i.length;n<a;n++){let l=i[n];t.set(l,r),r+=l.length}return t},ul={assign:s2,flattenChunks:l2},bd=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{bd=!1}var Ko=new Uint8Array(256);for(let i=0;i<256;i++)Ko[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;Ko[254]=Ko[254]=1;var c2=i=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(i);let e,t,n,r,a,l=i.length,s=0;for(r=0;r<l;r++)t=i.charCodeAt(r),(t&64512)===55296&&r+1<l&&(n=i.charCodeAt(r+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),r++)),s+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(s),a=0,r=0;a<s;r++)t=i.charCodeAt(r),(t&64512)===55296&&r+1<l&&(n=i.charCodeAt(r+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),r++)),t<128?e[a++]=t:t<2048?(e[a++]=192|t>>>6,e[a++]=128|t&63):t<65536?(e[a++]=224|t>>>12,e[a++]=128|t>>>6&63,e[a++]=128|t&63):(e[a++]=240|t>>>18,e[a++]=128|t>>>12&63,e[a++]=128|t>>>6&63,e[a++]=128|t&63);return e},u2=(i,e)=>{if(e<65534&&i.subarray&&bd)return String.fromCharCode.apply(null,i.length===e?i:i.subarray(0,e));let t="";for(let n=0;n<e;n++)t+=String.fromCharCode(i[n]);return t},h2=(i,e)=>{let t=e||i.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(i.subarray(0,e));let n,r,a=new Array(t*2);for(r=0,n=0;n<t;){let l=i[n++];if(l<128){a[r++]=l;continue}let s=Ko[l];if(s>4){a[r++]=65533,n+=s-1;continue}for(l&=s===2?31:s===3?15:7;s>1&&n<t;)l=l<<6|i[n++]&63,s--;if(s>1){a[r++]=65533;continue}l<65536?a[r++]=l:(l-=65536,a[r++]=55296|l>>10&1023,a[r++]=56320|l&1023)}return u2(a,r)},f2=(i,e)=>{e=e||i.length,e>i.length&&(e=i.length);let t=e-1;for(;t>=0&&(i[t]&192)===128;)t--;return t<0||t===0?e:t+Ko[i[t]]>e?t:e},Xo={string2buf:c2,buf2string:h2,utf8border:f2};function d2(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var wd=d2,xd=Object.prototype.toString,{Z_NO_FLUSH:p2,Z_SYNC_FLUSH:g2,Z_FULL_FLUSH:m2,Z_FINISH:v2,Z_OK:sl,Z_STREAM_END:_2,Z_DEFAULT_COMPRESSION:y2,Z_DEFAULT_STRATEGY:b2,Z_DEFLATED:w2}=Ha;function ts(i){this.options=ul.assign({level:y2,method:w2,chunkSize:16384,windowBits:15,memLevel:8,strategy:b2},i||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new wd,this.strm.avail_out=0;let t=Vo.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(t!==sl)throw new Error(va[t]);if(e.header&&Vo.deflateSetHeader(this.strm,e.header),e.dictionary){let n;if(typeof e.dictionary=="string"?n=Xo.string2buf(e.dictionary):xd.call(e.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(e.dictionary):n=e.dictionary,t=Vo.deflateSetDictionary(this.strm,n),t!==sl)throw new Error(va[t]);this._dict_set=!0}}ts.prototype.push=function(i,e){let t=this.strm,n=this.options.chunkSize,r,a;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?v2:p2,typeof i=="string"?t.input=Xo.string2buf(i):xd.call(i)==="[object ArrayBuffer]"?t.input=new Uint8Array(i):t.input=i,t.next_in=0,t.avail_in=t.input.length;;){if(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),(a===g2||a===m2)&&t.avail_out<=6){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(r=Vo.deflate(t,a),r===_2)return t.next_out>0&&this.onData(t.output.subarray(0,t.next_out)),r=Vo.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===sl;if(t.avail_out===0){this.onData(t.output);continue}if(a>0&&t.next_out>0){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(t.avail_in===0)break}return!0};ts.prototype.onData=function(i){this.chunks.push(i)};ts.prototype.onEnd=function(i){i===sl&&(this.result=ul.flattenChunks(this.chunks)),this.chunks=[],this.err=i,this.msg=this.strm.msg};function nu(i,e){let t=new ts(e);if(t.push(i,!0),t.err)throw t.msg||va[t.err];return t.result}function x2(i,e){return e=e||{},e.raw=!0,nu(i,e)}function S2(i,e){return e=e||{},e.gzip=!0,nu(i,e)}var A2=ts,C2=nu,k2=x2,M2=S2,N2=Ha,L2={Deflate:A2,deflate:C2,deflateRaw:k2,gzip:M2,constants:N2},tl=16209,D2=16191,E2=function(e,t){let n,r,a,l,s,h,u,d,v,_,p,A,N,I,C,Z,V,z,se,we,pe,X,j,ie,M=e.state;n=e.next_in,j=e.input,r=n+(e.avail_in-5),a=e.next_out,ie=e.output,l=a-(t-e.avail_out),s=a+(e.avail_out-257),h=M.dmax,u=M.wsize,d=M.whave,v=M.wnext,_=M.window,p=M.hold,A=M.bits,N=M.lencode,I=M.distcode,C=(1<<M.lenbits)-1,Z=(1<<M.distbits)-1;e:do{A<15&&(p+=j[n++]<<A,A+=8,p+=j[n++]<<A,A+=8),V=N[p&C];t:for(;;){if(z=V>>>24,p>>>=z,A-=z,z=V>>>16&255,z===0)ie[a++]=V&65535;else if(z&16){se=V&65535,z&=15,z&&(A<z&&(p+=j[n++]<<A,A+=8),se+=p&(1<<z)-1,p>>>=z,A-=z),A<15&&(p+=j[n++]<<A,A+=8,p+=j[n++]<<A,A+=8),V=I[p&Z];i:for(;;){if(z=V>>>24,p>>>=z,A-=z,z=V>>>16&255,z&16){if(we=V&65535,z&=15,A<z&&(p+=j[n++]<<A,A+=8,A<z&&(p+=j[n++]<<A,A+=8)),we+=p&(1<<z)-1,we>h){e.msg="invalid distance too far back",M.mode=tl;break e}if(p>>>=z,A-=z,z=a-l,we>z){if(z=we-z,z>d&&M.sane){e.msg="invalid distance too far back",M.mode=tl;break e}if(pe=0,X=_,v===0){if(pe+=u-z,z<se){se-=z;do ie[a++]=_[pe++];while(--z);pe=a-we,X=ie}}else if(v<z){if(pe+=u+v-z,z-=v,z<se){se-=z;do ie[a++]=_[pe++];while(--z);if(pe=0,v<se){z=v,se-=z;do ie[a++]=_[pe++];while(--z);pe=a-we,X=ie}}}else if(pe+=v-z,z<se){se-=z;do ie[a++]=_[pe++];while(--z);pe=a-we,X=ie}for(;se>2;)ie[a++]=X[pe++],ie[a++]=X[pe++],ie[a++]=X[pe++],se-=3;se&&(ie[a++]=X[pe++],se>1&&(ie[a++]=X[pe++]))}else{pe=a-we;do ie[a++]=ie[pe++],ie[a++]=ie[pe++],ie[a++]=ie[pe++],se-=3;while(se>2);se&&(ie[a++]=ie[pe++],se>1&&(ie[a++]=ie[pe++]))}}else if((z&64)===0){V=I[(V&65535)+(p&(1<<z)-1)];continue i}else{e.msg="invalid distance code",M.mode=tl;break e}break}}else if((z&64)===0){V=N[(V&65535)+(p&(1<<z)-1)];continue t}else if(z&32){M.mode=D2;break e}else{e.msg="invalid literal/length code",M.mode=tl;break e}break}}while(n<r&&a<s);se=A>>3,n-=se,A-=se<<3,p&=(1<<A)-1,e.next_in=n,e.next_out=a,e.avail_in=n<r?5+(r-n):5-(n-r),e.avail_out=a<s?257+(s-a):257-(a-s),M.hold=p,M.bits=A},ja=15,Af=852,Cf=592,kf=0,Tc=1,Mf=2,P2=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),I2=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),F2=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),T2=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),B2=(i,e,t,n,r,a,l,s)=>{let h=s.bits,u=0,d=0,v=0,_=0,p=0,A=0,N=0,I=0,C=0,Z=0,V,z,se,we,pe,X=null,j,ie=new Uint16Array(ja+1),M=new Uint16Array(ja+1),F=null,$,H,ce;for(u=0;u<=ja;u++)ie[u]=0;for(d=0;d<n;d++)ie[e[t+d]]++;for(p=h,_=ja;_>=1&&ie[_]===0;_--);if(p>_&&(p=_),_===0)return r[a++]=1<<24|64<<16|0,r[a++]=1<<24|64<<16|0,s.bits=1,0;for(v=1;v<_&&ie[v]===0;v++);for(p<v&&(p=v),I=1,u=1;u<=ja;u++)if(I<<=1,I-=ie[u],I<0)return-1;if(I>0&&(i===kf||_!==1))return-1;for(M[1]=0,u=1;u<ja;u++)M[u+1]=M[u]+ie[u];for(d=0;d<n;d++)e[t+d]!==0&&(l[M[e[t+d]]++]=d);if(i===kf?(X=F=l,j=20):i===Tc?(X=P2,F=I2,j=257):(X=F2,F=T2,j=0),Z=0,d=0,u=v,pe=a,A=p,N=0,se=-1,C=1<<p,we=C-1,i===Tc&&C>Af||i===Mf&&C>Cf)return 1;for(;;){$=u-N,l[d]+1<j?(H=0,ce=l[d]):l[d]>=j?(H=F[l[d]-j],ce=X[l[d]-j]):(H=96,ce=0),V=1<<u-N,z=1<<A,v=z;do z-=V,r[pe+(Z>>N)+z]=$<<24|H<<16|ce|0;while(z!==0);for(V=1<<u-1;Z&V;)V>>=1;if(V!==0?(Z&=V-1,Z+=V):Z=0,d++,--ie[u]===0){if(u===_)break;u=e[t+l[d]]}if(u>p&&(Z&we)!==se){for(N===0&&(N=p),pe+=v,A=u-N,I=1<<A;A+N<_&&(I-=ie[A+N],!(I<=0));)A++,I<<=1;if(C+=1<<A,i===Tc&&C>Af||i===Mf&&C>Cf)return 1;se=Z&we,r[se]=p<<24|A<<16|pe-a|0}}return Z!==0&&(r[pe+Z]=u-N<<24|64<<16|0),s.bits=p,0},Wo=B2,O2=0,Sd=1,Ad=2,{Z_FINISH:Nf,Z_BLOCK:R2,Z_TREES:il,Z_OK:ya,Z_STREAM_END:z2,Z_NEED_DICT:j2,Z_STREAM_ERROR:wn,Z_DATA_ERROR:Cd,Z_MEM_ERROR:kd,Z_BUF_ERROR:U2,Z_DEFLATED:Lf}=Ha,hl=16180,Df=16181,Ef=16182,Pf=16183,If=16184,Ff=16185,Tf=16186,Bf=16187,Of=16188,Rf=16189,ll=16190,vr=16191,Bc=16192,zf=16193,Oc=16194,jf=16195,Uf=16196,qf=16197,Vf=16198,nl=16199,rl=16200,Wf=16201,Hf=16202,Gf=16203,$f=16204,Zf=16205,Rc=16206,Yf=16207,Kf=16208,Jt=16209,Md=16210,Nd=16211,q2=852,V2=592,W2=15,H2=W2,Xf=i=>(i>>>24&255)+(i>>>8&65280)+((i&65280)<<8)+((i&255)<<24);function G2(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var ba=i=>{if(!i)return 1;let e=i.state;return!e||e.strm!==i||e.mode<hl||e.mode>Nd?1:0},Ld=i=>{if(ba(i))return wn;let e=i.state;return i.total_in=i.total_out=e.total=0,i.msg="",e.wrap&&(i.adler=e.wrap&1),e.mode=hl,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(q2),e.distcode=e.distdyn=new Int32Array(V2),e.sane=1,e.back=-1,ya},Dd=i=>{if(ba(i))return wn;let e=i.state;return e.wsize=0,e.whave=0,e.wnext=0,Ld(i)},Ed=(i,e)=>{let t;if(ba(i))return wn;let n=i.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?wn:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=t,n.wbits=e,Dd(i))},Pd=(i,e)=>{if(!i)return wn;let t=new G2;i.state=t,t.strm=i,t.window=null,t.mode=hl;let n=Ed(i,e);return n!==ya&&(i.state=null),n},$2=i=>Pd(i,H2),Jf=!0,zc,jc,Z2=i=>{if(Jf){zc=new Int32Array(512),jc=new Int32Array(32);let e=0;for(;e<144;)i.lens[e++]=8;for(;e<256;)i.lens[e++]=9;for(;e<280;)i.lens[e++]=7;for(;e<288;)i.lens[e++]=8;for(Wo(Sd,i.lens,0,288,zc,0,i.work,{bits:9}),e=0;e<32;)i.lens[e++]=5;Wo(Ad,i.lens,0,32,jc,0,i.work,{bits:5}),Jf=!1}i.lencode=zc,i.lenbits=9,i.distcode=jc,i.distbits=5},Id=(i,e,t,n)=>{let r,a=i.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(e.subarray(t-a.wsize,t),0),a.wnext=0,a.whave=a.wsize):(r=a.wsize-a.wnext,r>n&&(r=n),a.window.set(e.subarray(t-n,t-n+r),a.wnext),n-=r,n?(a.window.set(e.subarray(t-n,t),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=r,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=r))),0},Y2=(i,e)=>{let t,n,r,a,l,s,h,u,d,v,_,p,A,N,I=0,C,Z,V,z,se,we,pe,X,j=new Uint8Array(4),ie,M,F=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ba(i)||!i.output||!i.input&&i.avail_in!==0)return wn;t=i.state,t.mode===vr&&(t.mode=Bc),l=i.next_out,r=i.output,h=i.avail_out,a=i.next_in,n=i.input,s=i.avail_in,u=t.hold,d=t.bits,v=s,_=h,X=ya;e:for(;;)switch(t.mode){case hl:if(t.wrap===0){t.mode=Bc;break}for(;d<16;){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}if(t.wrap&2&&u===35615){t.wbits===0&&(t.wbits=15),t.check=0,j[0]=u&255,j[1]=u>>>8&255,t.check=ki(t.check,j,2,0),u=0,d=0,t.mode=Df;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((u&255)<<8)+(u>>8))%31){i.msg="incorrect header check",t.mode=Jt;break}if((u&15)!==Lf){i.msg="unknown compression method",t.mode=Jt;break}if(u>>>=4,d-=4,pe=(u&15)+8,t.wbits===0&&(t.wbits=pe),pe>15||pe>t.wbits){i.msg="invalid window size",t.mode=Jt;break}t.dmax=1<<t.wbits,t.flags=0,i.adler=t.check=1,t.mode=u&512?Rf:vr,u=0,d=0;break;case Df:for(;d<16;){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}if(t.flags=u,(t.flags&255)!==Lf){i.msg="unknown compression method",t.mode=Jt;break}if(t.flags&57344){i.msg="unknown header flags set",t.mode=Jt;break}t.head&&(t.head.text=u>>8&1),t.flags&512&&t.wrap&4&&(j[0]=u&255,j[1]=u>>>8&255,t.check=ki(t.check,j,2,0)),u=0,d=0,t.mode=Ef;case Ef:for(;d<32;){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}t.head&&(t.head.time=u),t.flags&512&&t.wrap&4&&(j[0]=u&255,j[1]=u>>>8&255,j[2]=u>>>16&255,j[3]=u>>>24&255,t.check=ki(t.check,j,4,0)),u=0,d=0,t.mode=Pf;case Pf:for(;d<16;){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}t.head&&(t.head.xflags=u&255,t.head.os=u>>8),t.flags&512&&t.wrap&4&&(j[0]=u&255,j[1]=u>>>8&255,t.check=ki(t.check,j,2,0)),u=0,d=0,t.mode=If;case If:if(t.flags&1024){for(;d<16;){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}t.length=u,t.head&&(t.head.extra_len=u),t.flags&512&&t.wrap&4&&(j[0]=u&255,j[1]=u>>>8&255,t.check=ki(t.check,j,2,0)),u=0,d=0}else t.head&&(t.head.extra=null);t.mode=Ff;case Ff:if(t.flags&1024&&(p=t.length,p>s&&(p=s),p&&(t.head&&(pe=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(n.subarray(a,a+p),pe)),t.flags&512&&t.wrap&4&&(t.check=ki(t.check,n,p,a)),s-=p,a+=p,t.length-=p),t.length))break e;t.length=0,t.mode=Tf;case Tf:if(t.flags&2048){if(s===0)break e;p=0;do pe=n[a+p++],t.head&&pe&&t.length<65536&&(t.head.name+=String.fromCharCode(pe));while(pe&&p<s);if(t.flags&512&&t.wrap&4&&(t.check=ki(t.check,n,p,a)),s-=p,a+=p,pe)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=Bf;case Bf:if(t.flags&4096){if(s===0)break e;p=0;do pe=n[a+p++],t.head&&pe&&t.length<65536&&(t.head.comment+=String.fromCharCode(pe));while(pe&&p<s);if(t.flags&512&&t.wrap&4&&(t.check=ki(t.check,n,p,a)),s-=p,a+=p,pe)break e}else t.head&&(t.head.comment=null);t.mode=Of;case Of:if(t.flags&512){for(;d<16;){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}if(t.wrap&4&&u!==(t.check&65535)){i.msg="header crc mismatch",t.mode=Jt;break}u=0,d=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),i.adler=t.check=0,t.mode=vr;break;case Rf:for(;d<32;){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}i.adler=t.check=Xf(u),u=0,d=0,t.mode=ll;case ll:if(t.havedict===0)return i.next_out=l,i.avail_out=h,i.next_in=a,i.avail_in=s,t.hold=u,t.bits=d,j2;i.adler=t.check=1,t.mode=vr;case vr:if(e===R2||e===il)break e;case Bc:if(t.last){u>>>=d&7,d-=d&7,t.mode=Rc;break}for(;d<3;){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}switch(t.last=u&1,u>>>=1,d-=1,u&3){case 0:t.mode=zf;break;case 1:if(Z2(t),t.mode=nl,e===il){u>>>=2,d-=2;break e}break;case 2:t.mode=Uf;break;case 3:i.msg="invalid block type",t.mode=Jt}u>>>=2,d-=2;break;case zf:for(u>>>=d&7,d-=d&7;d<32;){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){i.msg="invalid stored block lengths",t.mode=Jt;break}if(t.length=u&65535,u=0,d=0,t.mode=Oc,e===il)break e;case Oc:t.mode=jf;case jf:if(p=t.length,p){if(p>s&&(p=s),p>h&&(p=h),p===0)break e;r.set(n.subarray(a,a+p),l),s-=p,a+=p,h-=p,l+=p,t.length-=p;break}t.mode=vr;break;case Uf:for(;d<14;){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}if(t.nlen=(u&31)+257,u>>>=5,d-=5,t.ndist=(u&31)+1,u>>>=5,d-=5,t.ncode=(u&15)+4,u>>>=4,d-=4,t.nlen>286||t.ndist>30){i.msg="too many length or distance symbols",t.mode=Jt;break}t.have=0,t.mode=qf;case qf:for(;t.have<t.ncode;){for(;d<3;){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}t.lens[F[t.have++]]=u&7,u>>>=3,d-=3}for(;t.have<19;)t.lens[F[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,ie={bits:t.lenbits},X=Wo(O2,t.lens,0,19,t.lencode,0,t.work,ie),t.lenbits=ie.bits,X){i.msg="invalid code lengths set",t.mode=Jt;break}t.have=0,t.mode=Vf;case Vf:for(;t.have<t.nlen+t.ndist;){for(;I=t.lencode[u&(1<<t.lenbits)-1],C=I>>>24,Z=I>>>16&255,V=I&65535,!(C<=d);){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}if(V<16)u>>>=C,d-=C,t.lens[t.have++]=V;else{if(V===16){for(M=C+2;d<M;){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}if(u>>>=C,d-=C,t.have===0){i.msg="invalid bit length repeat",t.mode=Jt;break}pe=t.lens[t.have-1],p=3+(u&3),u>>>=2,d-=2}else if(V===17){for(M=C+3;d<M;){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}u>>>=C,d-=C,pe=0,p=3+(u&7),u>>>=3,d-=3}else{for(M=C+7;d<M;){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}u>>>=C,d-=C,pe=0,p=11+(u&127),u>>>=7,d-=7}if(t.have+p>t.nlen+t.ndist){i.msg="invalid bit length repeat",t.mode=Jt;break}for(;p--;)t.lens[t.have++]=pe}}if(t.mode===Jt)break;if(t.lens[256]===0){i.msg="invalid code -- missing end-of-block",t.mode=Jt;break}if(t.lenbits=9,ie={bits:t.lenbits},X=Wo(Sd,t.lens,0,t.nlen,t.lencode,0,t.work,ie),t.lenbits=ie.bits,X){i.msg="invalid literal/lengths set",t.mode=Jt;break}if(t.distbits=6,t.distcode=t.distdyn,ie={bits:t.distbits},X=Wo(Ad,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,ie),t.distbits=ie.bits,X){i.msg="invalid distances set",t.mode=Jt;break}if(t.mode=nl,e===il)break e;case nl:t.mode=rl;case rl:if(s>=6&&h>=258){i.next_out=l,i.avail_out=h,i.next_in=a,i.avail_in=s,t.hold=u,t.bits=d,E2(i,_),l=i.next_out,r=i.output,h=i.avail_out,a=i.next_in,n=i.input,s=i.avail_in,u=t.hold,d=t.bits,t.mode===vr&&(t.back=-1);break}for(t.back=0;I=t.lencode[u&(1<<t.lenbits)-1],C=I>>>24,Z=I>>>16&255,V=I&65535,!(C<=d);){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}if(Z&&(Z&240)===0){for(z=C,se=Z,we=V;I=t.lencode[we+((u&(1<<z+se)-1)>>z)],C=I>>>24,Z=I>>>16&255,V=I&65535,!(z+C<=d);){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}u>>>=z,d-=z,t.back+=z}if(u>>>=C,d-=C,t.back+=C,t.length=V,Z===0){t.mode=Zf;break}if(Z&32){t.back=-1,t.mode=vr;break}if(Z&64){i.msg="invalid literal/length code",t.mode=Jt;break}t.extra=Z&15,t.mode=Wf;case Wf:if(t.extra){for(M=t.extra;d<M;){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}t.length+=u&(1<<t.extra)-1,u>>>=t.extra,d-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=Hf;case Hf:for(;I=t.distcode[u&(1<<t.distbits)-1],C=I>>>24,Z=I>>>16&255,V=I&65535,!(C<=d);){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}if((Z&240)===0){for(z=C,se=Z,we=V;I=t.distcode[we+((u&(1<<z+se)-1)>>z)],C=I>>>24,Z=I>>>16&255,V=I&65535,!(z+C<=d);){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}u>>>=z,d-=z,t.back+=z}if(u>>>=C,d-=C,t.back+=C,Z&64){i.msg="invalid distance code",t.mode=Jt;break}t.offset=V,t.extra=Z&15,t.mode=Gf;case Gf:if(t.extra){for(M=t.extra;d<M;){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}t.offset+=u&(1<<t.extra)-1,u>>>=t.extra,d-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){i.msg="invalid distance too far back",t.mode=Jt;break}t.mode=$f;case $f:if(h===0)break e;if(p=_-h,t.offset>p){if(p=t.offset-p,p>t.whave&&t.sane){i.msg="invalid distance too far back",t.mode=Jt;break}p>t.wnext?(p-=t.wnext,A=t.wsize-p):A=t.wnext-p,p>t.length&&(p=t.length),N=t.window}else N=r,A=l-t.offset,p=t.length;p>h&&(p=h),h-=p,t.length-=p;do r[l++]=N[A++];while(--p);t.length===0&&(t.mode=rl);break;case Zf:if(h===0)break e;r[l++]=t.length,h--,t.mode=rl;break;case Rc:if(t.wrap){for(;d<32;){if(s===0)break e;s--,u|=n[a++]<<d,d+=8}if(_-=h,i.total_out+=_,t.total+=_,t.wrap&4&&_&&(i.adler=t.check=t.flags?ki(t.check,r,_,l-_):Yo(t.check,r,_,l-_)),_=h,t.wrap&4&&(t.flags?u:Xf(u))!==t.check){i.msg="incorrect data check",t.mode=Jt;break}u=0,d=0}t.mode=Yf;case Yf:if(t.wrap&&t.flags){for(;d<32;){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}if(t.wrap&4&&u!==(t.total&4294967295)){i.msg="incorrect length check",t.mode=Jt;break}u=0,d=0}t.mode=Kf;case Kf:X=z2;break e;case Jt:X=Cd;break e;case Md:return kd;case Nd:default:return wn}return i.next_out=l,i.avail_out=h,i.next_in=a,i.avail_in=s,t.hold=u,t.bits=d,(t.wsize||_!==i.avail_out&&t.mode<Jt&&(t.mode<Rc||e!==Nf))&&Id(i,i.output,i.next_out,_-i.avail_out),v-=i.avail_in,_-=i.avail_out,i.total_in+=v,i.total_out+=_,t.total+=_,t.wrap&4&&_&&(i.adler=t.check=t.flags?ki(t.check,r,_,i.next_out-_):Yo(t.check,r,_,i.next_out-_)),i.data_type=t.bits+(t.last?64:0)+(t.mode===vr?128:0)+(t.mode===nl||t.mode===Oc?256:0),(v===0&&_===0||e===Nf)&&X===ya&&(X=U2),X},K2=i=>{if(ba(i))return wn;let e=i.state;return e.window&&(e.window=null),i.state=null,ya},X2=(i,e)=>{if(ba(i))return wn;let t=i.state;return(t.wrap&2)===0?wn:(t.head=e,e.done=!1,ya)},J2=(i,e)=>{let t=e.length,n,r,a;return ba(i)||(n=i.state,n.wrap!==0&&n.mode!==ll)?wn:n.mode===ll&&(r=1,r=Yo(r,e,t,0),r!==n.check)?Cd:(a=Id(i,e,t,t),a?(n.mode=Md,kd):(n.havedict=1,ya))},Q2=Dd,eg=Ed,tg=Ld,ig=$2,ng=Pd,rg=Y2,ag=K2,og=X2,sg=J2,lg="pako inflate (from Nodeca project)",yr={inflateReset:Q2,inflateReset2:eg,inflateResetKeep:tg,inflateInit:ig,inflateInit2:ng,inflate:rg,inflateEnd:ag,inflateGetHeader:og,inflateSetDictionary:sg,inflateInfo:lg};function cg(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var ug=cg,Fd=Object.prototype.toString,{Z_NO_FLUSH:hg,Z_FINISH:fg,Z_OK:Jo,Z_STREAM_END:Uc,Z_NEED_DICT:qc,Z_STREAM_ERROR:dg,Z_DATA_ERROR:Qf,Z_MEM_ERROR:pg}=Ha;function is(i){this.options=ul.assign({chunkSize:1024*64,windowBits:15,to:""},i||{});let e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(i&&i.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new wd,this.strm.avail_out=0;let t=yr.inflateInit2(this.strm,e.windowBits);if(t!==Jo)throw new Error(va[t]);if(this.header=new ug,yr.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Xo.string2buf(e.dictionary):Fd.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=yr.inflateSetDictionary(this.strm,e.dictionary),t!==Jo)))throw new Error(va[t])}is.prototype.push=function(i,e){let t=this.strm,n=this.options.chunkSize,r=this.options.dictionary,a,l,s;if(this.ended)return!1;for(e===~~e?l=e:l=e===!0?fg:hg,Fd.call(i)==="[object ArrayBuffer]"?t.input=new Uint8Array(i):t.input=i,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),a=yr.inflate(t,l),a===qc&&r&&(a=yr.inflateSetDictionary(t,r),a===Jo?a=yr.inflate(t,l):a===Qf&&(a=qc));t.avail_in>0&&a===Uc&&t.state.wrap>0&&i[t.next_in]!==0;)yr.inflateReset(t),a=yr.inflate(t,l);switch(a){case dg:case Qf:case qc:case pg:return this.onEnd(a),this.ended=!0,!1}if(s=t.avail_out,t.next_out&&(t.avail_out===0||a===Uc))if(this.options.to==="string"){let h=Xo.utf8border(t.output,t.next_out),u=t.next_out-h,d=Xo.buf2string(t.output,h);t.next_out=u,t.avail_out=n-u,u&&t.output.set(t.output.subarray(h,h+u),0),this.onData(d)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(a===Jo&&s===0)){if(a===Uc)return a=yr.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};is.prototype.onData=function(i){this.chunks.push(i)};is.prototype.onEnd=function(i){i===Jo&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ul.flattenChunks(this.chunks)),this.chunks=[],this.err=i,this.msg=this.strm.msg};function ru(i,e){let t=new is(e);if(t.push(i),t.err)throw t.msg||va[t.err];return t.result}function gg(i,e){return e=e||{},e.raw=!0,ru(i,e)}var mg=is,vg=ru,_g=gg,yg=ru,bg=Ha,wg={Inflate:mg,inflate:vg,inflateRaw:_g,ungzip:yg,constants:bg},{Deflate:w_,deflate:x_,deflateRaw:S_,gzip:A_}=L2,{Inflate:xg,inflate:Sg,inflateRaw:C_,ungzip:k_}=wg;var au=xg,Td=Sg;var Od=[];for(let i=0;i<256;i++){let e=i;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;Od[i]=e}var Bd=4294967295;function Ag(i,e,t){let n=i;for(let r=0;r<t;r++)n=Od[(n^e[r])&255]^n>>>8;return n}function Cg(i,e){return(Ag(Bd,i,e)^Bd)>>>0}function ou(i,e,t){let n=i.readUint32(),r=Cg(new Uint8Array(i.buffer,i.byteOffset+i.offset-e-4,e),e);if(r!==n)throw new Error(`CRC mismatch for chunk ${t}. Expected ${n}, found ${r}`)}function fl(i,e,t){for(let n=0;n<t;n++)e[n]=i[n]}function dl(i,e,t,n){let r=0;for(;r<n;r++)e[r]=i[r];for(;r<t;r++)e[r]=i[r]+e[r-n]&255}function pl(i,e,t,n){let r=0;if(t.length===0)for(;r<n;r++)e[r]=i[r];else for(;r<n;r++)e[r]=i[r]+t[r]&255}function gl(i,e,t,n,r){let a=0;if(t.length===0){for(;a<r;a++)e[a]=i[a];for(;a<n;a++)e[a]=i[a]+(e[a-r]>>1)&255}else{for(;a<r;a++)e[a]=i[a]+(t[a]>>1)&255;for(;a<n;a++)e[a]=i[a]+(e[a-r]+t[a]>>1)&255}}function ml(i,e,t,n,r){let a=0;if(t.length===0){for(;a<r;a++)e[a]=i[a];for(;a<n;a++)e[a]=i[a]+e[a-r]&255}else{for(;a<r;a++)e[a]=i[a]+t[a]&255;for(;a<n;a++)e[a]=i[a]+kg(e[a-r],t[a],t[a-r])&255}}function kg(i,e,t){let n=i+e-t,r=Math.abs(n-i),a=Math.abs(n-e),l=Math.abs(n-t);return r<=a&&r<=l?i:a<=l?e:t}function Rd(i,e,t,n,r,a){switch(i){case 0:fl(e,t,r);break;case 1:dl(e,t,r,a);break;case 2:pl(e,t,n,r);break;case 3:gl(e,t,n,r,a);break;case 4:ml(e,t,n,r,a);break;default:throw new Error(`Unsupported filter: ${i}`)}}var Mg=new Uint16Array([255]),Ng=new Uint8Array(Mg.buffer),Lg=Ng[0]===255;function zd(i){let{data:e,width:t,height:n,channels:r,depth:a}=i,l=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],s=Math.ceil(a/8)*r,h=new Uint8Array(n*t*s),u=0;for(let d=0;d<7;d++){let v=l[d],_=Math.ceil((t-v.x)/v.xStep),p=Math.ceil((n-v.y)/v.yStep);if(_<=0||p<=0)continue;let A=_*s,N=new Uint8Array(A);for(let I=0;I<p;I++){let C=e[u++],Z=e.subarray(u,u+A);u+=A;let V=new Uint8Array(A);Rd(C,Z,V,N,A,s),N.set(V);for(let z=0;z<_;z++){let se=v.x+z*v.xStep,we=v.y+I*v.yStep;if(!(se>=t||we>=n))for(let pe=0;pe<s;pe++)h[(we*t+se)*s+pe]=V[z*s+pe]}}}if(a===16){let d=new Uint16Array(h.buffer);if(Lg)for(let v=0;v<d.length;v++)d[v]=Dg(d[v]);return d}else return h}function Dg(i){return(i&255)<<8|i>>8&255}var Eg=new Uint16Array([255]),Pg=new Uint8Array(Eg.buffer),Ig=Pg[0]===255,Fg=new Uint8Array(0);function su(i){let{data:e,width:t,height:n,channels:r,depth:a}=i,l=Math.ceil(a/8)*r,s=Math.ceil(a/8*r*t),h=new Uint8Array(n*s),u=Fg,d=0,v,_;for(let p=0;p<n;p++){switch(v=e.subarray(d+1,d+1+s),_=h.subarray(p*s,(p+1)*s),e[d]){case 0:fl(v,_,s);break;case 1:dl(v,_,s,l);break;case 2:pl(v,_,u,s);break;case 3:gl(v,_,u,s,l);break;case 4:ml(v,_,u,s,l);break;default:throw new Error(`Unsupported filter: ${e[d]}`)}u=_,d+=s+1}if(a===16){let p=new Uint16Array(h.buffer);if(Ig)for(let A=0;A<p.length;A++)p[A]=Tg(p[A]);return p}else return h}function Tg(i){return(i&255)<<8|i>>8&255}var vl=Uint8Array.of(137,80,78,71,13,10,26,10);function lu(i){if(!jd(i.readBytes(vl.length)))throw new Error("wrong PNG signature")}function jd(i){if(i.length<vl.length)return!1;for(let e=0;e<vl.length;e++)if(i[e]!==vl[e])return!1;return!0}var Ud="tEXt",Og=0,qd=new TextDecoder("latin1");function Rg(i){if(jg(i),i.length===0||i.length>79)throw new Error("keyword length must be between 1 and 79")}var zg=/^[\u0000-\u00FF]*$/;function jg(i){if(!zg.test(i))throw new Error("invalid latin1 text")}function Vd(i,e,t){let n=cu(e);i[n]=Ug(e,t-n.length-1)}function cu(i){for(i.mark();i.readByte()!==Og;);let e=i.offset;i.reset();let t=qd.decode(i.readBytes(e-i.offset-1));return i.skip(1),Rg(t),t}function Ug(i,e){return qd.decode(i.readBytes(e))}var Gi={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},ns={UNKNOWN:-1,DEFLATE:0},_l={UNKNOWN:-1,ADAPTIVE:0},rs={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},as={NONE:0,BACKGROUND:1,PREVIOUS:2},yl={SOURCE:0,OVER:1};var bl=class extends Ro{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);let{checkCrc:n=!1}=t;this._checkCrc=n,this._inflator=new au,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=ns.UNKNOWN,this._filterMethod=_l.UNKNOWN,this._interlaceMethod=rs.UNKNOWN,this._colorType=Gi.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(lu(this);!this._end;){let e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(lu(this);!this._end;){let e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){let n=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case Ud:Vd(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?ou(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){let n=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=n+e;break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?ou(this,e+4,t):this.skip(4)}decodeIHDR(){let e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=qg(this.readUint8());let t=this.readUint8();this._colorType=t;let n;switch(t){case Gi.GREYSCALE:n=1;break;case Gi.TRUECOLOUR:n=3;break;case Gi.INDEXED_COLOUR:n=1;break;case Gi.GREYSCALE_ALPHA:n=2;break;case Gi.TRUECOLOUR_ALPHA:n=4;break;case Gi.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==ns.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){let e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);let t=e/3;this._hasPalette=!0;let n=[];this._palette=n;for(let r=0;r<t;r++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;let t=e,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,n=this.offset+this.byteOffset;if(n+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Gi.GREYSCALE:case Gi.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case Gi.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){let n=this.readByte();this._palette[t].push(n)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case Gi.UNKNOWN:case Gi.GREYSCALE_ALPHA:case Gi.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){let t=cu(this),n=this.readUint8();if(n!==ns.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);let r=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:Td(r)}}decodepHYs(){let e=this.readUint32(),t=this.readUint32(),n=this.readByte();this._png.resolution={x:e,y:t,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){let t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(e);if(n){if(n.data=su({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)t.data=n.data;else{let r=this._apng.frames.at(e-1);this.disposeFrame(n,r,t),this.addFrameDataToCanvas(t,n)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,n){switch(e.disposeOp){case as.NONE:break;case as.BACKGROUND:for(let r=0;r<this._png.height;r++)for(let a=0;a<this._png.width;a++){let l=(r*e.width+a)*this._png.channels;for(let s=0;s<this._png.channels;s++)n.data[l+s]=0}break;case as.PREVIOUS:n.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){let n=1<<this._png.depth,r=(a,l)=>{let s=((a+t.yOffset)*this._png.width+t.xOffset+l)*this._png.channels,h=(a*t.width+l)*this._png.channels;return{index:s,frameIndex:h}};switch(t.blendOp){case yl.SOURCE:for(let a=0;a<t.height;a++)for(let l=0;l<t.width;l++){let{index:s,frameIndex:h}=r(a,l);for(let u=0;u<this._png.channels;u++)e.data[s+u]=t.data[h+u]}break;case yl.OVER:for(let a=0;a<t.height;a++)for(let l=0;l<t.width;l++){let{index:s,frameIndex:h}=r(a,l);for(let u=0;u<this._png.channels;u++){let d=t.data[h+this._png.channels-1]/n,v=u%(this._png.channels-1)===0?1:t.data[h+u],_=Math.floor(d*v+(1-d)*e.data[s+u]);e.data[s+u]+=_}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);let e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==_l.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===rs.NO_INTERLACE)this._png.data=su({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===rs.ADAM7)this._png.data=zd({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){let e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:as.NONE,blendOp:yl.SOURCE,data:e}),this._inflator=new au,this._writingDataChunks=!1}};function qg(i){if(i!==1&&i!==2&&i!==4&&i!==8&&i!==16)throw new Error(`invalid bit depth: ${i}`);return i}function Wd(i,e){return new bl(i,e).decode()}var ot=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function uu(){ot.console&&typeof ot.console.log=="function"&&ot.console.log.apply(ot.console,arguments)}var jt={log:uu,warn:function(i){ot.console&&(typeof ot.console.warn=="function"?ot.console.warn.apply(ot.console,arguments):uu.call(null,arguments))},error:function(i){ot.console&&(typeof ot.console.error=="function"?ot.console.error.apply(ot.console,arguments):uu(i))}};function hu(i,e,t){var n=new XMLHttpRequest;n.open("GET",i),n.responseType="blob",n.onload=function(){wa(n.response,e,t)},n.onerror=function(){jt.error("could not download file")},n.send()}function Hd(i){var e=new XMLHttpRequest;e.open("HEAD",i,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function wl(i){try{i.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),i.dispatchEvent(e)}}var wa=ot.saveAs||((typeof window>"u"?"undefined":Ot(window))!=="object"||window!==ot?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(i,e,t){var n=ot.URL||ot.webkitURL,r=document.createElement("a");e=e||i.name||"download",r.download=e,r.rel="noopener",typeof i=="string"?(r.href=i,r.origin!==location.origin?Hd(r.href)?hu(i,e,t):wl(r,r.target="_blank"):wl(r)):(r.href=n.createObjectURL(i),setTimeout(function(){n.revokeObjectURL(r.href)},4e4),setTimeout(function(){wl(r)},0))}:"msSaveOrOpenBlob"in navigator?function(i,e,t){if(e=e||i.name||"download",typeof i=="string")if(Hd(i))hu(i,e,t);else{var n=document.createElement("a");n.href=i,n.target="_blank",setTimeout(function(){wl(n)})}else navigator.msSaveOrOpenBlob((function(r,a){return a===void 0?a={autoBom:!1}:Ot(a)!=="object"&&(jt.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r})(i,t),e)}:function(i,e,t,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof i=="string")return hu(i,e,t);var r=i.type==="application/octet-stream",a=/constructor/i.test(ot.HTMLElement)||ot.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||r&&a)&&(typeof FileReader>"u"?"undefined":Ot(FileReader))==="object"){var s=new FileReader;s.onloadend=function(){var d=s.result;d=l?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},s.readAsDataURL(i)}else{var h=ot.URL||ot.webkitURL,u=h.createObjectURL(i);n?n.location=u:location.href=u,n=null,setTimeout(function(){h.revokeObjectURL(u)},4e4)}});function d0(i){var e;i=i||"",this.ok=!1,i.charAt(0)=="#"&&(i=i.substr(1,6)),i={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[i=(i=i.replace(/ /g,"")).toLowerCase()]||i;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(s){return[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(s){return[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(s){return[parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16)]}}],n=0;n<t.length;n++){var r=t[n].re,a=t[n].process,l=r.exec(i);l&&(e=a(l),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var s=this.r.toString(16),h=this.g.toString(16),u=this.b.toString(16);return s.length==1&&(s="0"+s),h.length==1&&(h="0"+h),u.length==1&&(u="0"+u),"#"+s+h+u}}var Al=ot.atob.bind(ot),Gd=ot.btoa.bind(ot);function fu(i,e){var t=i[0],n=i[1],r=i[2],a=i[3];t=Oi(t,n,r,a,e[0],7,-680876936),a=Oi(a,t,n,r,e[1],12,-389564586),r=Oi(r,a,t,n,e[2],17,606105819),n=Oi(n,r,a,t,e[3],22,-1044525330),t=Oi(t,n,r,a,e[4],7,-176418897),a=Oi(a,t,n,r,e[5],12,1200080426),r=Oi(r,a,t,n,e[6],17,-1473231341),n=Oi(n,r,a,t,e[7],22,-45705983),t=Oi(t,n,r,a,e[8],7,1770035416),a=Oi(a,t,n,r,e[9],12,-1958414417),r=Oi(r,a,t,n,e[10],17,-42063),n=Oi(n,r,a,t,e[11],22,-1990404162),t=Oi(t,n,r,a,e[12],7,1804603682),a=Oi(a,t,n,r,e[13],12,-40341101),r=Oi(r,a,t,n,e[14],17,-1502002290),t=Ri(t,n=Oi(n,r,a,t,e[15],22,1236535329),r,a,e[1],5,-165796510),a=Ri(a,t,n,r,e[6],9,-1069501632),r=Ri(r,a,t,n,e[11],14,643717713),n=Ri(n,r,a,t,e[0],20,-373897302),t=Ri(t,n,r,a,e[5],5,-701558691),a=Ri(a,t,n,r,e[10],9,38016083),r=Ri(r,a,t,n,e[15],14,-660478335),n=Ri(n,r,a,t,e[4],20,-405537848),t=Ri(t,n,r,a,e[9],5,568446438),a=Ri(a,t,n,r,e[14],9,-1019803690),r=Ri(r,a,t,n,e[3],14,-187363961),n=Ri(n,r,a,t,e[8],20,1163531501),t=Ri(t,n,r,a,e[13],5,-1444681467),a=Ri(a,t,n,r,e[2],9,-51403784),r=Ri(r,a,t,n,e[7],14,1735328473),t=zi(t,n=Ri(n,r,a,t,e[12],20,-1926607734),r,a,e[5],4,-378558),a=zi(a,t,n,r,e[8],11,-2022574463),r=zi(r,a,t,n,e[11],16,1839030562),n=zi(n,r,a,t,e[14],23,-35309556),t=zi(t,n,r,a,e[1],4,-1530992060),a=zi(a,t,n,r,e[4],11,1272893353),r=zi(r,a,t,n,e[7],16,-155497632),n=zi(n,r,a,t,e[10],23,-1094730640),t=zi(t,n,r,a,e[13],4,681279174),a=zi(a,t,n,r,e[0],11,-358537222),r=zi(r,a,t,n,e[3],16,-722521979),n=zi(n,r,a,t,e[6],23,76029189),t=zi(t,n,r,a,e[9],4,-640364487),a=zi(a,t,n,r,e[12],11,-421815835),r=zi(r,a,t,n,e[15],16,530742520),t=ji(t,n=zi(n,r,a,t,e[2],23,-995338651),r,a,e[0],6,-198630844),a=ji(a,t,n,r,e[7],10,1126891415),r=ji(r,a,t,n,e[14],15,-1416354905),n=ji(n,r,a,t,e[5],21,-57434055),t=ji(t,n,r,a,e[12],6,1700485571),a=ji(a,t,n,r,e[3],10,-1894986606),r=ji(r,a,t,n,e[10],15,-1051523),n=ji(n,r,a,t,e[1],21,-2054922799),t=ji(t,n,r,a,e[8],6,1873313359),a=ji(a,t,n,r,e[15],10,-30611744),r=ji(r,a,t,n,e[6],15,-1560198380),n=ji(n,r,a,t,e[13],21,1309151649),t=ji(t,n,r,a,e[4],6,-145523070),a=ji(a,t,n,r,e[11],10,-1120210379),r=ji(r,a,t,n,e[2],15,718787259),n=ji(n,r,a,t,e[9],21,-343485551),i[0]=Gr(t,i[0]),i[1]=Gr(n,i[1]),i[2]=Gr(r,i[2]),i[3]=Gr(a,i[3])}function Pl(i,e,t,n,r,a){return e=Gr(Gr(e,i),Gr(n,a)),Gr(e<<r|e>>>32-r,t)}function Oi(i,e,t,n,r,a,l){return Pl(e&t|~e&n,i,e,r,a,l)}function Ri(i,e,t,n,r,a,l){return Pl(e&n|t&~n,i,e,r,a,l)}function zi(i,e,t,n,r,a,l){return Pl(e^t^n,i,e,r,a,l)}function ji(i,e,t,n,r,a,l){return Pl(t^(e|~n),i,e,r,a,l)}function p0(i){var e,t=i.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=i.length;e+=64)fu(n,Vg(i.substring(e-64,e)));i=i.substring(e-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<i.length;e++)r[e>>2]|=i.charCodeAt(e)<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),e>55)for(fu(n,r),e=0;e<16;e++)r[e]=0;return r[14]=8*t,fu(n,r),n}function Vg(i){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=i.charCodeAt(e)+(i.charCodeAt(e+1)<<8)+(i.charCodeAt(e+2)<<16)+(i.charCodeAt(e+3)<<24);return t}var $d="0123456789abcdef".split("");function Wg(i){for(var e="",t=0;t<4;t++)e+=$d[i>>8*t+4&15]+$d[i>>8*t&15];return e}function Hg(i){return String.fromCharCode(255&i,(65280&i)>>8,(16711680&i)>>16,(4278190080&i)>>24)}function _u(i){return p0(i).map(Hg).join("")}var Gg=(function(i){for(var e=0;e<i.length;e++)i[e]=Wg(i[e]);return i.join("")})(p0("hello"))!="5d41402abc4b2a76b9719d911017c592";function Gr(i,e){if(Gg){var t=(65535&i)+(65535&e);return(i>>16)+(e>>16)+(t>>16)<<16|65535&t}return i+e&4294967295}function yu(i,e){var t,n,r,a;if(i!==t){for(var l=(r=i,a=1+(256/i.length|0),new Array(a+1).join(r)),s=[],h=0;h<256;h++)s[h]=h;var u=0;for(h=0;h<256;h++){var d=s[h];u=(u+d+l.charCodeAt(h))%256,s[h]=s[u],s[u]=d}t=i,n=s}else s=n;var v=e.length,_=0,p=0,A="";for(h=0;h<v;h++)p=(p+(d=s[_=(_+1)%256]))%256,s[_]=s[p],s[p]=d,l=s[(s[_]+s[p])%256],A+=String.fromCharCode(e.charCodeAt(h)^l);return A}var Zd={print:4,modify:8,copy:16,"annot-forms":32};function Ka(i,e,t,n){this.v=1,this.r=2;var r=192;i.forEach(function(s){if(Zd.perm!==void 0)throw new Error("Invalid permission: "+s);r+=Zd[s]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var a=(e+this.padding).substr(0,32),l=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,l),this.P=-(1+(255^r)),this.encryptionKey=_u(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=yu(this.encryptionKey,this.padding)}function Xa(i){if(/[^\u0000-\u00ff]/.test(i))throw new Error("Invalid PDF Name Object: "+i+", Only accept ASCII characters.");for(var e="",t=i.length,n=0;n<t;n++){var r=i.charCodeAt(n);e+=r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?"#"+("0"+r.toString(16)).slice(-2):i[n]}return e}function Yd(i){if(Ot(i)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,n,r){if(r=r||!1,typeof t!="string"||typeof n!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var a=Math.random().toString(35);return e[t][a]=[n,!!r],a},this.unsubscribe=function(t){for(var n in e)if(e[n][t])return delete e[n][t],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var n=Array.prototype.slice.call(arguments,1),r=[];for(var a in e[t]){var l=e[t][a];try{l[0].apply(i,n)}catch(s){ot.console&&jt.error("jsPDF PubSub Error",s.message,s)}l[1]&&r.push(a)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Ll(i){if(!(this instanceof Ll))return new Ll(i);var e="opacity,stroke-opacity".split(",");for(var t in i)i.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=i[t]);this.id="",this.objectNumber=-1}function g0(i,e){this.gState=i,this.matrix=e,this.id="",this.objectNumber=-1}function xa(i,e,t,n,r){if(!(this instanceof xa))return new xa(i,e,t,n,r);this.type=i==="axial"?2:3,this.coords=e,this.colors=t,g0.call(this,n,r)}function Ja(i,e,t,n,r){if(!(this instanceof Ja))return new Ja(i,e,t,n,r);this.boundingBox=i,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,g0.call(this,n,r)}function Ue(i){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],r=arguments[2],a=arguments[3],l=[],s=1,h=16,u="S",d=null;Ot(i=i||{})==="object"&&(t=i.orientation,n=i.unit||n,r=i.format||r,a=i.compress||i.compressPdf||a,(d=i.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),s=typeof i.userUnit=="number"?Math.abs(i.userUnit):1,i.precision!==void 0&&(e=i.precision),i.floatPrecision!==void 0&&(h=i.floatPrecision),u=i.defaultPathOperation||"S"),l=i.filters||(a===!0?["FlateEncode"]:l),n=n||"mm",t=(""+(t||"P")).toLowerCase();var v=i.putOnlyUsedFonts||!1,_={},p={internal:{},__private__:{}};p.__private__.PubSub=Yd;var A="1.3",N=p.__private__.getPdfVersion=function(){return A};p.__private__.setPdfVersion=function(f){A=f};var I={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return I};var C=p.__private__.getPageFormat=function(f){return I[f]};r=r||"a4";var Z="compat",V="advanced",z=Z;function se(){this.saveGraphicsState(),P(new it(dt,0,0,-dt,0,ia()*dt).toString()+" cm"),this.setFontSize(this.getFontSize()/dt),u="n",z=V}function we(){this.restoreGraphicsState(),u="S",z=Z}var pe=p.__private__.combineFontStyleAndFontWeight=function(f,y){if(f=="bold"&&y=="normal"||f=="bold"&&y==400||f=="normal"&&y=="italic"||f=="bold"&&y=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return y&&(f=y==400||y==="normal"?f==="italic"?"italic":"normal":y!=700&&y!=="bold"||f!=="normal"?(y==700?"bold":y)+""+f:"bold"),f};p.advancedAPI=function(f){var y=z===Z;return y&&se.call(this),typeof f!="function"||(f(this),y&&we.call(this)),this},p.compatAPI=function(f){var y=z===V;return y&&we.call(this),typeof f!="function"||(f(this),y&&se.call(this)),this},p.isAdvancedAPI=function(){return z===V};var X,j=function(f){if(z!==V)throw new Error(f+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ie=p.roundToPrecision=p.__private__.roundToPrecision=function(f,y){var O=e||y;if(isNaN(f)||isNaN(O))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return f.toFixed(O).replace(/0+$/,"")};X=p.hpf=p.__private__.hpf=typeof h=="number"?function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.hpf");return ie(f,h)}:h==="smart"?function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.hpf");return ie(f,f>-1&&f<1?16:5)}:function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.hpf");return ie(f,16)};var M=p.f2=p.__private__.f2=function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.f2");return ie(f,2)},F=p.__private__.f3=function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.f3");return ie(f,3)},$=p.scale=p.__private__.scale=function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.scale");return z===Z?f*dt:z===V?f:void 0},H=function(f){return $((function(y){return z===Z?ia()-y:z===V?y:void 0})(f))};p.__private__.setPrecision=p.setPrecision=function(f){typeof parseInt(f,10)=="number"&&(e=parseInt(f,10))};var ce,de="00000000000000000000000000000000",me=p.__private__.getFileId=function(){return de},oe=p.__private__.setFileId=function(f){return de=f!==void 0&&/^[a-fA-F0-9]{32}$/.test(f)?f.toUpperCase():de.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(vi=new Ka(d.userPermissions,d.userPassword,d.ownerPassword,de)),de};p.setFileId=function(f){return oe(f),this},p.getFileId=function(){return me()};var _e=p.__private__.convertDateToPDFDate=function(f){var y=f.getTimezoneOffset(),O=y<0?"+":"-",G=Math.floor(Math.abs(y/60)),ee=Math.abs(y%60),ye=[O,q(G),"'",q(ee),"'"].join("");return["D:",f.getFullYear(),q(f.getMonth()+1),q(f.getDate()),q(f.getHours()),q(f.getMinutes()),q(f.getSeconds()),ye].join("")},Ee=p.__private__.convertPDFDateToDate=function(f){var y=parseInt(f.substr(2,4),10),O=parseInt(f.substr(6,2),10)-1,G=parseInt(f.substr(8,2),10),ee=parseInt(f.substr(10,2),10),ye=parseInt(f.substr(12,2),10),Se=parseInt(f.substr(14,2),10);return new Date(y,O,G,ee,ye,Se,0)},Ce=p.__private__.setCreationDate=function(f){var y;if(f===void 0&&(f=new Date),f instanceof Date)y=_e(f);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(f))throw new Error("Invalid argument passed to jsPDF.setCreationDate");y=f}return ce=y},S=p.__private__.getCreationDate=function(f){var y=ce;return f==="jsDate"&&(y=Ee(ce)),y};p.setCreationDate=function(f){return Ce(f),this},p.getCreationDate=function(f){return S(f)};var R,q=p.__private__.padd2=function(f){return("0"+parseInt(f)).slice(-2)},Y=p.__private__.padd2Hex=function(f){return("00"+(f=f.toString())).substr(f.length)},Q=0,ne=[],ue=[],fe=0,xe=[],De=[],Be=!1,Te=ue;p.__private__.setCustomOutputDestination=function(f){Be=!0,Te=f};var Ze=function(f){Be||(Te=f)};p.__private__.resetCustomOutputDestination=function(){Be=!1,Te=ue};var P=p.__private__.out=function(f){return f=f.toString(),fe+=f.length+1,Te.push(f),Te},Fe=p.__private__.write=function(f){return P(arguments.length===1?f.toString():Array.prototype.join.call(arguments," "))},vt=p.__private__.getArrayBuffer=function(f){for(var y=f.length,O=new ArrayBuffer(y),G=new Uint8Array(O);y--;)G[y]=f.charCodeAt(y);return O},Je=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Je};var ke=i.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(f){return ke=z===V?f/dt:f,this};var Qe,Re=p.__private__.getFontSize=p.getFontSize=function(){return z===Z?ke:ke*dt},Xe=i.R2L||!1;p.__private__.setR2L=p.setR2L=function(f){return Xe=f,this},p.__private__.getR2L=p.getR2L=function(){return Xe};var Ye,Pt=p.__private__.setZoomMode=function(f){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(f))Qe=f;else if(isNaN(f)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(f)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+f+'" is not recognized.');Qe=f}else Qe=parseInt(f,10)};p.__private__.getZoomMode=function(){return Qe};var wt,ut=p.__private__.setPageMode=function(f){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(f)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+f+'" is not recognized.');Ye=f};p.__private__.getPageMode=function(){return Ye};var St=p.__private__.setLayoutMode=function(f){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(f)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+f+'" is not recognized.');wt=f};p.__private__.getLayoutMode=function(){return wt},p.__private__.setDisplayMode=p.setDisplayMode=function(f,y,O){return Pt(f),St(y),ut(O),this};var xt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(f){if(Object.keys(xt).indexOf(f)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return xt[f]},p.__private__.getDocumentProperties=function(){return xt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(f){for(var y in xt)xt.hasOwnProperty(y)&&f[y]&&(xt[y]=f[y]);return this},p.__private__.setDocumentProperty=function(f,y){if(Object.keys(xt).indexOf(f)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return xt[f]=y};var We,dt,$e,ai,Mt,_t={},yt={},Kt=[],Ke={},Ut={},nt={},ht={},Xt=null,bt=0,tt=[],It=new Yd(p),Zr=i.hotfixes||[],Ti={},Xn={},Tn=[],it=function f(y,O,G,ee,ye,Se){if(!(this instanceof f))return new f(y,O,G,ee,ye,Se);isNaN(y)&&(y=1),isNaN(O)&&(O=0),isNaN(G)&&(G=0),isNaN(ee)&&(ee=1),isNaN(ye)&&(ye=0),isNaN(Se)&&(Se=0),this._matrix=[y,O,G,ee,ye,Se]};Object.defineProperty(it.prototype,"sx",{get:function(){return this._matrix[0]},set:function(f){this._matrix[0]=f}}),Object.defineProperty(it.prototype,"shy",{get:function(){return this._matrix[1]},set:function(f){this._matrix[1]=f}}),Object.defineProperty(it.prototype,"shx",{get:function(){return this._matrix[2]},set:function(f){this._matrix[2]=f}}),Object.defineProperty(it.prototype,"sy",{get:function(){return this._matrix[3]},set:function(f){this._matrix[3]=f}}),Object.defineProperty(it.prototype,"tx",{get:function(){return this._matrix[4]},set:function(f){this._matrix[4]=f}}),Object.defineProperty(it.prototype,"ty",{get:function(){return this._matrix[5]},set:function(f){this._matrix[5]=f}}),Object.defineProperty(it.prototype,"a",{get:function(){return this._matrix[0]},set:function(f){this._matrix[0]=f}}),Object.defineProperty(it.prototype,"b",{get:function(){return this._matrix[1]},set:function(f){this._matrix[1]=f}}),Object.defineProperty(it.prototype,"c",{get:function(){return this._matrix[2]},set:function(f){this._matrix[2]=f}}),Object.defineProperty(it.prototype,"d",{get:function(){return this._matrix[3]},set:function(f){this._matrix[3]=f}}),Object.defineProperty(it.prototype,"e",{get:function(){return this._matrix[4]},set:function(f){this._matrix[4]=f}}),Object.defineProperty(it.prototype,"f",{get:function(){return this._matrix[5]},set:function(f){this._matrix[5]=f}}),Object.defineProperty(it.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(it.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(it.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(it.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),it.prototype.join=function(f){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(X).join(f)},it.prototype.multiply=function(f){var y=f.sx*this.sx+f.shy*this.shx,O=f.sx*this.shy+f.shy*this.sy,G=f.shx*this.sx+f.sy*this.shx,ee=f.shx*this.shy+f.sy*this.sy,ye=f.tx*this.sx+f.ty*this.shx+this.tx,Se=f.tx*this.shy+f.ty*this.sy+this.ty;return new it(y,O,G,ee,ye,Se)},it.prototype.decompose=function(){var f=this.sx,y=this.shy,O=this.shx,G=this.sy,ee=this.tx,ye=this.ty,Se=Math.sqrt(f*f+y*y),je=(f/=Se)*O+(y/=Se)*G;O-=f*je,G-=y*je;var He=Math.sqrt(O*O+G*G);return je/=He,f*(G/=He)<y*(O/=He)&&(f=-f,y=-y,je=-je,Se=-Se),{scale:new it(Se,0,0,He,0,0),translate:new it(1,0,0,1,ee,ye),rotate:new it(f,y,-y,f,0,0),skew:new it(1,0,je,1,0,0)}},it.prototype.toString=function(f){return this.join(" ")},it.prototype.inversed=function(){var f=this.sx,y=this.shy,O=this.shx,G=this.sy,ee=this.tx,ye=this.ty,Se=1/(f*G-y*O),je=G*Se,He=-y*Se,st=-O*Se,pt=f*Se;return new it(je,He,st,pt,-je*ee-st*ye,-He*ee-pt*ye)},it.prototype.applyToPoint=function(f){var y=f.x*this.sx+f.y*this.shx+this.tx,O=f.x*this.shy+f.y*this.sy+this.ty;return new rr(y,O)},it.prototype.applyToRectangle=function(f){var y=this.applyToPoint(f),O=this.applyToPoint(new rr(f.x+f.w,f.y+f.h));return new fo(y.x,y.y,O.x-y.x,O.y-y.y)},it.prototype.clone=function(){var f=this.sx,y=this.shy,O=this.shx,G=this.sy,ee=this.tx,ye=this.ty;return new it(f,y,O,G,ee,ye)},p.Matrix=it;var Jn=p.matrixMult=function(f,y){return y.multiply(f)},Qn=new it(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Qn;var hn=function(f,y){if(!Ut[f]){var O=(y instanceof xa?"Sh":"P")+(Object.keys(Ke).length+1).toString(10);y.id=O,Ut[f]=O,Ke[O]=y,It.publish("addPattern",y)}};p.ShadingPattern=xa,p.TilingPattern=Ja,p.addShadingPattern=function(f,y){return j("addShadingPattern()"),hn(f,y),this},p.beginTilingPattern=function(f){j("beginTilingPattern()"),po(f.boundingBox[0],f.boundingBox[1],f.boundingBox[2]-f.boundingBox[0],f.boundingBox[3]-f.boundingBox[1],f.matrix)},p.endTilingPattern=function(f,y){j("endTilingPattern()"),y.stream=De[R].join(`
`),hn(f,y),It.publish("endTilingPattern",y),Tn.pop().restore()};var fn,ti=p.__private__.newObject=function(){var f=Si();return Ni(f,!0),f},Si=p.__private__.newObjectDeferred=function(){return Q++,ne[Q]=function(){return fe},Q},Ni=function(f,y){return y=typeof y=="boolean"&&y,ne[f]=fe,y&&P(f+" 0 obj"),f},Yr=p.__private__.newAdditionalObject=function(){var f={objId:Si(),content:""};return xe.push(f),f},xr=Si(),xn=Si(),Bn=p.__private__.decodeColorString=function(f){var y=f.split(" ");if(y.length!==2||y[1]!=="g"&&y[1]!=="G")y.length!==5||y[4]!=="k"&&y[4]!=="K"||(y=[(1-y[0])*(1-y[3]),(1-y[1])*(1-y[3]),(1-y[2])*(1-y[3]),"r"]);else{var O=parseFloat(y[0]);y=[O,O,O,"r"]}for(var G="#",ee=0;ee<3;ee++)G+=("0"+Math.floor(255*parseFloat(y[ee])).toString(16)).slice(-2);return G},Sn=p.__private__.encodeColorString=function(f){var y;typeof f=="string"&&(f={ch1:f});var O=f.ch1,G=f.ch2,ee=f.ch3,ye=f.ch4,Se=f.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof O=="string"&&O.charAt(0)!=="#"){var je=new d0(O);if(je.ok)O=je.toHex();else if(!/^\d*\.?\d*$/.test(O))throw new Error('Invalid color "'+O+'" passed to jsPDF.encodeColorString.')}if(typeof O=="string"&&/^#[0-9A-Fa-f]{3}$/.test(O)&&(O="#"+O[1]+O[1]+O[2]+O[2]+O[3]+O[3]),typeof O=="string"&&/^#[0-9A-Fa-f]{6}$/.test(O)){var He=parseInt(O.substr(1),16);O=He>>16&255,G=He>>8&255,ee=255&He}if(G===void 0||ye===void 0&&O===G&&G===ee)y=typeof O=="string"?O+" "+Se[0]:f.precision===2?M(O/255)+" "+Se[0]:F(O/255)+" "+Se[0];else if(ye===void 0||Ot(ye)==="object"){if(ye&&!isNaN(ye.a)&&ye.a===0)return["1.","1.","1.",Se[1]].join(" ");y=typeof O=="string"?[O,G,ee,Se[1]].join(" "):f.precision===2?[M(O/255),M(G/255),M(ee/255),Se[1]].join(" "):[F(O/255),F(G/255),F(ee/255),Se[1]].join(" ")}else y=typeof O=="string"?[O,G,ee,ye,Se[2]].join(" "):f.precision===2?[M(O),M(G),M(ee),M(ye),Se[2]].join(" "):[F(O),F(G),F(ee),F(ye),Se[2]].join(" ");return y},An=p.__private__.getFilters=function(){return l},dn=p.__private__.putStream=function(f){var y=(f=f||{}).data||"",O=f.filters||An(),G=f.alreadyAppliedFilters||[],ee=f.addLength1||!1,ye=y.length,Se=f.objectId,je=function(_i){return _i};if(d!==null&&Se===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(je=vi.encryptor(Se,0));var He={};O===!0&&(O=["FlateEncode"]);var st=f.additionalKeyValues||[],pt=(He=Ue.API.processDataByFilters!==void 0?Ue.API.processDataByFilters(y,O):{data:y,reverseChain:[]}).reverseChain+(Array.isArray(G)?G.join(" "):G.toString());if(He.data.length!==0&&(st.push({key:"Length",value:He.data.length}),ee===!0&&st.push({key:"Length1",value:ye})),pt.length!=0)if(pt.split("/").length-1==1)st.push({key:"Filter",value:pt});else{st.push({key:"Filter",value:"["+pt+"]"});for(var Nt=0;Nt<st.length;Nt+=1)if(st[Nt].key==="DecodeParms"){for(var Qt=[],gi=0;gi<He.reverseChain.split("/").length-1;gi+=1)Qt.push("null");Qt.push(st[Nt].value),st[Nt].value="["+Qt.join(" ")+"]"}}P("<<");for(var qt=0;qt<st.length;qt++)P("/"+st[qt].key+" "+st[qt].value);P(">>"),He.data.length!==0&&(P("stream"),P(je(He.data)),P("endstream"))},Kr=p.__private__.putPage=function(f){var y=f.number,O=f.data,G=f.objId,ee=f.contentsObjId;Ni(G,!0),P("<</Type /Page"),P("/Parent "+f.rootDictionaryObjId+" 0 R"),P("/Resources "+f.resourceDictionaryObjId+" 0 R"),P("/MediaBox ["+parseFloat(X(f.mediaBox.bottomLeftX))+" "+parseFloat(X(f.mediaBox.bottomLeftY))+" "+X(f.mediaBox.topRightX)+" "+X(f.mediaBox.topRightY)+"]"),f.cropBox!==null&&P("/CropBox ["+X(f.cropBox.bottomLeftX)+" "+X(f.cropBox.bottomLeftY)+" "+X(f.cropBox.topRightX)+" "+X(f.cropBox.topRightY)+"]"),f.bleedBox!==null&&P("/BleedBox ["+X(f.bleedBox.bottomLeftX)+" "+X(f.bleedBox.bottomLeftY)+" "+X(f.bleedBox.topRightX)+" "+X(f.bleedBox.topRightY)+"]"),f.trimBox!==null&&P("/TrimBox ["+X(f.trimBox.bottomLeftX)+" "+X(f.trimBox.bottomLeftY)+" "+X(f.trimBox.topRightX)+" "+X(f.trimBox.topRightY)+"]"),f.artBox!==null&&P("/ArtBox ["+X(f.artBox.bottomLeftX)+" "+X(f.artBox.bottomLeftY)+" "+X(f.artBox.topRightX)+" "+X(f.artBox.topRightY)+"]"),typeof f.userUnit=="number"&&f.userUnit!==1&&P("/UserUnit "+f.userUnit),It.publish("putPage",{objId:G,pageContext:tt[y],pageNumber:y,page:O}),P("/Contents "+ee+" 0 R"),P(">>"),P("endobj");var ye=O.join(`
`);return z===V&&(ye+=`
Q`),Ni(ee,!0),dn({data:ye,filters:An(),objectId:ee}),P("endobj"),G},On=p.__private__.putPages=function(){var f,y,O=[];for(f=1;f<=bt;f++)tt[f].objId=Si(),tt[f].contentsObjId=Si();for(f=1;f<=bt;f++)O.push(Kr({number:f,data:De[f],objId:tt[f].objId,contentsObjId:tt[f].contentsObjId,mediaBox:tt[f].mediaBox,cropBox:tt[f].cropBox,bleedBox:tt[f].bleedBox,trimBox:tt[f].trimBox,artBox:tt[f].artBox,userUnit:tt[f].userUnit,rootDictionaryObjId:xr,resourceDictionaryObjId:xn}));Ni(xr,!0),P("<</Type /Pages");var G="/Kids [";for(y=0;y<bt;y++)G+=O[y]+" 0 R ";P(G+"]"),P("/Count "+bt),P(">>"),P("endobj"),It.publish("postPutPages")},Xr=function(f){It.publish("putFont",{font:f,out:P,newObject:ti,putStream:dn}),f.isAlreadyPutted!==!0&&(f.objectNumber=ti(),P("<<"),P("/Type /Font"),P("/BaseFont /"+Xa(f.postScriptName)),P("/Subtype /Type1"),typeof f.encoding=="string"&&P("/Encoding /"+f.encoding),P("/FirstChar 32"),P("/LastChar 255"),P(">>"),P("endobj"))},Ca=function(f){f.objectNumber=ti();var y=[];y.push({key:"Type",value:"/XObject"}),y.push({key:"Subtype",value:"/Form"}),y.push({key:"BBox",value:"["+[X(f.x),X(f.y),X(f.x+f.width),X(f.y+f.height)].join(" ")+"]"}),y.push({key:"Matrix",value:"["+f.matrix.toString()+"]"});var O=f.pages[1].join(`
`);dn({data:O,additionalKeyValues:y,objectId:f.objectNumber}),P("endobj")},ka=function(f,y){y||(y=21);var O=ti(),G=(function(Se,je){var He,st=[],pt=1/(je-1);for(He=0;He<1;He+=pt)st.push(He);if(st.push(1),Se[0].offset!=0){var Nt={offset:0,color:Se[0].color};Se.unshift(Nt)}if(Se[Se.length-1].offset!=1){var Qt={offset:1,color:Se[Se.length-1].color};Se.push(Qt)}for(var gi="",qt=0,_i=0;_i<st.length;_i++){for(He=st[_i];He>Se[qt+1].offset;)qt++;var mi=Se[qt].offset,Li=(He-mi)/(Se[qt+1].offset-mi),sr=Se[qt].color,kn=Se[qt+1].color;gi+=Y(Math.round((1-Li)*sr[0]+Li*kn[0]).toString(16))+Y(Math.round((1-Li)*sr[1]+Li*kn[1]).toString(16))+Y(Math.round((1-Li)*sr[2]+Li*kn[2]).toString(16))}return gi.trim()})(f.colors,y),ee=[];ee.push({key:"FunctionType",value:"0"}),ee.push({key:"Domain",value:"[0.0 1.0]"}),ee.push({key:"Size",value:"["+y+"]"}),ee.push({key:"BitsPerSample",value:"8"}),ee.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ee.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),dn({data:G,additionalKeyValues:ee,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:O}),P("endobj"),f.objectNumber=ti(),P("<< /ShadingType "+f.type),P("/ColorSpace /DeviceRGB");var ye="/Coords ["+X(parseFloat(f.coords[0]))+" "+X(parseFloat(f.coords[1]))+" ";f.type===2?ye+=X(parseFloat(f.coords[2]))+" "+X(parseFloat(f.coords[3])):ye+=X(parseFloat(f.coords[2]))+" "+X(parseFloat(f.coords[3]))+" "+X(parseFloat(f.coords[4]))+" "+X(parseFloat(f.coords[5])),P(ye+="]"),f.matrix&&P("/Matrix ["+f.matrix.toString()+"]"),P("/Function "+O+" 0 R"),P("/Extend [true true]"),P(">>"),P("endobj")},Ma=function(f,y){var O=Si(),G=ti();y.push({resourcesOid:O,objectOid:G}),f.objectNumber=G;var ee=[];ee.push({key:"Type",value:"/Pattern"}),ee.push({key:"PatternType",value:"1"}),ee.push({key:"PaintType",value:"1"}),ee.push({key:"TilingType",value:"1"}),ee.push({key:"BBox",value:"["+f.boundingBox.map(X).join(" ")+"]"}),ee.push({key:"XStep",value:X(f.xStep)}),ee.push({key:"YStep",value:X(f.yStep)}),ee.push({key:"Resources",value:O+" 0 R"}),f.matrix&&ee.push({key:"Matrix",value:"["+f.matrix.toString()+"]"}),dn({data:f.stream,additionalKeyValues:ee,objectId:f.objectNumber}),P("endobj")},Ol=function(f){for(var y in f.objectNumber=ti(),P("<<"),f)switch(y){case"opacity":P("/ca "+M(f[y]));break;case"stroke-opacity":P("/CA "+M(f[y]))}P(">>"),P("endobj")},ro=function(f){Ni(f.resourcesOid,!0),P("<<"),P("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var y in P("/Font <<"),_t)_t.hasOwnProperty(y)&&(v===!1||v===!0&&_.hasOwnProperty(y))&&P("/"+y+" "+_t[y].objectNumber+" 0 R");P(">>")})(),(function(){if(Object.keys(Ke).length>0){for(var y in P("/Shading <<"),Ke)Ke.hasOwnProperty(y)&&Ke[y]instanceof xa&&Ke[y].objectNumber>=0&&P("/"+y+" "+Ke[y].objectNumber+" 0 R");It.publish("putShadingPatternDict"),P(">>")}})(),(function(y){if(Object.keys(Ke).length>0){for(var O in P("/Pattern <<"),Ke)Ke.hasOwnProperty(O)&&Ke[O]instanceof p.TilingPattern&&Ke[O].objectNumber>=0&&Ke[O].objectNumber<y&&P("/"+O+" "+Ke[O].objectNumber+" 0 R");It.publish("putTilingPatternDict"),P(">>")}})(f.objectOid),(function(){if(Object.keys(nt).length>0){var y;for(y in P("/ExtGState <<"),nt)nt.hasOwnProperty(y)&&nt[y].objectNumber>=0&&P("/"+y+" "+nt[y].objectNumber+" 0 R");It.publish("putGStateDict"),P(">>")}})(),(function(){for(var y in P("/XObject <<"),Ti)Ti.hasOwnProperty(y)&&Ti[y].objectNumber>=0&&P("/"+y+" "+Ti[y].objectNumber+" 0 R");It.publish("putXobjectDict"),P(">>")})(),P(">>"),P("endobj")},ss=function(f){yt[f.fontName]=yt[f.fontName]||{},yt[f.fontName][f.fontStyle]=f.id},ls=function(f,y,O,G,ee){var ye={id:"F"+(Object.keys(_t).length+1).toString(10),postScriptName:f,fontName:y,fontStyle:O,encoding:G,isStandardFont:ee||!1,metadata:{}};return It.publish("addFont",{font:ye,instance:this}),_t[ye.id]=ye,ss(ye),ye.id},pn=p.__private__.pdfEscape=p.pdfEscape=function(f,y){return(function(O,G){var ee,ye,Se,je,He,st,pt,Nt,Qt;if(Se=(G=G||{}).sourceEncoding||"Unicode",He=G.outputEncoding,(G.autoencode||He)&&_t[We].metadata&&_t[We].metadata[Se]&&_t[We].metadata[Se].encoding&&(je=_t[We].metadata[Se].encoding,!He&&_t[We].encoding&&(He=_t[We].encoding),!He&&je.codePages&&(He=je.codePages[0]),typeof He=="string"&&(He=je[He]),He)){for(pt=!1,st=[],ee=0,ye=O.length;ee<ye;ee++)(Nt=He[O.charCodeAt(ee)])?st.push(String.fromCharCode(Nt)):st.push(O[ee]),st[ee].charCodeAt(0)>>8&&(pt=!0);O=st.join("")}for(ee=O.length;pt===void 0&&ee!==0;)O.charCodeAt(ee-1)>>8&&(pt=!0),ee--;if(!pt)return O;for(st=G.noBOM?[]:[254,255],ee=0,ye=O.length;ee<ye;ee++){if((Qt=(Nt=O.charCodeAt(ee))>>8)>>8)throw new Error("Character at position "+ee+" of string '"+O+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");st.push(Qt),st.push(Nt-(Qt<<8))}return String.fromCharCode.apply(void 0,st)})(f,y).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ao=p.__private__.beginPage=function(f){De[++bt]=[],tt[bt]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(f[0]),topRightY:Number(f[1])}},us(bt),Ze(De[R])},cs=function(f,y){var O,G,ee;switch(t=y||t,typeof f=="string"&&(O=C(f.toLowerCase()),Array.isArray(O)&&(G=O[0],ee=O[1])),Array.isArray(f)&&(G=f[0]*dt,ee=f[1]*dt),isNaN(G)&&(G=r[0],ee=r[1]),(G>14400||ee>14400)&&(jt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),G=Math.min(14400,G),ee=Math.min(14400,ee)),r=[G,ee],t.substr(0,1)){case"l":ee>G&&(r=[ee,G]);break;case"p":G>ee&&(r=[ee,G])}ao(r),lt(lo),P(Ea),uo!==0&&P(uo+" J"),ho!==0&&P(ho+" j"),It.publish("addPage",{pageNumber:bt})},oo=function(f){f>0&&f<=bt&&(De.splice(f,1),tt.splice(f,1),bt--,R>bt&&(R=bt),this.setPage(R))},us=function(f){f>0&&f<=bt&&(R=f)},hs=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return De.length-1},fs=function(f,y,O){var G,ee=void 0;return O=O||{},f=f!==void 0?f:_t[We].fontName,y=y!==void 0?y:_t[We].fontStyle,G=f.toLowerCase(),yt[G]!==void 0&&yt[G][y]!==void 0?ee=yt[G][y]:yt[f]!==void 0&&yt[f][y]!==void 0?ee=yt[f][y]:O.disableWarning===!1&&jt.warn("Unable to look up font label for font '"+f+"', '"+y+"'. Refer to getFontList() for available fonts."),ee||O.noFallback||(ee=yt.times[y])==null&&(ee=yt.times.normal),ee},Rn=p.__private__.putInfo=function(){var f=ti(),y=function(G){return G};for(var O in d!==null&&(y=vi.encryptor(f,0)),P("<<"),P("/Producer ("+pn(y("jsPDF "+Ue.version))+")"),xt)xt.hasOwnProperty(O)&&xt[O]&&P("/"+O.substr(0,1).toUpperCase()+O.substr(1)+" ("+pn(y(xt[O]))+")");P("/CreationDate ("+pn(y(ce))+")"),P(">>"),P("endobj")},Na=p.__private__.putCatalog=function(f){var y=(f=f||{}).rootDictionaryObjId||xr;switch(ti(),P("<<"),P("/Type /Catalog"),P("/Pages "+y+" 0 R"),Qe||(Qe="fullwidth"),Qe){case"fullwidth":P("/OpenAction [3 0 R /FitH null]");break;case"fullheight":P("/OpenAction [3 0 R /FitV null]");break;case"fullpage":P("/OpenAction [3 0 R /Fit]");break;case"original":P("/OpenAction [3 0 R /XYZ null null 1]");break;default:var O=""+Qe;O.substr(O.length-1)==="%"&&(Qe=parseInt(Qe)/100),typeof Qe=="number"&&P("/OpenAction [3 0 R /XYZ null null "+M(Qe)+"]")}switch(wt||(wt="continuous"),wt){case"continuous":P("/PageLayout /OneColumn");break;case"single":P("/PageLayout /SinglePage");break;case"two":case"twoleft":P("/PageLayout /TwoColumnLeft");break;case"tworight":P("/PageLayout /TwoColumnRight")}Ye&&P("/PageMode /"+Ye),It.publish("putCatalog"),P(">>"),P("endobj")},Rl=p.__private__.putTrailer=function(){P("trailer"),P("<<"),P("/Size "+(Q+1)),P("/Root "+Q+" 0 R"),P("/Info "+(Q-1)+" 0 R"),d!==null&&P("/Encrypt "+vi.oid+" 0 R"),P("/ID [ <"+de+"> <"+de+"> ]"),P(">>")},pi=p.__private__.putHeader=function(){P("%PDF-"+A),P("%\xBA\xDF\xAC\xE0")},ds=p.__private__.putXRef=function(){var f="0000000000";P("xref"),P("0 "+(Q+1)),P("0000000000 65535 f ");for(var y=1;y<=Q;y++)typeof ne[y]=="function"?P((f+ne[y]()).slice(-10)+" 00000 n "):ne[y]!==void 0?P((f+ne[y]).slice(-10)+" 00000 n "):P("0000000000 00000 n ")},zn=p.__private__.buildDocument=function(){var f;Q=0,fe=0,ue=[],ne=[],xe=[],xr=Si(),xn=Si(),Ze(ue),It.publish("buildDocument"),pi(),On(),(function(){It.publish("putAdditionalObjects");for(var O=0;O<xe.length;O++){var G=xe[O];Ni(G.objId,!0),P(G.content),P("endobj")}It.publish("postPutAdditionalObjects")})(),f=[],(function(){for(var O in _t)_t.hasOwnProperty(O)&&(v===!1||v===!0&&_.hasOwnProperty(O))&&Xr(_t[O])})(),(function(){var O;for(O in nt)nt.hasOwnProperty(O)&&Ol(nt[O])})(),(function(){for(var O in Ti)Ti.hasOwnProperty(O)&&Ca(Ti[O])})(),(function(O){var G;for(G in Ke)Ke.hasOwnProperty(G)&&(Ke[G]instanceof xa?ka(Ke[G]):Ke[G]instanceof Ja&&Ma(Ke[G],O))})(f),It.publish("putResources"),f.forEach(ro),ro({resourcesOid:xn,objectOid:Number.MAX_SAFE_INTEGER}),It.publish("postPutResources"),d!==null&&(vi.oid=ti(),P("<<"),P("/Filter /Standard"),P("/V "+vi.v),P("/R "+vi.r),P("/U <"+vi.toHexString(vi.U)+">"),P("/O <"+vi.toHexString(vi.O)+">"),P("/P "+vi.P),P(">>"),P("endobj")),Rn(),Na();var y=fe;return ds(),Rl(),P("startxref"),P(""+y),P("%%EOF"),Ze(De[R]),ue.join(`
`)},La=p.__private__.getBlob=function(f){return new Blob([vt(f)],{type:"application/pdf"})},ps=p.output=p.__private__.output=(fn=function(f,y){switch(typeof(y=y||{})=="string"?y={filename:y}:y.filename=y.filename||"generated.pdf",f){case void 0:return zn();case"save":p.save(y.filename);break;case"arraybuffer":return vt(zn());case"blob":return La(zn());case"bloburi":case"bloburl":if(ot.URL!==void 0&&typeof ot.URL.createObjectURL=="function")return ot.URL&&ot.URL.createObjectURL(La(zn()))||void 0;jt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var O="",G=zn();try{O=Gd(G)}catch{O=Gd(unescape(encodeURIComponent(G)))}return"data:application/pdf;filename="+y.filename+";base64,"+O;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ot)==="[object Window]"){var ee="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ye=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';y.pdfObjectUrl&&(ee=y.pdfObjectUrl,ye="");var Se='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ee+'"'+ye+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(y)+");<\/script></body></html>",je=ot.open();return je!==null&&je.document.write(Se),je}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ot)==="[object Window]"){var He='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(y.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+y.filename+'" width="500px" height="400px" /></body></html>',st=ot.open();if(st!==null){st.document.write(He);var pt=this;st.document.documentElement.querySelector("#pdfViewer").onload=function(){st.document.title=y.filename,st.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(pt.output("bloburl"))}}return st}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ot)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Nt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",y)+'"></iframe></body></html>',Qt=ot.open();if(Qt!==null&&(Qt.document.write(Nt),Qt.document.title=y.filename),Qt||typeof safari>"u")return Qt;break;case"datauri":case"dataurl":return ot.document.location.href=this.output("datauristring",y);default:return null}},fn.foo=function(){try{return fn.apply(this,arguments)}catch(O){var f=O.stack||"";~f.indexOf(" at ")&&(f=f.split(" at ")[1]);var y="Error in function "+f.split(`
`)[0].split("<")[0]+": "+O.message;if(!ot.console)throw new Error(y);ot.console.error(y,O),ot.alert&&alert(y)}},fn.foo.bar=fn,fn.foo),gn=function(f){return Array.isArray(Zr)===!0&&Zr.indexOf(f)>-1};switch(n){case"pt":dt=1;break;case"mm":dt=72/25.4;break;case"cm":dt=72/2.54;break;case"in":dt=72;break;case"px":dt=gn("px_scaling")==1?.75:96/72;break;case"pc":case"em":dt=12;break;case"ex":dt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);dt=n}var vi=null;Ce(),oe();var er=p.__private__.getPageInfo=p.getPageInfo=function(f){if(isNaN(f)||f%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:tt[f].objId,pageNumber:f,pageContext:tt[f]}},gs=p.__private__.getPageInfoByObjId=function(f){if(isNaN(f)||f%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var y in tt)if(tt[y].objId===f)break;return er(y)},zl=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:tt[R].objId,pageNumber:R,pageContext:tt[R]}};p.addPage=function(){return cs.apply(this,arguments),this},p.setPage=function(){return us.apply(this,arguments),Ze.call(this,De[R]),this},p.insertPage=function(f){return this.addPage(),this.movePage(R,f),this},p.movePage=function(f,y){var O,G;if(f>y){O=De[f],G=tt[f];for(var ee=f;ee>y;ee--)De[ee]=De[ee-1],tt[ee]=tt[ee-1];De[y]=O,tt[y]=G,this.setPage(y)}else if(f<y){O=De[f],G=tt[f];for(var ye=f;ye<y;ye++)De[ye]=De[ye+1],tt[ye]=tt[ye+1];De[y]=O,tt[y]=G,this.setPage(y)}return this},p.deletePage=function(){return oo.apply(this,arguments),this},p.__private__.text=p.text=function(f,y,O,G,ee){var ye,Se,je,He,st,pt,Nt,Qt,gi,qt=(G=G||{}).scope||this;if(typeof f=="number"&&typeof y=="number"&&(typeof O=="string"||Array.isArray(O))){var _i=O;O=y,y=f,f=_i}if(arguments[3]instanceof it==0?(je=arguments[4],He=arguments[5],Ot(Nt=arguments[3])==="object"&&Nt!==null||(typeof je=="string"&&(He=je,je=null),typeof Nt=="string"&&(He=Nt,Nt=null),typeof Nt=="number"&&(je=Nt,Nt=null),G={flags:Nt,angle:je,align:He})):(j("The transform parameter of text() with a Matrix value"),gi=ee),isNaN(y)||isNaN(O)||f==null)throw new Error("Invalid arguments passed to jsPDF.text");if(f.length===0)return qt;var mi,Li="",sr=typeof G.lineHeightFactor=="number"?G.lineHeightFactor:Qr,kn=qt.internal.scaleFactor;function lr(Ft){return Ft=Ft.split("	").join(Array(G.TabLen||9).join(" ")),pn(Ft,Nt)}function mo(Ft){for(var Rt,si=Ft.concat(),yi=[],hr=si.length;hr--;)typeof(Rt=si.shift())=="string"?yi.push(Rt):Array.isArray(Ft)&&(Rt.length===1||Rt[1]===void 0&&Rt[2]===void 0)?yi.push(Rt[0]):yi.push([Rt[0],Rt[1],Rt[2]]);return yi}function Ia(Ft,Rt){var si;if(typeof Ft=="string")si=Rt(Ft)[0];else if(Array.isArray(Ft)){for(var yi,hr,ko=Ft.concat(),Ba=[],ks=ko.length;ks--;)typeof(yi=ko.shift())=="string"?Ba.push(Rt(yi)[0]):Array.isArray(yi)&&typeof yi[0]=="string"&&(hr=Rt(yi[0],yi[1],yi[2]),Ba.push([hr[0],hr[1],hr[2]]));si=Ba}return si}var Sr=!1,na=!0;if(typeof f=="string")Sr=!0;else if(Array.isArray(f)){var ra=f.concat();Se=[];for(var Ar,Di=ra.length;Di--;)(typeof(Ar=ra.shift())!="string"||Array.isArray(Ar)&&typeof Ar[0]!="string")&&(na=!1);Sr=na}if(Sr===!1)throw new Error('Type of text must be string or Array. "'+f+'" is not recognized.');typeof f=="string"&&(f=f.match(/[\r?\n]/)?f.split(/\r\n|\r|\n/g):[f]);var aa=ke/qt.internal.scaleFactor,oa=aa*(sr-1);switch(G.baseline){case"bottom":O-=oa;break;case"top":O+=aa-oa;break;case"hanging":O+=aa-2*oa;break;case"middle":O+=aa/2-oa}if((pt=G.maxWidth||0)>0&&(typeof f=="string"?f=qt.splitTextToSize(f,pt):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(Ft,Rt){return Ft.concat(qt.splitTextToSize(Rt,pt))},[]))),ye={text:f,x:y,y:O,options:G,mutex:{pdfEscape:pn,activeFontKey:We,fonts:_t,activeFontSize:ke}},It.publish("preProcessText",ye),f=ye.text,je=(G=ye.options).angle,gi instanceof it==0&&je&&typeof je=="number"){je*=Math.PI/180,G.rotationDirection===0&&(je=-je),z===V&&(je=-je);var vo=Math.cos(je),_o=Math.sin(je);gi=new it(vo,_o,-_o,vo,0,0)}else je&&je instanceof it&&(gi=je);z!==V||gi||(gi=Qn),(st=G.charSpace||nr)!==void 0&&(Li+=X($(st))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Qt=G.horizontalScale)!==void 0&&(Li+=X(100*Qt)+` Tz
`),G.lang;var Ui=-1,cr=G.renderingMode!==void 0?G.renderingMode:G.stroke,Fa=qt.internal.getCurrentPageInfo().pageContext;switch(cr){case 0:case!1:case"fill":Ui=0;break;case 1:case!0:case"stroke":Ui=1;break;case 2:case"fillThenStroke":Ui=2;break;case 3:case"invisible":Ui=3;break;case 4:case"fillAndAddForClipping":Ui=4;break;case 5:case"strokeAndAddPathForClipping":Ui=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ui=6;break;case 7:case"addToPathForClipping":Ui=7}var As=Fa.usedRenderingMode!==void 0?Fa.usedRenderingMode:-1;Ui!==-1?Li+=Ui+` Tr
`:As!==-1&&(Li+=`0 Tr
`),Ui!==-1&&(Fa.usedRenderingMode=Ui),He=G.align||"left";var mn,sa=ke*sr,yo=qt.internal.pageSize.getWidth(),bo=_t[We];st=G.charSpace||nr,pt=G.maxWidth||0,Nt=Object.assign({autoencode:!0,noBOM:!0},G.flags);var Cr=[],la=function(Ft){return qt.getStringUnitWidth(Ft,{font:bo,charSpace:st,fontSize:ke,doKerning:!1})*ke/kn};if(Object.prototype.toString.call(f)==="[object Array]"){var Qi;Se=mo(f),He!=="left"&&(mn=Se.map(la));var en,kr=0;if(He==="right"){y-=mn[0],f=[],Di=Se.length;for(var ur=0;ur<Di;ur++)ur===0?(en=tr(y),Qi=ir(O)):(en=$(kr-mn[ur]),Qi=-sa),f.push([Se[ur],en,Qi]),kr=mn[ur]}else if(He==="center"){y-=mn[0]/2,f=[],Di=Se.length;for(var Mr=0;Mr<Di;Mr++)Mr===0?(en=tr(y),Qi=ir(O)):(en=$((kr-mn[Mr])/2),Qi=-sa),f.push([Se[Mr],en,Qi]),kr=mn[Mr]}else if(He==="left"){f=[],Di=Se.length;for(var wo=0;wo<Di;wo++)f.push(Se[wo])}else if(He==="justify"&&bo.encoding==="Identity-H"){f=[],Di=Se.length,pt=pt!==0?pt:yo;for(var Ta=0,oi=0;oi<Di;oi++)if(Qi=oi===0?ir(O):-sa,en=oi===0?tr(y):Ta,oi<Di-1){var Cs=$((pt-mn[oi])/(Se[oi].split(" ").length-1)),Un=Se[oi].split(" ");f.push([Un[0]+" ",en,Qi]),Ta=0;for(var qn=1;qn<Un.length;qn++){var xo=(la(Un[qn-1]+" "+Un[qn])-la(Un[qn]))*kn+Cs;qn==Un.length-1?f.push([Un[qn],xo,0]):f.push([Un[qn]+" ",xo,0]),Ta-=xo}}else f.push([Se[oi],en,Qi]);f.push(["",Ta,0])}else{if(He!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(f=[],Di=Se.length,pt=pt!==0?pt:yo,oi=0;oi<Di;oi++){Qi=oi===0?ir(O):-sa,en=oi===0?tr(y):0;var So=Se[oi].split(" ").length-1,Ao=So>0?(pt-mn[oi])/So:0;oi<Di-1?Cr.push(X($(Ao))):Cr.push(0),f.push([Se[oi],en,Qi])}}}(typeof G.R2L=="boolean"?G.R2L:Xe)===!0&&(f=Ia(f,function(Ft,Rt,si){return[Ft.split("").reverse().join(""),Rt,si]})),ye={text:f,x:y,y:O,options:G,mutex:{pdfEscape:pn,activeFontKey:We,fonts:_t,activeFontSize:ke}},It.publish("postProcessText",ye),f=ye.text,mi=ye.mutex.isHex||!1;var Co=_t[We].encoding;Co!=="WinAnsiEncoding"&&Co!=="StandardEncoding"||(f=Ia(f,function(Ft,Rt,si){return[lr(Ft),Rt,si]})),Se=mo(f),f=[];for(var Nr,Lr,Dr,ca=Array.isArray(Se[0])?1:0,Er="",ua=function(Ft,Rt,si){var yi="";return si instanceof it?(si=typeof G.angle=="number"?Jn(si,new it(1,0,0,1,Ft,Rt)):Jn(new it(1,0,0,1,Ft,Rt),si),z===V&&(si=Jn(new it(1,0,0,-1,0,0),si)),yi=si.join(" ")+` Tm
`):yi=X(Ft)+" "+X(Rt)+` Td
`,yi},vn=0;vn<Se.length;vn++){switch(Er="",ca){case 1:Dr=(mi?"<":"(")+Se[vn][0]+(mi?">":")"),Nr=parseFloat(Se[vn][1]),Lr=parseFloat(Se[vn][2]);break;case 0:Dr=(mi?"<":"(")+Se[vn]+(mi?">":")"),Nr=tr(y),Lr=ir(O)}Cr!==void 0&&Cr[vn]!==void 0&&(Er=Cr[vn]+` Tw
`),vn===0?f.push(Er+ua(Nr,Lr,gi)+Dr):ca===0?f.push(Er+Dr):ca===1&&f.push(Er+ua(Nr,Lr,gi)+Dr)}f=ca===0?f.join(` Tj
T* `):f.join(` Tj
`),f+=` Tj
`;var Vn=`BT
/`;return Vn+=We+" "+ke+` Tf
`,Vn+=X(ke*sr)+` TL
`,Vn+=ea+`
`,Vn+=Li,Vn+=f,P(Vn+="ET"),_[We]=!0,qt};var jl=p.__private__.clip=p.clip=function(f){return P(f==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return jl("evenodd")},p.__private__.discardPath=p.discardPath=function(){return P("n"),this};var jn=p.__private__.isValidStyle=function(f){var y=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(f)!==-1&&(y=!0),y};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(f){return jn(f)&&(u=f),this};var ms=p.__private__.getStyle=p.getStyle=function(f){var y=u;switch(f){case"D":case"S":y="S";break;case"F":y="f";break;case"FD":case"DF":y="B";break;case"f":case"f*":case"B":case"B*":y=f}return y},vs=p.close=function(){return P("h"),this};p.stroke=function(){return P("S"),this},p.fill=function(f){return Da("f",f),this},p.fillEvenOdd=function(f){return Da("f*",f),this},p.fillStroke=function(f){return Da("B",f),this},p.fillStrokeEvenOdd=function(f){return Da("B*",f),this};var Da=function(f,y){Ot(y)==="object"?ql(y,f):P(f)},Jr=function(f){f===null||z===V&&f===void 0||(f=ms(f),P(f))};function Ul(f,y,O,G,ee){var ye=new Ja(y||this.boundingBox,O||this.xStep,G||this.yStep,this.gState,ee||this.matrix);ye.stream=this.stream;var Se=f+"$$"+this.cloneIndex+++"$$";return hn(Se,ye),ye}var ql=function(f,y){var O=Ut[f.key],G=Ke[O];if(G instanceof xa)P("q"),P(Vl(y)),G.gState&&p.setGState(G.gState),P(f.matrix.toString()+" cm"),P("/"+O+" sh"),P("Q");else if(G instanceof Ja){var ee=new it(1,0,0,-1,0,ia());f.matrix&&(ee=ee.multiply(f.matrix||Qn),O=Ul.call(G,f.key,f.boundingBox,f.xStep,f.yStep,ee).id),P("q"),P("/Pattern cs"),P("/"+O+" scn"),G.gState&&p.setGState(G.gState),P(y),P("Q")}},Vl=function(f){switch(f){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},so=p.moveTo=function(f,y){return P(X($(f))+" "+X(H(y))+" m"),this},_s=p.lineTo=function(f,y){return P(X($(f))+" "+X(H(y))+" l"),this},Cn=p.curveTo=function(f,y,O,G,ee,ye){return P([X($(f)),X(H(y)),X($(O)),X(H(G)),X($(ee)),X(H(ye)),"c"].join(" ")),this};p.__private__.line=p.line=function(f,y,O,G,ee){if(isNaN(f)||isNaN(y)||isNaN(O)||isNaN(G)||!jn(ee))throw new Error("Invalid arguments passed to jsPDF.line");return z===Z?this.lines([[O-f,G-y]],f,y,[1,1],ee||"S"):this.lines([[O-f,G-y]],f,y,[1,1]).stroke()},p.__private__.lines=p.lines=function(f,y,O,G,ee,ye){var Se,je,He,st,pt,Nt,Qt,gi,qt,_i,mi,Li;if(typeof f=="number"&&(Li=O,O=y,y=f,f=Li),G=G||[1,1],ye=ye||!1,isNaN(y)||isNaN(O)||!Array.isArray(f)||!Array.isArray(G)||!jn(ee)||typeof ye!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(so(y,O),Se=G[0],je=G[1],st=f.length,_i=y,mi=O,He=0;He<st;He++)(pt=f[He]).length===2?(_i=pt[0]*Se+_i,mi=pt[1]*je+mi,_s(_i,mi)):(Nt=pt[0]*Se+_i,Qt=pt[1]*je+mi,gi=pt[2]*Se+_i,qt=pt[3]*je+mi,_i=pt[4]*Se+_i,mi=pt[5]*je+mi,Cn(Nt,Qt,gi,qt,_i,mi));return ye&&vs(),Jr(ee),this},p.path=function(f){for(var y=0;y<f.length;y++){var O=f[y],G=O.c;switch(O.op){case"m":so(G[0],G[1]);break;case"l":_s(G[0],G[1]);break;case"c":Cn.apply(this,G);break;case"h":vs()}}return this},p.__private__.rect=p.rect=function(f,y,O,G,ee){if(isNaN(f)||isNaN(y)||isNaN(O)||isNaN(G)||!jn(ee))throw new Error("Invalid arguments passed to jsPDF.rect");return z===Z&&(G=-G),P([X($(f)),X(H(y)),X($(O)),X($(G)),"re"].join(" ")),Jr(ee),this},p.__private__.triangle=p.triangle=function(f,y,O,G,ee,ye,Se){if(isNaN(f)||isNaN(y)||isNaN(O)||isNaN(G)||isNaN(ee)||isNaN(ye)||!jn(Se))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[O-f,G-y],[ee-O,ye-G],[f-ee,y-ye]],f,y,[1,1],Se,!0),this},p.__private__.roundedRect=p.roundedRect=function(f,y,O,G,ee,ye,Se){if(isNaN(f)||isNaN(y)||isNaN(O)||isNaN(G)||isNaN(ee)||isNaN(ye)||!jn(Se))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var je=4/3*(Math.SQRT2-1);return ee=Math.min(ee,.5*O),ye=Math.min(ye,.5*G),this.lines([[O-2*ee,0],[ee*je,0,ee,ye-ye*je,ee,ye],[0,G-2*ye],[0,ye*je,-ee*je,ye,-ee,ye],[2*ee-O,0],[-ee*je,0,-ee,-ye*je,-ee,-ye],[0,2*ye-G],[0,-ye*je,ee*je,-ye,ee,-ye]],f+ee,y,[1,1],Se,!0),this},p.__private__.ellipse=p.ellipse=function(f,y,O,G,ee){if(isNaN(f)||isNaN(y)||isNaN(O)||isNaN(G)||!jn(ee))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ye=4/3*(Math.SQRT2-1)*O,Se=4/3*(Math.SQRT2-1)*G;return so(f+O,y),Cn(f+O,y-Se,f+ye,y-G,f,y-G),Cn(f-ye,y-G,f-O,y-Se,f-O,y),Cn(f-O,y+Se,f-ye,y+G,f,y+G),Cn(f+ye,y+G,f+O,y+Se,f+O,y),Jr(ee),this},p.__private__.circle=p.circle=function(f,y,O,G){if(isNaN(f)||isNaN(y)||isNaN(O)||!jn(G))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(f,y,O,O,G)},p.setFont=function(f,y,O){return O&&(y=pe(y,O)),We=fs(f,y,{disableWarning:!1}),this};var Wl=p.__private__.getFont=p.getFont=function(){return _t[fs.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var f,y,O={};for(f in yt)if(yt.hasOwnProperty(f))for(y in O[f]=[],yt[f])yt[f].hasOwnProperty(y)&&O[f].push(y);return O},p.addFont=function(f,y,O,G,ee){var ye=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ye.indexOf(arguments[3])!==-1?ee=arguments[3]:arguments[3]&&ye.indexOf(arguments[3])==-1&&(O=pe(O,G)),ls.call(this,f,y,O,ee=ee||"Identity-H")};var Qr,lo=i.lineWidth||.200025,Hl=p.__private__.getLineWidth=p.getLineWidth=function(){return lo},lt=p.__private__.setLineWidth=p.setLineWidth=function(f){return lo=f,P(X($(f))+" w"),this};p.__private__.setLineDash=Ue.API.setLineDash=Ue.API.setLineDashPattern=function(f,y){if(f=f||[],y=y||0,isNaN(y)||!Array.isArray(f))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return f=f.map(function(O){return X($(O))}).join(" "),y=X($(y)),P("["+f+"] "+y+" d"),this};var Gl=p.__private__.getLineHeight=p.getLineHeight=function(){return ke*Qr};p.__private__.getLineHeight=p.getLineHeight=function(){return ke*Qr};var $l=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(f){return typeof(f=f||1.15)=="number"&&(Qr=f),this},Zl=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Qr};$l(i.lineHeight);var tr=p.__private__.getHorizontalCoordinate=function(f){return $(f)},ir=p.__private__.getVerticalCoordinate=function(f){return z===V?f:tt[R].mediaBox.topRightY-tt[R].mediaBox.bottomLeftY-$(f)},Yl=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(f){return X(tr(f))},Kl=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(f){return X(ir(f))},Ea=i.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Bn(Ea)},p.__private__.setStrokeColor=p.setDrawColor=function(f,y,O,G){return Ea=Sn({ch1:f,ch2:y,ch3:O,ch4:G,pdfColorType:"draw",precision:2}),P(Ea),this};var co=i.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Bn(co)},p.__private__.setFillColor=p.setFillColor=function(f,y,O,G){return co=Sn({ch1:f,ch2:y,ch3:O,ch4:G,pdfColorType:"fill",precision:2}),P(co),this};var ea=i.textColor||"0 g",Xl=p.__private__.getTextColor=p.getTextColor=function(){return Bn(ea)};p.__private__.setTextColor=p.setTextColor=function(f,y,O,G){return ea=Sn({ch1:f,ch2:y,ch3:O,ch4:G,pdfColorType:"text",precision:3}),this};var nr=i.charSpace,Jl=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(nr||0)};p.__private__.setCharSpace=p.setCharSpace=function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return nr=f,this};var uo=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(f){var y=p.CapJoinStyles[f];if(y===void 0)throw new Error("Line cap style of '"+f+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return uo=y,P(y+" J"),this};var ho=0;p.__private__.setLineJoin=p.setLineJoin=function(f){var y=p.CapJoinStyles[f];if(y===void 0)throw new Error("Line join style of '"+f+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ho=y,P(y+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(f){if(f=f||0,isNaN(f))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return P(X($(f))+" M"),this},p.GState=Ll,p.setGState=function(f){(f=typeof f=="string"?nt[ht[f]]:ys(null,f)).equals(Xt)||(P("/"+f.id+" gs"),Xt=f)};var ys=function(f,y){if(!f||!ht[f]){var O=!1;for(var G in nt)if(nt.hasOwnProperty(G)&&nt[G].equals(y)){O=!0;break}if(O)y=nt[G];else{var ee="GS"+(Object.keys(nt).length+1).toString(10);nt[ee]=y,y.id=ee}return f&&(ht[f]=y.id),It.publish("addGState",y),y}};p.addGState=function(f,y){return ys(f,y),this},p.saveGraphicsState=function(){return P("q"),Kt.push({key:We,size:ke,color:ea}),this},p.restoreGraphicsState=function(){P("Q");var f=Kt.pop();return We=f.key,ke=f.size,ea=f.color,Xt=null,this},p.setCurrentTransformationMatrix=function(f){return P(f.toString()+" cm"),this},p.comment=function(f){return P("#"+f),this};var rr=function(f,y){var O=f||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return O},set:function(ye){isNaN(ye)||(O=parseFloat(ye))}});var G=y||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return G},set:function(ye){isNaN(ye)||(G=parseFloat(ye))}});var ee="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ee},set:function(ye){ee=ye.toString()}}),this},fo=function(f,y,O,G){rr.call(this,f,y),this.type="rect";var ee=O||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ee},set:function(Se){isNaN(Se)||(ee=parseFloat(Se))}});var ye=G||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ye},set:function(Se){isNaN(Se)||(ye=parseFloat(Se))}}),this},Pa=function(){this.page=bt,this.currentPage=R,this.pages=De.slice(0),this.pagesContext=tt.slice(0),this.x=$e,this.y=ai,this.matrix=Mt,this.width=go(R),this.height=ws(R),this.outputDestination=Te,this.id="",this.objectNumber=-1};Pa.prototype.restore=function(){bt=this.page,R=this.currentPage,tt=this.pagesContext,De=this.pages,$e=this.x,ai=this.y,Mt=this.matrix,bs(R,this.width),ar(R,this.height),Te=this.outputDestination};var po=function(f,y,O,G,ee){Tn.push(new Pa),bt=R=0,De=[],$e=f,ai=y,Mt=ee,ao([O,G])};for(var ta in p.beginFormObject=function(f,y,O,G,ee){return po(f,y,O,G,ee),this},p.endFormObject=function(f){return(function(y){if(Xn[y])Tn.pop().restore();else{var O=new Pa,G="Xo"+(Object.keys(Ti).length+1).toString(10);O.id=G,Xn[y]=G,Ti[G]=O,It.publish("addFormObject",O),Tn.pop().restore()}})(f),this},p.doFormObject=function(f,y){var O=Ti[Xn[f]];return P("q"),P(y.toString()+" cm"),P("/"+O.id+" Do"),P("Q"),this},p.getFormObject=function(f){var y=Ti[Xn[f]];return{x:y.x,y:y.y,width:y.width,height:y.height,matrix:y.matrix}},p.save=function(f,y){return f=f||"generated.pdf",(y=y||{}).returnPromise=y.returnPromise||!1,y.returnPromise===!1?(wa(La(zn()),f),typeof wa.unload=="function"&&ot.setTimeout&&setTimeout(wa.unload,911),this):new Promise(function(O,G){try{var ee=wa(La(zn()),f);typeof wa.unload=="function"&&ot.setTimeout&&setTimeout(wa.unload,911),O(ee)}catch(ye){G(ye.message)}})},Ue.API)Ue.API.hasOwnProperty(ta)&&(ta==="events"&&Ue.API.events.length?(function(f,y){var O,G,ee;for(ee=y.length-1;ee!==-1;ee--)O=y[ee][0],G=y[ee][1],f.subscribe.apply(f,[O].concat(typeof G=="function"?[G]:G))})(It,Ue.API.events):p[ta]=Ue.API[ta]);function go(f){return tt[f].mediaBox.topRightX-tt[f].mediaBox.bottomLeftX}function bs(f,y){tt[f].mediaBox.topRightX=y+tt[f].mediaBox.bottomLeftX}function ws(f){return tt[f].mediaBox.topRightY-tt[f].mediaBox.bottomLeftY}function ar(f,y){tt[f].mediaBox.topRightY=y+tt[f].mediaBox.bottomLeftY}var or=p.getPageWidth=function(f){return go(f=f||R)/dt},xs=p.setPageWidth=function(f,y){bs(f,y*dt)},ia=p.getPageHeight=function(f){return ws(f=f||R)/dt},Ss=p.setPageHeight=function(f,y){ar(f,y*dt)};return p.internal={pdfEscape:pn,getStyle:ms,getFont:Wl,getFontSize:Re,getCharSpace:Jl,getTextColor:Xl,getLineHeight:Gl,getLineHeightFactor:Zl,getLineWidth:Hl,write:Fe,getHorizontalCoordinate:tr,getVerticalCoordinate:ir,getCoordinateString:Yl,getVerticalCoordinateString:Kl,collections:{},newObject:ti,newAdditionalObject:Yr,newObjectDeferred:Si,newObjectDeferredBegin:Ni,getFilters:An,putStream:dn,events:It,scaleFactor:dt,pageSize:{getWidth:function(){return or(R)},setWidth:function(f){xs(R,f)},getHeight:function(){return ia(R)},setHeight:function(f){Ss(R,f)}},encryptionOptions:d,encryption:vi,getEncryptor:function(f){return d!==null?vi.encryptor(f,0):function(y){return y}},output:ps,getNumberOfPages:hs,get pages(){return De},out:P,f2:M,f3:F,getPageInfo:er,getPageInfoByObjId:gs,getCurrentPageInfo:zl,getPDFVersion:N,Point:rr,Rectangle:fo,Matrix:it,hasHotfix:gn},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return or(R)},set:function(f){xs(R,f)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return ia(R)},set:function(f){Ss(R,f)},enumerable:!0,configurable:!0}),(function(f){for(var y=0,O=Je.length;y<O;y++){var G=ls.call(this,f[y][0],f[y][1],f[y][2],Je[y][3],!0);v===!1&&(_[G]=!0);var ee=f[y][0].split("-");ss({id:G,fontName:ee[0],fontStyle:ee[1]||""})}It.publish("addFonts",{fonts:_t,dictionary:yt})}).call(p,Je),We="F1",cs(r,t),It.publish("initialized"),p}Ka.prototype.lsbFirstWord=function(i){return String.fromCharCode(255&i,i>>8&255,i>>16&255,i>>24&255)},Ka.prototype.toHexString=function(i){return i.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ka.prototype.hexToBytes=function(i){for(var e=[],t=0;t<i.length;t+=2)e.push(String.fromCharCode(parseInt(i.substr(t,2),16)));return e.join("")},Ka.prototype.processOwnerPassword=function(i,e){return yu(_u(e).substr(0,5),i)},Ka.prototype.encryptor=function(i,e){var t=_u(this.encryptionKey+String.fromCharCode(255&i,i>>8&255,i>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return yu(t,n)}},Ll.prototype.equals=function(i){var e,t="id,objectNumber,equals";if(!i||Ot(i)!==Ot(this))return!1;var n=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!i.hasOwnProperty(e)||this[e]!==i[e])return!1;n++}for(e in i)i.hasOwnProperty(e)&&t.indexOf(e)<0&&n--;return n===0},Ue.API={events:[]},Ue.version="4.1.0";var ri=Ue.API,xu=1,Aa=function(i){return i.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Za=function(i){return i.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Dl=function(i){return i.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(e){var t=e.charCodeAt(0).toString(16).toUpperCase();return"#"+(t.length===1?"0"+t:t)})},ct=function(i){return i.toFixed(2)},Hr=function(i){return i.toFixed(5)};ri.__acroform__={};var Ji=function(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i},Kd=function(i){return i*xu},Zn=function(i){var e=new v0,t=ze.internal.getHeight(i)||0,n=ze.internal.getWidth(i)||0;return e.BBox=[0,0,Number(ct(n)),Number(ct(t))],e},$g=ri.__acroform__.setBit=function(i,e){if(i=i||0,e=e||0,isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return i|1<<e},Zg=ri.__acroform__.clearBit=function(i,e){if(i=i||0,e=e||0,isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return i&~(1<<e)},Yg=ri.__acroform__.getBit=function(i,e){if(isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return i&1<<e?1:0},hi=ri.__acroform__.getBitForPdf=function(i,e){if(isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Yg(i,e-1)},fi=ri.__acroform__.setBitForPdf=function(i,e){if(isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return $g(i,e-1)},di=ri.__acroform__.clearBitForPdf=function(i,e){if(isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Zg(i,e-1)},Kg=ri.__acroform__.calculateCoordinates=function(i,e){var t=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,r=i[0],a=i[1],l=i[2],s=i[3],h={};return h.lowerLeft_X=t(r)||0,h.lowerLeft_Y=n(a+s)||0,h.upperRight_X=t(r+l)||0,h.upperRight_Y=n(a)||0,[Number(ct(h.lowerLeft_X)),Number(ct(h.lowerLeft_Y)),Number(ct(h.upperRight_X)),Number(ct(h.upperRight_Y))]},Xg=function(i){if(i.appearanceStreamContent)return i.appearanceStreamContent;if(i.V||i.DV){var e=[],t=i._V||i.DV,n=bu(i,t),r=i.scope.internal.getFont(i.fontName,i.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(i.scope.__private__.encodeColorString(i.color)),e.push("/"+r+" "+ct(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=Zn(i);return a.scope=i.scope,a.stream=e.join(`
`),a}},bu=function(i,e){var t=i.fontSize===0?i.maxFontSize:i.fontSize,n={text:"",fontSize:""},r=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");r=i.multiline?r.map(function(M){return M.split(`
`)}):r.map(function(M){return[M]});var a=t,l=ze.internal.getHeight(i)||0;l=l<0?-l:l;var s=ze.internal.getWidth(i)||0;s=s<0?-s:s;var h=function(M,F,$){if(M+1<r.length){var H=F+" "+r[M+1][0];return xl(H,i,$).width<=s-4}return!1};a++;e:for(;a>0;){e="",a--;var u,d,v=xl("3",i,a).height,_=i.multiline?l-a:(l-v)/2,p=_+=2,A=0,N=0,I=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+xl(e,i,a=12).width+", FieldWidth:"+s+`
`;break}for(var C="",Z=0,V=0;V<r.length;V++)if(r.hasOwnProperty(V)){var z=!1;if(r[V].length!==1&&I!==r[V].length-1){if((v+2)*(Z+2)+2>l)continue e;C+=r[V][I],z=!0,N=V,V--}else{C=(C+=r[V][I]+" ").substr(C.length-1)==" "?C.substr(0,C.length-1):C;var se=parseInt(V),we=h(se,C,a),pe=V>=r.length-1;if(we&&!pe){C+=" ",I=0;continue}if(we||pe){if(pe)N=se;else if(i.multiline&&(v+2)*(Z+2)+2>l)continue e}else{if(!i.multiline||(v+2)*(Z+2)+2>l)continue e;N=se}}for(var X="",j=A;j<=N;j++){var ie=r[j];if(i.multiline){if(j===N){X+=ie[I]+" ",I=(I+1)%ie.length;continue}if(j===A){X+=ie[ie.length-1]+" ";continue}}X+=ie[0]+" "}switch(X=X.substr(X.length-1)==" "?X.substr(0,X.length-1):X,d=xl(X,i,a).width,i.textAlign){case"right":u=s-d-2;break;case"center":u=(s-d)/2;break;default:u=2}e+=ct(u)+" "+ct(p)+` Td
`,e+="("+Aa(X)+`) Tj
`,e+=-ct(u)+` 0 Td
`,p=-(a+2),d=0,A=z?N:N+1,Z++,C=""}break}return n.text=e,n.fontSize=a,n},xl=function(i,e,t){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),r=e.scope.getStringUnitWidth(i,{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:r}},Jg={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Qg=function(i,e){var t={type:"reference",object:i};e.internal.getPageInfo(i.page).pageContext.annotations.find(function(n){return n.type===t.type&&n.object===t.object})===void 0&&e.internal.getPageInfo(i.page).pageContext.annotations.push(t)},e5=function(i,e){if(e.scope=i,i.internal!==void 0&&(i.internal.acroformPlugin===void 0||i.internal.acroformPlugin.isInitialized===!1)){if(In.FieldNum=0,i.internal.acroformPlugin=JSON.parse(JSON.stringify(Jg)),i.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");xu=i.internal.scaleFactor,i.internal.acroformPlugin.acroFormDictionaryRoot=new _0,i.internal.acroformPlugin.acroFormDictionaryRoot.scope=i,i.internal.acroformPlugin.acroFormDictionaryRoot._eventID=i.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(i)}),i.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in n)if(n.hasOwnProperty(r)){var a=n[r];a.objId=void 0,a.hasAnnotation&&Qg(a,t)}})(i)}),i.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(i)}),i.internal.events.subscribe("postPutPages",function(t){(function(n,r){var a=!n;for(var l in n||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(l)){var s=n[l],h=[],u=s.Rect;if(s.Rect&&(s.Rect=Kg(s.Rect,r)),r.internal.newObjectDeferredBegin(s.objId,!0),s.DA=ze.createDefaultAppearanceStream(s),Ot(s)==="object"&&typeof s.getKeyValueListForStream=="function"&&(h=s.getKeyValueListForStream()),s.Rect=u,s.hasAppearanceStream&&!s.appearanceStreamContent){var d=Xg(s);h.push({key:"AP",value:"<</N "+d+">>"}),r.internal.acroformPlugin.xForms.push(d)}if(s.appearanceStreamContent){var v="";for(var _ in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(_)){var p=s.appearanceStreamContent[_];if(v+="/"+_+" ",v+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var l in p)if(p.hasOwnProperty(l)){var A=p[l];typeof A=="function"&&(A=A.call(r,s)),v+="/"+l+" "+A+" ",r.internal.acroformPlugin.xForms.indexOf(A)>=0||r.internal.acroformPlugin.xForms.push(A)}}else typeof(A=p)=="function"&&(A=A.call(r,s)),v+="/"+l+" "+A,r.internal.acroformPlugin.xForms.indexOf(A)>=0||r.internal.acroformPlugin.xForms.push(A);v+=">>"}h.push({key:"AP",value:`<<
`+v+">>"})}r.internal.putStream({additionalKeyValues:h,objectId:s.objId}),r.internal.out("endobj")}a&&(function(N,I){for(var C in N)if(N.hasOwnProperty(C)){var Z=C,V=N[C];I.internal.newObjectDeferredBegin(V.objId,!0),Ot(V)==="object"&&typeof V.putStream=="function"&&V.putStream(),delete N[Z]}})(r.internal.acroformPlugin.xForms,r)})(t,i)}),i.internal.acroformPlugin.isInitialized=!0}},m0=ri.__acroform__.arrayToPdfArray=function(i,e,t){var n=function(l){return l};if(Array.isArray(i)){for(var r="[",a=0;a<i.length;a++)switch(a!==0&&(r+=" "),Ot(i[a])){case"boolean":case"number":case"object":r+=i[a].toString();break;case"string":i[a].substr(0,1)==="/"?r+="/"+Dl(i[a].substr(1)):(e!==void 0&&t&&(n=t.internal.getEncryptor(e)),r+="("+Aa(n(i[a].toString()))+")")}return r+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},du=function(i,e,t){var n=function(r){return r};return e!==void 0&&t&&(n=t.internal.getEncryptor(e)),(i=i||"").toString(),"("+Aa(n(i))+")"},Yn=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(i){this._objId=i}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Yn.prototype.toString=function(){return this.objId+" 0 R"},Yn.prototype.putStream=function(){var i=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:i,objectId:this.objId}),this.scope.internal.out("endobj")},Yn.prototype.getKeyValueListForStream=function(){var i=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var n=e[t],r=this[n];r&&(Array.isArray(r)?i.push({key:n,value:m0(r,this.objId,this.scope)}):r instanceof Yn?(r.scope=this.scope,i.push({key:n,value:r.objId+" 0 R"})):typeof r!="function"&&i.push({key:n,value:r}))}return i};var v0=function(){Yn.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var i,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){i=t.trim()},get:function(){return i||null}})};Ji(v0,Yn);var _0=function(){Yn.call(this);var i,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(i){var t=function(n){return n};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Aa(t(i))+")"}},set:function(t){i=t}})};Ji(_0,Yn);var In=function i(){Yn.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute F supplied.');e=C}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!hi(e,3)},set:function(C){C?this.F=fi(e,3):this.F=di(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute Ff supplied.');t=C}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(C){n=C!==void 0?C:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(C){n[0]=C}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(C){n[1]=C}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(C){n[2]=C}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(C){n[3]=C}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(C){switch(C){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=C;break;default:throw new Error('Invalid value "'+C+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof El)return;a="FieldObject"+i.FieldNum++}var C=function(Z){return Z};return this.scope&&(C=this.scope.internal.getEncryptor(this.objId)),"("+Aa(C(a))+")"},set:function(C){a=C.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(C){a=C}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(C){l=C}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(C){s=C}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h},set:function(C){h=C}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/xu:u},set:function(C){u=C}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(C){d=C}});var v="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!v||this instanceof El||this instanceof Sa))return du(v,this.objId,this.scope)},set:function(C){C=C.toString(),v=C}});var _=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof Mi==0?du(_,this.objId,this.scope):_},set:function(C){C=C.toString(),_=this instanceof Mi==0?C.substr(0,1)==="("?Za(C.substr(1,C.length-2)):Za(C):C}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Mi==1?Za(_.substr(1,_.length-1)):_},set:function(C){C=C.toString(),_=this instanceof Mi==1?"/"+Dl(C):C}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(C){this.V=C}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Mi==0?du(p,this.objId,this.scope):p},set:function(C){C=C.toString(),p=this instanceof Mi==0?C.substr(0,1)==="("?Za(C.substr(1,C.length-2)):Za(C):C}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Mi==1?Za(p.substr(1,p.length-1)):p},set:function(C){C=C.toString(),p=this instanceof Mi==1?"/"+Dl(C):C}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var A,N=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return N},set:function(C){C=!!C,N=C}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(A)return A},set:function(C){A=C}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,1)},set:function(C){C?this.Ff=fi(this.Ff,1):this.Ff=di(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,2)},set:function(C){C?this.Ff=fi(this.Ff,2):this.Ff=di(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,3)},set:function(C){C?this.Ff=fi(this.Ff,3):this.Ff=di(this.Ff,3)}});var I=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(I!==null)return I},set:function(C){if([0,1,2].indexOf(C)===-1)throw new Error('Invalid value "'+C+'" for attribute Q supplied.');I=C}}),Object.defineProperty(this,"textAlign",{get:function(){var C;switch(I){case 0:default:C="left";break;case 1:C="center";break;case 2:C="right"}return C},configurable:!0,enumerable:!0,set:function(C){switch(C){case"right":case 2:I=2;break;case"center":case 1:I=1;break;default:I=0}}})};Ji(In,Yn);var Qa=function(){In.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var i=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return i},set:function(t){i=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return i},set:function(t){i=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return m0(e,this.objId,this.scope)},set:function(t){var n,r;r=[],typeof(n=t)=="string"&&(r=(function(a,l,s){s||(s=1);for(var h,u=[];h=l.exec(a);)u.push(h[s]);return u})(n,/\((.*?)\)/g)),e=r}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,18)},set:function(t){t?this.Ff=fi(this.Ff,18):this.Ff=di(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=fi(this.Ff,19):this.Ff=di(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,20)},set:function(t){t?(this.Ff=fi(this.Ff,20),e.sort()):this.Ff=di(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,22)},set:function(t){t?this.Ff=fi(this.Ff,22):this.Ff=di(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,23)},set:function(t){t?this.Ff=fi(this.Ff,23):this.Ff=di(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,27)},set:function(t){t?this.Ff=fi(this.Ff,27):this.Ff=di(this.Ff,27)}}),this.hasAppearanceStream=!1};Ji(Qa,In);var eo=function(){Qa.call(this),this.fontName="helvetica",this.combo=!1};Ji(eo,Qa);var to=function(){eo.call(this),this.combo=!0};Ji(to,eo);var Cl=function(){to.call(this),this.edit=!0};Ji(Cl,to);var Mi=function(){In.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,15)},set:function(t){t?this.Ff=fi(this.Ff,15):this.Ff=di(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,16)},set:function(t){t?this.Ff=fi(this.Ff,16):this.Ff=di(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,17)},set:function(t){t?this.Ff=fi(this.Ff,17):this.Ff=di(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,26)},set:function(t){t?this.Ff=fi(this.Ff,26):this.Ff=di(this.Ff,26)}});var i,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(a){return a};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,r=[];for(n in r.push("<<"),e)r.push("/"+n+" ("+Aa(t(e[n]))+")");return r.push(">>"),r.join(`
`)}},set:function(t){Ot(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return i},set:function(t){i=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return i.substr(1,i.length-1)},set:function(t){i="/"+Dl(t)}})};Ji(Mi,In);var kl=function(){Mi.call(this),this.pushButton=!0};Ji(kl,Mi);var io=function(){Mi.call(this),this.radio=!0,this.pushButton=!1;var i=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return i},set:function(e){i=e!==void 0?e:[]}})};Ji(io,Mi);var El=function(){var i,e;In.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return i},set:function(r){i=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(r){e=r}});var t,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var a,l=[];for(a in l.push("<<"),n)l.push("/"+a+" ("+Aa(r(n[a]))+")");return l.push(">>"),l.join(`
`)},set:function(r){Ot(r)==="object"&&(n=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(r){typeof r=="string"&&(n.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ze.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ji(El,In),io.prototype.setAppearance=function(i){if(!("createAppearanceStream"in i)||!("getCA"in i))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=i.createAppearanceStream(t.optionName),t.caption=i.getCA()}},io.prototype.createOption=function(i){var e=new El;return e.Parent=this,e.optionName=i,this.Kids.push(e),t5.call(this.scope,e),e};var Ml=function(){Mi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ze.CheckBox.createAppearanceStream()};Ji(Ml,Mi);var Sa=function(){In.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,13)},set:function(e){e?this.Ff=fi(this.Ff,13):this.Ff=di(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,21)},set:function(e){e?this.Ff=fi(this.Ff,21):this.Ff=di(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,23)},set:function(e){e?this.Ff=fi(this.Ff,23):this.Ff=di(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,24)},set:function(e){e?this.Ff=fi(this.Ff,24):this.Ff=di(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,25)},set:function(e){e?this.Ff=fi(this.Ff,25):this.Ff=di(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,26)},set:function(e){e?this.Ff=fi(this.Ff,26):this.Ff=di(this.Ff,26)}});var i=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return i},set:function(e){i=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return i},set:function(e){Number.isInteger(e)&&(i=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ji(Sa,In);var Nl=function(){Sa.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,14)},set:function(i){i?this.Ff=fi(this.Ff,14):this.Ff=di(this.Ff,14)}}),this.password=!0};Ji(Nl,Sa);var ze={CheckBox:{createAppearanceStream:function(){return{N:{On:ze.CheckBox.YesNormal},D:{On:ze.CheckBox.YesPushDown,Off:ze.CheckBox.OffPushDown}}},YesPushDown:function(i){var e=Zn(i);e.scope=i.scope;var t=[],n=i.scope.internal.getFont(i.fontName,i.fontStyle).id,r=i.scope.__private__.encodeColorString(i.color),a=bu(i,i.caption);return t.push("0.749023 g"),t.push("0 0 "+ct(ze.internal.getWidth(i))+" "+ct(ze.internal.getHeight(i))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+n+" "+ct(a.fontSize)+" Tf "+r),t.push("BT"),t.push(a.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(i){var e=Zn(i);e.scope=i.scope;var t=i.scope.internal.getFont(i.fontName,i.fontStyle).id,n=i.scope.__private__.encodeColorString(i.color),r=[],a=ze.internal.getHeight(i),l=ze.internal.getWidth(i),s=bu(i,i.caption);return r.push("1 g"),r.push("0 0 "+ct(l)+" "+ct(a)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+ct(l-1)+" "+ct(a-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+t+" "+ct(s.fontSize)+" Tf "+n),r.push(s.text),r.push("ET"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(i){var e=Zn(i);e.scope=i.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+ct(ze.internal.getWidth(i))+" "+ct(ze.internal.getHeight(i))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(i){var e={D:{Off:ze.RadioButton.Circle.OffPushDown},N:{}};return e.N[i]=ze.RadioButton.Circle.YesNormal,e.D[i]=ze.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(i){var e=Zn(i);e.scope=i.scope;var t=[],n=ze.internal.getWidth(i)<=ze.internal.getHeight(i)?ze.internal.getWidth(i)/4:ze.internal.getHeight(i)/4;n=Number((.9*n).toFixed(5));var r=ze.internal.Bezier_C,a=Number((n*r).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Hr(ze.internal.getWidth(i)/2)+" "+Hr(ze.internal.getHeight(i)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),t.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),t.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),t.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(i){var e=Zn(i);e.scope=i.scope;var t=[],n=ze.internal.getWidth(i)<=ze.internal.getHeight(i)?ze.internal.getWidth(i)/4:ze.internal.getHeight(i)/4;n=Number((.9*n).toFixed(5));var r=Number((2*n).toFixed(5)),a=Number((r*ze.internal.Bezier_C).toFixed(5)),l=Number((n*ze.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Hr(ze.internal.getWidth(i)/2)+" "+Hr(ze.internal.getHeight(i)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),t.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),t.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),t.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Hr(ze.internal.getWidth(i)/2)+" "+Hr(ze.internal.getHeight(i)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+l+" "+l+" "+n+" 0 "+n+" c"),t.push("-"+l+" "+n+" -"+n+" "+l+" -"+n+" 0 c"),t.push("-"+n+" -"+l+" -"+l+" -"+n+" 0 -"+n+" c"),t.push(l+" -"+n+" "+n+" -"+l+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(i){var e=Zn(i);e.scope=i.scope;var t=[],n=ze.internal.getWidth(i)<=ze.internal.getHeight(i)?ze.internal.getWidth(i)/4:ze.internal.getHeight(i)/4;n=Number((.9*n).toFixed(5));var r=Number((2*n).toFixed(5)),a=Number((r*ze.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Hr(ze.internal.getWidth(i)/2)+" "+Hr(ze.internal.getHeight(i)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),t.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),t.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),t.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(i){var e={D:{Off:ze.RadioButton.Cross.OffPushDown},N:{}};return e.N[i]=ze.RadioButton.Cross.YesNormal,e.D[i]=ze.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(i){var e=Zn(i);e.scope=i.scope;var t=[],n=ze.internal.calculateCross(i);return t.push("q"),t.push("1 1 "+ct(ze.internal.getWidth(i)-2)+" "+ct(ze.internal.getHeight(i)-2)+" re"),t.push("W"),t.push("n"),t.push(ct(n.x1.x)+" "+ct(n.x1.y)+" m"),t.push(ct(n.x2.x)+" "+ct(n.x2.y)+" l"),t.push(ct(n.x4.x)+" "+ct(n.x4.y)+" m"),t.push(ct(n.x3.x)+" "+ct(n.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(i){var e=Zn(i);e.scope=i.scope;var t=ze.internal.calculateCross(i),n=[];return n.push("0.749023 g"),n.push("0 0 "+ct(ze.internal.getWidth(i))+" "+ct(ze.internal.getHeight(i))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+ct(ze.internal.getWidth(i)-2)+" "+ct(ze.internal.getHeight(i)-2)+" re"),n.push("W"),n.push("n"),n.push(ct(t.x1.x)+" "+ct(t.x1.y)+" m"),n.push(ct(t.x2.x)+" "+ct(t.x2.y)+" l"),n.push(ct(t.x4.x)+" "+ct(t.x4.y)+" m"),n.push(ct(t.x3.x)+" "+ct(t.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(i){var e=Zn(i);e.scope=i.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+ct(ze.internal.getWidth(i))+" "+ct(ze.internal.getHeight(i))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(i){var e=i.scope.internal.getFont(i.fontName,i.fontStyle).id,t=i.scope.__private__.encodeColorString(i.color);return"/"+e+" "+i.fontSize+" Tf "+t}};ze.internal={Bezier_C:.551915024494,calculateCross:function(i){var e=ze.internal.getWidth(i),t=ze.internal.getHeight(i),n=Math.min(e,t);return{x1:{x:(e-n)/2,y:(t-n)/2+n},x2:{x:(e-n)/2+n,y:(t-n)/2},x3:{x:(e-n)/2,y:(t-n)/2},x4:{x:(e-n)/2+n,y:(t-n)/2+n}}}},ze.internal.getWidth=function(i){var e=0;return Ot(i)==="object"&&(e=Kd(i.Rect[2])),e},ze.internal.getHeight=function(i){var e=0;return Ot(i)==="object"&&(e=Kd(i.Rect[3])),e};var t5=ri.addField=function(i){if(e5(this,i),!(i instanceof In))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=i).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),i.page=i.scope.internal.getCurrentPageInfo().pageNumber,this};ri.AcroFormChoiceField=Qa,ri.AcroFormListBox=eo,ri.AcroFormComboBox=to,ri.AcroFormEditBox=Cl,ri.AcroFormButton=Mi,ri.AcroFormPushButton=kl,ri.AcroFormRadioButton=io,ri.AcroFormCheckBox=Ml,ri.AcroFormTextField=Sa,ri.AcroFormPasswordField=Nl,ri.AcroFormAppearance=ze,ri.AcroForm={ChoiceField:Qa,ListBox:eo,ComboBox:to,EditBox:Cl,Button:Mi,PushButton:kl,RadioButton:io,CheckBox:Ml,TextField:Sa,PasswordField:Nl,Appearance:ze},Ue.AcroForm={ChoiceField:Qa,ListBox:eo,ComboBox:to,EditBox:Cl,Button:Mi,PushButton:kl,RadioButton:io,CheckBox:Ml,TextField:Sa,PasswordField:Nl,Appearance:ze};var b3=Ue.AcroForm;function y0(i){return i.reduce(function(e,t,n){return e[t]=n,e},{})}(function(i){var e="addImage_";i.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=i.__addimage__.getImageFileTypeByImageData=function(M,F){var $,H,ce,de,me,oe=t;if((F=F||t)==="RGBA"||M.data!==void 0&&M.data instanceof Uint8ClampedArray&&"height"in M&&"width"in M)return"RGBA";if(we(M))for(me in n)for(ce=n[me],$=0;$<ce.length;$+=1){for(de=!0,H=0;H<ce[$].length;H+=1)if(ce[$][H]!==void 0&&ce[$][H]!==M[H]){de=!1;break}if(de===!0){oe=me;break}}else for(me in n)for(ce=n[me],$=0;$<ce.length;$+=1){for(de=!0,H=0;H<ce[$].length;H+=1)if(ce[$][H]!==void 0&&ce[$][H]!==M.charCodeAt(H)){de=!1;break}if(de===!0){oe=me;break}}return oe===t&&F!==t&&(oe=F),oe},a=function M(F){for(var $=this.internal.write,H=this.internal.putStream,ce=(0,this.internal.getFilters)();ce.indexOf("FlateEncode")!==-1;)ce.splice(ce.indexOf("FlateEncode"),1);F.objectId=this.internal.newObject();var de=[];if(de.push({key:"Type",value:"/XObject"}),de.push({key:"Subtype",value:"/Image"}),de.push({key:"Width",value:F.width}),de.push({key:"Height",value:F.height}),F.colorSpace===C.INDEXED?de.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(F.palette.length/3-1)+" "+("sMask"in F&&F.sMask!==void 0?F.objectId+2:F.objectId+1)+" 0 R]"}):(de.push({key:"ColorSpace",value:"/"+F.colorSpace}),F.colorSpace===C.DEVICE_CMYK&&de.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),de.push({key:"BitsPerComponent",value:F.bitsPerComponent}),"decodeParameters"in F&&F.decodeParameters!==void 0&&de.push({key:"DecodeParms",value:"<<"+F.decodeParameters+">>"}),"transparency"in F&&Array.isArray(F.transparency)&&F.transparency.length>0){for(var me="",oe=0,_e=F.transparency.length;oe<_e;oe++)me+=F.transparency[oe]+" "+F.transparency[oe]+" ";de.push({key:"Mask",value:"["+me+"]"})}F.sMask!==void 0&&de.push({key:"SMask",value:F.objectId+1+" 0 R"});var Ee=F.filter!==void 0?["/"+F.filter]:void 0;if(H({data:F.data,additionalKeyValues:de,alreadyAppliedFilters:Ee,objectId:F.objectId}),$("endobj"),"sMask"in F&&F.sMask!==void 0){var Ce,S=(Ce=F.sMaskBitsPerComponent)!==null&&Ce!==void 0?Ce:F.bitsPerComponent,R={width:F.width,height:F.height,colorSpace:"DeviceGray",bitsPerComponent:S,data:F.sMask};"filter"in F&&(R.decodeParameters="/Predictor ".concat(F.predictor," /Colors 1 /BitsPerComponent ").concat(S," /Columns ").concat(F.width),R.filter=F.filter),M.call(this,R)}if(F.colorSpace===C.INDEXED){var q=this.internal.newObject();H({data:X(new Uint8Array(F.palette)),objectId:q}),$("endobj")}},l=function(){var M=this.internal.collections[e+"images"];for(var F in M)a.call(this,M[F])},s=function(){var M,F=this.internal.collections[e+"images"],$=this.internal.write;for(var H in F)$("/I"+(M=F[H]).index,M.objectId,"0","R")},h=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",s))},u=function(){var M=this.internal.collections[e+"images"];return h.call(this),M},d=function(){return Object.keys(this.internal.collections[e+"images"]).length},v=function(M){return typeof i["process"+M.toUpperCase()]=="function"},_=function(M){return Ot(M)==="object"&&M.nodeType===1},p=function(M,F){if(M.nodeName==="IMG"&&M.hasAttribute("src")){var $=""+M.getAttribute("src");if($.indexOf("data:image/")===0)return Al(unescape($).split("base64,").pop());var H=i.loadFile($,!0);if(H!==void 0)return H}if(M.nodeName==="CANVAS"){if(M.width===0||M.height===0)throw new Error("Given canvas must have data. Canvas width: "+M.width+", height: "+M.height);var ce;switch(F){case"PNG":ce="image/png";break;case"WEBP":ce="image/webp";break;default:ce="image/jpeg"}return Al(M.toDataURL(ce,1).split("base64,").pop())}},A=function(M){var F=this.internal.collections[e+"images"];if(F){for(var $ in F)if(M===F[$].alias)return F[$]}},N=function(M,F,$){return M||F||(M=-96,F=-96),M<0&&(M=-1*$.width*72/M/this.internal.scaleFactor),F<0&&(F=-1*$.height*72/F/this.internal.scaleFactor),M===0&&(M=F*$.width/$.height),F===0&&(F=M*$.height/$.width),[M,F]},I=function(M,F,$,H,ce,de){var me=N.call(this,$,H,ce),oe=this.internal.getCoordinateString,_e=this.internal.getVerticalCoordinateString,Ee=u.call(this);if($=me[0],H=me[1],Ee[ce.index]=ce,de){de*=Math.PI/180;var Ce=Math.cos(de),S=Math.sin(de),R=function(Y){return Y.toFixed(4)},q=[R(Ce),R(S),R(-1*S),R(Ce),0,0,"cm"]}this.internal.write("q"),de?(this.internal.write([1,"0","0",1,oe(M),_e(F+H),"cm"].join(" ")),this.internal.write(q.join(" ")),this.internal.write([oe($),"0","0",oe(H),"0","0","cm"].join(" "))):this.internal.write([oe($),"0","0",oe(H),oe(M),_e(F+H),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ce.index+" Do"),this.internal.write("Q")},C=i.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};i.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var Z=i.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},V=i.__addimage__.sHashCode=function(M){var F,$,H=0;if(typeof M=="string")for($=M.length,F=0;F<$;F++)H=(H<<5)-H+M.charCodeAt(F),H|=0;else if(we(M))for($=M.byteLength/2,F=0;F<$;F++)H=(H<<5)-H+M[F],H|=0;return H},z=i.__addimage__.validateStringAsBase64=function(M){(M=M||"").toString().trim();var F=!0;return M.length===0&&(F=!1),M.length%4!=0&&(F=!1),/^[A-Za-z0-9+/]+$/.test(M.substr(0,M.length-2))===!1&&(F=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(M.substr(-2))===!1&&(F=!1),F},se=i.__addimage__.extractImageFromDataUrl=function(M){if(M==null||!(M=M.trim()).startsWith("data:"))return null;var F=M.indexOf(",");return F<0?null:M.substring(0,F).trim().endsWith("base64")?M.substring(F+1):null};i.__addimage__.isArrayBuffer=function(M){return M instanceof ArrayBuffer};var we=i.__addimage__.isArrayBufferView=function(M){return M instanceof Int8Array||M instanceof Uint8Array||M instanceof Uint8ClampedArray||M instanceof Int16Array||M instanceof Uint16Array||M instanceof Int32Array||M instanceof Uint32Array||M instanceof Float32Array||M instanceof Float64Array},pe=i.__addimage__.binaryStringToUint8Array=function(M){for(var F=M.length,$=new Uint8Array(F),H=0;H<F;H++)$[H]=M.charCodeAt(H);return $},X=i.__addimage__.arrayBufferToBinaryString=function(M){for(var F="",$=we(M)?M:new Uint8Array(M),H=0;H<$.length;H+=8192)F+=String.fromCharCode.apply(null,$.subarray(H,H+8192));return F};i.addImage=function(){var M,F,$,H,ce,de,me,oe,_e;if(typeof arguments[1]=="number"?(F=t,$=arguments[1],H=arguments[2],ce=arguments[3],de=arguments[4],me=arguments[5],oe=arguments[6],_e=arguments[7]):(F=arguments[1],$=arguments[2],H=arguments[3],ce=arguments[4],de=arguments[5],me=arguments[6],oe=arguments[7],_e=arguments[8]),Ot(M=arguments[0])==="object"&&!_(M)&&"imageData"in M){var Ee=M;M=Ee.imageData,F=Ee.format||F||t,$=Ee.x||$||0,H=Ee.y||H||0,ce=Ee.w||Ee.width||ce,de=Ee.h||Ee.height||de,me=Ee.alias||me,oe=Ee.compression||oe,_e=Ee.rotation||Ee.angle||_e}var Ce=this.internal.getFilters();if(oe===void 0&&Ce.indexOf("FlateEncode")!==-1&&(oe="SLOW"),isNaN($)||isNaN(H))throw new Error("Invalid coordinates passed to jsPDF.addImage");h.call(this);var S=j.call(this,M,F,me,oe);return I.call(this,$,H,ce,de,S,_e),this};var j=function(M,F,$,H){var ce,de,me;if(typeof M=="string"&&r(M)===t){M=unescape(M);var oe=ie(M,!1);(oe!==""||(oe=i.loadFile(M,!0))!==void 0)&&(M=oe)}if(_(M)&&(M=p(M,F)),F=r(M,F),!v(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(((me=$)==null||me.length===0)&&($=(function(_e){return typeof _e=="string"||we(_e)?V(_e):we(_e.data)?V(_e.data):null})(M)),(ce=A.call(this,$))||(M instanceof Uint8Array||F==="RGBA"||(de=M,M=pe(M)),ce=this["process"+F.toUpperCase()](M,d.call(this),$,(function(_e){return _e&&typeof _e=="string"&&(_e=_e.toUpperCase()),_e in i.image_compression?_e:Z.NONE})(H),de)),!ce)throw new Error("An unknown error occurred whilst processing the image.");return ce},ie=i.__addimage__.convertBase64ToBinaryString=function(M,F){F=typeof F!="boolean"||F;var $,H="";if(typeof M=="string"){var ce;$=(ce=se(M))!==null&&ce!==void 0?ce:M;try{H=Al($)}catch(de){if(F)throw z($)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+de.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return H};i.getImageProperties=function(M){var F,$,H="";if(_(M)&&(M=p(M)),typeof M=="string"&&r(M)===t&&((H=ie(M,!1))===""&&(H=i.loadFile(M)||""),M=H),$=r(M),!v($))throw new Error("addImage does not support files of type '"+$+"', please ensure that a plugin for '"+$+"' support is added.");if(M instanceof Uint8Array||(M=pe(M)),!(F=this["process"+$.toUpperCase()](M)))throw new Error("An unknown error occurred whilst processing the image");return F.fileType=$,F}})(Ue.API),(function(i){var e=function(t){if(t!==void 0&&t!="")return!0};Ue.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),i.events.push(["putPage",function(t){for(var n,r,a,l=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,h=this.internal.getPageInfoByObjId(t.objId),u=t.pageContext.annotations,d=!1,v=0;v<u.length&&!d;v++)switch((n=u[v]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var _=0;_<u.length;_++){n=u[_];var p=this.internal.pdfEscape,A=this.internal.getEncryptor(t.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var N=this.internal.newAdditionalObject(),I=this.internal.newAdditionalObject(),C=this.internal.getEncryptor(N.objId),Z=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(r="/Rect ["+l(n.bounds.x)+" "+s(n.bounds.y+n.bounds.h)+" "+l(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y)+"] ")+"/Contents ("+p(C(n.contents))+")",a+=" /Popup "+I.objId+" 0 R",a+=" /P "+h.objId+" 0 R",a+=" /T ("+p(C(Z))+") >>",N.content=a;var V=N.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+l(n.bounds.x+30)+" "+s(n.bounds.y+n.bounds.h)+" "+l(n.bounds.x+n.bounds.w+30)+" "+s(n.bounds.y)+"] ")+" /Parent "+V,n.open&&(a+=" /Open true"),a+=" >>",I.content=a,this.internal.write(N.objId,"0 R",I.objId,"0 R");break;case"freetext":r="/Rect ["+l(n.bounds.x)+" "+s(n.bounds.y)+" "+l(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y+n.bounds.h)+"] ";var z=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+p(A(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+z+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var se=this.annotations._nameMap[n.options.name];n.options.pageNumber=se.page,n.options.top=se.y}else n.options.top||(n.options.top=0);if(r="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+p(A(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var we=s(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+we+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),i.createAnnotation=function(t){var n=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":n.pageContext.annotations.push(t)}},i.link=function(t,n,r,a,l){var s=this.internal.getCurrentPageInfo(),h=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:h(t),y:u(n),w:h(t+r),h:u(n+a)},options:l,type:"link"})},i.textWithLink=function(t,n,r,a){var l,s,h=this.getTextWidth(t),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){s=a.maxWidth;var d=this.splitTextToSize(t,s).length;l=Math.ceil(u*d)}else s=h,l=u;return this.text(t,n,r,a),r+=.2*u,a.align==="center"&&(n-=h/2),a.align==="right"&&(n-=h),this.link(n,r-u,s,l,a),h},i.getTextWidth=function(t){var n=this.internal.getFontSize();return this.getStringUnitWidth(t)*n/this.internal.scaleFactor}})(Ue.API),(function(i){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];i.__arabicParser__={};var a=i.__arabicParser__.isInArabicSubstitutionA=function(N){return e[N.charCodeAt(0)]!==void 0},l=i.__arabicParser__.isArabicLetter=function(N){return typeof N=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(N)},s=i.__arabicParser__.isArabicEndLetter=function(N){return l(N)&&a(N)&&e[N.charCodeAt(0)].length<=2},h=i.__arabicParser__.isArabicAlfLetter=function(N){return l(N)&&r.indexOf(N.charCodeAt(0))>=0};i.__arabicParser__.arabicLetterHasIsolatedForm=function(N){return l(N)&&a(N)&&e[N.charCodeAt(0)].length>=1};var u=i.__arabicParser__.arabicLetterHasFinalForm=function(N){return l(N)&&a(N)&&e[N.charCodeAt(0)].length>=2};i.__arabicParser__.arabicLetterHasInitialForm=function(N){return l(N)&&a(N)&&e[N.charCodeAt(0)].length>=3};var d=i.__arabicParser__.arabicLetterHasMedialForm=function(N){return l(N)&&a(N)&&e[N.charCodeAt(0)].length==4},v=i.__arabicParser__.resolveLigatures=function(N){var I=0,C=t,Z="",V=0;for(I=0;I<N.length;I+=1)C[N.charCodeAt(I)]!==void 0?(V++,typeof(C=C[N.charCodeAt(I)])=="number"&&(Z+=String.fromCharCode(C),C=t,V=0),I===N.length-1&&(C=t,Z+=N.charAt(I-(V-1)),I-=V-1,V=0)):(C=t,Z+=N.charAt(I-V),I-=V,V=0);return Z};i.__arabicParser__.isArabicDiacritic=function(N){return N!==void 0&&n[N.charCodeAt(0)]!==void 0};var _=i.__arabicParser__.getCorrectForm=function(N,I,C){return l(N)?a(N)===!1?-1:!u(N)||!l(I)&&!l(C)||!l(C)&&s(I)||s(N)&&!l(I)||s(N)&&h(I)||s(N)&&s(I)?0:d(N)&&l(I)&&!s(I)&&l(C)&&u(C)?3:s(N)||!l(C)?1:2:-1},p=function(N){var I=0,C=0,Z=0,V="",z="",se="",we=(N=N||"").split("\\s+"),pe=[];for(I=0;I<we.length;I+=1){for(pe.push(""),C=0;C<we[I].length;C+=1)V=we[I][C],z=we[I][C-1],se=we[I][C+1],l(V)?(Z=_(V,z,se),pe[I]+=Z!==-1?String.fromCharCode(e[V.charCodeAt(0)][Z]):V):pe[I]+=V;pe[I]=v(pe[I])}return pe.join(" ")},A=i.__arabicParser__.processArabic=i.processArabic=function(){var N,I=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,C=[];if(Array.isArray(I)){var Z=0;for(C=[],Z=0;Z<I.length;Z+=1)Array.isArray(I[Z])?C.push([p(I[Z][0]),I[Z][1],I[Z][2]]):C.push([p(I[Z])]);N=C}else N=p(I);return typeof arguments[0]=="string"?N:(arguments[0].text=N,arguments[0])};i.events.push(["preProcessText",A])})(Ue.API),Ue.API.autoPrint=function(i){var e;return(i=i||{}).variant=i.variant||"non-conform",i.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(i){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(s){t=s}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(s){n=isNaN(s)||Number.isInteger(s)===!1||s<0?150:s,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(s){r=isNaN(s)||Number.isInteger(s)===!1||s<0?300:s,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(s){a=s}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(s){l=s}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,n){var r;if((t=t||"2d")!=="2d")return null;for(r in n)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=n[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},i.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Ue.API),(function(i){var e={left:0,top:0,bottom:0,right:0},t=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var h=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return h},set:function(N){h=N}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(N){u=N}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(N){d=N}});var v=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return v},set:function(N){v=N}});var _=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return _},set:function(N){_=N}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(N){p=N}});var A=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return A},set:function(N){A=N}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},i.setHeaderFunction=function(h){return n.call(this),this.internal.__cell__.headerFunction=typeof h=="function"?h:void 0,this},i.getTextDimensions=function(h,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),v=u.font||this.getFont(),_=u.scaleFactor||this.internal.scaleFactor,p=0,A=0,N=0,I=this;if(!Array.isArray(h)&&typeof h!="string"){if(typeof h!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");h=String(h)}var C=u.maxWidth;C>0?typeof h=="string"?h=this.splitTextToSize(h,C):Object.prototype.toString.call(h)==="[object Array]"&&(h=h.reduce(function(V,z){return V.concat(I.splitTextToSize(z,C))},[])):h=Array.isArray(h)?h:[h];for(var Z=0;Z<h.length;Z++)p<(N=this.getStringUnitWidth(h[Z],{font:v})*d)&&(p=N);return p!==0&&(A=h.length),{w:p/=_,h:Math.max((A*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/_,0)}},i.cellAddPage=function(){n.call(this),this.addPage();var h=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(h.left,h.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=i.cell=function(){var h;h=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,v=this.internal.__cell__.margins||e,_=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===h.lineNumber?(h.x=(u.x||0)+(u.width||0),h.y=u.y||0):u.y+u.height+h.height+v.bottom>this.getPageHeight()?(this.cellAddPage(),h.y=v.top,p&&_&&(this.printHeaderRow(h.lineNumber,!0),h.y+=_[0].height)):h.y=u.y+u.height||h.y),h.text[0]!==void 0&&(this.rect(h.x,h.y,h.width,h.height,t===!0?"FD":void 0),h.align==="right"?this.text(h.text,h.x+h.width-d,h.y+d,{align:"right",baseline:"top"}):h.align==="center"?this.text(h.text,h.x+h.width/2,h.y+d,{align:"center",baseline:"top",maxWidth:h.width-d-d}):this.text(h.text,h.x+d,h.y+d,{align:"left",baseline:"top",maxWidth:h.width-d-d})),this.internal.__cell__.lastCell=h,this};i.table=function(h,u,d,v,_){if(n.call(this),!d)throw new Error("No data for PDF table.");var p,A,N,I,C=[],Z=[],V=[],z={},se={},we=[],pe=[],X=(_=_||{}).autoSize||!1,j=_.printHeaders!==!1,ie=_.css&&_.css["font-size"]!==void 0?16*_.css["font-size"]:_.fontSize||12,M=_.margins||Object.assign({width:this.getPageWidth()},e),F=typeof _.padding=="number"?_.padding:3,$=_.headerBackgroundColor||"#c8c8c8",H=_.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=j,this.internal.__cell__.margins=M,this.internal.__cell__.table_font_size=ie,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=$,this.internal.__cell__.headerTextColor=H,this.setFontSize(ie),v==null)Z=C=Object.keys(d[0]),V=C.map(function(){return"left"});else if(Array.isArray(v)&&Ot(v[0])==="object")for(C=v.map(function(Ee){return Ee.name}),Z=v.map(function(Ee){return Ee.prompt||Ee.name||""}),V=v.map(function(Ee){return Ee.align||"left"}),p=0;p<v.length;p+=1)se[v[p].name]=.7499990551181103*v[p].width;else Array.isArray(v)&&typeof v[0]=="string"&&(Z=C=v,V=C.map(function(){return"left"}));if(X||Array.isArray(v)&&typeof v[0]=="string")for(p=0;p<C.length;p+=1){for(z[I=C[p]]=d.map(function(Ee){return Ee[I]}),this.setFont(void 0,"bold"),we.push(this.getTextDimensions(Z[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),A=z[I],this.setFont(void 0,"normal"),N=0;N<A.length;N+=1)we.push(this.getTextDimensions(A[N],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);se[I]=Math.max.apply(null,we)+F+F,we=[]}if(j){var ce={};for(p=0;p<C.length;p+=1)ce[C[p]]={},ce[C[p]].text=Z[p],ce[C[p]].align=V[p];var de=s.call(this,ce,se);pe=C.map(function(Ee){return new a(h,u,se[Ee],de,ce[Ee].text,void 0,ce[Ee].align)}),this.setTableHeaderRow(pe),this.printHeaderRow(1,!1)}var me=v.reduce(function(Ee,Ce){return Ee[Ce.name]=Ce.align,Ee},{});for(p=0;p<d.length;p+=1){"rowStart"in _&&_.rowStart instanceof Function&&_.rowStart({row:p,data:d[p]},this);var oe=s.call(this,d[p],se);for(N=0;N<C.length;N+=1){var _e=d[p][C[N]];"cellStart"in _&&_.cellStart instanceof Function&&_.cellStart({row:p,col:N,data:_e},this),l.call(this,new a(h,u,se[C[N]],oe,_e,p+2,me[C[N]]))}}return this.internal.__cell__.table_x=h,this.internal.__cell__.table_y=u,this};var s=function(h,u){var d=this.internal.__cell__.padding,v=this.internal.__cell__.table_font_size,_=this.internal.scaleFactor;return Object.keys(h).map(function(p){var A=h[p];return this.splitTextToSize(A.hasOwnProperty("text")?A.text:A,u[p]-d-d)},this).map(function(p){return this.getLineHeightFactor()*p.length*v/_+d+d},this).reduce(function(p,A){return Math.max(p,A)},0)};i.setTableHeaderRow=function(h){n.call(this),this.internal.__cell__.tableHeaderRow=h},i.printHeaderRow=function(h,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var v=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(v[0],v[1],v[2],v[3],void 0,-1)}this.setFont(void 0,"bold");for(var _=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){d=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,_.push(d)),d.lineNumber=h;var A=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,d),this.setTextColor(A)}_.length>0&&this.setTableHeaderRow(_),this.setFont(void 0,"normal"),t=!1}})(Ue.API);var b0={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},w0=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],wu=y0(w0),x0=[100,200,300,400,500,600,700,800,900],i5=y0(x0);function pu(i){var e=i.family.replace(/"|'/g,"").toLowerCase(),t=(function(a){return b0[a=a||"normal"]?a:"normal"})(i.style),n=(function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400})(i.weight),r=(function(a){return typeof wu[a=a||"normal"]=="number"?a:"normal"})(i.stretch);return{family:e,style:t,weight:n,stretch:r,src:i.src||[],ref:i.ref||{name:e,style:[r,t,n].join(" ")}}}function Xd(i,e,t,n){var r;for(r=t;r>=0&&r<e.length;r+=n)if(i[e[r]])return i[e[r]];for(r=t;r>=0&&r<e.length;r-=n)if(i[e[r]])return i[e[r]]}var n5={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Jd={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Qd(i){return[i.stretch,i.style,i.weight,i.family].join(" ")}function e0(i){return i.trimLeft()}function r5(i,e){for(var t=0;t<i.length;){if(i.charAt(t)===e)return[i.substring(0,t),i.substring(t+1)];t+=1}return null}function a5(i){var e=i.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],i.substring(e[0].length)]}var Ya,Sl,t0,i0,n0,gu=["times"];function r0(i,e,t,n,r){var a=4,l=o0;switch(r){case Ue.API.image_compression.FAST:a=1,l=a0;break;case Ue.API.image_compression.MEDIUM:a=6,l=s0;break;case Ue.API.image_compression.SLOW:a=9,l=l0}i=(function(h,u,d,v){for(var _,p=h.length/u,A=new Uint8Array(h.length+p),N=[o5,a0,o0,s0,l0],I=0;I<p;I+=1){var C=I*u,Z=h.subarray(C,C+u);if(v)A.set(v(Z,d,_),C+I);else{for(var V=N.length,z=[],se=0;se<V;se+=1)z[se]=N[se](Z,d,_);var we=l5(z.concat());A.set(z[we],C+I)}_=Z}return A})(i,e,Math.ceil(t*n/8),l);var s=Qs(i,{level:a});return Ue.API.__addimage__.arrayBufferToBinaryString(s)}function o5(i){var e=Array.apply([],i);return e.unshift(0),e}function a0(i,e){var t=i.length,n=[];n[0]=1;for(var r=0;r<t;r+=1){var a=i[r-e]||0;n[r+1]=i[r]-a+256&255}return n}function o0(i,e,t){var n=i.length,r=[];r[0]=2;for(var a=0;a<n;a+=1){var l=t&&t[a]||0;r[a+1]=i[a]-l+256&255}return r}function s0(i,e,t){var n=i.length,r=[];r[0]=3;for(var a=0;a<n;a+=1){var l=i[a-e]||0,s=t&&t[a]||0;r[a+1]=i[a]+256-(l+s>>>1)&255}return r}function l0(i,e,t){var n=i.length,r=[];r[0]=4;for(var a=0;a<n;a+=1){var l=s5(i[a-e]||0,t&&t[a]||0,t&&t[a-e]||0);r[a+1]=i[a]-l+256&255}return r}function s5(i,e,t){if(i===e&&e===t)return i;var n=Math.abs(e-t),r=Math.abs(i-t),a=Math.abs(i+e-t-t);return n<=r&&n<=a?i:r<=a?e:t}function l5(i){var e=i.map(function(t){return t.reduce(function(n,r){return n+Math.abs(r)},0)});return e.indexOf(Math.min.apply(null,e))}function mu(i,e,t){var n=e*t,r=Math.floor(n/8),a=16-(n-8*r+t),l=(1<<t)-1;return S0(i,r)>>a&l}function c0(i,e,t,n){var r=t*n,a=Math.floor(r/8),l=16-(r-8*a+n),s=(1<<n)-1,h=(e&s)<<l;(function(u,d,v){if(d+1<u.byteLength)u.setUint16(d,v,!1);else{var _=v>>8&255;u.setUint8(d,_)}})(i,a,S0(i,a)&~(s<<l)&65535|h)}function S0(i,e){return e+1<i.byteLength?i.getUint16(e,!1):i.getUint8(e)<<8}function c5(i){var e=0;if(i[e++]!==71||i[e++]!==73||i[e++]!==70||i[e++]!==56||(i[e++]+1&253)!=56||i[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=i[e++]|i[e++]<<8,n=i[e++]|i[e++]<<8,r=i[e++],a=r>>7,l=1<<1+(7&r);i[e++],i[e++];var s=null,h=null;a&&(s=e,h=l,e+=3*l);var u=!0,d=[],v=0,_=null,p=0,A=null;for(this.width=t,this.height=n;u&&e<i.length;)switch(i[e++]){case 33:switch(i[e++]){case 255:if(i[e]!==11||i[e+1]==78&&i[e+2]==69&&i[e+3]==84&&i[e+4]==83&&i[e+5]==67&&i[e+6]==65&&i[e+7]==80&&i[e+8]==69&&i[e+9]==50&&i[e+10]==46&&i[e+11]==48&&i[e+12]==3&&i[e+13]==1&&i[e+16]==0)e+=14,A=i[e++]|i[e++]<<8,e++;else for(e+=12;;){if(!((M=i[e++])>=0))throw Error("Invalid block size");if(M===0)break;e+=M}break;case 249:if(i[e++]!==4||i[e+4]!==0)throw new Error("Invalid graphics extension block.");var N=i[e++];v=i[e++]|i[e++]<<8,_=i[e++],1&N||(_=null),p=N>>2&7,e++;break;case 254:for(;;){if(!((M=i[e++])>=0))throw Error("Invalid block size");if(M===0)break;e+=M}break;default:throw new Error("Unknown graphic control label: 0x"+i[e-1].toString(16))}break;case 44:var I=i[e++]|i[e++]<<8,C=i[e++]|i[e++]<<8,Z=i[e++]|i[e++]<<8,V=i[e++]|i[e++]<<8,z=i[e++],se=z>>6&1,we=1<<1+(7&z),pe=s,X=h,j=!1;z>>7&&(j=!0,pe=e,X=we,e+=3*we);var ie=e;for(e++;;){var M;if(!((M=i[e++])>=0))throw Error("Invalid block size");if(M===0)break;e+=M}d.push({x:I,y:C,width:Z,height:V,has_local_palette:j,palette_offset:pe,palette_size:X,data_offset:ie,data_length:e-ie,transparent_index:_,interlaced:!!se,delay:v,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+i[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return A},this.frameInfo=function(F){if(F<0||F>=d.length)throw new Error("Frame index out of range.");return d[F]},this.decodeAndBlitFrameBGRA=function(F,$){var H=this.frameInfo(F),ce=H.width*H.height,de=new Uint8Array(ce);u0(i,H.data_offset,de,ce);var me=H.palette_offset,oe=H.transparent_index;oe===null&&(oe=256);var _e=H.width,Ee=t-_e,Ce=_e,S=4*(H.y*t+H.x),R=4*((H.y+H.height)*t+H.x),q=S,Y=4*Ee;H.interlaced===!0&&(Y+=4*t*7);for(var Q=8,ne=0,ue=de.length;ne<ue;++ne){var fe=de[ne];if(Ce===0&&(Ce=_e,(q+=Y)>=R&&(Y=4*Ee+4*t*(Q-1),q=S+(_e+Ee)*(Q<<1),Q>>=1)),fe===oe)q+=4;else{var xe=i[me+3*fe],De=i[me+3*fe+1],Be=i[me+3*fe+2];$[q++]=Be,$[q++]=De,$[q++]=xe,$[q++]=255}--Ce}},this.decodeAndBlitFrameRGBA=function(F,$){var H=this.frameInfo(F),ce=H.width*H.height,de=new Uint8Array(ce);u0(i,H.data_offset,de,ce);var me=H.palette_offset,oe=H.transparent_index;oe===null&&(oe=256);var _e=H.width,Ee=t-_e,Ce=_e,S=4*(H.y*t+H.x),R=4*((H.y+H.height)*t+H.x),q=S,Y=4*Ee;H.interlaced===!0&&(Y+=4*t*7);for(var Q=8,ne=0,ue=de.length;ne<ue;++ne){var fe=de[ne];if(Ce===0&&(Ce=_e,(q+=Y)>=R&&(Y=4*Ee+4*t*(Q-1),q=S+(_e+Ee)*(Q<<1),Q>>=1)),fe===oe)q+=4;else{var xe=i[me+3*fe],De=i[me+3*fe+1],Be=i[me+3*fe+2];$[q++]=xe,$[q++]=De,$[q++]=Be,$[q++]=255}--Ce}}}function u0(i,e,t,n){for(var r=i[e++],a=1<<r,l=a+1,s=l+1,h=r+1,u=(1<<h)-1,d=0,v=0,_=0,p=i[e++],A=new Int32Array(4096),N=null;;){for(;d<16&&p!==0;)v|=i[e++]<<d,d+=8,p===1?p=i[e++]:--p;if(d<h)break;var I=v&u;if(v>>=h,d-=h,I!==a){if(I===l)break;for(var C=I<s?I:N,Z=0,V=C;V>a;)V=A[V]>>8,++Z;var z=V;if(_+Z+(C!==I?1:0)>n)return void jt.log("Warning, gif stream longer than expected.");t[_++]=z;var se=_+=Z;for(C!==I&&(t[_++]=z),V=C;Z--;)V=A[V],t[--se]=255&V,V>>=8;N!==null&&s<4096&&(A[s++]=N<<8|z,s>=u+1&&h<12&&(++h,u=u<<1|1)),N=I}else s=l+1,u=(1<<(h=r+1))-1,N=null}return _!==n&&jt.log("Warning, gif stream shorter than expected."),t}function vu(i){var e,t,n,r,a,l=Math.floor,s=new Array(64),h=new Array(64),u=new Array(64),d=new Array(64),v=new Array(65535),_=new Array(65535),p=new Array(64),A=new Array(64),N=[],I=0,C=7,Z=new Array(64),V=new Array(64),z=new Array(64),se=new Array(256),we=new Array(2048),pe=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],X=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],ie=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],M=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],F=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],$=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ce=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function de(S,R){for(var q=0,Y=0,Q=new Array,ne=1;ne<=16;ne++){for(var ue=1;ue<=S[ne];ue++)Q[R[Y]]=[],Q[R[Y]][0]=q,Q[R[Y]][1]=ne,Y++,q++;q*=2}return Q}function me(S){for(var R=S[0],q=S[1]-1;q>=0;)R&1<<q&&(I|=1<<C),q--,--C<0&&(I==255?(oe(255),oe(0)):oe(I),C=7,I=0)}function oe(S){N.push(S)}function _e(S){oe(S>>8&255),oe(255&S)}function Ee(S,R,q,Y,Q){for(var ne,ue=Q[0],fe=Q[240],xe=(function(ke,Qe){var Re,Xe,Ye,Pt,wt,ut,St,xt,We,dt,$e=0;for(We=0;We<8;++We){Re=ke[$e],Xe=ke[$e+1],Ye=ke[$e+2],Pt=ke[$e+3],wt=ke[$e+4],ut=ke[$e+5],St=ke[$e+6];var ai=Re+(xt=ke[$e+7]),Mt=Re-xt,_t=Xe+St,yt=Xe-St,Kt=Ye+ut,Ke=Ye-ut,Ut=Pt+wt,nt=Pt-wt,ht=ai+Ut,Xt=ai-Ut,bt=_t+Kt,tt=_t-Kt;ke[$e]=ht+bt,ke[$e+4]=ht-bt;var It=.707106781*(tt+Xt);ke[$e+2]=Xt+It,ke[$e+6]=Xt-It;var Zr=.382683433*((ht=nt+Ke)-(tt=yt+Mt)),Ti=.5411961*ht+Zr,Xn=1.306562965*tt+Zr,Tn=.707106781*(bt=Ke+yt),it=Mt+Tn,Jn=Mt-Tn;ke[$e+5]=Jn+Ti,ke[$e+3]=Jn-Ti,ke[$e+1]=it+Xn,ke[$e+7]=it-Xn,$e+=8}for($e=0,We=0;We<8;++We){Re=ke[$e],Xe=ke[$e+8],Ye=ke[$e+16],Pt=ke[$e+24],wt=ke[$e+32],ut=ke[$e+40],St=ke[$e+48];var Qn=Re+(xt=ke[$e+56]),hn=Re-xt,fn=Xe+St,ti=Xe-St,Si=Ye+ut,Ni=Ye-ut,Yr=Pt+wt,xr=Pt-wt,xn=Qn+Yr,Bn=Qn-Yr,Sn=fn+Si,An=fn-Si;ke[$e]=xn+Sn,ke[$e+32]=xn-Sn;var dn=.707106781*(An+Bn);ke[$e+16]=Bn+dn,ke[$e+48]=Bn-dn;var Kr=.382683433*((xn=xr+Ni)-(An=ti+hn)),On=.5411961*xn+Kr,Xr=1.306562965*An+Kr,Ca=.707106781*(Sn=Ni+ti),ka=hn+Ca,Ma=hn-Ca;ke[$e+40]=Ma+On,ke[$e+24]=Ma-On,ke[$e+8]=ka+Xr,ke[$e+56]=ka-Xr,$e++}for(We=0;We<64;++We)dt=ke[We]*Qe[We],p[We]=dt>0?dt+.5|0:dt-.5|0;return p})(S,R),De=0;De<64;++De)A[pe[De]]=xe[De];var Be=A[0]-q;q=A[0],Be==0?me(Y[0]):(me(Y[_[ne=32767+Be]]),me(v[ne]));for(var Te=63;Te>0&&A[Te]==0;)Te--;if(Te==0)return me(ue),q;for(var Ze,P=1;P<=Te;){for(var Fe=P;A[P]==0&&P<=Te;)++P;var vt=P-Fe;if(vt>=16){Ze=vt>>4;for(var Je=1;Je<=Ze;++Je)me(fe);vt&=15}ne=32767+A[P],me(Q[(vt<<4)+_[ne]]),me(v[ne]),P++}return Te!=63&&me(ue),q}function Ce(S){S=Math.min(Math.max(S,1),100),a!=S&&((function(R){for(var q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Y=0;Y<64;Y++){var Q=l((q[Y]*R+50)/100);Q=Math.min(Math.max(Q,1),255),s[pe[Y]]=Q}for(var ne=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ue=0;ue<64;ue++){var fe=l((ne[ue]*R+50)/100);fe=Math.min(Math.max(fe,1),255),h[pe[ue]]=fe}for(var xe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],De=0,Be=0;Be<8;Be++)for(var Te=0;Te<8;Te++)u[De]=1/(s[pe[De]]*xe[Be]*xe[Te]*8),d[De]=1/(h[pe[De]]*xe[Be]*xe[Te]*8),De++})(S<50?Math.floor(5e3/S):Math.floor(200-2*S)),a=S)}this.encode=function(S,R){R&&Ce(R),N=new Array,I=0,C=7,_e(65496),_e(65504),_e(16),oe(74),oe(70),oe(73),oe(70),oe(0),oe(1),oe(1),oe(0),_e(1),_e(1),oe(0),oe(0),(function(){_e(65499),_e(132),oe(0);for(var Xe=0;Xe<64;Xe++)oe(s[Xe]);oe(1);for(var Ye=0;Ye<64;Ye++)oe(h[Ye])})(),(function(Xe,Ye){_e(65472),_e(17),oe(8),_e(Ye),_e(Xe),oe(3),oe(1),oe(17),oe(0),oe(2),oe(17),oe(1),oe(3),oe(17),oe(1)})(S.width,S.height),(function(){_e(65476),_e(418),oe(0);for(var Xe=0;Xe<16;Xe++)oe(X[Xe+1]);for(var Ye=0;Ye<=11;Ye++)oe(j[Ye]);oe(16);for(var Pt=0;Pt<16;Pt++)oe(ie[Pt+1]);for(var wt=0;wt<=161;wt++)oe(M[wt]);oe(1);for(var ut=0;ut<16;ut++)oe(F[ut+1]);for(var St=0;St<=11;St++)oe($[St]);oe(17);for(var xt=0;xt<16;xt++)oe(H[xt+1]);for(var We=0;We<=161;We++)oe(ce[We])})(),_e(65498),_e(12),oe(3),oe(1),oe(0),oe(2),oe(17),oe(3),oe(17),oe(0),oe(63),oe(0);var q=0,Y=0,Q=0;I=0,C=7,this.encode.displayName="_encode_";for(var ne,ue,fe,xe,De,Be,Te,Ze,P,Fe=S.data,vt=S.width,Je=S.height,ke=4*vt,Qe=0;Qe<Je;){for(ne=0;ne<ke;){for(De=ke*Qe+ne,Te=-1,Ze=0,P=0;P<64;P++)Be=De+(Ze=P>>3)*ke+(Te=4*(7&P)),Qe+Ze>=Je&&(Be-=ke*(Qe+1+Ze-Je)),ne+Te>=ke&&(Be-=ne+Te-ke+4),ue=Fe[Be++],fe=Fe[Be++],xe=Fe[Be++],Z[P]=(we[ue]+we[fe+256|0]+we[xe+512|0]>>16)-128,V[P]=(we[ue+768|0]+we[fe+1024|0]+we[xe+1280|0]>>16)-128,z[P]=(we[ue+1280|0]+we[fe+1536|0]+we[xe+1792|0]>>16)-128;q=Ee(Z,u,q,e,n),Y=Ee(V,d,Y,t,r),Q=Ee(z,d,Q,t,r),ne+=32}Qe+=8}if(C>=0){var Re=[];Re[1]=C+1,Re[0]=(1<<C+1)-1,me(Re)}return _e(65497),new Uint8Array(N)},i=i||50,(function(){for(var S=String.fromCharCode,R=0;R<256;R++)se[R]=S(R)})(),e=de(X,j),t=de(F,$),n=de(ie,M),r=de(H,ce),(function(){for(var S=1,R=2,q=1;q<=15;q++){for(var Y=S;Y<R;Y++)_[32767+Y]=q,v[32767+Y]=[],v[32767+Y][1]=q,v[32767+Y][0]=Y;for(var Q=-(R-1);Q<=-S;Q++)_[32767+Q]=q,v[32767+Q]=[],v[32767+Q][1]=q,v[32767+Q][0]=R-1+Q;S<<=1,R<<=1}})(),(function(){for(var S=0;S<256;S++)we[S]=19595*S,we[S+256|0]=38470*S,we[S+512|0]=7471*S+32768,we[S+768|0]=-11059*S,we[S+1024|0]=-21709*S,we[S+1280|0]=32768*S+8421375,we[S+1536|0]=-27439*S,we[S+1792|0]=-5329*S})(),Ce(i)}function Pn(i,e){if(this.pos=0,this.buffer=i,this.datav=new DataView(i.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function h0(i){function e(j){if(!j)throw Error("assert :P")}function t(j,ie,M){for(var F=0;4>F;F++)if(j[ie+F]!=M.charCodeAt(F))return!0;return!1}function n(j,ie,M,F,$){for(var H=0;H<$;H++)j[ie+H]=M[F+H]}function r(j,ie,M,F){for(var $=0;$<F;$++)j[ie+$]=M}function a(j){return new Int32Array(j)}function l(j,ie){for(var M=[],F=0;F<j;F++)M.push(new ie);return M}function s(j,ie){var M=[];return(function F($,H,ce){for(var de=ce[H],me=0;me<de&&($.push(ce.length>H+1?[]:new ie),!(ce.length<H+1));me++)F($[me],H+1,ce)})(M,0,j),M}var h=function(){var j=this;function ie(o,c){for(var g=1<<c-1>>>0;o&g;)g>>>=1;return g?(o&g-1)+g:o}function M(o,c,g,m,b){e(!(m%g));do o[c+(m-=g)]=b;while(0<m)}function F(o,c,g,m,b){if(e(2328>=b),512>=b)var w=a(512);else if((w=a(b))==null)return 0;return(function(x,k,L,T,K,ae){var B,J,te=k,ge=1<<L,re=a(16),ve=a(16);for(e(K!=0),e(T!=null),e(x!=null),e(0<L),J=0;J<K;++J){if(15<T[J])return 0;++re[T[J]]}if(re[0]==K)return 0;for(ve[1]=0,B=1;15>B;++B){if(re[B]>1<<B)return 0;ve[B+1]=ve[B]+re[B]}for(J=0;J<K;++J)B=T[J],0<T[J]&&(ae[ve[B]++]=J);if(ve[15]==1)return(T=new $).g=0,T.value=ae[0],M(x,te,1,ge,T),ge;var be,Le=-1,Ae=ge-1,Ge=0,Oe=1,gt=1,qe=1<<L;for(J=0,B=1,K=2;B<=L;++B,K<<=1){if(Oe+=gt<<=1,0>(gt-=re[B]))return 0;for(;0<re[B];--re[B])(T=new $).g=B,T.value=ae[J++],M(x,te+Ge,K,qe,T),Ge=ie(Ge,B)}for(B=L+1,K=2;15>=B;++B,K<<=1){if(Oe+=gt<<=1,0>(gt-=re[B]))return 0;for(;0<re[B];--re[B]){if(T=new $,(Ge&Ae)!=Le){for(te+=qe,be=1<<(Le=B)-L;15>Le&&!(0>=(be-=re[Le]));)++Le,be<<=1;ge+=qe=1<<(be=Le-L),x[k+(Le=Ge&Ae)].g=be+L,x[k+Le].value=te-k-Le}T.g=B-L,T.value=ae[J++],M(x,te+(Ge>>L),K,qe,T),Ge=ie(Ge,B)}}return Oe!=2*ve[15]-1?0:ge})(o,c,g,m,b,w)}function $(){this.value=this.g=0}function H(){this.value=this.g=0}function ce(){this.G=l(5,$),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(la,H)}function de(o,c,g,m){e(o!=null),e(c!=null),e(2147483648>m),o.Ca=254,o.I=0,o.b=-8,o.Ka=0,o.oa=c,o.pa=g,o.Jd=c,o.Yc=g+m,o.Zc=4<=m?g+m-4+1:g,ue(o)}function me(o,c){for(var g=0;0<c--;)g|=xe(o,128)<<c;return g}function oe(o,c){var g=me(o,c);return fe(o)?-g:g}function _e(o,c,g,m){var b,w=0;for(e(o!=null),e(c!=null),e(4294967288>m),o.Sb=m,o.Ra=0,o.u=0,o.h=0,4<m&&(m=4),b=0;b<m;++b)w+=c[g+b]<<8*b;o.Ra=w,o.bb=m,o.oa=c,o.pa=g}function Ee(o){for(;8<=o.u&&o.bb<o.Sb;)o.Ra>>>=8,o.Ra+=o.oa[o.pa+o.bb]<<kr-8>>>0,++o.bb,o.u-=8;Y(o)&&(o.h=1,o.u=0)}function Ce(o,c){if(e(0<=c),!o.h&&c<=en){var g=q(o)&Qi[c];return o.u+=c,Ee(o),g}return o.h=1,o.u=0}function S(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function R(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function q(o){return o.Ra>>>(o.u&kr-1)>>>0}function Y(o){return e(o.bb<=o.Sb),o.h||o.bb==o.Sb&&o.u>kr}function Q(o,c){o.u=c,o.h=Y(o)}function ne(o){o.u>=ur&&(e(o.u>=ur),Ee(o))}function ue(o){e(o!=null&&o.oa!=null),o.pa<o.Zc?(o.I=(o.oa[o.pa++]|o.I<<8)>>>0,o.b+=8):(e(o!=null&&o.oa!=null),o.pa<o.Yc?(o.b+=8,o.I=o.oa[o.pa++]|o.I<<8):o.Ka?o.b=0:(o.I<<=8,o.b+=8,o.Ka=1))}function fe(o){return me(o,1)}function xe(o,c){var g=o.Ca;0>o.b&&ue(o);var m=o.b,b=g*c>>>8,w=(o.I>>>m>b)+0;for(w?(g-=b,o.I-=b+1<<m>>>0):g=b+1,m=g,b=0;256<=m;)b+=8,m>>=8;return m=7^b+Mr[m],o.b-=m,o.Ca=(g<<m)-1,w}function De(o,c,g){o[c+0]=g>>24&255,o[c+1]=g>>16&255,o[c+2]=g>>8&255,o[c+3]=255&g}function Be(o,c){return o[c+0]|o[c+1]<<8}function Te(o,c){return Be(o,c)|o[c+2]<<16}function Ze(o,c){return Be(o,c)|Be(o,c+2)<<16}function P(o,c){var g=1<<c;return e(o!=null),e(0<c),o.X=a(g),o.X==null?0:(o.Mb=32-c,o.Xa=c,1)}function Fe(o,c){e(o!=null),e(c!=null),e(o.Xa==c.Xa),n(c.X,0,o.X,0,1<<c.Xa)}function vt(){this.X=[],this.Xa=this.Mb=0}function Je(o,c,g,m){e(g!=null),e(m!=null);var b=g[0],w=m[0];return b==0&&(b=(o*w+c/2)/c),w==0&&(w=(c*b+o/2)/o),0>=b||0>=w?0:(g[0]=b,m[0]=w,1)}function ke(o,c){return o+(1<<c)-1>>>c}function Qe(o,c){return((4278255360&o)+(4278255360&c)>>>0&4278255360)+((16711935&o)+(16711935&c)>>>0&16711935)>>>0}function Re(o,c){j[c]=function(g,m,b,w,x,k,L){var T;for(T=0;T<x;++T){var K=j[o](k[L+T-1],b,w+T);k[L+T]=Qe(g[m+T],K)}}}function Xe(){this.ud=this.hd=this.jd=0}function Ye(o,c){return((4278124286&(o^c))>>>1)+(o&c)>>>0}function Pt(o){return 0<=o&&256>o?o:0>o?0:255<o?255:void 0}function wt(o,c){return Pt(o+(o-c+.5>>1))}function ut(o,c,g){return Math.abs(c-g)-Math.abs(o-g)}function St(o,c,g,m,b,w,x){for(m=w[x-1],g=0;g<b;++g)w[x+g]=m=Qe(o[c+g],m)}function xt(o,c,g,m,b){var w;for(w=0;w<g;++w){var x=o[c+w],k=x>>8&255,L=16711935&(L=(L=16711935&x)+((k<<16)+k));m[b+w]=(4278255360&x)+L>>>0}}function We(o,c){c.jd=255&o,c.hd=o>>8&255,c.ud=o>>16&255}function dt(o,c,g,m,b,w){var x;for(x=0;x<m;++x){var k=c[g+x],L=k>>>8,T=k,K=255&(K=(K=k>>>16)+((o.jd<<24>>24)*(L<<24>>24)>>>5));T=255&(T=(T+=(o.hd<<24>>24)*(L<<24>>24)>>>5)+((o.ud<<24>>24)*(K<<24>>24)>>>5)),b[w+x]=(4278255360&k)+(K<<16)+T}}function $e(o,c,g,m,b){j[c]=function(w,x,k,L,T,K,ae,B,J){for(L=ae;L<B;++L)for(ae=0;ae<J;++ae)T[K++]=b(k[m(w[x++])])},j[o]=function(w,x,k,L,T,K,ae){var B=8>>w.b,J=w.Ea,te=w.K[0],ge=w.w;if(8>B)for(w=(1<<w.b)-1,ge=(1<<B)-1;x<k;++x){var re,ve=0;for(re=0;re<J;++re)re&w||(ve=m(L[T++])),K[ae++]=b(te[ve&ge]),ve>>=B}else j["VP8LMapColor"+g](L,T,te,ge,K,ae,x,k,J)}}function ai(o,c,g,m,b){for(g=c+g;c<g;){var w=o[c++];m[b++]=w>>16&255,m[b++]=w>>8&255,m[b++]=255&w}}function Mt(o,c,g,m,b){for(g=c+g;c<g;){var w=o[c++];m[b++]=w>>16&255,m[b++]=w>>8&255,m[b++]=255&w,m[b++]=w>>24&255}}function _t(o,c,g,m,b){for(g=c+g;c<g;){var w=(x=o[c++])>>16&240|x>>12&15,x=240&x|x>>28&15;m[b++]=w,m[b++]=x}}function yt(o,c,g,m,b){for(g=c+g;c<g;){var w=(x=o[c++])>>16&248|x>>13&7,x=x>>5&224|x>>3&31;m[b++]=w,m[b++]=x}}function Kt(o,c,g,m,b){for(g=c+g;c<g;){var w=o[c++];m[b++]=255&w,m[b++]=w>>8&255,m[b++]=w>>16&255}}function Ke(o,c,g,m,b,w){if(w==0)for(g=c+g;c<g;)De(m,((w=o[c++])[0]>>24|w[1]>>8&65280|w[2]<<8&16711680|w[3]<<24)>>>0),b+=32;else n(m,b,o,c,g)}function Ut(o,c){j[c][0]=j[o+"0"],j[c][1]=j[o+"1"],j[c][2]=j[o+"2"],j[c][3]=j[o+"3"],j[c][4]=j[o+"4"],j[c][5]=j[o+"5"],j[c][6]=j[o+"6"],j[c][7]=j[o+"7"],j[c][8]=j[o+"8"],j[c][9]=j[o+"9"],j[c][10]=j[o+"10"],j[c][11]=j[o+"11"],j[c][12]=j[o+"12"],j[c][13]=j[o+"13"],j[c][14]=j[o+"0"],j[c][15]=j[o+"0"]}function nt(o){return o==tc||o==ic||o==Ps||o==nc}function ht(){this.eb=[],this.size=this.A=this.fb=0}function Xt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function bt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ht,this.f.kb=new Xt,this.sd=null}function tt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function It(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Zr(o){return alert("todo:WebPSamplerProcessPlane"),o.T}function Ti(o,c){var g=o.T,m=c.ba.f.RGBA,b=m.eb,w=m.fb+o.ka*m.A,x=yn[c.ba.S],k=o.y,L=o.O,T=o.f,K=o.N,ae=o.ea,B=o.W,J=c.cc,te=c.dc,ge=c.Mc,re=c.Nc,ve=o.ka,be=o.ka+o.T,Le=o.U,Ae=Le+1>>1;for(ve==0?x(k,L,null,null,T,K,ae,B,T,K,ae,B,b,w,null,null,Le):(x(c.ec,c.fc,k,L,J,te,ge,re,T,K,ae,B,b,w-m.A,b,w,Le),++g);ve+2<be;ve+=2)J=T,te=K,ge=ae,re=B,K+=o.Rc,B+=o.Rc,w+=2*m.A,x(k,(L+=2*o.fa)-o.fa,k,L,J,te,ge,re,T,K,ae,B,b,w-m.A,b,w,Le);return L+=o.fa,o.j+be<o.o?(n(c.ec,c.fc,k,L,Le),n(c.cc,c.dc,T,K,Ae),n(c.Mc,c.Nc,ae,B,Ae),g--):1&be||x(k,L,null,null,T,K,ae,B,T,K,ae,B,b,w+m.A,null,null,Le),g}function Xn(o,c,g){var m=o.F,b=[o.J];if(m!=null){var w=o.U,x=c.ba.S,k=x==Es||x==Ps;c=c.ba.f.RGBA;var L=[0],T=o.ka;L[0]=o.T,o.Kb&&(T==0?--L[0]:(--T,b[0]-=o.width),o.j+o.ka+o.T==o.o&&(L[0]=o.o-o.j-T));var K=c.eb;T=c.fb+T*c.A,o=ju(m,b[0],o.width,w,L,K,T+(k?0:3),c.A),e(g==L),o&&nt(x)&&Mo(K,T,k,w,L,c.A)}return 0}function Tn(o){var c=o.ma,g=c.ba.S,m=11>g,b=g==Ls||g==Ds||g==Es||g==ec||g==12||nt(g);if(c.memory=null,c.Ib=null,c.Jb=null,c.Nd=null,!yo(c.Oa,o,b?11:12))return 0;if(b&&nt(g)&&mo(),o.da)alert("todo:use_scaling");else{if(m){if(c.Ib=Zr,o.Kb){if(g=o.U+1>>1,c.memory=a(o.U+2*g),c.memory==null)return 0;c.ec=c.memory,c.fc=0,c.cc=c.ec,c.dc=c.fc+o.U,c.Mc=c.cc,c.Nc=c.dc+g,c.Ib=Ti,mo()}}else alert("todo:EmitYUV");b&&(c.Jb=Xn,m&&kn())}if(m&&!nh){for(o=0;256>o;++o)f1[o]=89858*(o-128)+Fs>>Is,g1[o]=-22014*(o-128)+Fs,p1[o]=-45773*(o-128),d1[o]=113618*(o-128)+Fs>>Is;for(o=Lo;o<oc;++o)c=76283*(o-16)+Fs>>Is,m1[o-Lo]=Rn(c,255),v1[o-Lo]=Rn(c+8>>4,15);nh=1}return 1}function it(o){var c=o.ma,g=o.U,m=o.T;return e(!(1&o.ka)),0>=g||0>=m?0:(g=c.Ib(o,c),c.Jb!=null&&c.Jb(o,c,g),c.Dc+=g,1)}function Jn(o){o.ma.memory=null}function Qn(o,c,g,m){return Ce(o,8)!=47?0:(c[0]=Ce(o,14)+1,g[0]=Ce(o,14)+1,m[0]=Ce(o,1),Ce(o,3)!=0?0:!o.h)}function hn(o,c){if(4>o)return o+1;var g=o-2>>1;return(2+(1&o)<<g)+Ce(c,g)+1}function fn(o,c){return 120<c?c-120:1<=(g=((g=J0[c-1])>>4)*o+(8-(15&g)))?g:1;var g}function ti(o,c,g){var m=q(g),b=o[c+=255&m].g-8;return 0<b&&(Q(g,g.u+8),m=q(g),c+=o[c].value,c+=m&(1<<b)-1),Q(g,g.u+o[c].g),o[c].value}function Si(o,c,g){return g.g+=o.g,g.value+=o.value<<c>>>0,e(8>=g.g),o.g}function Ni(o,c,g){var m=o.xc;return e((c=m==0?0:o.vc[o.md*(g>>m)+(c>>m)])<o.Wb),o.Ya[c]}function Yr(o,c,g,m){var b=o.ab,w=o.c*c,x=o.C;c=x+c;var k=g,L=m;for(m=o.Ta,g=o.Ua;0<b--;){var T=o.gc[b],K=x,ae=c,B=k,J=L,te=(L=m,k=g,T.Ea);switch(e(K<ae),e(ae<=T.nc),T.hc){case 2:oi(B,J,(ae-K)*te,L,k);break;case 0:var ge=K,re=ae,ve=L,be=k,Le=(qe=T).Ea;ge==0&&(wo(B,J,null,null,1,ve,be),St(B,J+1,0,0,Le-1,ve,be+1),J+=Le,be+=Le,++ge);for(var Ae=1<<qe.b,Ge=Ae-1,Oe=ke(Le,qe.b),gt=qe.K,qe=qe.w+(ge>>qe.b)*Oe;ge<re;){var At=gt,bi=qe,mt=1;for(Ta(B,J,ve,be-Le,1,ve,be);mt<Le;){var Ve=(mt&~Ge)+Ae;Ve>Le&&(Ve=Le),(0,So[At[bi++]>>8&15])(B,J+ +mt,ve,be+mt-Le,Ve-mt,ve,be+mt),mt=Ve}J+=Le,be+=Le,++ge&Ge||(qe+=Oe)}ae!=T.nc&&n(L,k-te,L,k+(ae-K-1)*te,te);break;case 1:for(te=B,re=J,Le=(B=T.Ea)-(be=B&~(ve=(J=1<<T.b)-1)),ge=ke(B,T.b),Ae=T.K,T=T.w+(K>>T.b)*ge;K<ae;){for(Ge=Ae,Oe=T,gt=new Xe,qe=re+be,At=re+B;re<qe;)We(Ge[Oe++],gt),Ao(gt,te,re,J,L,k),re+=J,k+=J;re<At&&(We(Ge[Oe++],gt),Ao(gt,te,re,Le,L,k),re+=Le,k+=Le),++K&ve||(T+=ge)}break;case 3:if(B==L&&J==k&&0<T.b){for(re=L,B=te=k+(ae-K)*te-(be=(ae-K)*ke(T.Ea,T.b)),J=L,ve=k,ge=[],be=(Le=be)-1;0<=be;--be)ge[be]=J[ve+be];for(be=Le-1;0<=be;--be)re[B+be]=ge[be];Cs(T,K,ae,L,te,L,k)}else Cs(T,K,ae,B,J,L,k)}k=m,L=g}L!=g&&n(m,g,k,L,w)}function xr(o,c){var g=o.V,m=o.Ba+o.c*o.C,b=c-o.C;if(e(c<=o.l.o),e(16>=b),0<b){var w=o.l,x=o.Ta,k=o.Ua,L=w.width;if(Yr(o,b,g,m),b=k=[k],e((g=o.C)<(m=c)),e(w.v<w.va),m>w.o&&(m=w.o),g<w.j){var T=w.j-g;g=w.j,b[0]+=T*L}if(g>=m?g=0:(b[0]+=4*w.v,w.ka=g-w.j,w.U=w.va-w.v,w.T=m-g,g=1),g){if(k=k[0],11>(g=o.ca).S){var K=g.f.RGBA,ae=(m=g.S,b=w.U,w=w.T,T=K.eb,K.A),B=w;for(K=K.fb+o.Ma*K.A;0<B--;){var J=x,te=k,ge=b,re=T,ve=K;switch(m){case Ns:Co(J,te,ge,re,ve);break;case Ls:Nr(J,te,ge,re,ve);break;case tc:Nr(J,te,ge,re,ve),Mo(re,ve,0,ge,1,0);break;case $u:ca(J,te,ge,re,ve);break;case Ds:Ke(J,te,ge,re,ve,1);break;case ic:Ke(J,te,ge,re,ve,1),Mo(re,ve,0,ge,1,0);break;case Es:Ke(J,te,ge,re,ve,0);break;case Ps:Ke(J,te,ge,re,ve,0),Mo(re,ve,1,ge,1,0);break;case ec:Lr(J,te,ge,re,ve);break;case nc:Lr(J,te,ge,re,ve),zu(re,ve,ge,1,0);break;case Zu:Dr(J,te,ge,re,ve);break;default:e(0)}k+=L,K+=ae}o.Ma+=w}else alert("todo:EmitRescaledRowsYUVA");e(o.Ma<=g.height)}}o.C=c,e(o.C<=o.i)}function xn(o){var c;if(0<o.ua)return 0;for(c=0;c<o.Wb;++c){var g=o.Ya[c].G,m=o.Ya[c].H;if(0<g[1][m[1]+0].g||0<g[2][m[2]+0].g||0<g[3][m[3]+0].g)return 0}return 1}function Bn(o,c,g,m,b,w){if(o.Z!=0){var x=o.qd,k=o.rd;for(e(Ir[o.Z]!=null);c<g;++c)Ir[o.Z](x,k,m,b,m,b,w),x=m,k=b,b+=w;o.qd=x,o.rd=k}}function Sn(o,c){var g=o.l.ma,m=g.Z==0||g.Z==1?o.l.j:o.C;if(m=o.C<m?m:o.C,e(c<=o.l.o),c>m){var b=o.l.width,w=g.ca,x=g.tb+b*m,k=o.V,L=o.Ba+o.c*m,T=o.gc;e(o.ab==1),e(T[0].hc==3),qn(T[0],m,c,k,L,w,x),Bn(g,m,c,w,x,b)}o.C=o.Ma=c}function An(o,c,g,m,b,w,x){var k=o.$/m,L=o.$%m,T=o.m,K=o.s,ae=g+o.$,B=ae;b=g+m*b;var J=g+m*w,te=280+K.ua,ge=o.Pb?k:16777216,re=0<K.ua?K.Wa:null,ve=K.wc,be=ae<J?Ni(K,L,k):null;e(o.C<w),e(J<=b);var Le=!1;e:for(;;){for(;Le||ae<J;){var Ae=0;if(k>=ge){var Ge=ae-g;e((ge=o).Pb),ge.wd=ge.m,ge.xd=Ge,0<ge.s.ua&&Fe(ge.s.Wa,ge.s.vb),ge=k+e1}if(L&ve||(be=Ni(K,L,k)),e(be!=null),be.Qb&&(c[ae]=be.qb,Le=!0),!Le)if(ne(T),be.jc){Ae=T,Ge=c;var Oe=ae,gt=be.pd[q(Ae)&la-1];e(be.jc),256>gt.g?(Q(Ae,Ae.u+gt.g),Ge[Oe]=gt.value,Ae=0):(Q(Ae,Ae.u+gt.g-256),e(256<=gt.value),Ae=gt.value),Ae==0&&(Le=!0)}else Ae=ti(be.G[0],be.H[0],T);if(T.h)break;if(Le||256>Ae){if(!Le)if(be.nd)c[ae]=(be.qb|Ae<<8)>>>0;else{if(ne(T),Le=ti(be.G[1],be.H[1],T),ne(T),Ge=ti(be.G[2],be.H[2],T),Oe=ti(be.G[3],be.H[3],T),T.h)break;c[ae]=(Oe<<24|Le<<16|Ae<<8|Ge)>>>0}if(Le=!1,++ae,++L>=m&&(L=0,++k,x!=null&&k<=w&&!(k%16)&&x(o,k),re!=null))for(;B<ae;)Ae=c[B++],re.X[(506832829*Ae&4294967295)>>>re.Mb]=Ae}else if(280>Ae){if(Ae=hn(Ae-256,T),Ge=ti(be.G[4],be.H[4],T),ne(T),Ge=fn(m,Ge=hn(Ge,T)),T.h)break;if(ae-g<Ge||b-ae<Ae)break e;for(Oe=0;Oe<Ae;++Oe)c[ae+Oe]=c[ae+Oe-Ge];for(ae+=Ae,L+=Ae;L>=m;)L-=m,++k,x!=null&&k<=w&&!(k%16)&&x(o,k);if(e(ae<=b),L&ve&&(be=Ni(K,L,k)),re!=null)for(;B<ae;)Ae=c[B++],re.X[(506832829*Ae&4294967295)>>>re.Mb]=Ae}else{if(!(Ae<te))break e;for(Le=Ae-280,e(re!=null);B<ae;)Ae=c[B++],re.X[(506832829*Ae&4294967295)>>>re.Mb]=Ae;Ae=ae,e(!(Le>>>(Ge=re).Xa)),c[Ae]=Ge.X[Le],Le=!0}Le||e(T.h==Y(T))}if(o.Pb&&T.h&&ae<b)e(o.m.h),o.a=5,o.m=o.wd,o.$=o.xd,0<o.s.ua&&Fe(o.s.vb,o.s.Wa);else{if(T.h)break e;x?.(o,k>w?w:k),o.a=0,o.$=ae-g}return 1}return o.a=3,0}function dn(o){e(o!=null),o.vc=null,o.yc=null,o.Ya=null;var c=o.Wa;c!=null&&(c.X=null),o.vb=null,e(o!=null)}function Kr(){var o=new st;return o==null?null:(o.a=0,o.xb=Xu,Ut("Predictor","VP8LPredictors"),Ut("Predictor","VP8LPredictors_C"),Ut("PredictorAdd","VP8LPredictorsAdd"),Ut("PredictorAdd","VP8LPredictorsAdd_C"),oi=xt,Ao=dt,Co=ai,Nr=Mt,Lr=_t,Dr=yt,ca=Kt,j.VP8LMapColor32b=Un,j.VP8LMapColor8b=xo,o)}function On(o,c,g,m,b){var w=1,x=[o],k=[c],L=m.m,T=m.s,K=null,ae=0;e:for(;;){if(g)for(;w&&Ce(L,1);){var B=x,J=k,te=m,ge=1,re=te.m,ve=te.gc[te.ab],be=Ce(re,2);if(te.Oc&1<<be)w=0;else{switch(te.Oc|=1<<be,ve.hc=be,ve.Ea=B[0],ve.nc=J[0],ve.K=[null],++te.ab,e(4>=te.ab),be){case 0:case 1:ve.b=Ce(re,3)+2,ge=On(ke(ve.Ea,ve.b),ke(ve.nc,ve.b),0,te,ve.K),ve.K=ve.K[0];break;case 3:var Le,Ae=Ce(re,8)+1,Ge=16<Ae?0:4<Ae?1:2<Ae?2:3;if(B[0]=ke(ve.Ea,Ge),ve.b=Ge,Le=ge=On(Ae,1,0,te,ve.K)){var Oe,gt=Ae,qe=ve,At=1<<(8>>qe.b),bi=a(At);if(bi==null)Le=0;else{var mt=qe.K[0],Ve=qe.w;for(bi[0]=qe.K[0][0],Oe=1;Oe<1*gt;++Oe)bi[Oe]=Qe(mt[Ve+Oe],bi[Oe-1]);for(;Oe<4*At;++Oe)bi[Oe]=0;qe.K[0]=null,qe.K[0]=bi,Le=1}}ge=Le;break;case 2:break;default:e(0)}w=ge}}if(x=x[0],k=k[0],w&&Ce(L,1)&&!(w=1<=(ae=Ce(L,4))&&11>=ae)){m.a=3;break e}var Pe;if(Pe=w)t:{var li,ft,kt,Wt=m,Ei=x,qi=k,ii=ae,Bi=g,Vi=Wt.m,wi=Wt.s,Lt=[null],Tt=1,ni=0,Bt=Q0[ii];i:for(;;){if(Bi&&Ce(Vi,1)){var Pi=Ce(Vi,3)+2,Nn=ke(Ei,Pi),ci=ke(qi,Pi),$i=Nn*ci;if(!On(Nn,ci,0,Wt,Lt))break i;for(Lt=Lt[0],wi.xc=Pi,li=0;li<$i;++li){var zt=Lt[li]>>8&65535;Lt[li]=zt,zt>=Tt&&(Tt=zt+1)}}if(Vi.h)break i;for(ft=0;5>ft;++ft){var xi=Yu[ft];!ft&&0<ii&&(xi+=1<<ii),ni<xi&&(ni=xi)}var nn=l(Tt*Bt,$),Wi=Tt,rn=l(Wi,ce);if(rn==null)var an=null;else e(65536>=Wi),an=rn;var Zi=a(ni);if(an==null||Zi==null||nn==null){Wt.a=1;break i}var on=nn;for(li=kt=0;li<Tt;++li){var Vt=an[li],sn=Vt.G,Ln=Vt.H,ha=0,dr=1,Ii=0;for(ft=0;5>ft;++ft){xi=Yu[ft],sn[ft]=on,Ln[ft]=kt,!ft&&0<ii&&(xi+=1<<ii);r:{var Bs,sc=xi,Os=Wt,Do=Zi,b1=on,w1=kt,lc=0,Fr=Os.m,x1=Ce(Fr,1);if(r(Do,0,0,sc),x1){var S1=Ce(Fr,1)+1,A1=Ce(Fr,1),oh=Ce(Fr,A1==0?1:8);Do[oh]=1,S1==2&&(Do[oh=Ce(Fr,8)]=1);var Rs=1}else{var sh=a(19),lh=Ce(Fr,4)+4;if(19<lh){Os.a=3;var zs=0;break r}for(Bs=0;Bs<lh;++Bs)sh[X0[Bs]]=Ce(Fr,3);var cc=void 0,Eo=void 0,ch=Os,C1=sh,js=sc,uh=Do,uc=0,Tr=ch.m,hh=8,fh=l(128,$);n:for(;F(fh,0,7,C1,19);){if(Ce(Tr,1)){var k1=2+2*Ce(Tr,3);if((cc=2+Ce(Tr,k1))>js)break n}else cc=js;for(Eo=0;Eo<js&&cc--;){ne(Tr);var dh=fh[0+(127&q(Tr))];Q(Tr,Tr.u+dh.g);var Oa=dh.value;if(16>Oa)uh[Eo++]=Oa,Oa!=0&&(hh=Oa);else{var M1=Oa==16,ph=Oa-16,N1=Y0[ph],gh=Ce(Tr,Z0[ph])+N1;if(Eo+gh>js)break n;for(var L1=M1?hh:0;0<gh--;)uh[Eo++]=L1}}uc=1;break n}uc||(ch.a=3),Rs=uc}(Rs=Rs&&!Fr.h)&&(lc=F(b1,w1,8,Do,sc)),Rs&&lc!=0?zs=lc:(Os.a=3,zs=0)}if(zs==0)break i;if(dr&&K0[ft]==1&&(dr=on[kt].g==0),ha+=on[kt].g,kt+=zs,3>=ft){var Po,hc=Zi[0];for(Po=1;Po<xi;++Po)Zi[Po]>hc&&(hc=Zi[Po]);Ii+=hc}}if(Vt.nd=dr,Vt.Qb=0,dr&&(Vt.qb=(sn[3][Ln[3]+0].value<<24|sn[1][Ln[1]+0].value<<16|sn[2][Ln[2]+0].value)>>>0,ha==0&&256>sn[0][Ln[0]+0].value&&(Vt.Qb=1,Vt.qb+=sn[0][Ln[0]+0].value<<8)),Vt.jc=!Vt.Qb&&6>Ii,Vt.jc){var Us,pr=Vt;for(Us=0;Us<la;++Us){var Br=Us,Or=pr.pd[Br],qs=pr.G[0][pr.H[0]+Br];256<=qs.value?(Or.g=qs.g+256,Or.value=qs.value):(Or.g=0,Or.value=0,Br>>=Si(qs,8,Or),Br>>=Si(pr.G[1][pr.H[1]+Br],16,Or),Br>>=Si(pr.G[2][pr.H[2]+Br],0,Or),Si(pr.G[3][pr.H[3]+Br],24,Or))}}}wi.vc=Lt,wi.Wb=Tt,wi.Ya=an,wi.yc=nn,Pe=1;break t}Pe=0}if(!(w=Pe)){m.a=3;break e}if(0<ae){if(T.ua=1<<ae,!P(T.Wa,ae)){m.a=1,w=0;break e}}else T.ua=0;var fc=m,mh=x,D1=k,dc=fc.s,pc=dc.xc;if(fc.c=mh,fc.i=D1,dc.md=ke(mh,pc),dc.wc=pc==0?-1:(1<<pc)-1,g){m.xb=s1;break e}if((K=a(x*k))==null){m.a=1,w=0;break e}w=(w=An(m,K,0,x,k,k,null))&&!L.h;break e}return w?(b!=null?b[0]=K:(e(K==null),e(g)),m.$=0,g||dn(T)):dn(T),w}function Xr(o,c){var g=o.c*o.i,m=g+c+16*c;return e(o.c<=c),o.V=a(m),o.V==null?(o.Ta=null,o.Ua=0,o.a=1,0):(o.Ta=o.V,o.Ua=o.Ba+g+c,1)}function Ca(o,c){var g=o.C,m=c-g,b=o.V,w=o.Ba+o.c*g;for(e(c<=o.l.o);0<m;){var x=16<m?16:m,k=o.l.ma,L=o.l.width,T=L*x,K=k.ca,ae=k.tb+L*g,B=o.Ta,J=o.Ua;Yr(o,x,b,w),Uu(B,J,K,ae,T),Bn(k,g,g+x,K,ae,L),m-=x,b+=x*o.c,g+=x}e(g==c),o.C=o.Ma=c}function ka(){this.ub=this.yd=this.td=this.Rb=0}function Ma(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ol(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function ro(){this.Yb=(function(){var o=[];return(function c(g,m,b){for(var w=b[m],x=0;x<w&&(g.push(b.length>m+1?[]:0),!(b.length<m+1));x++)c(g[x],m+1,b)})(o,0,[3,11]),o})()}function ss(){this.jb=a(3),this.Wc=s([4,8],ro),this.Xc=s([4,17],ro)}function ls(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function pn(){this.ld=this.La=this.dd=this.tc=0}function ao(){this.Na=this.la=0}function cs(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function oo(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function us(){this.uc=this.M=this.Nb=0,this.wa=Array(new pn),this.Y=0,this.ya=Array(new oo),this.aa=0,this.l=new Na}function hs(){this.y=a(16),this.f=a(8),this.ea=a(8)}function fs(){this.cb=this.a=0,this.sc="",this.m=new S,this.Od=new ka,this.Kc=new Ma,this.ed=new ls,this.Qa=new Ol,this.Ic=this.$c=this.Aa=0,this.D=new us,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,S),this.ia=0,this.pb=l(4,cs),this.Pa=new ss,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new hs),this.Hd=0,this.rb=Array(new ao),this.sb=0,this.wa=Array(new pn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new oo),this.L=this.aa=0,this.gd=s([4,2],pn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Rn(o,c){return 0>o?0:o>c?c:o}function Na(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Rl(){var o=new fs;return o!=null&&(o.a=0,o.sc="OK",o.cb=0,o.Xb=0,No||(No=La)),o}function pi(o,c,g){return o.a==0&&(o.a=c,o.sc=g,o.cb=0),0}function ds(o,c,g){return 3<=g&&o[c+0]==157&&o[c+1]==1&&o[c+2]==42}function zn(o,c){if(o==null)return 0;if(o.a=0,o.sc="OK",c==null)return pi(o,2,"null VP8Io passed to VP8GetHeaders()");var g=c.data,m=c.w,b=c.ha;if(4>b)return pi(o,7,"Truncated header.");var w=g[m+0]|g[m+1]<<8|g[m+2]<<16,x=o.Od;if(x.Rb=!(1&w),x.td=w>>1&7,x.yd=w>>4&1,x.ub=w>>5,3<x.td)return pi(o,3,"Incorrect keyframe parameters.");if(!x.yd)return pi(o,4,"Frame not displayable.");m+=3,b-=3;var k=o.Kc;if(x.Rb){if(7>b)return pi(o,7,"cannot parse picture header");if(!ds(g,m,b))return pi(o,3,"Bad code word");k.c=16383&(g[m+4]<<8|g[m+3]),k.Td=g[m+4]>>6,k.i=16383&(g[m+6]<<8|g[m+5]),k.Ud=g[m+6]>>6,m+=7,b-=7,o.za=k.c+15>>4,o.Ub=k.i+15>>4,c.width=k.c,c.height=k.i,c.Da=0,c.j=0,c.v=0,c.va=c.width,c.o=c.height,c.da=0,c.ib=c.width,c.hb=c.height,c.U=c.width,c.T=c.height,r((w=o.Pa).jb,0,255,w.jb.length),e((w=o.Qa)!=null),w.Cb=0,w.Bb=0,w.Fb=1,r(w.Zb,0,0,w.Zb.length),r(w.Lb,0,0,w.Lb)}if(x.ub>b)return pi(o,7,"bad partition length");de(w=o.m,g,m,x.ub),m+=x.ub,b-=x.ub,x.Rb&&(k.Ld=fe(w),k.Kd=fe(w)),k=o.Qa;var L,T=o.Pa;if(e(w!=null),e(k!=null),k.Cb=fe(w),k.Cb){if(k.Bb=fe(w),fe(w)){for(k.Fb=fe(w),L=0;4>L;++L)k.Zb[L]=fe(w)?oe(w,7):0;for(L=0;4>L;++L)k.Lb[L]=fe(w)?oe(w,6):0}if(k.Bb)for(L=0;3>L;++L)T.jb[L]=fe(w)?me(w,8):255}else k.Bb=0;if(w.Ka)return pi(o,3,"cannot parse segment header");if((k=o.ed).zd=fe(w),k.Tb=me(w,6),k.wb=me(w,3),k.Pc=fe(w),k.Pc&&fe(w)){for(T=0;4>T;++T)fe(w)&&(k.vd[T]=oe(w,6));for(T=0;4>T;++T)fe(w)&&(k.od[T]=oe(w,6))}if(o.L=k.Tb==0?0:k.zd?1:2,w.Ka)return pi(o,3,"cannot parse filter header");var K=b;if(b=L=m,m=L+K,k=K,o.Xb=(1<<me(o.m,2))-1,K<3*(T=o.Xb))g=7;else{for(L+=3*T,k-=3*T,K=0;K<T;++K){var ae=g[b+0]|g[b+1]<<8|g[b+2]<<16;ae>k&&(ae=k),de(o.Jc[+K],g,L,ae),L+=ae,k-=ae,b+=3}de(o.Jc[+T],g,L,k),g=L<m?0:5}if(g!=0)return pi(o,g,"cannot parse partitions");for(g=me(L=o.m,7),b=fe(L)?oe(L,4):0,m=fe(L)?oe(L,4):0,k=fe(L)?oe(L,4):0,T=fe(L)?oe(L,4):0,L=fe(L)?oe(L,4):0,K=o.Qa,ae=0;4>ae;++ae){if(K.Cb){var B=K.Zb[ae];K.Fb||(B+=g)}else{if(0<ae){o.pb[ae]=o.pb[0];continue}B=g}var J=o.pb[ae];J.Sc[0]=rc[Rn(B+b,127)],J.Sc[1]=ac[Rn(B+0,127)],J.Eb[0]=2*rc[Rn(B+m,127)],J.Eb[1]=101581*ac[Rn(B+k,127)]>>16,8>J.Eb[1]&&(J.Eb[1]=8),J.Qc[0]=rc[Rn(B+T,117)],J.Qc[1]=ac[Rn(B+L,127)],J.lc=B+L}if(!x.Rb)return pi(o,4,"Not a key frame.");for(fe(w),x=o.Pa,g=0;4>g;++g){for(b=0;8>b;++b)for(m=0;3>m;++m)for(k=0;11>k;++k)T=xe(w,a1[g][b][m][k])?me(w,8):n1[g][b][m][k],x.Wc[g][b].Yb[m][k]=T;for(b=0;17>b;++b)x.Xc[g][b]=x.Wc[g][o1[b]]}return o.kc=fe(w),o.kc&&(o.Bd=me(w,8)),o.cb=1}function La(o,c,g,m,b,w,x){var k=c[b].Yb[g];for(g=0;16>b;++b){if(!xe(o,k[g+0]))return b;for(;!xe(o,k[g+1]);)if(k=c[++b].Yb[0],g=0,b==16)return 16;var L=c[b+1].Yb;if(xe(o,k[g+2])){var T=o,K=0;if(xe(T,(B=k)[(ae=g)+3]))if(xe(T,B[ae+6])){for(k=0,ae=2*(K=xe(T,B[ae+8]))+(B=xe(T,B[ae+9+K])),K=0,B=t1[ae];B[k];++k)K+=K+xe(T,B[k]);K+=3+(8<<ae)}else xe(T,B[ae+7])?(K=7+2*xe(T,165),K+=xe(T,145)):K=5+xe(T,159);else K=xe(T,B[ae+4])?3+xe(T,B[ae+5]):2;k=L[2]}else K=1,k=L[1];L=x+i1[b],0>(T=o).b&&ue(T);var ae,B=T.b,J=(ae=T.Ca>>1)-(T.I>>B)>>31;--T.b,T.Ca+=J,T.Ca|=1,T.I-=(ae+1&J)<<B,w[L]=((K^J)-J)*m[(0<b)+0]}return 16}function ps(o){var c=o.rb[o.sb-1];c.la=0,c.Na=0,r(o.zc,0,0,o.zc.length),o.ja=0}function gn(o,c,g,m,b){b=o[c+g+32*m]+(b>>3),o[c+g+32*m]=-256&b?0>b?0:255:b}function vi(o,c,g,m,b,w){gn(o,c,0,g,m+b),gn(o,c,1,g,m+w),gn(o,c,2,g,m-w),gn(o,c,3,g,m-b)}function er(o){return(20091*o>>16)+o}function gs(o,c,g,m){var b,w=0,x=a(16);for(b=0;4>b;++b){var k=o[c+0]+o[c+8],L=o[c+0]-o[c+8],T=(35468*o[c+4]>>16)-er(o[c+12]),K=er(o[c+4])+(35468*o[c+12]>>16);x[w+0]=k+K,x[w+1]=L+T,x[w+2]=L-T,x[w+3]=k-K,w+=4,c++}for(b=w=0;4>b;++b)k=(o=x[w+0]+4)+x[w+8],L=o-x[w+8],T=(35468*x[w+4]>>16)-er(x[w+12]),gn(g,m,0,0,k+(K=er(x[w+4])+(35468*x[w+12]>>16))),gn(g,m,1,0,L+T),gn(g,m,2,0,L-T),gn(g,m,3,0,k-K),w++,m+=32}function zl(o,c,g,m){var b=o[c+0]+4,w=35468*o[c+4]>>16,x=er(o[c+4]),k=35468*o[c+1]>>16;vi(g,m,0,b+x,o=er(o[c+1]),k),vi(g,m,1,b+w,o,k),vi(g,m,2,b-w,o,k),vi(g,m,3,b-x,o,k)}function jl(o,c,g,m,b){gs(o,c,g,m),b&&gs(o,c+16,g,m+4)}function jn(o,c,g,m){ua(o,c+0,g,m,1),ua(o,c+32,g,m+128,1)}function ms(o,c,g,m){var b;for(o=o[c+0]+4,b=0;4>b;++b)for(c=0;4>c;++c)gn(g,m,c,b,o)}function vs(o,c,g,m){o[c+0]&&Ft(o,c+0,g,m),o[c+16]&&Ft(o,c+16,g,m+4),o[c+32]&&Ft(o,c+32,g,m+128),o[c+48]&&Ft(o,c+48,g,m+128+4)}function Da(o,c,g,m){var b,w=a(16);for(b=0;4>b;++b){var x=o[c+0+b]+o[c+12+b],k=o[c+4+b]+o[c+8+b],L=o[c+4+b]-o[c+8+b],T=o[c+0+b]-o[c+12+b];w[0+b]=x+k,w[8+b]=x-k,w[4+b]=T+L,w[12+b]=T-L}for(b=0;4>b;++b)x=(o=w[0+4*b]+3)+w[3+4*b],k=w[1+4*b]+w[2+4*b],L=w[1+4*b]-w[2+4*b],T=o-w[3+4*b],g[m+0]=x+k>>3,g[m+16]=T+L>>3,g[m+32]=x-k>>3,g[m+48]=T-L>>3,m+=64}function Jr(o,c,g){var m,b=c-32,w=tn,x=255-o[b-1];for(m=0;m<g;++m){var k,L=w,T=x+o[c-1];for(k=0;k<g;++k)o[c+k]=L[T+o[b+k]];c+=32}}function Ul(o,c){Jr(o,c,4)}function ql(o,c){Jr(o,c,8)}function Vl(o,c){Jr(o,c,16)}function so(o,c){var g;for(g=0;16>g;++g)n(o,c+32*g,o,c-32,16)}function _s(o,c){var g;for(g=16;0<g;--g)r(o,c,o[c-1],16),c+=32}function Cn(o,c,g){var m;for(m=0;16>m;++m)r(c,g+32*m,o,16)}function Wl(o,c){var g,m=16;for(g=0;16>g;++g)m+=o[c-1+32*g]+o[c+g-32];Cn(m>>5,o,c)}function Qr(o,c){var g,m=8;for(g=0;16>g;++g)m+=o[c-1+32*g];Cn(m>>4,o,c)}function lo(o,c){var g,m=8;for(g=0;16>g;++g)m+=o[c+g-32];Cn(m>>4,o,c)}function Hl(o,c){Cn(128,o,c)}function lt(o,c,g){return o+2*c+g+2>>2}function Gl(o,c){var g,m=c-32;for(m=new Uint8Array([lt(o[m-1],o[m+0],o[m+1]),lt(o[m+0],o[m+1],o[m+2]),lt(o[m+1],o[m+2],o[m+3]),lt(o[m+2],o[m+3],o[m+4])]),g=0;4>g;++g)n(o,c+32*g,m,0,m.length)}function $l(o,c){var g=o[c-1],m=o[c-1+32],b=o[c-1+64],w=o[c-1+96];De(o,c+0,16843009*lt(o[c-1-32],g,m)),De(o,c+32,16843009*lt(g,m,b)),De(o,c+64,16843009*lt(m,b,w)),De(o,c+96,16843009*lt(b,w,w))}function Zl(o,c){var g,m=4;for(g=0;4>g;++g)m+=o[c+g-32]+o[c-1+32*g];for(m>>=3,g=0;4>g;++g)r(o,c+32*g,m,4)}function tr(o,c){var g=o[c-1+0],m=o[c-1+32],b=o[c-1+64],w=o[c-1-32],x=o[c+0-32],k=o[c+1-32],L=o[c+2-32],T=o[c+3-32];o[c+0+96]=lt(m,b,o[c-1+96]),o[c+1+96]=o[c+0+64]=lt(g,m,b),o[c+2+96]=o[c+1+64]=o[c+0+32]=lt(w,g,m),o[c+3+96]=o[c+2+64]=o[c+1+32]=o[c+0+0]=lt(x,w,g),o[c+3+64]=o[c+2+32]=o[c+1+0]=lt(k,x,w),o[c+3+32]=o[c+2+0]=lt(L,k,x),o[c+3+0]=lt(T,L,k)}function ir(o,c){var g=o[c+1-32],m=o[c+2-32],b=o[c+3-32],w=o[c+4-32],x=o[c+5-32],k=o[c+6-32],L=o[c+7-32];o[c+0+0]=lt(o[c+0-32],g,m),o[c+1+0]=o[c+0+32]=lt(g,m,b),o[c+2+0]=o[c+1+32]=o[c+0+64]=lt(m,b,w),o[c+3+0]=o[c+2+32]=o[c+1+64]=o[c+0+96]=lt(b,w,x),o[c+3+32]=o[c+2+64]=o[c+1+96]=lt(w,x,k),o[c+3+64]=o[c+2+96]=lt(x,k,L),o[c+3+96]=lt(k,L,L)}function Yl(o,c){var g=o[c-1+0],m=o[c-1+32],b=o[c-1+64],w=o[c-1-32],x=o[c+0-32],k=o[c+1-32],L=o[c+2-32],T=o[c+3-32];o[c+0+0]=o[c+1+64]=w+x+1>>1,o[c+1+0]=o[c+2+64]=x+k+1>>1,o[c+2+0]=o[c+3+64]=k+L+1>>1,o[c+3+0]=L+T+1>>1,o[c+0+96]=lt(b,m,g),o[c+0+64]=lt(m,g,w),o[c+0+32]=o[c+1+96]=lt(g,w,x),o[c+1+32]=o[c+2+96]=lt(w,x,k),o[c+2+32]=o[c+3+96]=lt(x,k,L),o[c+3+32]=lt(k,L,T)}function Kl(o,c){var g=o[c+0-32],m=o[c+1-32],b=o[c+2-32],w=o[c+3-32],x=o[c+4-32],k=o[c+5-32],L=o[c+6-32],T=o[c+7-32];o[c+0+0]=g+m+1>>1,o[c+1+0]=o[c+0+64]=m+b+1>>1,o[c+2+0]=o[c+1+64]=b+w+1>>1,o[c+3+0]=o[c+2+64]=w+x+1>>1,o[c+0+32]=lt(g,m,b),o[c+1+32]=o[c+0+96]=lt(m,b,w),o[c+2+32]=o[c+1+96]=lt(b,w,x),o[c+3+32]=o[c+2+96]=lt(w,x,k),o[c+3+64]=lt(x,k,L),o[c+3+96]=lt(k,L,T)}function Ea(o,c){var g=o[c-1+0],m=o[c-1+32],b=o[c-1+64],w=o[c-1+96];o[c+0+0]=g+m+1>>1,o[c+2+0]=o[c+0+32]=m+b+1>>1,o[c+2+32]=o[c+0+64]=b+w+1>>1,o[c+1+0]=lt(g,m,b),o[c+3+0]=o[c+1+32]=lt(m,b,w),o[c+3+32]=o[c+1+64]=lt(b,w,w),o[c+3+64]=o[c+2+64]=o[c+0+96]=o[c+1+96]=o[c+2+96]=o[c+3+96]=w}function co(o,c){var g=o[c-1+0],m=o[c-1+32],b=o[c-1+64],w=o[c-1+96],x=o[c-1-32],k=o[c+0-32],L=o[c+1-32],T=o[c+2-32];o[c+0+0]=o[c+2+32]=g+x+1>>1,o[c+0+32]=o[c+2+64]=m+g+1>>1,o[c+0+64]=o[c+2+96]=b+m+1>>1,o[c+0+96]=w+b+1>>1,o[c+3+0]=lt(k,L,T),o[c+2+0]=lt(x,k,L),o[c+1+0]=o[c+3+32]=lt(g,x,k),o[c+1+32]=o[c+3+64]=lt(m,g,x),o[c+1+64]=o[c+3+96]=lt(b,m,g),o[c+1+96]=lt(w,b,m)}function ea(o,c){var g;for(g=0;8>g;++g)n(o,c+32*g,o,c-32,8)}function Xl(o,c){var g;for(g=0;8>g;++g)r(o,c,o[c-1],8),c+=32}function nr(o,c,g){var m;for(m=0;8>m;++m)r(c,g+32*m,o,8)}function Jl(o,c){var g,m=8;for(g=0;8>g;++g)m+=o[c+g-32]+o[c-1+32*g];nr(m>>4,o,c)}function uo(o,c){var g,m=4;for(g=0;8>g;++g)m+=o[c+g-32];nr(m>>3,o,c)}function ho(o,c){var g,m=4;for(g=0;8>g;++g)m+=o[c-1+32*g];nr(m>>3,o,c)}function ys(o,c){nr(128,o,c)}function rr(o,c,g){var m=o[c-g],b=o[c+0],w=3*(b-m)+Ql[1020+o[c-2*g]-o[c+g]],x=Ms[112+(w+4>>3)];o[c-g]=tn[255+m+Ms[112+(w+3>>3)]],o[c+0]=tn[255+b-x]}function fo(o,c,g,m){var b=o[c+0],w=o[c+g];return _n[255+o[c-2*g]-o[c-g]]>m||_n[255+w-b]>m}function Pa(o,c,g,m){return 4*_n[255+o[c-g]-o[c+0]]+_n[255+o[c-2*g]-o[c+g]]<=m}function po(o,c,g,m,b){var w=o[c-3*g],x=o[c-2*g],k=o[c-g],L=o[c+0],T=o[c+g],K=o[c+2*g],ae=o[c+3*g];return 4*_n[255+k-L]+_n[255+x-T]>m?0:_n[255+o[c-4*g]-w]<=b&&_n[255+w-x]<=b&&_n[255+x-k]<=b&&_n[255+ae-K]<=b&&_n[255+K-T]<=b&&_n[255+T-L]<=b}function ta(o,c,g,m){var b=2*m+1;for(m=0;16>m;++m)Pa(o,c+m,g,b)&&rr(o,c+m,g)}function go(o,c,g,m){var b=2*m+1;for(m=0;16>m;++m)Pa(o,c+m*g,1,b)&&rr(o,c+m*g,1)}function bs(o,c,g,m){var b;for(b=3;0<b;--b)ta(o,c+=4*g,g,m)}function ws(o,c,g,m){var b;for(b=3;0<b;--b)go(o,c+=4,g,m)}function ar(o,c,g,m,b,w,x,k){for(w=2*w+1;0<b--;){if(po(o,c,g,w,x))if(fo(o,c,g,k))rr(o,c,g);else{var L=o,T=c,K=g,ae=L[T-2*K],B=L[T-K],J=L[T+0],te=L[T+K],ge=L[T+2*K],re=27*(be=Ql[1020+3*(J-B)+Ql[1020+ae-te]])+63>>7,ve=18*be+63>>7,be=9*be+63>>7;L[T-3*K]=tn[255+L[T-3*K]+be],L[T-2*K]=tn[255+ae+ve],L[T-K]=tn[255+B+re],L[T+0]=tn[255+J-re],L[T+K]=tn[255+te-ve],L[T+2*K]=tn[255+ge-be]}c+=m}}function or(o,c,g,m,b,w,x,k){for(w=2*w+1;0<b--;){if(po(o,c,g,w,x))if(fo(o,c,g,k))rr(o,c,g);else{var L=o,T=c,K=g,ae=L[T-K],B=L[T+0],J=L[T+K],te=Ms[112+(4+(ge=3*(B-ae))>>3)],ge=Ms[112+(ge+3>>3)],re=te+1>>1;L[T-2*K]=tn[255+L[T-2*K]+re],L[T-K]=tn[255+ae+ge],L[T+0]=tn[255+B-te],L[T+K]=tn[255+J-re]}c+=m}}function xs(o,c,g,m,b,w){ar(o,c,g,1,16,m,b,w)}function ia(o,c,g,m,b,w){ar(o,c,1,g,16,m,b,w)}function Ss(o,c,g,m,b,w){var x;for(x=3;0<x;--x)or(o,c+=4*g,g,1,16,m,b,w)}function f(o,c,g,m,b,w){var x;for(x=3;0<x;--x)or(o,c+=4,1,g,16,m,b,w)}function y(o,c,g,m,b,w,x,k){ar(o,c,b,1,8,w,x,k),ar(g,m,b,1,8,w,x,k)}function O(o,c,g,m,b,w,x,k){ar(o,c,1,b,8,w,x,k),ar(g,m,1,b,8,w,x,k)}function G(o,c,g,m,b,w,x,k){or(o,c+4*b,b,1,8,w,x,k),or(g,m+4*b,b,1,8,w,x,k)}function ee(o,c,g,m,b,w,x,k){or(o,c+4,1,b,8,w,x,k),or(g,m+4,1,b,8,w,x,k)}function ye(){this.ba=new bt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new It,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Se(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function je(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function He(){this.ua=0,this.Wa=new vt,this.vb=new vt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ce,this.yc=new $}function st(){this.xb=this.a=0,this.l=new Na,this.ca=new bt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new R,this.Pb=0,this.wd=new R,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new He,this.ab=0,this.gc=l(4,je),this.Oc=0}function pt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Na,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Nt(o,c,g,m,b,w,x){for(o=o==null?0:o[c+0],c=0;c<x;++c)b[w+c]=o+g[m+c]&255,o=b[w+c]}function Qt(o,c,g,m,b,w,x){var k;if(o==null)Nt(null,null,g,m,b,w,x);else for(k=0;k<x;++k)b[w+k]=o[c+k]+g[m+k]&255}function gi(o,c,g,m,b,w,x){if(o==null)Nt(null,null,g,m,b,w,x);else{var k,L=o[c+0],T=L,K=L;for(k=0;k<x;++k)T=K+(L=o[c+k])-T,K=g[m+k]+(-256&T?0>T?0:255:T)&255,T=L,b[w+k]=K}}function qt(o,c,g,m){var b=c.width,w=c.o;if(e(o!=null&&c!=null),0>g||0>=m||g+m>w)return null;if(!o.Cc){if(o.ga==null){var x;if(o.ga=new pt,(x=o.ga==null)||(x=c.width*c.o,e(o.Gb.length==0),o.Gb=a(x),o.Uc=0,o.Gb==null?x=0:(o.mb=o.Gb,o.nb=o.Uc,o.rc=null,x=1),x=!x),!x){x=o.ga;var k=o.Fa,L=o.P,T=o.qc,K=o.mb,ae=o.nb,B=L+1,J=T-1,te=x.l;if(e(k!=null&&K!=null&&c!=null),Ir[0]=null,Ir[1]=Nt,Ir[2]=Qt,Ir[3]=gi,x.ca=K,x.tb=ae,x.c=c.width,x.i=c.height,e(0<x.c&&0<x.i),1>=T)c=0;else if(x.$a=3&k[L+0],x.Z=k[L+0]>>2&3,x.Lc=k[L+0]>>4&3,L=k[L+0]>>6&3,0>x.$a||1<x.$a||4<=x.Z||1<x.Lc||L)c=0;else if(te.put=it,te.ac=Tn,te.bc=Jn,te.ma=x,te.width=c.width,te.height=c.height,te.Da=c.Da,te.v=c.v,te.va=c.va,te.j=c.j,te.o=c.o,x.$a)e:{e(x.$a==1),c=Kr();t:for(;;){if(c==null){c=0;break e}if(e(x!=null),x.mc=c,c.c=x.c,c.i=x.i,c.l=x.l,c.l.ma=x,c.l.width=x.c,c.l.height=x.i,c.a=0,_e(c.m,k,B,J),!On(x.c,x.i,1,c,null)||(c.ab==1&&c.gc[0].hc==3&&xn(c.s)?(x.ic=1,k=c.c*c.i,c.Ta=null,c.Ua=0,c.V=a(k),c.Ba=0,c.V==null?(c.a=1,c=0):c=1):(x.ic=0,c=Xr(c,x.c)),!c))break t;c=1;break e}x.mc=null,c=0}else c=J>=x.c*x.i;x=!c}if(x)return null;o.ga.Lc!=1?o.Ga=0:m=w-g}e(o.ga!=null),e(g+m<=w);e:{if(c=(k=o.ga).c,w=k.l.o,k.$a==0){if(B=o.rc,J=o.Vc,te=o.Fa,L=o.P+1+g*c,T=o.mb,K=o.nb+g*c,e(L<=o.P+o.qc),k.Z!=0)for(e(Ir[k.Z]!=null),x=0;x<m;++x)Ir[k.Z](B,J,te,L,T,K,c),B=T,J=K,K+=c,L+=c;else for(x=0;x<m;++x)n(T,K,te,L,c),B=T,J=K,K+=c,L+=c;o.rc=B,o.Vc=J}else{if(e(k.mc!=null),c=g+m,e((x=k.mc)!=null),e(c<=x.i),x.C>=c)c=1;else if(k.ic||kn(),k.ic){k=x.V,B=x.Ba,J=x.c;var ge=x.i,re=(te=1,L=x.$/J,T=x.$%J,K=x.m,ae=x.s,x.$),ve=J*ge,be=J*c,Le=ae.wc,Ae=re<be?Ni(ae,T,L):null;e(re<=ve),e(c<=ge),e(xn(ae));t:for(;;){for(;!K.h&&re<be;){if(T&Le||(Ae=Ni(ae,T,L)),e(Ae!=null),ne(K),256>(ge=ti(Ae.G[0],Ae.H[0],K)))k[B+re]=ge,++re,++T>=J&&(T=0,++L<=c&&!(L%16)&&Sn(x,L));else{if(!(280>ge)){te=0;break t}ge=hn(ge-256,K);var Ge,Oe=ti(Ae.G[4],Ae.H[4],K);if(ne(K),!(re>=(Oe=fn(J,Oe=hn(Oe,K)))&&ve-re>=ge)){te=0;break t}for(Ge=0;Ge<ge;++Ge)k[B+re+Ge]=k[B+re+Ge-Oe];for(re+=ge,T+=ge;T>=J;)T-=J,++L<=c&&!(L%16)&&Sn(x,L);re<be&&T&Le&&(Ae=Ni(ae,T,L))}e(K.h==Y(K))}Sn(x,L>c?c:L);break t}!te||K.h&&re<ve?(te=0,x.a=K.h?5:3):x.$=re,c=te}else c=An(x,x.V,x.Ba,x.c,x.i,c,Ca);if(!c){m=0;break e}}g+m>=w&&(o.Cc=1),m=1}if(!m)return null;if(o.Cc&&((m=o.ga)!=null&&(m.mc=null),o.ga=null,0<o.Ga))return alert("todo:WebPDequantizeLevels"),null}return o.nb+g*b}function _i(o,c,g,m,b,w){for(;0<b--;){var x,k=o,L=c+(g?1:0),T=o,K=c+(g?0:3);for(x=0;x<m;++x){var ae=T[K+4*x];ae!=255&&(ae*=32897,k[L+4*x+0]=k[L+4*x+0]*ae>>23,k[L+4*x+1]=k[L+4*x+1]*ae>>23,k[L+4*x+2]=k[L+4*x+2]*ae>>23)}c+=w}}function mi(o,c,g,m,b){for(;0<m--;){var w;for(w=0;w<g;++w){var x=o[c+2*w+0],k=15&(T=o[c+2*w+1]),L=4369*k,T=(240&T|T>>4)*L>>16;o[c+2*w+0]=(240&x|x>>4)*L>>16&240|(15&x|x<<4)*L>>16>>4&15,o[c+2*w+1]=240&T|k}c+=b}}function Li(o,c,g,m,b,w,x,k){var L,T,K=255;for(T=0;T<b;++T){for(L=0;L<m;++L){var ae=o[c+L];w[x+4*L]=ae,K&=ae}c+=g,x+=k}return K!=255}function sr(o,c,g,m,b){var w;for(w=0;w<b;++w)g[m+w]=o[c+w]>>8}function kn(){Mo=_i,zu=mi,ju=Li,Uu=sr}function lr(o,c,g){j[o]=function(m,b,w,x,k,L,T,K,ae,B,J,te,ge,re,ve,be,Le){var Ae,Ge=Le-1>>1,Oe=k[L+0]|T[K+0]<<16,gt=ae[B+0]|J[te+0]<<16;e(m!=null);var qe=3*Oe+gt+131074>>2;for(c(m[b+0],255&qe,qe>>16,ge,re),w!=null&&(qe=3*gt+Oe+131074>>2,c(w[x+0],255&qe,qe>>16,ve,be)),Ae=1;Ae<=Ge;++Ae){var At=k[L+Ae]|T[K+Ae]<<16,bi=ae[B+Ae]|J[te+Ae]<<16,mt=Oe+At+gt+bi+524296,Ve=mt+2*(At+gt)>>3;qe=Ve+Oe>>1,Oe=(mt=mt+2*(Oe+bi)>>3)+At>>1,c(m[b+2*Ae-1],255&qe,qe>>16,ge,re+(2*Ae-1)*g),c(m[b+2*Ae-0],255&Oe,Oe>>16,ge,re+(2*Ae-0)*g),w!=null&&(qe=mt+gt>>1,Oe=Ve+bi>>1,c(w[x+2*Ae-1],255&qe,qe>>16,ve,be+(2*Ae-1)*g),c(w[x+2*Ae+0],255&Oe,Oe>>16,ve,be+(2*Ae+0)*g)),Oe=At,gt=bi}1&Le||(qe=3*Oe+gt+131074>>2,c(m[b+Le-1],255&qe,qe>>16,ge,re+(Le-1)*g),w!=null&&(qe=3*gt+Oe+131074>>2,c(w[x+Le-1],255&qe,qe>>16,ve,be+(Le-1)*g)))}}function mo(){yn[Ns]=l1,yn[Ls]=Ju,yn[$u]=c1,yn[Ds]=Qu,yn[Es]=eh,yn[ec]=th,yn[Zu]=u1,yn[tc]=Ju,yn[ic]=Qu,yn[Ps]=eh,yn[nc]=th}function Ia(o){return o&~h1?0>o?0:255:o>>ih}function Sr(o,c){return Ia((19077*o>>8)+(26149*c>>8)-14234)}function na(o,c,g){return Ia((19077*o>>8)-(6419*c>>8)-(13320*g>>8)+8708)}function ra(o,c){return Ia((19077*o>>8)+(33050*c>>8)-17685)}function Ar(o,c,g,m,b){m[b+0]=Sr(o,g),m[b+1]=na(o,c,g),m[b+2]=ra(o,c)}function Di(o,c,g,m,b){m[b+0]=ra(o,c),m[b+1]=na(o,c,g),m[b+2]=Sr(o,g)}function aa(o,c,g,m,b){var w=na(o,c,g);c=w<<3&224|ra(o,c)>>3,m[b+0]=248&Sr(o,g)|w>>5,m[b+1]=c}function oa(o,c,g,m,b){var w=240&ra(o,c)|15;m[b+0]=240&Sr(o,g)|na(o,c,g)>>4,m[b+1]=w}function vo(o,c,g,m,b){m[b+0]=255,Ar(o,c,g,m,b+1)}function _o(o,c,g,m,b){Di(o,c,g,m,b),m[b+3]=255}function Ui(o,c,g,m,b){Ar(o,c,g,m,b),m[b+3]=255}function cr(o,c,g){j[o]=function(m,b,w,x,k,L,T,K,ae){for(var B=K+(-2&ae)*g;K!=B;)c(m[b+0],w[x+0],k[L+0],T,K),c(m[b+1],w[x+0],k[L+0],T,K+g),b+=2,++x,++L,K+=2*g;1&ae&&c(m[b+0],w[x+0],k[L+0],T,K)}}function Fa(o,c,g){return g==0?o==0?c==0?6:5:c==0?4:0:g}function As(o,c,g,m,b){switch(o>>>30){case 3:ua(c,g,m,b,0);break;case 2:vn(c,g,m,b);break;case 1:Ft(c,g,m,b)}}function mn(o,c){var g,m,b=c.M,w=c.Nb,x=o.oc,k=o.pc+40,L=o.oc,T=o.pc+584,K=o.oc,ae=o.pc+600;for(g=0;16>g;++g)x[k+32*g-1]=129;for(g=0;8>g;++g)L[T+32*g-1]=129,K[ae+32*g-1]=129;for(0<b?x[k-1-32]=L[T-1-32]=K[ae-1-32]=129:(r(x,k-32-1,127,21),r(L,T-32-1,127,9),r(K,ae-32-1,127,9)),m=0;m<o.za;++m){var B=c.ya[c.aa+m];if(0<m){for(g=-1;16>g;++g)n(x,k+32*g-4,x,k+32*g+12,4);for(g=-1;8>g;++g)n(L,T+32*g-4,L,T+32*g+4,4),n(K,ae+32*g-4,K,ae+32*g+4,4)}var J=o.Gd,te=o.Hd+m,ge=B.ad,re=B.Hc;if(0<b&&(n(x,k-32,J[te].y,0,16),n(L,T-32,J[te].f,0,8),n(K,ae-32,J[te].ea,0,8)),B.Za){var ve=x,be=k-32+16;for(0<b&&(m>=o.za-1?r(ve,be,J[te].y[15],4):n(ve,be,J[te+1].y,0,4)),g=0;4>g;g++)ve[be+128+g]=ve[be+256+g]=ve[be+384+g]=ve[be+0+g];for(g=0;16>g;++g,re<<=2)ve=x,be=k+rh[g],Mn[B.Ob[g]](ve,be),As(re,ge,16*+g,ve,be)}else if(ve=Fa(m,b,B.Ob[0]),Pr[ve](x,k),re!=0)for(g=0;16>g;++g,re<<=2)As(re,ge,16*+g,x,k+rh[g]);for(g=B.Gc,ve=Fa(m,b,B.Dd),fr[ve](L,T),fr[ve](K,ae),re=ge,ve=L,be=T,255&(B=0|g)&&(170&B?Vn(re,256,ve,be):Rt(re,256,ve,be)),B=K,re=ae,255&(g>>=8)&&(170&g?Vn(ge,320,B,re):Rt(ge,320,B,re)),b<o.Ub-1&&(n(J[te].y,0,x,k+480,16),n(J[te].f,0,L,T+224,8),n(J[te].ea,0,K,ae+224,8)),g=8*w*o.B,J=o.sa,te=o.ta+16*m+16*w*o.R,ge=o.qa,B=o.ra+8*m+g,re=o.Ha,ve=o.Ia+8*m+g,g=0;16>g;++g)n(J,te+g*o.R,x,k+32*g,16);for(g=0;8>g;++g)n(ge,B+g*o.B,L,T+32*g,8),n(re,ve+g*o.B,K,ae+32*g,8)}}function sa(o,c,g,m,b,w,x,k,L){var T=[0],K=[0],ae=0,B=L!=null?L.kd:0,J=L??new Se;if(o==null||12>g)return 7;J.data=o,J.w=c,J.ha=g,c=[c],g=[g],J.gb=[J.gb];e:{var te=c,ge=g,re=J.gb;if(e(o!=null),e(ge!=null),e(re!=null),re[0]=0,12<=ge[0]&&!t(o,te[0],"RIFF")){if(t(o,te[0]+8,"WEBP")){re=3;break e}var ve=Ze(o,te[0]+4);if(12>ve||4294967286<ve){re=3;break e}if(B&&ve>ge[0]-8){re=7;break e}re[0]=ve,te[0]+=12,ge[0]-=12}re=0}if(re!=0)return re;for(ve=0<J.gb[0],g=g[0];;){e:{var be=o;ge=c,re=g;var Le=T,Ae=K,Ge=te=[0];if((qe=ae=[ae])[0]=0,8>re[0])re=7;else{if(!t(be,ge[0],"VP8X")){if(Ze(be,ge[0]+4)!=10){re=3;break e}if(18>re[0]){re=7;break e}var Oe=Ze(be,ge[0]+8),gt=1+Te(be,ge[0]+12);if(2147483648<=gt*(be=1+Te(be,ge[0]+15))){re=3;break e}Ge!=null&&(Ge[0]=Oe),Le!=null&&(Le[0]=gt),Ae!=null&&(Ae[0]=be),ge[0]+=18,re[0]-=18,qe[0]=1}re=0}}if(ae=ae[0],te=te[0],re!=0)return re;if(ge=!!(2&te),!ve&&ae)return 3;if(w!=null&&(w[0]=!!(16&te)),x!=null&&(x[0]=ge),k!=null&&(k[0]=0),x=T[0],te=K[0],ae&&ge&&L==null){re=0;break}if(4>g){re=7;break}if(ve&&ae||!ve&&!ae&&!t(o,c[0],"ALPH")){g=[g],J.na=[J.na],J.P=[J.P],J.Sa=[J.Sa];e:{Oe=o,re=c,ve=g;var qe=J.gb;Le=J.na,Ae=J.P,Ge=J.Sa,gt=22,e(Oe!=null),e(ve!=null),be=re[0];var At=ve[0];for(e(Le!=null),e(Ge!=null),Le[0]=null,Ae[0]=null,Ge[0]=0;;){if(re[0]=be,ve[0]=At,8>At){re=7;break e}var bi=Ze(Oe,be+4);if(4294967286<bi){re=3;break e}var mt=8+bi+1&-2;if(gt+=mt,0<qe&&gt>qe){re=3;break e}if(!t(Oe,be,"VP8 ")||!t(Oe,be,"VP8L")){re=0;break e}if(At[0]<mt){re=7;break e}t(Oe,be,"ALPH")||(Le[0]=Oe,Ae[0]=be+8,Ge[0]=bi),be+=mt,At-=mt}}if(g=g[0],J.na=J.na[0],J.P=J.P[0],J.Sa=J.Sa[0],re!=0)break}g=[g],J.Ja=[J.Ja],J.xa=[J.xa];e:if(qe=o,re=c,ve=g,Le=J.gb[0],Ae=J.Ja,Ge=J.xa,Oe=re[0],be=!t(qe,Oe,"VP8 "),gt=!t(qe,Oe,"VP8L"),e(qe!=null),e(ve!=null),e(Ae!=null),e(Ge!=null),8>ve[0])re=7;else{if(be||gt){if(qe=Ze(qe,Oe+4),12<=Le&&qe>Le-12){re=3;break e}if(B&&qe>ve[0]-8){re=7;break e}Ae[0]=qe,re[0]+=8,ve[0]-=8,Ge[0]=gt}else Ge[0]=5<=ve[0]&&qe[Oe+0]==47&&!(qe[Oe+4]>>5),Ae[0]=ve[0];re=0}if(g=g[0],J.Ja=J.Ja[0],J.xa=J.xa[0],c=c[0],re!=0)break;if(4294967286<J.Ja)return 3;if(k==null||ge||(k[0]=J.xa?2:1),x=[x],te=[te],J.xa){if(5>g){re=7;break}k=x,B=te,ge=w,o==null||5>g?o=0:5<=g&&o[c+0]==47&&!(o[c+4]>>5)?(ve=[0],qe=[0],Le=[0],_e(Ae=new R,o,c,g),Qn(Ae,ve,qe,Le)?(k!=null&&(k[0]=ve[0]),B!=null&&(B[0]=qe[0]),ge!=null&&(ge[0]=Le[0]),o=1):o=0):o=0}else{if(10>g){re=7;break}k=te,o==null||10>g||!ds(o,c+3,g-3)?o=0:(B=o[c+0]|o[c+1]<<8|o[c+2]<<16,ge=16383&(o[c+7]<<8|o[c+6]),o=16383&(o[c+9]<<8|o[c+8]),1&B||3<(B>>1&7)||!(B>>4&1)||B>>5>=J.Ja||!ge||!o?o=0:(x&&(x[0]=ge),k&&(k[0]=o),o=1))}if(!o||(x=x[0],te=te[0],ae&&(T[0]!=x||K[0]!=te)))return 3;L!=null&&(L[0]=J,L.offset=c-L.w,e(4294967286>c-L.w),e(L.offset==L.ha-g));break}return re==0||re==7&&ae&&L==null?(w!=null&&(w[0]|=J.na!=null&&0<J.na.length),m!=null&&(m[0]=x),b!=null&&(b[0]=te),0):re}function yo(o,c,g){var m=c.width,b=c.height,w=0,x=0,k=m,L=b;if(c.Da=o!=null&&0<o.Da,c.Da&&(k=o.cd,L=o.bd,w=o.v,x=o.j,11>g||(w&=-2,x&=-2),0>w||0>x||0>=k||0>=L||w+k>m||x+L>b))return 0;if(c.v=w,c.j=x,c.va=w+k,c.o=x+L,c.U=k,c.T=L,c.da=o!=null&&0<o.da,c.da){if(!Je(k,L,g=[o.ib],w=[o.hb]))return 0;c.ib=g[0],c.hb=w[0]}return c.ob=o!=null&&o.ob,c.Kb=o==null||!o.Sd,c.da&&(c.ob=c.ib<3*m/4&&c.hb<3*b/4,c.Kb=0),1}function bo(o){if(o==null)return 2;if(11>o.S){var c=o.f.RGBA;c.fb+=(o.height-1)*c.A,c.A=-c.A}else c=o.f.kb,o=o.height,c.O+=(o-1)*c.fa,c.fa=-c.fa,c.N+=(o-1>>1)*c.Ab,c.Ab=-c.Ab,c.W+=(o-1>>1)*c.Db,c.Db=-c.Db,c.F!=null&&(c.J+=(o-1)*c.lb,c.lb=-c.lb);return 0}function Cr(o,c,g,m){if(m==null||0>=o||0>=c)return 2;if(g!=null){if(g.Da){var b=g.cd,w=g.bd,x=-2&g.v,k=-2&g.j;if(0>x||0>k||0>=b||0>=w||x+b>o||k+w>c)return 2;o=b,c=w}if(g.da){if(!Je(o,c,b=[g.ib],w=[g.hb]))return 2;o=b[0],c=w[0]}}m.width=o,m.height=c;e:{var L=m.width,T=m.height;if(o=m.S,0>=L||0>=T||!(o>=Ns&&13>o))o=2;else{if(0>=m.Rd&&m.sd==null){x=w=b=c=0;var K=(k=L*ah[o])*T;if(11>o||(w=(T+1)/2*(c=(L+1)/2),o==12&&(x=(b=L)*T)),(T=a(K+2*w+x))==null){o=1;break e}m.sd=T,11>o?((L=m.f.RGBA).eb=T,L.fb=0,L.A=k,L.size=K):((L=m.f.kb).y=T,L.O=0,L.fa=k,L.Fd=K,L.f=T,L.N=0+K,L.Ab=c,L.Cd=w,L.ea=T,L.W=0+K+w,L.Db=c,L.Ed=w,o==12&&(L.F=T,L.J=0+K+2*w),L.Tc=x,L.lb=b)}if(c=1,b=m.S,w=m.width,x=m.height,b>=Ns&&13>b)if(11>b)o=m.f.RGBA,c&=(k=Math.abs(o.A))*(x-1)+w<=o.size,c&=k>=w*ah[b],c&=o.eb!=null;else{o=m.f.kb,k=(w+1)/2,K=(x+1)/2,L=Math.abs(o.fa),T=Math.abs(o.Ab);var ae=Math.abs(o.Db),B=Math.abs(o.lb),J=B*(x-1)+w;c&=L*(x-1)+w<=o.Fd,c&=T*(K-1)+k<=o.Cd,c=(c&=ae*(K-1)+k<=o.Ed)&L>=w&T>=k&ae>=k,c&=o.y!=null,c&=o.f!=null,c&=o.ea!=null,b==12&&(c&=B>=w,c&=J<=o.Tc,c&=o.F!=null)}else c=0;o=c?0:2}}return o!=0||g!=null&&g.fd&&(o=bo(m)),o}var la=64,Qi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],en=24,kr=32,ur=8,Mr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Re("Predictor0","PredictorAdd0"),j.Predictor0=function(){return 4278190080},j.Predictor1=function(o){return o},j.Predictor2=function(o,c,g){return c[g+0]},j.Predictor3=function(o,c,g){return c[g+1]},j.Predictor4=function(o,c,g){return c[g-1]},j.Predictor5=function(o,c,g){return Ye(Ye(o,c[g+1]),c[g+0])},j.Predictor6=function(o,c,g){return Ye(o,c[g-1])},j.Predictor7=function(o,c,g){return Ye(o,c[g+0])},j.Predictor8=function(o,c,g){return Ye(c[g-1],c[g+0])},j.Predictor9=function(o,c,g){return Ye(c[g+0],c[g+1])},j.Predictor10=function(o,c,g){return Ye(Ye(o,c[g-1]),Ye(c[g+0],c[g+1]))},j.Predictor11=function(o,c,g){var m=c[g+0];return 0>=ut(m>>24&255,o>>24&255,(c=c[g-1])>>24&255)+ut(m>>16&255,o>>16&255,c>>16&255)+ut(m>>8&255,o>>8&255,c>>8&255)+ut(255&m,255&o,255&c)?m:o},j.Predictor12=function(o,c,g){var m=c[g+0];return(Pt((o>>24&255)+(m>>24&255)-((c=c[g-1])>>24&255))<<24|Pt((o>>16&255)+(m>>16&255)-(c>>16&255))<<16|Pt((o>>8&255)+(m>>8&255)-(c>>8&255))<<8|Pt((255&o)+(255&m)-(255&c)))>>>0},j.Predictor13=function(o,c,g){var m=c[g-1];return(wt((o=Ye(o,c[g+0]))>>24&255,m>>24&255)<<24|wt(o>>16&255,m>>16&255)<<16|wt(o>>8&255,m>>8&255)<<8|wt(255&o,255&m))>>>0};var wo=j.PredictorAdd0;j.PredictorAdd1=St,Re("Predictor2","PredictorAdd2"),Re("Predictor3","PredictorAdd3"),Re("Predictor4","PredictorAdd4"),Re("Predictor5","PredictorAdd5"),Re("Predictor6","PredictorAdd6"),Re("Predictor7","PredictorAdd7"),Re("Predictor8","PredictorAdd8"),Re("Predictor9","PredictorAdd9"),Re("Predictor10","PredictorAdd10"),Re("Predictor11","PredictorAdd11"),Re("Predictor12","PredictorAdd12"),Re("Predictor13","PredictorAdd13");var Ta=j.PredictorAdd2;$e("ColorIndexInverseTransform","MapARGB","32b",function(o){return o>>8&255},function(o){return o}),$e("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(o){return o},function(o){return o>>8&255});var oi,Cs=j.ColorIndexInverseTransform,Un=j.MapARGB,qn=j.VP8LColorIndexInverseTransformAlpha,xo=j.MapAlpha,So=j.VP8LPredictorsAdd=[];So.length=16,(j.VP8LPredictors=[]).length=16,(j.VP8LPredictorsAdd_C=[]).length=16,(j.VP8LPredictors_C=[]).length=16;var Ao,Co,Nr,Lr,Dr,ca,Er,ua,vn,Vn,Ft,Rt,si,yi,hr,ko,Ba,ks,Iu,Fu,Tu,Bu,Ou,Ru,Mo,zu,ju,Uu,qu=a(511),Vu=a(2041),Wu=a(225),Hu=a(767),Gu=0,Ql=Vu,Ms=Wu,tn=Hu,_n=qu,Ns=0,Ls=1,$u=2,Ds=3,Es=4,ec=5,Zu=6,tc=7,ic=8,Ps=9,nc=10,Z0=[2,3,7],Y0=[3,3,11],Yu=[280,256,256,256,40],K0=[0,1,1,1,0],X0=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],J0=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Q0=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],e1=8,rc=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ac=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],No=null,t1=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],i1=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ku=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],n1=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],r1=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],a1=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],o1=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Pr=[],Mn=[],fr=[],s1=1,Xu=2,Ir=[],yn=[];lr("UpsampleRgbLinePair",Ar,3),lr("UpsampleBgrLinePair",Di,3),lr("UpsampleRgbaLinePair",Ui,4),lr("UpsampleBgraLinePair",_o,4),lr("UpsampleArgbLinePair",vo,4),lr("UpsampleRgba4444LinePair",oa,2),lr("UpsampleRgb565LinePair",aa,2);var l1=j.UpsampleRgbLinePair,c1=j.UpsampleBgrLinePair,Ju=j.UpsampleRgbaLinePair,Qu=j.UpsampleBgraLinePair,eh=j.UpsampleArgbLinePair,th=j.UpsampleRgba4444LinePair,u1=j.UpsampleRgb565LinePair,Is=16,Fs=1<<Is-1,Lo=-227,oc=482,ih=6,h1=(256<<ih)-1,nh=0,f1=a(256),d1=a(256),p1=a(256),g1=a(256),m1=a(oc-Lo),v1=a(oc-Lo);cr("YuvToRgbRow",Ar,3),cr("YuvToBgrRow",Di,3),cr("YuvToRgbaRow",Ui,4),cr("YuvToBgraRow",_o,4),cr("YuvToArgbRow",vo,4),cr("YuvToRgba4444Row",oa,2),cr("YuvToRgb565Row",aa,2);var rh=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ts=[0,2,8],_1=[8,7,6,4,4,2,2,2,1,1,1,1],y1=1;this.WebPDecodeRGBA=function(o,c,g,m,b){var w=Ls,x=new ye,k=new bt;x.ba=k,k.S=w,k.width=[k.width],k.height=[k.height];var L=k.width,T=k.height,K=new tt;if(K==null||o==null)var ae=2;else e(K!=null),ae=sa(o,c,g,K.width,K.height,K.Pd,K.Qd,K.format,null);if(ae!=0?L=0:(L!=null&&(L[0]=K.width[0]),T!=null&&(T[0]=K.height[0]),L=1),L){k.width=k.width[0],k.height=k.height[0],m!=null&&(m[0]=k.width),b!=null&&(b[0]=k.height);e:{if(m=new Na,(b=new Se).data=o,b.w=c,b.ha=g,b.kd=1,c=[0],e(b!=null),((o=sa(b.data,b.w,b.ha,null,null,null,c,null,b))==0||o==7)&&c[0]&&(o=4),(c=o)==0){if(e(x!=null),m.data=b.data,m.w=b.w+b.offset,m.ha=b.ha-b.offset,m.put=it,m.ac=Tn,m.bc=Jn,m.ma=x,b.xa){if((o=Kr())==null){x=1;break e}if((function(B,J){var te=[0],ge=[0],re=[0];t:for(;;){if(B==null)return 0;if(J==null)return B.a=2,0;if(B.l=J,B.a=0,_e(B.m,J.data,J.w,J.ha),!Qn(B.m,te,ge,re)){B.a=3;break t}if(B.xb=Xu,J.width=te[0],J.height=ge[0],!On(te[0],ge[0],1,B,null))break t;return 1}return e(B.a!=0),0})(o,m)){if(m=(c=Cr(m.width,m.height,x.Oa,x.ba))==0){t:{m=o;i:for(;;){if(m==null){m=0;break t}if(e(m.s.yc!=null),e(m.s.Ya!=null),e(0<m.s.Wb),e((g=m.l)!=null),e((b=g.ma)!=null),m.xb!=0){if(m.ca=b.ba,m.tb=b.tb,e(m.ca!=null),!yo(b.Oa,g,Ds)){m.a=2;break i}if(!Xr(m,g.width)||g.da)break i;if((g.da||nt(m.ca.S))&&kn(),11>m.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),m.ca.f.kb.F!=null&&kn()),m.Pb&&0<m.s.ua&&m.s.vb.X==null&&!P(m.s.vb,m.s.Wa.Xa)){m.a=1;break i}m.xb=0}if(!An(m,m.V,m.Ba,m.c,m.i,g.o,xr))break i;b.Dc=m.Ma,m=1;break t}e(m.a!=0),m=0}m=!m}m&&(c=o.a)}else c=o.a}else{if((o=new Rl)==null){x=1;break e}if(o.Fa=b.na,o.P=b.P,o.qc=b.Sa,zn(o,m)){if((c=Cr(m.width,m.height,x.Oa,x.ba))==0){if(o.Aa=0,g=x.Oa,e((b=o)!=null),g!=null){if(0<(L=0>(L=g.Md)?0:100<L?255:255*L/100)){for(T=K=0;4>T;++T)12>(ae=b.pb[T]).lc&&(ae.ia=L*_1[0>ae.lc?0:ae.lc]>>3),K|=ae.ia;K&&(alert("todo:VP8InitRandom"),b.ia=1)}b.Ga=g.Id,100<b.Ga?b.Ga=100:0>b.Ga&&(b.Ga=0)}(function(B,J){if(B==null)return 0;if(J==null)return pi(B,2,"NULL VP8Io parameter in VP8Decode().");if(!B.cb&&!zn(B,J))return 0;if(e(B.cb),J.ac==null||J.ac(J)){J.ob&&(B.L=0);var te=Ts[B.L];if(B.L==2?(B.yb=0,B.zb=0):(B.yb=J.v-te>>4,B.zb=J.j-te>>4,0>B.yb&&(B.yb=0),0>B.zb&&(B.zb=0)),B.Va=J.o+15+te>>4,B.Hb=J.va+15+te>>4,B.Hb>B.za&&(B.Hb=B.za),B.Va>B.Ub&&(B.Va=B.Ub),0<B.L){var ge=B.ed;for(te=0;4>te;++te){var re;if(B.Qa.Cb){var ve=B.Qa.Lb[te];B.Qa.Fb||(ve+=ge.Tb)}else ve=ge.Tb;for(re=0;1>=re;++re){var be=B.gd[te][re],Le=ve;if(ge.Pc&&(Le+=ge.vd[0],re&&(Le+=ge.od[0])),0<(Le=0>Le?0:63<Le?63:Le)){var Ae=Le;0<ge.wb&&(Ae=4<ge.wb?Ae>>2:Ae>>1)>9-ge.wb&&(Ae=9-ge.wb),1>Ae&&(Ae=1),be.dd=Ae,be.tc=2*Le+Ae,be.ld=40<=Le?2:15<=Le?1:0}else be.tc=0;be.La=re}}}te=0}else pi(B,6,"Frame setup failed"),te=B.a;if(te=te==0){if(te){B.$c=0,0<B.Aa||(B.Ic=y1);t:{te=B.Ic,ge=4*(Ae=B.za);var Ge=32*Ae,Oe=Ae+1,gt=0<B.L?Ae*(0<B.Aa?2:1):0,qe=(B.Aa==2?2:1)*Ae;if((be=ge+832+(re=3*(16*te+Ts[B.L])/2*Ge)+(ve=B.Fa!=null&&0<B.Fa.length?B.Kc.c*B.Kc.i:0))!=be)te=0;else{if(be>B.Vb){if(B.Vb=0,B.Ec=a(be),B.Fc=0,B.Ec==null){te=pi(B,1,"no memory during frame initialization.");break t}B.Vb=be}be=B.Ec,Le=B.Fc,B.Ac=be,B.Bc=Le,Le+=ge,B.Gd=l(Ge,hs),B.Hd=0,B.rb=l(Oe+1,ao),B.sb=1,B.wa=gt?l(gt,pn):null,B.Y=0,B.D.Nb=0,B.D.wa=B.wa,B.D.Y=B.Y,0<B.Aa&&(B.D.Y+=Ae),e(!0),B.oc=be,B.pc=Le,Le+=832,B.ya=l(qe,oo),B.aa=0,B.D.ya=B.ya,B.D.aa=B.aa,B.Aa==2&&(B.D.aa+=Ae),B.R=16*Ae,B.B=8*Ae,Ae=(Ge=Ts[B.L])*B.R,Ge=Ge/2*B.B,B.sa=be,B.ta=Le+Ae,B.qa=B.sa,B.ra=B.ta+16*te*B.R+Ge,B.Ha=B.qa,B.Ia=B.ra+8*te*B.B+Ge,B.$c=0,Le+=re,B.mb=ve?be:null,B.nb=ve?Le:null,e(Le+ve<=B.Fc+B.Vb),ps(B),r(B.Ac,B.Bc,0,ge),te=1}}if(te){if(J.ka=0,J.y=B.sa,J.O=B.ta,J.f=B.qa,J.N=B.ra,J.ea=B.Ha,J.Vd=B.Ia,J.fa=B.R,J.Rc=B.B,J.F=null,J.J=0,!Gu){for(te=-255;255>=te;++te)qu[255+te]=0>te?-te:te;for(te=-1020;1020>=te;++te)Vu[1020+te]=-128>te?-128:127<te?127:te;for(te=-112;112>=te;++te)Wu[112+te]=-16>te?-16:15<te?15:te;for(te=-255;510>=te;++te)Hu[255+te]=0>te?0:255<te?255:te;Gu=1}Er=Da,ua=jl,Vn=jn,Ft=ms,Rt=vs,vn=zl,si=xs,yi=ia,hr=y,ko=O,Ba=Ss,ks=f,Iu=G,Fu=ee,Tu=ta,Bu=go,Ou=bs,Ru=ws,Mn[0]=Zl,Mn[1]=Ul,Mn[2]=Gl,Mn[3]=$l,Mn[4]=tr,Mn[5]=Yl,Mn[6]=ir,Mn[7]=Kl,Mn[8]=co,Mn[9]=Ea,Pr[0]=Wl,Pr[1]=Vl,Pr[2]=so,Pr[3]=_s,Pr[4]=Qr,Pr[5]=lo,Pr[6]=Hl,fr[0]=Jl,fr[1]=ql,fr[2]=ea,fr[3]=Xl,fr[4]=ho,fr[5]=uo,fr[6]=ys,te=1}else te=0}te&&(te=(function(At,bi){for(At.M=0;At.M<At.Va;++At.M){var mt,Ve=At.Jc[At.M&At.Xb],Pe=At.m,li=At;for(mt=0;mt<li.za;++mt){var ft=Pe,kt=li,Wt=kt.Ac,Ei=kt.Bc+4*mt,qi=kt.zc,ii=kt.ya[kt.aa+mt];if(kt.Qa.Bb?ii.$b=xe(ft,kt.Pa.jb[0])?2+xe(ft,kt.Pa.jb[2]):xe(ft,kt.Pa.jb[1]):ii.$b=0,kt.kc&&(ii.Ad=xe(ft,kt.Bd)),ii.Za=!xe(ft,145)+0,ii.Za){var Bi=ii.Ob,Vi=0;for(kt=0;4>kt;++kt){var wi,Lt=qi[0+kt];for(wi=0;4>wi;++wi){Lt=r1[Wt[Ei+wi]][Lt];for(var Tt=Ku[xe(ft,Lt[0])];0<Tt;)Tt=Ku[2*Tt+xe(ft,Lt[Tt])];Lt=-Tt,Wt[Ei+wi]=Lt}n(Bi,Vi,Wt,Ei,4),Vi+=4,qi[0+kt]=Lt}}else Lt=xe(ft,156)?xe(ft,128)?1:3:xe(ft,163)?2:0,ii.Ob[0]=Lt,r(Wt,Ei,Lt,4),r(qi,0,Lt,4);ii.Dd=xe(ft,142)?xe(ft,114)?xe(ft,183)?1:3:2:0}if(li.m.Ka)return pi(At,7,"Premature end-of-partition0 encountered.");for(;At.ja<At.za;++At.ja){if(li=Ve,ft=(Pe=At).rb[Pe.sb-1],Wt=Pe.rb[Pe.sb+Pe.ja],mt=Pe.ya[Pe.aa+Pe.ja],Ei=Pe.kc?mt.Ad:0)ft.la=Wt.la=0,mt.Za||(ft.Na=Wt.Na=0),mt.Hc=0,mt.Gc=0,mt.ia=0;else{var ni,Bt;if(ft=Wt,Wt=li,Ei=Pe.Pa.Xc,qi=Pe.ya[Pe.aa+Pe.ja],ii=Pe.pb[qi.$b],kt=qi.ad,Bi=0,Vi=Pe.rb[Pe.sb-1],Lt=wi=0,r(kt,Bi,0,384),qi.Za)var Pi=0,Nn=Ei[3];else{Tt=a(16);var ci=ft.Na+Vi.Na;if(ci=No(Wt,Ei[1],ci,ii.Eb,0,Tt,0),ft.Na=Vi.Na=(0<ci)+0,1<ci)Er(Tt,0,kt,Bi);else{var $i=Tt[0]+3>>3;for(Tt=0;256>Tt;Tt+=16)kt[Bi+Tt]=$i}Pi=1,Nn=Ei[0]}var zt=15&ft.la,xi=15&Vi.la;for(Tt=0;4>Tt;++Tt){var nn=1&xi;for($i=Bt=0;4>$i;++$i)zt=zt>>1|(nn=(ci=No(Wt,Nn,ci=nn+(1&zt),ii.Sc,Pi,kt,Bi))>Pi)<<7,Bt=Bt<<2|(3<ci?3:1<ci?2:kt[Bi+0]!=0),Bi+=16;zt>>=4,xi=xi>>1|nn<<7,wi=(wi<<8|Bt)>>>0}for(Nn=zt,Pi=xi>>4,ni=0;4>ni;ni+=2){for(Bt=0,zt=ft.la>>4+ni,xi=Vi.la>>4+ni,Tt=0;2>Tt;++Tt){for(nn=1&xi,$i=0;2>$i;++$i)ci=nn+(1&zt),zt=zt>>1|(nn=0<(ci=No(Wt,Ei[2],ci,ii.Qc,0,kt,Bi)))<<3,Bt=Bt<<2|(3<ci?3:1<ci?2:kt[Bi+0]!=0),Bi+=16;zt>>=2,xi=xi>>1|nn<<5}Lt|=Bt<<4*ni,Nn|=zt<<4<<ni,Pi|=(240&xi)<<ni}ft.la=Nn,Vi.la=Pi,qi.Hc=wi,qi.Gc=Lt,qi.ia=43690&Lt?0:ii.ia,Ei=!(wi|Lt)}if(0<Pe.L&&(Pe.wa[Pe.Y+Pe.ja]=Pe.gd[mt.$b][mt.Za],Pe.wa[Pe.Y+Pe.ja].La|=!Ei),li.Ka)return pi(At,7,"Premature end-of-file encountered.")}if(ps(At),Pe=bi,li=1,mt=(Ve=At).D,ft=0<Ve.L&&Ve.M>=Ve.zb&&Ve.M<=Ve.Va,Ve.Aa==0)t:{if(mt.M=Ve.M,mt.uc=ft,mn(Ve,mt),li=1,mt=(Bt=Ve.D).Nb,ft=(Lt=Ts[Ve.L])*Ve.R,Wt=Lt/2*Ve.B,Tt=16*mt*Ve.R,$i=8*mt*Ve.B,Ei=Ve.sa,qi=Ve.ta-ft+Tt,ii=Ve.qa,kt=Ve.ra-Wt+$i,Bi=Ve.Ha,Vi=Ve.Ia-Wt+$i,xi=(zt=Bt.M)==0,wi=zt>=Ve.Va-1,Ve.Aa==2&&mn(Ve,Bt),Bt.uc)for(nn=(ci=Ve).D.M,e(ci.D.uc),Bt=ci.yb;Bt<ci.Hb;++Bt){Pi=Bt,Nn=nn;var Wi=(rn=(Ii=ci).D).Nb;ni=Ii.R;var rn=rn.wa[rn.Y+Pi],an=Ii.sa,Zi=Ii.ta+16*Wi*ni+16*Pi,on=rn.dd,Vt=rn.tc;if(Vt!=0)if(e(3<=Vt),Ii.L==1)0<Pi&&Bu(an,Zi,ni,Vt+4),rn.La&&Ru(an,Zi,ni,Vt),0<Nn&&Tu(an,Zi,ni,Vt+4),rn.La&&Ou(an,Zi,ni,Vt);else{var sn=Ii.B,Ln=Ii.qa,ha=Ii.ra+8*Wi*sn+8*Pi,dr=Ii.Ha,Ii=Ii.Ia+8*Wi*sn+8*Pi;Wi=rn.ld,0<Pi&&(yi(an,Zi,ni,Vt+4,on,Wi),ko(Ln,ha,dr,Ii,sn,Vt+4,on,Wi)),rn.La&&(ks(an,Zi,ni,Vt,on,Wi),Fu(Ln,ha,dr,Ii,sn,Vt,on,Wi)),0<Nn&&(si(an,Zi,ni,Vt+4,on,Wi),hr(Ln,ha,dr,Ii,sn,Vt+4,on,Wi)),rn.La&&(Ba(an,Zi,ni,Vt,on,Wi),Iu(Ln,ha,dr,Ii,sn,Vt,on,Wi))}}if(Ve.ia&&alert("todo:DitherRow"),Pe.put!=null){if(Bt=16*zt,zt=16*(zt+1),xi?(Pe.y=Ve.sa,Pe.O=Ve.ta+Tt,Pe.f=Ve.qa,Pe.N=Ve.ra+$i,Pe.ea=Ve.Ha,Pe.W=Ve.Ia+$i):(Bt-=Lt,Pe.y=Ei,Pe.O=qi,Pe.f=ii,Pe.N=kt,Pe.ea=Bi,Pe.W=Vi),wi||(zt-=Lt),zt>Pe.o&&(zt=Pe.o),Pe.F=null,Pe.J=null,Ve.Fa!=null&&0<Ve.Fa.length&&Bt<zt&&(Pe.J=qt(Ve,Pe,Bt,zt-Bt),Pe.F=Ve.mb,Pe.F==null&&Pe.F.length==0)){li=pi(Ve,3,"Could not decode alpha data.");break t}Bt<Pe.j&&(Lt=Pe.j-Bt,Bt=Pe.j,e(!(1&Lt)),Pe.O+=Ve.R*Lt,Pe.N+=Ve.B*(Lt>>1),Pe.W+=Ve.B*(Lt>>1),Pe.F!=null&&(Pe.J+=Pe.width*Lt)),Bt<zt&&(Pe.O+=Pe.v,Pe.N+=Pe.v>>1,Pe.W+=Pe.v>>1,Pe.F!=null&&(Pe.J+=Pe.v),Pe.ka=Bt-Pe.j,Pe.U=Pe.va-Pe.v,Pe.T=zt-Bt,li=Pe.put(Pe))}mt+1!=Ve.Ic||wi||(n(Ve.sa,Ve.ta-ft,Ei,qi+16*Ve.R,ft),n(Ve.qa,Ve.ra-Wt,ii,kt+8*Ve.B,Wt),n(Ve.Ha,Ve.Ia-Wt,Bi,Vi+8*Ve.B,Wt))}if(!li)return pi(At,6,"Output aborted.")}return 1})(B,J)),J.bc!=null&&J.bc(J),te&=1}return te?(B.cb=0,te):0})(o,m)||(c=o.a)}}else c=o.a}c==0&&x.Oa!=null&&x.Oa.fd&&(c=bo(x.ba))}x=c}w=x!=0?null:11>w?k.f.RGBA.eb:k.f.kb.y}else w=null;return w};var ah=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(j,ie){for(var M="",F=0;F<4;F++)M+=String.fromCharCode(j[ie++]);return M}function d(j,ie){return j[ie+0]|j[ie+1]<<8}function v(j,ie){return(j[ie+0]|j[ie+1]<<8|j[ie+2]<<16)>>>0}function _(j,ie){return(j[ie+0]|j[ie+1]<<8|j[ie+2]<<16|j[ie+3]<<24)>>>0}new h;var p=[0],A=[0],N=[],I=new h,C=i,Z=(function(j,ie){var M={},F=0,$=!1,H=0,ce=0;if(M.frames=[],!(function(S,R){for(var q=0;q<4;q++)if(S[R+q]!="RIFF".charCodeAt(q))return!0;return!1})(j,ie)){for(_(j,ie+=4),ie+=8;ie<j.length;){var de=u(j,ie),me=_(j,ie+=4);ie+=4;var oe=me+(1&me);switch(de){case"VP8 ":case"VP8L":M.frames[F]===void 0&&(M.frames[F]={}),(Ce=M.frames[F]).src_off=$?ce:ie-8,Ce.src_size=H+me+8,F++,$&&($=!1,H=0,ce=0);break;case"VP8X":(Ce=M.header={}).feature_flags=j[ie];var _e=ie+4;Ce.canvas_width=1+v(j,_e),_e+=3,Ce.canvas_height=1+v(j,_e),_e+=3;break;case"ALPH":$=!0,H=oe+8,ce=ie-8;break;case"ANIM":(Ce=M.header).bgcolor=_(j,ie),_e=ie+4,Ce.loop_count=d(j,_e),_e+=2;break;case"ANMF":var Ee,Ce;(Ce=M.frames[F]={}).offset_x=2*v(j,ie),ie+=3,Ce.offset_y=2*v(j,ie),ie+=3,Ce.width=1+v(j,ie),ie+=3,Ce.height=1+v(j,ie),ie+=3,Ce.duration=v(j,ie),ie+=3,Ee=j[ie++],Ce.dispose=1&Ee,Ce.blend=Ee>>1&1}de!="ANMF"&&(ie+=oe)}return M}})(C,0);Z.response=C,Z.rgbaoutput=!0,Z.dataurl=!1;var V=Z.header?Z.header:null,z=Z.frames?Z.frames:null;if(V){V.loop_counter=V.loop_count,p=[V.canvas_height],A=[V.canvas_width];for(var se=0;se<z.length&&z[se].blend!=0;se++);}var we=z[0],pe=I.WebPDecodeRGBA(C,we.src_off,we.src_size,A,p);we.rgba=pe,we.imgwidth=A[0],we.imgheight=p[0];for(var X=0;X<A[0]*p[0]*4;X++)N[X]=pe[X];return this.width=A,this.height=p,this.data=N,this}function u5(){var i,e=this.internal.__metadata__.metadata,t=unescape(encodeURIComponent(e));i=this.internal.__metadata__.rawXml?t:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+i.length+" >>"),this.internal.write("stream"),this.internal.write(i),this.internal.write("endstream"),this.internal.write("endobj")}function h5(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(i){var e,t,n,r,a,l,s,h,u,d=function(S){return S=S||{},this.isStrokeTransparent=S.isStrokeTransparent||!1,this.strokeOpacity=S.strokeOpacity||1,this.strokeStyle=S.strokeStyle||"#000000",this.fillStyle=S.fillStyle||"#000000",this.isFillTransparent=S.isFillTransparent||!1,this.fillOpacity=S.fillOpacity||1,this.font=S.font||"10px sans-serif",this.textBaseline=S.textBaseline||"alphabetic",this.textAlign=S.textAlign||"left",this.lineWidth=S.lineWidth||1,this.lineJoin=S.lineJoin||"miter",this.lineCap=S.lineCap||"butt",this.path=S.path||[],this.transform=S.transform!==void 0?S.transform.clone():new h,this.globalCompositeOperation=S.globalCompositeOperation||"normal",this.globalAlpha=S.globalAlpha||1,this.clip_path=S.clip_path||[],this.currentPoint=S.currentPoint||new l,this.miterLimit=S.miterLimit||10,this.lastPoint=S.lastPoint||new l,this.lineDashOffset=S.lineDashOffset||0,this.lineDash=S.lineDash||[],this.margin=S.margin||[0,0,0,0],this.prevPageLastElemOffset=S.prevPageLastElemOffset||0,this.ignoreClearRect=typeof S.ignoreClearRect!="boolean"||S.ignoreClearRect,this};i.events.push(["initialized",function(){this.context2d=new v(this),e=this.internal.f2,t=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,l=this.internal.Point,s=this.internal.Rectangle,h=this.internal.Matrix,u=new d}]);var v=function(S){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var R=S;Object.defineProperty(this,"pdf",{get:function(){return R}});var q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return q},set:function(P){q=!!P}});var Y=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Y},set:function(P){Y=!!P}});var Q=0;Object.defineProperty(this,"posX",{get:function(){return Q},set:function(P){isNaN(P)||(Q=P)}});var ne=0;Object.defineProperty(this,"posY",{get:function(){return ne},set:function(P){isNaN(P)||(ne=P)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(P){var Fe;typeof P=="number"?Fe=[P,P,P,P]:((Fe=new Array(4))[0]=P[0],Fe[1]=P.length>=2?P[1]:Fe[0],Fe[2]=P.length>=3?P[2]:Fe[0],Fe[3]=P.length>=4?P[3]:Fe[1]),u.margin=Fe}});var ue=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ue},set:function(P){ue=P}});var fe=0;Object.defineProperty(this,"lastBreak",{get:function(){return fe},set:function(P){fe=P}});var xe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return xe},set:function(P){xe=P}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(P){P instanceof d&&(u=P)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(P){u.path=P}});var De=[];Object.defineProperty(this,"ctxStack",{get:function(){return De},set:function(P){De=P}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(P){var Fe;Fe=_(P),this.ctx.fillStyle=Fe.style,this.ctx.isFillTransparent=Fe.a===0,this.ctx.fillOpacity=Fe.a,this.pdf.setFillColor(Fe.r,Fe.g,Fe.b,{a:Fe.a}),this.pdf.setTextColor(Fe.r,Fe.g,Fe.b,{a:Fe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(P){var Fe=_(P);this.ctx.strokeStyle=Fe.style,this.ctx.isStrokeTransparent=Fe.a===0,this.ctx.strokeOpacity=Fe.a,Fe.a===0?this.pdf.setDrawColor(255,255,255):(Fe.a,this.pdf.setDrawColor(Fe.r,Fe.g,Fe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(P){["butt","round","square"].indexOf(P)!==-1&&(this.ctx.lineCap=P,this.pdf.setLineCap(P))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(P){isNaN(P)||(this.ctx.lineWidth=P,this.pdf.setLineWidth(P))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(P){["bevel","round","miter"].indexOf(P)!==-1&&(this.ctx.lineJoin=P,this.pdf.setLineJoin(P))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(P){isNaN(P)||(this.ctx.miterLimit=P,this.pdf.setMiterLimit(P))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(P){this.ctx.textBaseline=P}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(P){["right","end","center","left","start"].indexOf(P)!==-1&&(this.ctx.textAlign=P)}});var Be=null,Te=null,Ze=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ze},set:function(P){Be=null,Te=null,Ze=P}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(P){var Fe;if(this.ctx.font=P,(Fe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(P))!==null){var vt=Fe[1];Fe[2];var Je=Fe[3],ke=Fe[4];Fe[5];var Qe=Fe[6],Re=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ke)[2];ke=Math.floor(Re==="px"?parseFloat(ke)*this.pdf.internal.scaleFactor:Re==="em"?parseFloat(ke)*this.pdf.getFontSize():parseFloat(ke)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ke);var Xe=(function($e){var ai,Mt,_t=[],yt=$e.trim();if(yt==="")return gu;if(yt in Jd)return[Jd[yt]];for(;yt!=="";){switch(Mt=null,ai=(yt=e0(yt)).charAt(0)){case'"':case"'":Mt=r5(yt.substring(1),ai);break;default:Mt=a5(yt)}if(Mt===null||(_t.push(Mt[0]),(yt=e0(Mt[1]))!==""&&yt.charAt(0)!==","))return gu;yt=yt.replace(/^,/,"")}return _t})(Qe);if(this.fontFaces){var Ye=(function($e,ai){var Mt=$e.getFontList(),_t=JSON.stringify(Mt);if(Be===null||Te!==_t){var yt=(function(Kt){var Ke=[];return Object.keys(Kt).forEach(function(Ut){Kt[Ut].forEach(function(nt){var ht=null;switch(nt){case"bold":ht={family:Ut,weight:"bold"};break;case"italic":ht={family:Ut,style:"italic"};break;case"bolditalic":ht={family:Ut,weight:"bold",style:"italic"};break;case"":case"normal":ht={family:Ut}}ht!==null&&(ht.ref={name:Ut,style:nt},Ke.push(ht))})}),Ke})(Mt);Be=(function(Kt){for(var Ke={},Ut=0;Ut<Kt.length;++Ut){var nt=pu(Kt[Ut]),ht=nt.family,Xt=nt.stretch,bt=nt.style,tt=nt.weight;Ke[ht]=Ke[ht]||{},Ke[ht][Xt]=Ke[ht][Xt]||{},Ke[ht][Xt][bt]=Ke[ht][Xt][bt]||{},Ke[ht][Xt][bt][tt]=nt}return Ke})(yt.concat(ai)),Te=_t}return Be})(this.pdf,this.fontFaces),Pt=Xe.map(function($e){return{family:$e,stretch:"normal",weight:Je,style:vt}}),wt=(function($e,ai,Mt){for(var _t=(Mt=Mt||{}).defaultFontFamily||"times",yt=Object.assign({},n5,Mt.genericFontFamilies||{}),Kt=null,Ke=null,Ut=0;Ut<ai.length;++Ut)if(yt[(Kt=pu(ai[Ut])).family]&&(Kt.family=yt[Kt.family]),$e.hasOwnProperty(Kt.family)){Ke=$e[Kt.family];break}if(!(Ke=Ke||$e[_t]))throw new Error("Could not find a font-family for the rule '"+Qd(Kt)+"' and default family '"+_t+"'.");if(Ke=(function(nt,ht){if(ht[nt])return ht[nt];var Xt=wu[nt],bt=Xt<=wu.normal?-1:1,tt=Xd(ht,w0,Xt,bt);if(!tt)throw new Error("Could not find a matching font-stretch value for "+nt);return tt})(Kt.stretch,Ke),Ke=(function(nt,ht){if(ht[nt])return ht[nt];for(var Xt=b0[nt],bt=0;bt<Xt.length;++bt)if(ht[Xt[bt]])return ht[Xt[bt]];throw new Error("Could not find a matching font-style for "+nt)})(Kt.style,Ke),!(Ke=(function(nt,ht){if(ht[nt])return ht[nt];if(nt===400&&ht[500])return ht[500];if(nt===500&&ht[400])return ht[400];var Xt=i5[nt],bt=Xd(ht,x0,Xt,nt<400?-1:1);if(!bt)throw new Error("Could not find a matching font-weight for value "+nt);return bt})(Kt.weight,Ke)))throw new Error("Failed to resolve a font for the rule '"+Qd(Kt)+"'.");return Ke})(Ye,Pt);this.pdf.setFont(wt.ref.name,wt.ref.style)}else{var ut="";(Je==="bold"||parseInt(Je,10)>=700||vt==="bold")&&(ut="bold"),vt==="italic"&&(ut+="italic"),ut.length===0&&(ut="normal");for(var St="",xt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},We=0;We<Xe.length;We++){if(this.pdf.internal.getFont(Xe[We],ut,{noFallback:!0,disableWarning:!0})!==void 0){St=Xe[We];break}if(ut==="bolditalic"&&this.pdf.internal.getFont(Xe[We],"bold",{noFallback:!0,disableWarning:!0})!==void 0)St=Xe[We],ut="bold";else if(this.pdf.internal.getFont(Xe[We],"normal",{noFallback:!0,disableWarning:!0})!==void 0){St=Xe[We],ut="normal";break}}if(St===""){for(var dt=0;dt<Xe.length;dt++)if(xt[Xe[dt]]){St=xt[Xe[dt]];break}}St=St===""?"Times":St,this.pdf.setFont(St,ut)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(P){this.ctx.globalCompositeOperation=P}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(P){this.ctx.globalAlpha=P}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(P){this.ctx.lineDashOffset=P,Ce.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(P){this.ctx.lineDash=P,Ce.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(P){this.ctx.ignoreClearRect=!!P}})};v.prototype.setLineDash=function(S){this.lineDash=S},v.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},v.prototype.fill=function(){z.call(this,"fill",!1)},v.prototype.stroke=function(){z.call(this,"stroke",!1)},v.prototype.beginPath=function(){this.path=[{type:"begin"}]},v.prototype.moveTo=function(S,R){if(isNaN(S)||isNaN(R))throw jt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var q=this.ctx.transform.applyToPoint(new l(S,R));this.path.push({type:"mt",x:q.x,y:q.y}),this.ctx.lastPoint=new l(S,R)},v.prototype.closePath=function(){var S=new l(0,0),R=0;for(R=this.path.length-1;R!==-1;R--)if(this.path[R].type==="begin"&&Ot(this.path[R+1])==="object"&&typeof this.path[R+1].x=="number"){S=new l(this.path[R+1].x,this.path[R+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(S.x,S.y)},v.prototype.lineTo=function(S,R){if(isNaN(S)||isNaN(R))throw jt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var q=this.ctx.transform.applyToPoint(new l(S,R));this.path.push({type:"lt",x:q.x,y:q.y}),this.ctx.lastPoint=new l(q.x,q.y)},v.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),z.call(this,null,!0)},v.prototype.quadraticCurveTo=function(S,R,q,Y){if(isNaN(q)||isNaN(Y)||isNaN(S)||isNaN(R))throw jt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Q=this.ctx.transform.applyToPoint(new l(q,Y)),ne=this.ctx.transform.applyToPoint(new l(S,R));this.path.push({type:"qct",x1:ne.x,y1:ne.y,x:Q.x,y:Q.y}),this.ctx.lastPoint=new l(Q.x,Q.y)},v.prototype.bezierCurveTo=function(S,R,q,Y,Q,ne){if(isNaN(Q)||isNaN(ne)||isNaN(S)||isNaN(R)||isNaN(q)||isNaN(Y))throw jt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ue=this.ctx.transform.applyToPoint(new l(Q,ne)),fe=this.ctx.transform.applyToPoint(new l(S,R)),xe=this.ctx.transform.applyToPoint(new l(q,Y));this.path.push({type:"bct",x1:fe.x,y1:fe.y,x2:xe.x,y2:xe.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new l(ue.x,ue.y)},v.prototype.arc=function(S,R,q,Y,Q,ne){if(isNaN(S)||isNaN(R)||isNaN(q)||isNaN(Y)||isNaN(Q))throw jt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ne=!!ne,!this.ctx.transform.isIdentity){var ue=this.ctx.transform.applyToPoint(new l(S,R));S=ue.x,R=ue.y;var fe=this.ctx.transform.applyToPoint(new l(0,q)),xe=this.ctx.transform.applyToPoint(new l(0,0));q=Math.sqrt(Math.pow(fe.x-xe.x,2)+Math.pow(fe.y-xe.y,2))}Math.abs(Q-Y)>=2*Math.PI&&(Y=0,Q=2*Math.PI),this.path.push({type:"arc",x:S,y:R,radius:q,startAngle:Y,endAngle:Q,counterclockwise:ne})},v.prototype.arcTo=function(S,R,q,Y,Q){throw new Error("arcTo not implemented.")},v.prototype.rect=function(S,R,q,Y){if(isNaN(S)||isNaN(R)||isNaN(q)||isNaN(Y))throw jt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(S,R),this.lineTo(S+q,R),this.lineTo(S+q,R+Y),this.lineTo(S,R+Y),this.lineTo(S,R),this.lineTo(S+q,R),this.lineTo(S,R)},v.prototype.fillRect=function(S,R,q,Y){if(isNaN(S)||isNaN(R)||isNaN(q)||isNaN(Y))throw jt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var Q={};this.lineCap!=="butt"&&(Q.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Q.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(S,R,q,Y),this.fill(),Q.hasOwnProperty("lineCap")&&(this.lineCap=Q.lineCap),Q.hasOwnProperty("lineJoin")&&(this.lineJoin=Q.lineJoin)}},v.prototype.strokeRect=function(S,R,q,Y){if(isNaN(S)||isNaN(R)||isNaN(q)||isNaN(Y))throw jt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");A.call(this)||(this.beginPath(),this.rect(S,R,q,Y),this.stroke())},v.prototype.clearRect=function(S,R,q,Y){if(isNaN(S)||isNaN(R)||isNaN(q)||isNaN(Y))throw jt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(S,R,q,Y))},v.prototype.save=function(S){S=typeof S!="boolean"||S;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("q");if(this.pdf.setPage(R),S){this.ctx.fontSize=this.pdf.internal.getFontSize();var Y=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Y}},v.prototype.restore=function(S){S=typeof S!="boolean"||S;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("Q");this.pdf.setPage(R),S&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},v.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var _=function(S){var R,q,Y,Q;if(S.isCanvasGradient===!0&&(S=S.getColor()),!S)return{r:0,g:0,b:0,a:0,style:S};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(S))R=0,q=0,Y=0,Q=0;else{var ne=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(S);if(ne!==null)R=parseInt(ne[1]),q=parseInt(ne[2]),Y=parseInt(ne[3]),Q=1;else if((ne=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(S))!==null)R=parseInt(ne[1]),q=parseInt(ne[2]),Y=parseInt(ne[3]),Q=parseFloat(ne[4]);else{if(Q=1,typeof S=="string"&&S.charAt(0)!=="#"){var ue=new d0(S);S=ue.ok?ue.toHex():"#000000"}S.length===4?(R=S.substring(1,2),R+=R,q=S.substring(2,3),q+=q,Y=S.substring(3,4),Y+=Y):(R=S.substring(1,3),q=S.substring(3,5),Y=S.substring(5,7)),R=parseInt(R,16),q=parseInt(q,16),Y=parseInt(Y,16)}}return{r:R,g:q,b:Y,a:Q,style:S}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},A=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};v.prototype.fillText=function(S,R,q,Y){if(isNaN(R)||isNaN(q)||typeof S!="string")throw jt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Y=isNaN(Y)?void 0:Y,!p.call(this)){var Q=oe(this.ctx.transform.rotation),ne=this.ctx.transform.scaleX;F.call(this,{text:S,x:R,y:q,scale:ne,angle:Q,align:this.textAlign,maxWidth:Y})}},v.prototype.strokeText=function(S,R,q,Y){if(isNaN(R)||isNaN(q)||typeof S!="string")throw jt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!A.call(this)){Y=isNaN(Y)?void 0:Y;var Q=oe(this.ctx.transform.rotation),ne=this.ctx.transform.scaleX;F.call(this,{text:S,x:R,y:q,scale:ne,renderingMode:"stroke",angle:Q,align:this.textAlign,maxWidth:Y})}},v.prototype.measureText=function(S){if(typeof S!="string")throw jt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var R=this.pdf,q=this.pdf.internal.scaleFactor,Y=R.internal.getFontSize(),Q=R.getStringUnitWidth(S)*Y/R.internal.scaleFactor;return new function(ne){var ue=(ne=ne||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ue}}),this}({width:Q*=Math.round(96*q/72*1e4)/1e4})},v.prototype.scale=function(S,R){if(isNaN(S)||isNaN(R))throw jt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var q=new h(S,0,0,R,0,0);this.ctx.transform=this.ctx.transform.multiply(q)},v.prototype.rotate=function(S){if(isNaN(S))throw jt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var R=new h(Math.cos(S),Math.sin(S),-Math.sin(S),Math.cos(S),0,0);this.ctx.transform=this.ctx.transform.multiply(R)},v.prototype.translate=function(S,R){if(isNaN(S)||isNaN(R))throw jt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var q=new h(1,0,0,1,S,R);this.ctx.transform=this.ctx.transform.multiply(q)},v.prototype.transform=function(S,R,q,Y,Q,ne){if(isNaN(S)||isNaN(R)||isNaN(q)||isNaN(Y)||isNaN(Q)||isNaN(ne))throw jt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ue=new h(S,R,q,Y,Q,ne);this.ctx.transform=this.ctx.transform.multiply(ue)},v.prototype.setTransform=function(S,R,q,Y,Q,ne){S=isNaN(S)?1:S,R=isNaN(R)?0:R,q=isNaN(q)?0:q,Y=isNaN(Y)?1:Y,Q=isNaN(Q)?0:Q,ne=isNaN(ne)?0:ne,this.ctx.transform=new h(S,R,q,Y,Q,ne)};var N=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};v.prototype.drawImage=function(S,R,q,Y,Q,ne,ue,fe,xe){var De=this.pdf.getImageProperties(S),Be=1,Te=1,Ze=1,P=1;Y!==void 0&&fe!==void 0&&(Ze=fe/Y,P=xe/Q,Be=De.width/Y*fe/Y,Te=De.height/Q*xe/Q),ne===void 0&&(ne=R,ue=q,R=0,q=0),Y!==void 0&&fe===void 0&&(fe=Y,xe=Q),Y===void 0&&fe===void 0&&(fe=De.width,xe=De.height);var Fe=this.ctx.transform.decompose(),vt=oe(Fe.rotate.shx),Je=new h,ke=(Je=(Je=(Je=Je.multiply(Fe.translate)).multiply(Fe.skew)).multiply(Fe.scale)).applyToRectangle(new s(ne-R*Ze,ue-q*P,Y*Be,Q*Te));if(this.autoPaging){for(var Qe,Re=I.call(this,ke),Xe=[],Ye=0;Ye<Re.length;Ye+=1)Xe.indexOf(Re[Ye])===-1&&Xe.push(Re[Ye]);V(Xe);for(var Pt=Xe[0],wt=Xe[Xe.length-1],ut=Pt;ut<wt+1;ut++){this.pdf.setPage(ut);var St=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],xt=ut===1?this.posY+this.margin[0]:this.margin[0],We=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],dt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],$e=ut===1?0:We+(ut-2)*dt;if(this.ctx.clip_path.length!==0){var ai=this.path;Qe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Z(Qe,this.posX+this.margin[3],-$e+xt+this.ctx.prevPageLastElemOffset),se.call(this,"fill",!0),this.path=ai}var Mt=JSON.parse(JSON.stringify(ke));Mt=Z([Mt],this.posX+this.margin[3],-$e+xt+this.ctx.prevPageLastElemOffset)[0];var _t=(ut>Pt||ut<wt)&&N.call(this);_t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],St,dt,null).clip().discardPath()),this.pdf.addImage(S,"JPEG",Mt.x,Mt.y,Mt.w,Mt.h,null,null,vt),_t&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(S,"JPEG",ke.x,ke.y,ke.w,ke.h,null,null,vt)};var I=function(S,R,q){var Y=[];R=R||this.pdf.internal.pageSize.width,q=q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Q=this.posY+this.ctx.prevPageLastElemOffset;switch(S.type){default:case"mt":case"lt":Y.push(Math.floor((S.y+Q)/q)+1);break;case"arc":Y.push(Math.floor((S.y+Q-S.radius)/q)+1),Y.push(Math.floor((S.y+Q+S.radius)/q)+1);break;case"qct":var ne=_e(this.ctx.lastPoint.x,this.ctx.lastPoint.y,S.x1,S.y1,S.x,S.y);Y.push(Math.floor((ne.y+Q)/q)+1),Y.push(Math.floor((ne.y+ne.h+Q)/q)+1);break;case"bct":var ue=Ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,S.x1,S.y1,S.x2,S.y2,S.x,S.y);Y.push(Math.floor((ue.y+Q)/q)+1),Y.push(Math.floor((ue.y+ue.h+Q)/q)+1);break;case"rect":Y.push(Math.floor((S.y+Q)/q)+1),Y.push(Math.floor((S.y+S.h+Q)/q)+1)}for(var fe=0;fe<Y.length;fe+=1)for(;this.pdf.internal.getNumberOfPages()<Y[fe];)C.call(this);return Y},C=function(){var S=this.fillStyle,R=this.strokeStyle,q=this.font,Y=this.lineCap,Q=this.lineWidth,ne=this.lineJoin;this.pdf.addPage(),this.fillStyle=S,this.strokeStyle=R,this.font=q,this.lineCap=Y,this.lineWidth=Q,this.lineJoin=ne},Z=function(S,R,q){for(var Y=0;Y<S.length;Y++)switch(S[Y].type){case"bct":S[Y].x2+=R,S[Y].y2+=q;case"qct":S[Y].x1+=R,S[Y].y1+=q;default:S[Y].x+=R,S[Y].y+=q}return S},V=function(S){return S.sort(function(R,q){return R-q})},z=function(S,R){var q=this.fillStyle,Y=this.strokeStyle,Q=this.lineCap,ne=this.lineWidth,ue=Math.abs(ne*this.ctx.transform.scaleX),fe=this.lineJoin;if(this.autoPaging){for(var xe,De,Be=JSON.parse(JSON.stringify(this.path)),Te=JSON.parse(JSON.stringify(this.path)),Ze=[],P=0;P<Te.length;P++)if(Te[P].x!==void 0)for(var Fe=I.call(this,Te[P]),vt=0;vt<Fe.length;vt+=1)Ze.indexOf(Fe[vt])===-1&&Ze.push(Fe[vt]);for(var Je=0;Je<Ze.length;Je++)for(;this.pdf.internal.getNumberOfPages()<Ze[Je];)C.call(this);V(Ze);for(var ke=Ze[0],Qe=Ze[Ze.length-1],Re=ke;Re<Qe+1;Re++){this.pdf.setPage(Re),this.fillStyle=q,this.strokeStyle=Y,this.lineCap=Q,this.lineWidth=ue,this.lineJoin=fe;var Xe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ye=Re===1?this.posY+this.margin[0]:this.margin[0],Pt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],wt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ut=Re===1?0:Pt+(Re-2)*wt;if(this.ctx.clip_path.length!==0){var St=this.path;xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Z(xe,this.posX+this.margin[3],-ut+Ye+this.ctx.prevPageLastElemOffset),se.call(this,S,!0),this.path=St}if(De=JSON.parse(JSON.stringify(Be)),this.path=Z(De,this.posX+this.margin[3],-ut+Ye+this.ctx.prevPageLastElemOffset),R===!1||Re===0){var xt=(Re>ke||Re<Qe)&&N.call(this);xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Xe,wt,null).clip().discardPath()),se.call(this,S,R),xt&&this.pdf.restoreGraphicsState()}this.lineWidth=ne}this.path=Be}else this.lineWidth=ue,se.call(this,S,R),this.lineWidth=ne},se=function(S,R){if((S!=="stroke"||R||!A.call(this))&&(S==="stroke"||R||!p.call(this))){for(var q,Y,Q=[],ne=this.path,ue=0;ue<ne.length;ue++){var fe=ne[ue];switch(fe.type){case"begin":Q.push({begin:!0});break;case"close":Q.push({close:!0});break;case"mt":Q.push({start:fe,deltas:[],abs:[]});break;case"lt":var xe=Q.length;if(ne[ue-1]&&!isNaN(ne[ue-1].x)&&(q=[fe.x-ne[ue-1].x,fe.y-ne[ue-1].y],xe>0)){for(;xe>=0;xe--)if(Q[xe-1].close!==!0&&Q[xe-1].begin!==!0){Q[xe-1].deltas.push(q),Q[xe-1].abs.push(fe);break}}break;case"bct":q=[fe.x1-ne[ue-1].x,fe.y1-ne[ue-1].y,fe.x2-ne[ue-1].x,fe.y2-ne[ue-1].y,fe.x-ne[ue-1].x,fe.y-ne[ue-1].y],Q[Q.length-1].deltas.push(q);break;case"qct":var De=ne[ue-1].x+2/3*(fe.x1-ne[ue-1].x),Be=ne[ue-1].y+2/3*(fe.y1-ne[ue-1].y),Te=fe.x+2/3*(fe.x1-fe.x),Ze=fe.y+2/3*(fe.y1-fe.y),P=fe.x,Fe=fe.y;q=[De-ne[ue-1].x,Be-ne[ue-1].y,Te-ne[ue-1].x,Ze-ne[ue-1].y,P-ne[ue-1].x,Fe-ne[ue-1].y],Q[Q.length-1].deltas.push(q);break;case"arc":Q.push({deltas:[],abs:[],arc:!0}),Array.isArray(Q[Q.length-1].abs)&&Q[Q.length-1].abs.push(fe)}}Y=R?null:S==="stroke"?"stroke":"fill";for(var vt=!1,Je=0;Je<Q.length;Je++)if(Q[Je].arc)for(var ke=Q[Je].abs,Qe=0;Qe<ke.length;Qe++){var Re=ke[Qe];Re.type==="arc"?X.call(this,Re.x,Re.y,Re.radius,Re.startAngle,Re.endAngle,Re.counterclockwise,void 0,R,!vt):$.call(this,Re.x,Re.y),vt=!0}else if(Q[Je].close===!0)this.pdf.internal.out("h"),vt=!1;else if(Q[Je].begin!==!0){var Xe=Q[Je].start.x,Ye=Q[Je].start.y;H.call(this,Q[Je].deltas,Xe,Ye),vt=!0}Y&&j.call(this,Y),R&&ie.call(this)}},we=function(S){var R=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,q=R*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return S-q;case"top":return S+R-q;case"hanging":return S+R-2*q;case"middle":return S+R/2-q;default:return S}},pe=function(S){return S+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};v.prototype.createLinearGradient=function(){var S=function(){};return S.colorStops=[],S.addColorStop=function(R,q){this.colorStops.push([R,q])},S.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},S.isCanvasGradient=!0,S},v.prototype.createPattern=function(){return this.createLinearGradient()},v.prototype.createRadialGradient=function(){return this.createLinearGradient()};var X=function(S,R,q,Y,Q,ne,ue,fe,xe){for(var De=de.call(this,q,Y,Q,ne),Be=0;Be<De.length;Be++){var Te=De[Be];Be===0&&(xe?M.call(this,Te.x1+S,Te.y1+R):$.call(this,Te.x1+S,Te.y1+R)),ce.call(this,S,R,Te.x2,Te.y2,Te.x3,Te.y3,Te.x4,Te.y4)}fe?ie.call(this):j.call(this,ue)},j=function(S){switch(S){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ie=function(){this.pdf.clip(),this.pdf.discardPath()},M=function(S,R){this.pdf.internal.out(t(S)+" "+n(R)+" m")},F=function(S){var R;switch(S.align){case"right":case"end":R="right";break;case"center":R="center";break;default:R="left"}var q,Y,Q,ne=this.pdf.getTextDimensions(S.text),ue=we.call(this,S.y),fe=pe.call(this,ue)-ne.h,xe=this.ctx.transform.applyToPoint(new l(S.x,ue));if(this.autoPaging){var De=this.ctx.transform.decompose(),Be=new h;Be=(Be=(Be=Be.multiply(De.translate)).multiply(De.skew)).multiply(De.scale);for(var Te=this.ctx.transform.applyToRectangle(new s(S.x,ue,ne.w,ne.h)),Ze=Be.applyToRectangle(new s(S.x,fe,ne.w,ne.h)),P=I.call(this,Ze),Fe=[],vt=0;vt<P.length;vt+=1)Fe.indexOf(P[vt])===-1&&Fe.push(P[vt]);V(Fe);for(var Je=Fe[0],ke=Fe[Fe.length-1],Qe=Je;Qe<ke+1;Qe++){this.pdf.setPage(Qe);var Re=Qe===1?this.posY+this.margin[0]:this.margin[0],Xe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ye=this.pdf.internal.pageSize.height-this.margin[2],Pt=Ye-this.margin[0],wt=this.pdf.internal.pageSize.width-this.margin[1],ut=wt-this.margin[3],St=Qe===1?0:Xe+(Qe-2)*Pt;if(this.ctx.clip_path.length!==0){var xt=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Z(q,this.posX+this.margin[3],-1*St+Re),se.call(this,"fill",!0),this.path=xt}var We=Z([JSON.parse(JSON.stringify(Ze))],this.posX+this.margin[3],-St+Re+this.ctx.prevPageLastElemOffset)[0];S.scale>=.01&&(Y=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Y*S.scale),Q=this.lineWidth,this.lineWidth=Q*S.scale);var dt=this.autoPaging!=="text";if(dt||We.y+We.h<=Ye){if(dt||We.y>=Re&&We.x<=wt){var $e=dt?S.text:this.pdf.splitTextToSize(S.text,S.maxWidth||wt-We.x)[0],ai=Z([JSON.parse(JSON.stringify(Te))],this.posX+this.margin[3],-St+Re+this.ctx.prevPageLastElemOffset)[0],Mt=dt&&(Qe>Je||Qe<ke)&&N.call(this);Mt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ut,Pt,null).clip().discardPath()),this.pdf.text($e,ai.x,ai.y,{angle:S.angle,align:R,renderingMode:S.renderingMode}),Mt&&this.pdf.restoreGraphicsState()}}else We.y<Ye&&(this.ctx.prevPageLastElemOffset+=Ye-We.y);S.scale>=.01&&(this.pdf.setFontSize(Y),this.lineWidth=Q)}}else S.scale>=.01&&(Y=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Y*S.scale),Q=this.lineWidth,this.lineWidth=Q*S.scale),this.pdf.text(S.text,xe.x+this.posX,xe.y+this.posY,{angle:S.angle,align:R,renderingMode:S.renderingMode,maxWidth:S.maxWidth}),S.scale>=.01&&(this.pdf.setFontSize(Y),this.lineWidth=Q)},$=function(S,R,q,Y){q=q||0,Y=Y||0,this.pdf.internal.out(t(S+q)+" "+n(R+Y)+" l")},H=function(S,R,q){return this.pdf.lines(S,R,q,null,null)},ce=function(S,R,q,Y,Q,ne,ue,fe){this.pdf.internal.out([e(r(q+S)),e(a(Y+R)),e(r(Q+S)),e(a(ne+R)),e(r(ue+S)),e(a(fe+R)),"c"].join(" "))},de=function(S,R,q,Y){for(var Q=2*Math.PI,ne=Math.PI/2;R>q;)R-=Q;var ue=Math.abs(q-R);ue<Q&&Y&&(ue=Q-ue);for(var fe=[],xe=Y?-1:1,De=R;ue>1e-5;){var Be=De+xe*Math.min(ue,ne);fe.push(me.call(this,S,De,Be)),ue-=Math.abs(Be-De),De=Be}return fe},me=function(S,R,q){var Y=(q-R)/2,Q=S*Math.cos(Y),ne=S*Math.sin(Y),ue=Q,fe=-ne,xe=ue*ue+fe*fe,De=xe+ue*Q+fe*ne,Be=4/3*(Math.sqrt(2*xe*De)-De)/(ue*ne-fe*Q),Te=ue-Be*fe,Ze=fe+Be*ue,P=Te,Fe=-Ze,vt=Y+R,Je=Math.cos(vt),ke=Math.sin(vt);return{x1:S*Math.cos(R),y1:S*Math.sin(R),x2:Te*Je-Ze*ke,y2:Te*ke+Ze*Je,x3:P*Je-Fe*ke,y3:P*ke+Fe*Je,x4:S*Math.cos(q),y4:S*Math.sin(q)}},oe=function(S){return 180*S/Math.PI},_e=function(S,R,q,Y,Q,ne){var ue=S+.5*(q-S),fe=R+.5*(Y-R),xe=Q+.5*(q-Q),De=ne+.5*(Y-ne),Be=Math.min(S,Q,ue,xe),Te=Math.max(S,Q,ue,xe),Ze=Math.min(R,ne,fe,De),P=Math.max(R,ne,fe,De);return new s(Be,Ze,Te-Be,P-Ze)},Ee=function(S,R,q,Y,Q,ne,ue,fe){var xe,De,Be,Te,Ze,P,Fe,vt,Je,ke,Qe,Re,Xe,Ye,Pt=q-S,wt=Y-R,ut=Q-q,St=ne-Y,xt=ue-Q,We=fe-ne;for(De=0;De<41;De++)Je=(Fe=(Be=S+(xe=De/40)*Pt)+xe*((Ze=q+xe*ut)-Be))+xe*(Ze+xe*(Q+xe*xt-Ze)-Fe),ke=(vt=(Te=R+xe*wt)+xe*((P=Y+xe*St)-Te))+xe*(P+xe*(ne+xe*We-P)-vt),De==0?(Qe=Je,Re=ke,Xe=Je,Ye=ke):(Qe=Math.min(Qe,Je),Re=Math.min(Re,ke),Xe=Math.max(Xe,Je),Ye=Math.max(Ye,ke));return new s(Math.round(Qe),Math.round(Re),Math.round(Xe-Qe),Math.round(Ye-Re))},Ce=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var S,R,q=(S=this.ctx.lineDash,R=this.ctx.lineDashOffset,JSON.stringify({lineDash:S,lineDashOffset:R}));this.prevLineDash!==q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=q)}}})(Ue.API),(function(i){var e=function(l){var s,h,u,d,v,_,p,A,N,I;for(/[^\x00-\xFF]/.test(l),h=[],u=0,d=(l+=s="\0\0\0\0".slice(l.length%4||4)).length;d>u;u+=4)(v=(l.charCodeAt(u)<<24)+(l.charCodeAt(u+1)<<16)+(l.charCodeAt(u+2)<<8)+l.charCodeAt(u+3))!==0?(_=(v=((v=((v=((v=(v-(I=v%85))/85)-(N=v%85))/85)-(A=v%85))/85)-(p=v%85))/85)%85,h.push(_+33,p+33,A+33,N+33,I+33)):h.push(122);return(function(C,Z){for(var V=Z;V>0;V--)C.pop()})(h,s.length),String.fromCharCode.apply(String,h)+"~>"},t=function(l){var s,h,u,d,v,_=String,p="length",A=255,N="charCodeAt",I="slice",C="replace";for(l[I](-2),l=l[I](0,-2)[C](/\s/g,"")[C]("z","!!!!!"),u=[],d=0,v=(l+=s="uuuuu"[I](l[p]%5||5))[p];v>d;d+=5)h=52200625*(l[N](d)-33)+614125*(l[N](d+1)-33)+7225*(l[N](d+2)-33)+85*(l[N](d+3)-33)+(l[N](d+4)-33),u.push(A&h>>24,A&h>>16,A&h>>8,A&h);return(function(Z,V){for(var z=V;z>0;z--)Z.pop()})(u,s[p]),_.fromCharCode.apply(_,u)},n=function(l){return l.split("").map(function(s){return("0"+s.charCodeAt().toString(16)).slice(-2)}).join("")+">"},r=function(l){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),s.test(l)===!1)return"";for(var h="",u=0;u<l.length;u+=2)h+=String.fromCharCode("0x"+(l[u]+l[u+1]));return h},a=function(l){for(var s=new Uint8Array(l.length),h=l.length;h--;)s[h]=l.charCodeAt(h);return(s=Qs(s)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};i.processDataByFilters=function(l,s){var h=0,u=l||"",d=[];for(typeof(s=s||[])=="string"&&(s=[s]),h=0;h<s.length;h+=1)switch(s[h]){case"ASCII85Decode":case"/ASCII85Decode":u=t(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=r(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=a(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[h]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}})(Ue.API),(function(i){i.loadFile=function(e,t,n){return(function(r,a,l){a=a!==!1,l=typeof l=="function"?l:function(){};var s=void 0;try{s=(function(h,u,d){var v=new XMLHttpRequest,_=0,p=function(A){var N=A.length,I=[],C=String.fromCharCode;for(_=0;_<N;_+=1)I.push(C(255&A.charCodeAt(_)));return I.join("")};if(v.open("GET",h,!u),v.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(v.onload=function(){v.status===200?d(p(this.responseText)):d(void 0)}),v.send(null),u&&v.status===200)return p(v.responseText)})(r,a,l)}catch{}return s})(e,t,n)},i.allowFsRead=void 0,i.loadImageFile=i.loadFile})(Ue.API),(function(i){function e(){return(ot.html2canvas?Promise.resolve(ot.html2canvas):import("./chunk-YT4UU5ZX.js")).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function t(){return(ot.DOMPurify?Promise.resolve(ot.DOMPurify):import("./chunk-XVEI3JS4.js")).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var n=function(s){var h=Ot(s);return h==="undefined"?"undefined":h==="string"||s instanceof String?"string":h==="number"||s instanceof Number?"number":h==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":h==="object"?"object":"unknown"},r=function(s,h){var u=document.createElement(s);for(var d in h.className&&(u.className=h.className),h.innerHTML&&h.dompurify&&(u.innerHTML=h.dompurify.sanitize(h.innerHTML)),h.style)u.style[d]=h.style[d];return u},a=function s(h,u){for(var d=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),v=h.firstChild;v;v=v.nextSibling)u!==!0&&v.nodeType===1&&v.nodeName==="SCRIPT"||d.appendChild(s(v,u));return h.nodeType===1&&(h.nodeName==="CANVAS"?(d.width=h.width,d.height=h.height,d.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(d.value=h.value),d.addEventListener("load",function(){d.scrollTop=h.scrollTop,d.scrollLeft=h.scrollLeft},!0)),d},l=function s(h){var u=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),d=s.convert(Promise.resolve(),u);return(d=d.setProgress(1,s,1,[s])).set(h)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(s,h){return s.__proto__=h||l.prototype,s},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(s,h){return this.then(function(){switch(h=h||(function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(s),h){case"string":return this.then(t).then(function(u){return this.set({src:r("div",{innerHTML:s,dompurify:u})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},l.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},h=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);h.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(h),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},l.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(h){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,h(this.prop.container,u)}).then(function(h){(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},l.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(h){var u=this.opt.jsPDF,d=this.opt.fontFaces,v=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,_=Object.assign({async:!0,allowTaint:!0,scale:v,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete _.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var p=0;p<d.length;++p){var A=d[p],N=A.src.find(function(I){return I.format==="truetype"});N&&u.addFont(N.url,A.ref.name,A.ref.style)}return _.windowHeight=_.windowHeight||0,_.windowHeight=_.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):_.windowHeight,u.context2d.save(!0),h(this.prop.container,_)}).then(function(h){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},l.prototype.output=function(s,h,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(s,h):this.outputPdf(s,h)},l.prototype.outputPdf=function(s,h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,h)})},l.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},l.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},l.prototype.set=function(s){if(n(s)!=="object")return this;var h=Object.keys(s||{}).map(function(u){if(u in l.template.prop)return function(){this.prop[u]=s[u]};switch(u){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[u]=s[u]}}},this);return this.then(function(){return this.thenList(h)})},l.prototype.get=function(s,h){return this.then(function(){var u=s in l.template.prop?this.prop[s]:this.opt[s];return h?h(u):u})},l.prototype.setMargin=function(s){return this.then(function(){switch(n(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},l.prototype.setPageSize=function(s){function h(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(s=s||Ue.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:h(s.inner.width,s.k),height:h(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},l.prototype.setProgress=function(s,h,u,d){return s!=null&&(this.progress.val=s),h!=null&&(this.progress.state=h),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(s,h,u,d){return this.setProgress(s?this.progress.val+s:null,h||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},l.prototype.then=function(s,h){var u=this;return this.thenCore(s,h,function(d,v){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(_){return u.updateProgress(null,d),_}).then(d,v).then(function(_){return u.updateProgress(1),_})})},l.prototype.thenCore=function(s,h,u){u=u||Promise.prototype.then;var d=this;s&&(s=s.bind(d)),h&&(h=h.bind(d));var v=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:l.convert(Object.assign({},d),Promise.prototype),_=u.call(v,s,h);return l.convert(_,d.__proto__)},l.prototype.thenExternal=function(s,h){return Promise.prototype.then.call(this,s,h)},l.prototype.thenList=function(s){var h=this;return s.forEach(function(u){h=h.thenCore(u)}),h},l.prototype.catch=function(s){s&&(s=s.bind(this));var h=Promise.prototype.catch.call(this,s);return l.convert(h,this)},l.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},l.prototype.error=function(s){return this.then(function(){throw new Error(s)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,Ue.getPageSize=function(s,h,u){if(Ot(s)==="object"){var d=s;s=d.orientation,h=d.unit||h,u=d.format||u}h=h||"mm",u=u||"a4",s=(""+(s||"P")).toLowerCase();var v,_=(""+u).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(h){case"pt":v=1;break;case"mm":v=72/25.4;break;case"cm":v=72/2.54;break;case"in":v=72;break;case"px":v=.75;break;case"pc":case"em":v=12;break;case"ex":v=6;break;default:throw"Invalid unit: "+h}var A,N=0,I=0;if(p.hasOwnProperty(_))N=p[_][1]/v,I=p[_][0]/v;else try{N=u[1],I=u[0]}catch{throw new Error("Invalid format: "+u)}if(s==="p"||s==="portrait")s="p",I>N&&(A=I,I=N,N=A);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",N>I&&(A=I,I=N,N=A)}return{width:I,height:N,unit:h,k:v,orientation:s}},i.html=function(s,h){(h=h||{}).callback=h.callback||function(){},h.html2canvas=h.html2canvas||{},h.html2canvas.canvas=h.html2canvas.canvas||this.canvas,h.jsPDF=h.jsPDF||this,h.fontFaces=h.fontFaces?h.fontFaces.map(pu):null;var u=new l(h);return h.worker?u:u.from(s).doCallback()}})(Ue.API),Ue.API.addJS=function(i){var e,t,n=i;return this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(e+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+n+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){e!==void 0&&t!==void 0&&this.internal.out("/Names <</JavaScript "+e+" 0 R>>")}),this},(function(i){var e;i.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=t.outline.render().split(/\r\n/),a=0;a<r.length;a++){var l=r[a],s=n.exec(l);if(s!=null){var h=s[1];t.internal.newObjectDeferredBegin(h,!1)}t.internal.write(l)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(a=0;a<u;a++){var v=t.internal.newObject();d.push(v);var _=t.internal.getPageInfo(a+1);t.internal.write("<< /D["+_.objId+" 0 R /XYZ null null null]>> endobj")}var p=t.internal.newObject();for(t.internal.write("<< /Names [ "),a=0;a<d.length;a++)t.internal.write("(page_"+(a+1)+")"+d[a]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+p+" 0 R"),t.internal.write(">>","endobj")}}]),i.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),i.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(n,r,a){var l={title:r,options:a,children:[]};return n==null&&(n=this.root),n.children.push(l),l},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(n){n.id=t.internal.newObjectDeferred();for(var r=0;r<n.children.length;r++)this.genIds_r(n.children[r])},t.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},t.outline.renderItems=function(n){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var l=n.children[a];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var s=this.count=this.count_r({count:0},l);if(s>0&&this.line("/Count "+s),l.options&&l.options.pageNumber){var h=t.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+h.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},t.outline.line=function(n){this.ctx.val+=n+`\r
`},t.outline.makeRef=function(n){return n.id+" 0 R"},t.outline.makeString=function(n){return"("+t.internal.pdfEscape(n)+")"},t.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(n,r){for(var a=0;a<r.children.length;a++)n.count++,this.count_r(n,r.children[a]);return n.count}}])})(Ue.API),(function(i){var e=[192,193,194,195,196,197,198,199];i.processJPEG=function(t,n,r,a,l,s){var h,u=this.decode.DCT_DECODE,d=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=l||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,h=(function(v){for(var _,p=256*v.charCodeAt(4)+v.charCodeAt(5),A=v.length,N={width:0,height:0,numcomponents:1},I=4;I<A;I+=2){if(I+=p,e.indexOf(v.charCodeAt(I+1))!==-1){_=256*v.charCodeAt(I+5)+v.charCodeAt(I+6),N={width:256*v.charCodeAt(I+7)+v.charCodeAt(I+8),height:_,numcomponents:v.charCodeAt(I+9)};break}p=256*v.charCodeAt(I+2)+v.charCodeAt(I+3)}return N})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),h.numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}d={data:t,width:h.width,height:h.height,colorSpace:s,bitsPerComponent:8,filter:u,index:n,alias:r}}return d}})(Ue.API),Ue.API.processPNG=function(i,e,t,n){if(this.__addimage__.isArrayBuffer(i)&&(i=new Uint8Array(i)),this.__addimage__.isArrayBufferView(i)){var r,a=Wd(i,{checkCrc:!0}),l=a.width,s=a.height,h=a.channels,u=a.palette,d=a.depth;r=u&&h===1?(function(X){for(var j=X.width,ie=X.height,M=X.data,F=X.palette,$=X.depth,H=!1,ce=[],de=[],me=void 0,oe=!1,_e=0,Ee=0;Ee<F.length;Ee++){var Ce=kc(F[Ee],4),S=Ce[0],R=Ce[1],q=Ce[2],Y=Ce[3];ce.push(S,R,q),Y!=null&&(Y===0?(_e++,de.length<1&&de.push(Ee)):Y<255&&(oe=!0))}if(oe||_e>1){H=!0,de=void 0;var Q=j*ie;me=new Uint8Array(Q);for(var ne=new DataView(M.buffer),ue=0;ue<Q;ue++){var fe=mu(ne,ue,$),xe=kc(F[fe],4)[3];me[ue]=xe}}else _e===0&&(de=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:H?8:void 0,colorBytes:M,alphaBytes:me,needSMask:H,palette:ce,mask:de}})(a):h===2||h===4?(function(X){for(var j=X.data,ie=X.width,M=X.height,F=X.channels,$=X.depth,H=F===2?"DeviceGray":"DeviceRGB",ce=F-1,de=ie*M,me=ce,oe=de*me,_e=1*de,Ee=Math.ceil(oe*$/8),Ce=Math.ceil(_e*$/8),S=new Uint8Array(Ee),R=new Uint8Array(Ce),q=new DataView(j.buffer),Y=new DataView(S.buffer),Q=new DataView(R.buffer),ne=!1,ue=0;ue<de;ue++){for(var fe=ue*F,xe=0;xe<me;xe++)c0(Y,mu(q,fe+xe,$),ue*me+xe,$);var De=mu(q,fe+me,$);De<(1<<$)-1&&(ne=!0),c0(Q,De,1*ue,$)}return{colorSpace:H,colorsPerPixel:ce,sMaskBitsPerComponent:ne?$:void 0,colorBytes:S,alphaBytes:R,needSMask:ne}})(a):(function(X){var j=X.data,ie=X.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:ie,colorsPerPixel:ie==="DeviceGray"?1:3,colorBytes:j instanceof Uint16Array?(function(M){for(var F=M.length,$=new Uint8Array(2*F),H=new DataView($.buffer,$.byteOffset,$.byteLength),ce=0;ce<F;ce++)H.setUint16(2*ce,M[ce],!1);return $})(j):j,needSMask:!1}})(a);var v,_,p,A=r,N=A.colorSpace,I=A.colorsPerPixel,C=A.sMaskBitsPerComponent,Z=A.colorBytes,V=A.alphaBytes,z=A.needSMask,se=A.palette,we=A.mask,pe=null;return n!==Ue.API.image_compression.NONE&&typeof Qs=="function"?(pe=(function(X){var j;switch(X){case Ue.API.image_compression.FAST:j=11;break;case Ue.API.image_compression.MEDIUM:j=13;break;case Ue.API.image_compression.SLOW:j=14;break;default:j=12}return j})(n),v=this.decode.FLATE_DECODE,_="/Predictor ".concat(pe," /Colors ").concat(I," /BitsPerComponent ").concat(d," /Columns ").concat(l),i=r0(Z,Math.ceil(l*I*d/8),I,d,n),z&&(p=r0(V,Math.ceil(l*C/8),1,C,n))):(v=void 0,_=void 0,i=Z,z&&(p=V)),(this.__addimage__.isArrayBuffer(i)||this.__addimage__.isArrayBufferView(i))&&(i=this.__addimage__.arrayBufferToBinaryString(i)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:t,data:i,index:e,filter:v,decodeParameters:_,transparency:we,palette:se,sMask:p,predictor:pe,width:l,height:s,bitsPerComponent:d,sMaskBitsPerComponent:C,colorSpace:N}}},(function(i){i.processGIF89A=function(e,t,n,r){var a=new c5(e),l=a.width,s=a.height,h=[];a.decodeAndBlitFrameRGBA(0,h);var u={data:h,width:l,height:s},d=new vu(100).encode(u,100);return i.processJPEG.call(this,d,t,n,r)},i.processGIF87A=i.processGIF89A})(Ue.API),Pn.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var i=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(i);for(var e=0;e<i;e++){var t=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:r,green:n,blue:t,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Pn.prototype.parseBGR=function(){this.pos=this.offset;var i="bit"+this.bitPP,e=this.width*this.height*4;if(e>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(e);try{this[i]()}catch(t){jt.log("bit decode error:"+t)}},Pn.prototype.bit1=function(){var i,e=Math.ceil(this.width/8),t=e%4;for(i=this.height-1;i>=0;i--){for(var n=this.bottom_up?i:this.height-1-i,r=0;r<e;r++)for(var a=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+8*r*4,s=0;s<8&&8*r+s<this.width;s++){var h=this.palette[a>>7-s&1];this.data[l+4*s]=h.blue,this.data[l+4*s+1]=h.green,this.data[l+4*s+2]=h.red,this.data[l+4*s+3]=255}t!==0&&(this.pos+=4-t)}},Pn.prototype.bit4=function(){for(var i=Math.ceil(this.width/2),e=i%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<i;r++){var a=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+2*r*4,s=a>>4,h=15&a,u=this.palette[s];if(this.data[l]=u.blue,this.data[l+1]=u.green,this.data[l+2]=u.red,this.data[l+3]=255,2*r+1>=this.width)break;u=this.palette[h],this.data[l+4]=u.blue,this.data[l+4+1]=u.green,this.data[l+4+2]=u.red,this.data[l+4+3]=255}e!==0&&(this.pos+=4-e)}},Pn.prototype.bit8=function(){for(var i=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;if(r<this.palette.length){var l=this.palette[r];this.data[a]=l.red,this.data[a+1]=l.green,this.data[a+2]=l.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}i!==0&&(this.pos+=4-i)}},Pn.prototype.bit15=function(){for(var i=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(a&e)/e*255|0,s=(a>>5&e)/e*255|0,h=(a>>10&e)/e*255|0,u=a>>15?255:0,d=n*this.width*4+4*r;this.data[d]=h,this.data[d+1]=s,this.data[d+2]=l,this.data[d+3]=u}this.pos+=i}},Pn.prototype.bit16=function(){for(var i=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(l&e)/e*255|0,h=(l>>5&t)/t*255|0,u=(l>>11)/e*255|0,d=r*this.width*4+4*a;this.data[d]=u,this.data[d+1]=h,this.data[d+2]=s,this.data[d+3]=255}this.pos+=i}},Pn.prototype.bit24=function(){for(var i=this.height-1;i>=0;i--){for(var e=this.bottom_up?i:this.height-1-i,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*t;this.data[l]=a,this.data[l+1]=r,this.data[l+2]=n,this.data[l+3]=255}this.pos+=this.width%4}},Pn.prototype.bit32=function(){for(var i=this.height-1;i>=0;i--)for(var e=this.bottom_up?i:this.height-1-i,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*t;this.data[s]=a,this.data[s+1]=r,this.data[s+2]=n,this.data[s+3]=l}},Pn.prototype.getData=function(){return this.data},(function(i){i.processBMP=function(e,t,n,r){var a=new Pn(e,!1),l=a.width,s=a.height,h={data:a.getData(),width:l,height:s},u=new vu(100).encode(h,100);return i.processJPEG.call(this,u,t,n,r)}})(Ue.API),h0.prototype.getData=function(){return this.data},(function(i){i.processWEBP=function(e,t,n,r){var a=new h0(e),l=a.width,s=a.height,h={data:a.getData(),width:l,height:s},u=new vu(100).encode(h,100);return i.processJPEG.call(this,u,t,n,r)}})(Ue.API),Ue.API.processRGBA=function(i,e,t){for(var n=i.data,r=n.length,a=new Uint8Array(r/4*3),l=new Uint8Array(r/4),s=0,h=0,u=0;u<r;u+=4){var d=n[u],v=n[u+1],_=n[u+2],p=n[u+3];a[s++]=d,a[s++]=v,a[s++]=_,l[h++]=p}var A=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:A,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:i.width,height:i.height}},Ue.API.setLanguage=function(i){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[i]!==void 0&&(this.internal.languageSettings.languageCode=i,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ya=Ue.API,Sl=Ya.getCharWidthsArray=function(i,e){var t,n,r=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),l=e.charSpace||this.internal.getCharSpace(),s=e.widths?e.widths:r.metadata.Unicode.widths,h=s.fof?s.fof:1,u=e.kerning?e.kerning:r.metadata.Unicode.kerning,d=u.fof?u.fof:1,v=e.doKerning!==!1,_=0,p=i.length,A=0,N=s[0]||h,I=[];for(t=0;t<p;t++)n=i.charCodeAt(t),typeof r.metadata.widthOfString=="function"?I.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(n))+l*(1e3/a)||0)/1e3):(_=v&&Ot(u[n])==="object"&&!isNaN(parseInt(u[n][A],10))?u[n][A]/d:0,I.push((s[n]||N)/h+_)),A=n;return I},t0=Ya.getStringUnitWidth=function(i,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),r=e.charSpace||this.internal.getCharSpace();return Ya.processArabic&&(i=Ya.processArabic(i)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(i,t,r)/t:Sl.apply(this,arguments).reduce(function(a,l){return a+l},0)},i0=function(i,e,t,n){for(var r=[],a=0,l=i.length,s=0;a!==l&&s+e[a]<t;)s+=e[a],a++;r.push(i.slice(0,a));var h=a;for(s=0;a!==l;)s+e[a]>n&&(r.push(i.slice(h,a)),s=0,h=a),s+=e[a],a++;return h!==a&&r.push(i.slice(h,a)),r},n0=function(i,e,t){t||(t={});var n,r,a,l,s,h,u,d=[],v=[d],_=t.textIndent||0,p=0,A=0,N=i.split(" "),I=Sl.apply(this,[" ",t])[0];if(h=t.lineIndent===-1?N[0].length+2:t.lineIndent||0){var C=Array(h).join(" "),Z=[];N.map(function(z){(z=z.split(/\s*\n/)).length>1?Z=Z.concat(z.map(function(se,we){return(we&&se.length?`
`:"")+se})):Z.push(z[0])}),N=Z,h=t0.apply(this,[C,t])}for(a=0,l=N.length;a<l;a++){var V=0;if(n=N[a],h&&n[0]==`
`&&(n=n.substr(1),V=1),_+p+(A=(r=Sl.apply(this,[n,t])).reduce(function(z,se){return z+se},0))>e||V){if(A>e){for(s=i0.apply(this,[n,r,e-(_+p),e]),d.push(s.shift()),d=[s.pop()];s.length;)v.push([s.shift()]);A=r.slice(n.length-(d[0]?d[0].length:0)).reduce(function(z,se){return z+se},0)}else d=[n];v.push(d),_=A+h,p=I}else d.push(n),_+=p+A,p=I}return u=h?function(z,se){return(se?C:"")+z.join(" ")}:function(z){return z.join(" ")},v.map(u)},Ya.splitTextToSize=function(i,e,t){var n,r=(t=t||{}).fontSize||this.internal.getFontSize(),a=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var v=this.internal.getFont(d.fontName,d.fontStyle),_="Unicode";return v.metadata[_]?{widths:v.metadata[_].widths||{0:1},kerning:v.metadata[_].kerning||{}}:{font:v.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);n=Array.isArray(i)?i:String(i).split(/\r?\n/);var l=1*this.internal.scaleFactor*e/r;a.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/r:0,a.lineIndent=t.lineIndent;var s,h,u=[];for(s=0,h=n.length;s<h;s++)u=u.concat(n0.apply(this,[n[s],l,a]));return u},(function(i){i.__fontmetrics__=i.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",n={},r={},a=0;a<16;a++)n[t[a]]=e[a],r[e[a]]=t[a];var l=function(_){return"0x"+parseInt(_,10).toString(16)},s=i.__fontmetrics__.compress=function(_){var p,A,N,I,C=["{"];for(var Z in _){if(p=_[Z],isNaN(parseInt(Z,10))?A="'"+Z+"'":(Z=parseInt(Z,10),A=(A=l(Z).slice(2)).slice(0,-1)+r[A.slice(-1)]),typeof p=="number")p<0?(N=l(p).slice(3),I="-"):(N=l(p).slice(2),I=""),N=I+N.slice(0,-1)+r[N.slice(-1)];else{if(Ot(p)!=="object")throw new Error("Don't know what to do with value type "+Ot(p)+".");N=s(p)}C.push(A+N)}return C.push("}"),C.join("")},h=i.__fontmetrics__.uncompress=function(_){if(typeof _!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,A,N,I,C={},Z=1,V=C,z=[],se="",we="",pe=_.length-1,X=1;X<pe;X+=1)(I=_[X])=="'"?p?(N=p.join(""),p=void 0):p=[]:p?p.push(I):I=="{"?(z.push([V,N]),V={},N=void 0):I=="}"?((A=z.pop())[0][A[1]]=V,N=void 0,V=A[0]):I=="-"?Z=-1:N===void 0?n.hasOwnProperty(I)?(se+=n[I],N=parseInt(se,16)*Z,Z=1,se=""):se+=I:n.hasOwnProperty(I)?(we+=n[I],V[N]=parseInt(we,16)*Z,Z=1,N=void 0,we=""):we+=I;return C},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:h("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},v={Unicode:{"Courier-Oblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":h("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":h("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:h("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:h("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":h("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":h("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};i.events.push(["addFont",function(_){var p=_.font,A=v.Unicode[p.postScriptName];A&&(p.metadata.Unicode={},p.metadata.Unicode.widths=A.widths,p.metadata.Unicode.kerning=A.kerning);var N=d.Unicode[p.postScriptName];N&&(p.metadata.Unicode.encoding=N,p.encoding=N.codePages[0])}])})(Ue.API),(function(i){var e=function(t){for(var n=t.length,r=new Uint8Array(n),a=0;a<n;a++)r[a]=t.charCodeAt(a);return r};i.API.events.push(["addFont",function(t){var n=void 0,r=t.font,a=t.instance;if(!r.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(n=a.existsFileInVFS(r.postScriptName)===!1?a.loadFile(r.postScriptName):a.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(l,s){s=/^\x00\x01\x00\x00/.test(s)?e(s):e(Al(s)),l.metadata=i.API.TTFFont.open(s),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(r,n)}}])})(Ue),Ue.API.addSvgAsImage=function(i,e,t,n,r,a,l,s){if(isNaN(e)||isNaN(t))throw jt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(r))throw jt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=n,h.height=r;var u=h.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,h.width,h.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},v=this;return(ot.canvg?Promise.resolve(ot.canvg):import("./chunk-T7453DVB.js")).catch(function(_){return Promise.reject(new Error("Could not load canvg: "+_))}).then(function(_){return _.default?_.default:_}).then(function(_){return _.fromString(u,i,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(_){return _.render(d)}).then(function(){v.addImage(h.toDataURL("image/jpeg",1),e,t,n,r,l,s)})},Ue.API.putTotalPages=function(i){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(i,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(i,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var r=0;r<this.internal.pages[n].length;r++)this.internal.pages[n][r]=this.internal.pages[n][r].replace(e,t);return this},Ue.API.viewerPreferences=function(i,e){var t;i=i||{},e=e||!1;var n,r,a,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(l),h=[],u=0,d=0,v=0;function _(A,N){var I,C=!1;for(I=0;I<A.length;I+=1)A[I]===N&&(C=!0);return C}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,i==="reset"||e===!0){var p=s.length;for(v=0;v<p;v+=1)t[s[v]].value=t[s[v]].defaultValue,t[s[v]].explicitSet=!1}if(Ot(i)==="object"){for(r in i)if(a=i[r],_(s,r)&&a!==void 0){if(t[r].type==="boolean"&&typeof a=="boolean")t[r].value=a;else if(t[r].type==="name"&&_(t[r].valueSet,a))t[r].value=a;else if(t[r].type==="integer"&&Number.isInteger(a))t[r].value=a;else if(t[r].type==="array"){for(u=0;u<a.length;u+=1)if(n=!0,a[u].length===1&&typeof a[u][0]=="number")h.push(String(a[u]-1));else if(a[u].length>1){for(d=0;d<a[u].length;d+=1)typeof a[u][d]!="number"&&(n=!1);n===!0&&h.push([a[u][0]-1,a[u][1]-1].join(" "))}t[r].value="["+h.join(" ")+"]"}else t[r].value=t[r].defaultValue;t[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var A,N=[];for(A in t)t[A].explicitSet===!0&&(t[A].type==="name"?N.push("/"+A+" /"+t[A].value):N.push("/"+A+" "+t[A].value));N.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+N.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},Ue.API.addMetadata=function(i,e){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceUri:e??"http://jspdf.default.namespaceuri/",rawXml:typeof e=="boolean"&&e},this.internal.events.subscribe("putCatalog",h5),this.internal.events.subscribe("postPutResources",u5)),this},(function(i){var e=i.API,t=e.pdfEscape16=function(a,l){for(var s,h=l.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],v=0,_=a.length;v<_;++v){if(s=l.metadata.characterToGlyph(a.charCodeAt(v)),l.metadata.glyIdsUsed.push(s),l.metadata.toUnicode[s]=a.charCodeAt(v),h.indexOf(s)==-1&&(h.push(s),h.push([parseInt(l.metadata.widthOfGlyph(s),10)])),s=="0")return d.join("");s=s.toString(16),d.push(u[4-s.length],s)}return d.join("")},n=function(a){var l,s,h,u,d,v,_;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,h=[],v=0,_=(s=Object.keys(a).sort(function(p,A){return p-A})).length;v<_;v++)l=s[v],h.length>=100&&(d+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar`,h=[]),a[l]!==void 0&&a[l]!==null&&typeof a[l].toString=="function"&&(u=("0000"+a[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),h.push("<"+l+"><"+u+">"));return h.length&&(d+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(l){var s=l.font,h=l.out,u=l.newObject,d=l.putStream;if(s.metadata instanceof i.API.TTFFont&&s.encoding==="Identity-H"){for(var v=s.metadata.Unicode.widths,_=s.metadata.subset.encode(s.metadata.glyIdsUsed,1),p="",A=0;A<_.length;A++)p+=String.fromCharCode(_[A]);var N=u();d({data:p,addLength1:!0,objectId:N}),h("endobj");var I=u();d({data:n(s.metadata.toUnicode),addLength1:!0,objectId:I}),h("endobj");var C=u();h("<<"),h("/Type /FontDescriptor"),h("/FontName /"+Xa(s.fontName)),h("/FontFile2 "+N+" 0 R"),h("/FontBBox "+i.API.PDFObject.convert(s.metadata.bbox)),h("/Flags "+s.metadata.flags),h("/StemV "+s.metadata.stemV),h("/ItalicAngle "+s.metadata.italicAngle),h("/Ascent "+s.metadata.ascender),h("/Descent "+s.metadata.decender),h("/CapHeight "+s.metadata.capHeight),h(">>"),h("endobj");var Z=u();h("<<"),h("/Type /Font"),h("/BaseFont /"+Xa(s.fontName)),h("/FontDescriptor "+C+" 0 R"),h("/W "+i.API.PDFObject.convert(v)),h("/CIDToGIDMap /Identity"),h("/DW 1000"),h("/Subtype /CIDFontType2"),h("/CIDSystemInfo"),h("<<"),h("/Supplement 0"),h("/Registry (Adobe)"),h("/Ordering ("+s.encoding+")"),h(">>"),h(">>"),h("endobj"),s.objectNumber=u(),h("<<"),h("/Type /Font"),h("/Subtype /Type0"),h("/ToUnicode "+I+" 0 R"),h("/BaseFont /"+Xa(s.fontName)),h("/Encoding /"+s.encoding),h("/DescendantFonts ["+Z+" 0 R]"),h(">>"),h("endobj"),s.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(l){var s=l.font,h=l.out,u=l.newObject,d=l.putStream;if(s.metadata instanceof i.API.TTFFont&&s.encoding==="WinAnsiEncoding"){for(var v=s.metadata.rawData,_="",p=0;p<v.length;p++)_+=String.fromCharCode(v[p]);var A=u();d({data:_,addLength1:!0,objectId:A}),h("endobj");var N=u();d({data:n(s.metadata.toUnicode),addLength1:!0,objectId:N}),h("endobj");var I=u();h("<<"),h("/Descent "+s.metadata.decender),h("/CapHeight "+s.metadata.capHeight),h("/StemV "+s.metadata.stemV),h("/Type /FontDescriptor"),h("/FontFile2 "+A+" 0 R"),h("/Flags 96"),h("/FontBBox "+i.API.PDFObject.convert(s.metadata.bbox)),h("/FontName /"+Xa(s.fontName)),h("/ItalicAngle "+s.metadata.italicAngle),h("/Ascent "+s.metadata.ascender),h(">>"),h("endobj"),s.objectNumber=u();for(var C=0;C<s.metadata.hmtx.widths.length;C++)s.metadata.hmtx.widths[C]=parseInt(s.metadata.hmtx.widths[C]*(1e3/s.metadata.head.unitsPerEm));h("<</Subtype/TrueType/Type/Font/ToUnicode "+N+" 0 R/BaseFont/"+Xa(s.fontName)+"/FontDescriptor "+I+" 0 R/Encoding/"+s.encoding+" /FirstChar 29 /LastChar 255 /Widths "+i.API.PDFObject.convert(s.metadata.hmtx.widths)+">>"),h("endobj"),s.isAlreadyPutted=!0}})(a)}]);var r=function(a){var l,s=a.text||"",h=a.x,u=a.y,d=a.options||{},v=a.mutex||{},_=v.pdfEscape,p=v.activeFontKey,A=v.fonts,N=p,I="",C=0,Z="",V=A[N].encoding;if(A[N].encoding!=="Identity-H")return{text:s,x:h,y:u,options:d,mutex:v};for(Z=s,N=p,Array.isArray(s)&&(Z=s[0]),C=0;C<Z.length;C+=1)A[N].metadata.hasOwnProperty("cmap")&&(l=A[N].metadata.cmap.unicode.codeMap[Z[C].charCodeAt(0)]),l||Z[C].charCodeAt(0)<256&&A[N].metadata.hasOwnProperty("Unicode")?I+=Z[C]:I+="";var z="";return parseInt(N.slice(1))<14||V==="WinAnsiEncoding"?z=_(I,N).split("").map(function(se){return se.charCodeAt(0).toString(16)}).join(""):V==="Identity-H"&&(z=t(I,A[N])),v.isHex=!0,{text:z,x:h,y:u,options:d,mutex:v}};e.events.push(["postProcessText",function(a){var l=a.text||"",s=[],h={text:l,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(l)){var u=0;for(u=0;u<l.length;u+=1)Array.isArray(l[u])&&l[u].length===3?s.push([r(Object.assign({},h,{text:l[u][0]})).text,l[u][1],l[u][2]]):s.push(r(Object.assign({},h,{text:l[u]})).text);a.text=s}else a.text=r(Object.assign({},h,{text:l})).text}])})(Ue),(function(i){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};i.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},i.addFileToVFS=function(t,n){return e.call(this),this.internal.vFS[t]=n,this},i.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Ue.API),(function(i){i.__bidiEngine__=i.prototype.__bidiEngine__=function(n){var r,a,l,s,h,u,d,v=e,_=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],A={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},N={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},I=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],C=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),Z=!1,V=0;this.__bidiEngine__={};var z=function(M){var F=M.charCodeAt(),$=F>>8,H=N[$];return H!==void 0?v[256*H+(255&F)]:$===252||$===253?"AL":C.test($)?"L":$===8?"R":"N"},se=function(M){for(var F,$=0;$<M.length;$++){if((F=z(M.charAt($)))==="L")return!1;if(F==="R")return!0}return!1},we=function(M,F,$,H){var ce,de,me,oe,_e=F[H];switch(_e){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":Z=!1;break;case"N":case"AN":break;case"EN":Z&&(_e="AN");break;case"AL":Z=!0,_e="R";break;case"WS":case"BN":_e="N";break;case"CS":H<1||H+1>=F.length||(ce=$[H-1])!=="EN"&&ce!=="AN"||(de=F[H+1])!=="EN"&&de!=="AN"?_e="N":Z&&(de="AN"),_e=de===ce?de:"N";break;case"ES":_e=(ce=H>0?$[H-1]:"B")==="EN"&&H+1<F.length&&F[H+1]==="EN"?"EN":"N";break;case"ET":if(H>0&&$[H-1]==="EN"){_e="EN";break}if(Z){_e="N";break}for(me=H+1,oe=F.length;me<oe&&F[me]==="ET";)me++;_e=me<oe&&F[me]==="EN"?"EN":"N";break;case"NSM":if(l&&!s){for(oe=F.length,me=H+1;me<oe&&F[me]==="NSM";)me++;if(me<oe){var Ee=M[H],Ce=Ee>=1425&&Ee<=2303||Ee===64286;if(ce=F[me],Ce&&(ce==="R"||ce==="AL")){_e="R";break}}}_e=H<1||(ce=F[H-1])==="B"?"N":$[H-1];break;case"B":Z=!1,r=!0,_e=V;break;case"S":a=!0,_e="N"}return _e},pe=function(M,F,$){var H=M.split("");return $&&X(H,$,{hiLevel:V}),H.reverse(),F&&F.reverse(),H.join("")},X=function(M,F,$){var H,ce,de,me,oe,_e=-1,Ee=M.length,Ce=0,S=[],R=V?p:_,q=[];for(Z=!1,r=!1,a=!1,ce=0;ce<Ee;ce++)q[ce]=z(M[ce]);for(de=0;de<Ee;de++){if(oe=Ce,S[de]=we(M,q,S,de),H=240&(Ce=R[oe][A[S[de]]]),Ce&=15,F[de]=me=R[Ce][5],H>0)if(H===16){for(ce=_e;ce<de;ce++)F[ce]=1;_e=-1}else _e=-1;if(R[Ce][6])_e===-1&&(_e=de);else if(_e>-1){for(ce=_e;ce<de;ce++)F[ce]=me;_e=-1}q[de]==="B"&&(F[de]=0),$.hiLevel|=me}a&&(function(Y,Q,ne){for(var ue=0;ue<ne;ue++)if(Y[ue]==="S"){Q[ue]=V;for(var fe=ue-1;fe>=0&&Y[fe]==="WS";fe--)Q[fe]=V}})(q,F,Ee)},j=function(M,F,$,H,ce){if(!(ce.hiLevel<M)){if(M===1&&V===1&&!r)return F.reverse(),void($&&$.reverse());for(var de,me,oe,_e,Ee=F.length,Ce=0;Ce<Ee;){if(H[Ce]>=M){for(oe=Ce+1;oe<Ee&&H[oe]>=M;)oe++;for(_e=Ce,me=oe-1;_e<me;_e++,me--)de=F[_e],F[_e]=F[me],F[me]=de,$&&(de=$[_e],$[_e]=$[me],$[me]=de);Ce=oe}Ce++}}},ie=function(M,F,$){var H=M.split(""),ce={hiLevel:V};return $||($=[]),X(H,$,ce),(function(de,me,oe){if(oe.hiLevel!==0&&d)for(var _e,Ee=0;Ee<de.length;Ee++)me[Ee]===1&&(_e=I.indexOf(de[Ee]))>=0&&(de[Ee]=I[_e+1])})(H,$,ce),j(2,H,F,$,ce),j(1,H,F,$,ce),H.join("")};return this.__bidiEngine__.doBidiReorder=function(M,F,$){if((function(ce,de){if(de)for(var me=0;me<ce.length;me++)de[me]=me;s===void 0&&(s=se(ce)),u===void 0&&(u=se(ce))})(M,F),l||!h||u)if(l&&h&&s^u)V=s?1:0,M=pe(M,F,$);else if(!l&&h&&u)V=s?1:0,M=ie(M,F,$),M=pe(M,F);else if(!l||s||h||u){if(l&&!h&&s^u)M=pe(M,F),s?(V=0,M=ie(M,F,$)):(V=1,M=ie(M,F,$),M=pe(M,F));else if(l&&s&&!h&&u)V=1,M=ie(M,F,$),M=pe(M,F);else if(!l&&!h&&s^u){var H=d;s?(V=1,M=ie(M,F,$),V=0,d=!1,M=ie(M,F,$),d=H):(V=0,M=ie(M,F,$),M=pe(M,F),V=1,d=!1,M=ie(M,F,$),d=H,M=pe(M,F))}}else V=0,M=ie(M,F,$);else V=s?1:0,M=ie(M,F,$);return M},this.__bidiEngine__.setOptions=function(M){M&&(l=M.isInputVisual,h=M.isOutputVisual,s=M.isInputRtl,u=M.isOutputRtl,d=M.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new i.__bidiEngine__({isInputVisual:!0});i.API.events.push(["postProcessText",function(n){var r=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var l=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,t.setOptions(a),Object.prototype.toString.call(r)==="[object Array]"){var s=0;for(l=[],s=0;s<r.length;s+=1)Object.prototype.toString.call(r[s])==="[object Array]"?l.push([t.doBidiReorder(r[s][0]),r[s][1],r[s][2]]):l.push([t.doBidiReorder(r[s])]);n.text=l}else n.text=t.doBidiReorder(r);t.setOptions({isInputVisual:!0})}])})(Ue),Ue.API.TTFFont=(function(){function i(e){var t;if(this.rawData=e,t=this.contents=new $r(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new k5(this),this.registerTTF()}return i.open=function(e){return new i(e)},i.prototype.parse=function(){return this.directory=new f5(this.contents),this.head=new p5(this),this.name=new y5(this),this.cmap=new A0(this),this.toUnicode={},this.hhea=new g5(this),this.maxp=new b5(this),this.hmtx=new w5(this),this.post=new v5(this),this.os2=new m5(this),this.loca=new C5(this),this.glyf=new x5(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},i.prototype.registerTTF=function(){var e,t,n,r,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,s,h,u;for(u=[],l=0,s=(h=this.bbox).length;l<s;l++)e=h[l],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(r=this.post.italic_angle),32768&(t=r>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},i.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},i.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},i.prototype.widthOfString=function(e,t,n){var r,a,l,s;for(l=0,a=0,s=(e=""+e).length;0<=s?a<s:a>s;a=0<=s?++a:--a)r=e.charCodeAt(a),l+=this.widthOfGlyph(this.characterToGlyph(r))+n*(1e3/t)||0;return l*(t/1e3)},i.prototype.lineHeight=function(e,t){var n;return t==null&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},i})();var Fn,$r=(function(){function i(e){this.data=e??[],this.pos=0,this.length=this.data.length}return i.prototype.readByte=function(){return this.data[this.pos++]},i.prototype.writeByte=function(e){return this.data[this.pos++]=e},i.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},i.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},i.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},i.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},i.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},i.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},i.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},i.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},i.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},i.prototype.writeString=function(e){var t,n,r;for(r=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)r.push(this.writeByte(e.charCodeAt(t)));return r},i.prototype.readShort=function(){return this.readInt16()},i.prototype.writeShort=function(e){return this.writeInt16(e)},i.prototype.readLongLong=function(){var e,t,n,r,a,l,s,h;return e=this.readByte(),t=this.readByte(),n=this.readByte(),r=this.readByte(),a=this.readByte(),l=this.readByte(),s=this.readByte(),h=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^r)+16777216*(255^a)+65536*(255^l)+256*(255^s)+(255^h)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*r+16777216*a+65536*l+256*s+h},i.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},i.prototype.readInt=function(){return this.readInt32()},i.prototype.writeInt=function(e){return this.writeInt32(e)},i.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},i.prototype.write=function(e){var t,n,r,a;for(a=[],n=0,r=e.length;n<r;n++)t=e[n],a.push(this.writeByte(t));return a},i})(),f5=(function(){var i;function e(t){var n,r,a;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},r=0,a=this.tableCount;0<=a?r<a:r>a;r=0<=a?++r:--r)n={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(t){var n,r,a,l,s,h,u,d,v,_,p,A,N;for(N in p=Object.keys(t).length,h=Math.log(2),v=16*Math.floor(Math.log(p)/h),l=Math.floor(v/h),d=16*p-v,(r=new $r).writeInt(this.scalarType),r.writeShort(p),r.writeShort(v),r.writeShort(l),r.writeShort(d),a=16*p,u=r.pos+a,s=null,A=[],t)for(_=t[N],r.writeString(N),r.writeInt(i(_)),r.writeInt(u),r.writeInt(_.length),A=A.concat(_),N==="head"&&(s=u),u+=_.length;u%4;)A.push(0),u++;return r.write(A),n=2981146554-i(r.data),r.pos=s+8,r.writeUInt32(n),r.data},i=function(t){var n,r,a,l;for(t=C0.call(t);t.length%4;)t.push(0);for(a=new $r(t),r=0,n=0,l=t.length;n<l;n=n+=4)r+=a.readUInt32();return 4294967295&r},e})(),d5={}.hasOwnProperty,Kn=function(i,e){for(var t in e)d5.call(e,t)&&(i[t]=e[t]);function n(){this.constructor=i}return n.prototype=e.prototype,i.prototype=new n,i.__super__=e.prototype,i};Fn=(function(){function i(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return i.prototype.parse=function(){},i.prototype.encode=function(){},i.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},i})();var p5=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Kn(i,Fn),i.prototype.tag="head",i.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},i.prototype.encode=function(e){var t;return(t=new $r).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},i})(),f0=(function(){function i(e,t){var n,r,a,l,s,h,u,d,v,_,p,A,N,I,C,Z,V;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),v=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(h=0;h<256;++h)this.codeMap[h]=e.readByte();break;case 4:for(p=e.readUInt16(),_=p/2,e.pos+=6,a=(function(){var z,se;for(se=[],h=z=0;0<=_?z<_:z>_;h=0<=_?++z:--z)se.push(e.readUInt16());return se})(),e.pos+=2,N=(function(){var z,se;for(se=[],h=z=0;0<=_?z<_:z>_;h=0<=_?++z:--z)se.push(e.readUInt16());return se})(),u=(function(){var z,se;for(se=[],h=z=0;0<=_?z<_:z>_;h=0<=_?++z:--z)se.push(e.readUInt16());return se})(),d=(function(){var z,se;for(se=[],h=z=0;0<=_?z<_:z>_;h=0<=_?++z:--z)se.push(e.readUInt16());return se})(),r=(this.length-e.pos+this.offset)/2,s=(function(){var z,se;for(se=[],h=z=0;0<=r?z<r:z>r;h=0<=r?++z:--z)se.push(e.readUInt16());return se})(),h=C=0,V=a.length;C<V;h=++C)for(I=a[h],n=Z=A=N[h];A<=I?Z<=I:Z>=I;n=A<=I?++Z:--Z)d[h]===0?l=n+u[h]:(l=s[d[h]/2+(n-A)-(_-h)]||0)!==0&&(l+=u[h]),this.codeMap[n]=65535&l}e.pos=v}return i.encode=function(e,t){var n,r,a,l,s,h,u,d,v,_,p,A,N,I,C,Z,V,z,se,we,pe,X,j,ie,M,F,$,H,ce,de,me,oe,_e,Ee,Ce,S,R,q,Y,Q,ne,ue,fe,xe,De,Be;switch(H=new $r,l=Object.keys(e).sort(function(Te,Ze){return Te-Ze}),t){case"macroman":for(N=0,I=(function(){var Te=[];for(A=0;A<256;++A)Te.push(0);return Te})(),Z={0:0},a={},ce=0,_e=l.length;ce<_e;ce++)Z[fe=e[r=l[ce]]]==null&&(Z[fe]=++N),a[r]={old:e[r],new:Z[e[r]]},I[r]=Z[e[r]];return H.writeUInt16(1),H.writeUInt16(0),H.writeUInt32(12),H.writeUInt16(0),H.writeUInt16(262),H.writeUInt16(0),H.write(I),{charMap:a,subtable:H.data,maxGlyphID:N+1};case"unicode":for(F=[],v=[],V=0,Z={},n={},C=u=null,de=0,Ee=l.length;de<Ee;de++)Z[se=e[r=l[de]]]==null&&(Z[se]=++V),n[r]={old:se,new:Z[se]},s=Z[se]-r,C!=null&&s===u||(C&&v.push(C),F.push(r),u=s),C=r;for(C&&v.push(C),v.push(65535),F.push(65535),ie=2*(j=F.length),X=2*Math.pow(Math.log(j)/Math.LN2,2),_=Math.log(X/2)/Math.LN2,pe=2*j-X,h=[],we=[],p=[],A=me=0,Ce=F.length;me<Ce;A=++me){if(M=F[A],d=v[A],M===65535){h.push(0),we.push(0);break}if(M-($=n[M].new)>=32768)for(h.push(0),we.push(2*(p.length+j-A)),r=oe=M;M<=d?oe<=d:oe>=d;r=M<=d?++oe:--oe)p.push(n[r].new);else h.push($-M),we.push(0)}for(H.writeUInt16(3),H.writeUInt16(1),H.writeUInt32(12),H.writeUInt16(4),H.writeUInt16(16+8*j+2*p.length),H.writeUInt16(0),H.writeUInt16(ie),H.writeUInt16(X),H.writeUInt16(_),H.writeUInt16(pe),ne=0,S=v.length;ne<S;ne++)r=v[ne],H.writeUInt16(r);for(H.writeUInt16(0),ue=0,R=F.length;ue<R;ue++)r=F[ue],H.writeUInt16(r);for(xe=0,q=h.length;xe<q;xe++)s=h[xe],H.writeUInt16(s);for(De=0,Y=we.length;De<Y;De++)z=we[De],H.writeUInt16(z);for(Be=0,Q=p.length;Be<Q;Be++)N=p[Be],H.writeUInt16(N);return{charMap:n,subtable:H.data,maxGlyphID:V+1}}},i})(),A0=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Kn(i,Fn),i.prototype.tag="cmap",i.prototype.parse=function(e){var t,n,r;for(e.pos=this.offset,this.version=e.readUInt16(),r=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=r?n<r:n>r;n=0<=r?++n:--n)t=new f0(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},i.encode=function(e,t){var n,r;return t==null&&(t="macroman"),n=f0.encode(e,t),(r=new $r).writeUInt16(0),r.writeUInt16(1),n.table=r.data.concat(n.subtable),n},i})(),g5=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Kn(i,Fn),i.prototype.tag="hhea",i.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},i})(),m5=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Kn(i,Fn),i.prototype.tag="OS/2",i.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n})(),this.charRange=(function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},i})(),v5=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Kn(i,Fn),i.prototype.tag="post",i.prototype.parse=function(e){var t,n,r;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],r=[];e.pos<this.offset+this.length;)t=e.readByte(),r.push(this.names.push(e.readString(t)));return r;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var l,s,h;for(h=[],a=l=0,s=this.file.maxp.numGlyphs;0<=s?l<s:l>s;a=0<=s?++l:--l)h.push(e.readUInt32());return h}).call(this)}},i})(),_5=function(i,e){this.raw=i,this.length=i.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},y5=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Kn(i,Fn),i.prototype.tag="name",i.prototype.parse=function(e){var t,n,r,a,l,s,h,u,d,v,_;for(e.pos=this.offset,e.readShort(),t=e.readShort(),s=e.readShort(),n=[],a=0;0<=t?a<t:a>t;a=0<=t?++a:--a)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+s+e.readShort()});for(h={},a=d=0,v=n.length;d<v;a=++d)r=n[a],e.pos=r.offset,u=e.readString(r.length),l=new _5(u,r),h[_=r.nameID]==null&&(h[_]=[]),h[r.nameID].push(l);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},i})(),b5=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Kn(i,Fn),i.prototype.tag="maxp",i.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},i})(),w5=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Kn(i,Fn),i.prototype.tag="hmtx",i.prototype.parse=function(e){var t,n,r,a,l,s,h;for(e.pos=this.offset,this.metrics=[],t=0,s=this.file.hhea.numberOfMetrics;0<=s?t<s:t>s;t=0<=s?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var u,d;for(d=[],t=u=0;0<=r?u<r:u>r;t=0<=r?++u:--u)d.push(e.readInt16());return d})(),this.widths=(function(){var u,d,v,_;for(_=[],u=0,d=(v=this.metrics).length;u<d;u++)a=v[u],_.push(a.advance);return _}).call(this),n=this.widths[this.widths.length-1],h=[],t=l=0;0<=r?l<r:l>r;t=0<=r?++l:--l)h.push(this.widths.push(n));return h},i.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},i})(),C0=[].slice,x5=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Kn(i,Fn),i.prototype.tag="glyf",i.prototype.parse=function(){return this.cache={}},i.prototype.glyphFor=function(e){var t,n,r,a,l,s,h,u,d,v;return e in this.cache?this.cache[e]:(a=this.file.loca,t=this.file.contents,n=a.indexOf(e),(r=a.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+n,l=(s=new $r(t.read(r))).readShort(),u=s.readShort(),v=s.readShort(),h=s.readShort(),d=s.readShort(),this.cache[e]=l===-1?new A5(s,u,v,h,d):new S5(s,l,u,v,h,d),this.cache[e]))},i.prototype.encode=function(e,t,n){var r,a,l,s,h;for(l=[],a=[],s=0,h=t.length;s<h;s++)r=e[t[s]],a.push(l.length),r&&(l=l.concat(r.encode(n)));return a.push(l.length),{table:l,offsets:a}},i})(),S5=(function(){function i(e,t,n,r,a,l){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=r,this.xMax=a,this.yMax=l,this.compound=!1}return i.prototype.encode=function(){return this.raw.data},i})(),A5=(function(){function i(e,t,n,r,a){var l,s;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=r,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;s=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&s;)l.pos+=1&s?4:2,128&s?l.pos+=8:64&s?l.pos+=4:8&s&&(l.pos+=2)}return i.prototype.encode=function(){var e,t,n;for(t=new $r(C0.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},i})(),C5=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Kn(i,Fn),i.prototype.tag="loca",i.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var r,a;for(a=[],n=0,r=this.length;n<r;n+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var r,a;for(a=[],n=0,r=this.length;n<r;n+=4)a.push(e.readUInt32());return a}).call(this)},i.prototype.indexOf=function(e){return this.offsets[e]},i.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},i.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),r=0,a=0,l=0;l<n.length;++l)if(n[l]=r,a<t.length&&t[a]==l){++a,n[l]=r;var s=this.offsets[l],h=this.offsets[l+1]-s;h>0&&(r+=h)}for(var u=new Array(4*n.length),d=0;d<n.length;++d)u[4*d+3]=255&n[d],u[4*d+2]=(65280&n[d])>>8,u[4*d+1]=(16711680&n[d])>>16,u[4*d]=(4278190080&n[d])>>24;return u},i})(),k5=(function(){function i(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return i.prototype.generateCmap=function(){var e,t,n,r,a;for(t in r=this.font.cmap.tables[0].codeMap,e={},a=this.subset)n=a[t],e[t]=r[n];return e},i.prototype.glyphsFor=function(e){var t,n,r,a,l,s,h;for(r={},l=0,s=e.length;l<s;l++)r[a=e[l]]=this.font.glyf.glyphFor(a);for(a in t=[],r)(n=r[a])!=null&&n.compound&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(a in h=this.glyphsFor(t))n=h[a],r[a]=n;return r},i.prototype.encode=function(e,t){var n,r,a,l,s,h,u,d,v,_,p,A,N,I,C;for(r in n=A0.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(e),p={0:0},C=n.charMap)p[(h=C[r]).old]=h.new;for(A in _=n.maxGlyphID,l)A in p||(p[A]=_++);return d=(function(Z){var V,z;for(V in z={},Z)z[Z[V]]=V;return z})(p),v=Object.keys(d).sort(function(Z,V){return Z-V}),N=(function(){var Z,V,z;for(z=[],Z=0,V=v.length;Z<V;Z++)s=v[Z],z.push(d[s]);return z})(),a=this.font.glyf.encode(l,N,p),u=this.font.loca.encode(a.offsets,N),I={cmap:this.font.cmap.raw(),glyf:a.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(I["OS/2"]=this.font.os2.raw()),this.font.directory.encode(I)},i})();Ue.API.PDFObject=(function(){var i;function e(){}return i=function(t,n){return(Array(n+1).join("0")+t).slice(-n)},e.convert=function(t){var n,r,a,l;if(Array.isArray(t))return"["+(function(){var s,h,u;for(u=[],s=0,h=t.length;s<h;s++)n=t[s],u.push(e.convert(n));return u})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+i(t.getUTCFullYear(),4)+i(t.getUTCMonth(),2)+i(t.getUTCDate(),2)+i(t.getUTCHours(),2)+i(t.getUTCMinutes(),2)+i(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(r in a=["<<"],t)l=t[r],a.push("/"+r+" "+e.convert(l));return a.push(">>"),a.join(`
`)}return""+t},e})();function E0(i,e,t,n,r){n=n||{};var a=1.15,l=r.internal.scaleFactor,s=r.internal.getFontSize()/l,h=r.getLineHeightFactor?r.getLineHeightFactor():a,u=s*h,d=/\r\n|\r|\n/g,v="",_=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(v=typeof i=="string"?i.split(d):i,_=v.length||1),t+=s*(2-a),n.valign==="middle"?t-=_/2*u:n.valign==="bottom"&&(t-=_*u),n.halign==="center"||n.halign==="right"){var p=s;if(n.halign==="center"&&(p*=.5),v&&_>=1){for(var A=0;A<v.length;A++)r.text(v[A],e-r.getStringUnitWidth(v[A])*p,t),t+=u;return r}e-=r.getStringUnitWidth(i)*p}return n.halign==="justify"?r.text(i,e,t,{maxWidth:n.maxWidth||100,align:"justify"}):r.text(i,e,t),r}var k0={},no=(function(){function i(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return i.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:k0=e},i.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},i.prototype.applyStyles=function(e,t){var n,r,a;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var l=this.jsPDFDocument.internal.getFont(),s=l.fontStyle,h=l.fontName;if(e.font&&(h=e.font),e.fontStyle){s=e.fontStyle;var u=this.getFontList()[h];u&&u.indexOf(s)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),s=u[0])}if(this.jsPDFDocument.setFont(h,s),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var d=i.unifyColor(e.fillColor);d&&(n=this.jsPDFDocument).setFillColor.apply(n,d),d=i.unifyColor(e.textColor),d&&(r=this.jsPDFDocument).setTextColor.apply(r,d),d=i.unifyColor(e.lineColor),d&&(a=this.jsPDFDocument).setDrawColor.apply(a,d),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},i.prototype.splitTextToSize=function(e,t,n){return this.jsPDFDocument.splitTextToSize(e,t,n)},i.prototype.rect=function(e,t,n,r,a){return this.jsPDFDocument.rect(e,t,n,r,a)},i.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},i.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},i.prototype.getDocument=function(){return this.jsPDFDocument},i.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},i.prototype.addPage=function(){return this.jsPDFDocument.addPage()},i.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},i.prototype.getGlobalOptions=function(){return k0||{}},i.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},i.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},i.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},i.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},i.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},i.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},i})(),Lu=function(i,e){return Lu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},Lu(i,e)};function P0(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Lu(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var I0=(function(i){P0(e,i);function e(t){var n=i.call(this)||this;return n._element=t,n}return e})(Array);function M5(i){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/i,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function N5(i){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[i]}function Il(i,e,t){t.applyStyles(e,!0);var n=Array.isArray(i)?i:[i],r=n.map(function(a){return t.getTextWidth(a)}).reduce(function(a,l){return Math.max(a,l)},0);return r}function F0(i,e,t,n){var r=e.settings.tableLineWidth,a=e.settings.tableLineColor;i.applyStyles({lineWidth:r,lineColor:a});var l=T0(r,!1);l&&i.rect(t.x,t.y,e.getWidth(i.pageSize().width),n.y-t.y,l)}function T0(i,e){var t=i>0,n=e||e===0;return t&&n?"DF":t?"S":n?"F":null}function Tl(i,e){var t,n,r,a;if(i=i||e,Array.isArray(i)){if(i.length>=4)return{top:i[0],right:i[1],bottom:i[2],left:i[3]};if(i.length===3)return{top:i[0],right:i[1],bottom:i[2],left:i[1]};if(i.length===2)return{top:i[0],right:i[1],bottom:i[0],left:i[1]};i.length===1?i=i[0]:i=e}return typeof i=="object"?(typeof i.vertical=="number"&&(i.top=i.vertical,i.bottom=i.vertical),typeof i.horizontal=="number"&&(i.right=i.horizontal,i.left=i.horizontal),{left:(t=i.left)!==null&&t!==void 0?t:e,top:(n=i.top)!==null&&n!==void 0?n:e,right:(r=i.right)!==null&&r!==void 0?r:e,bottom:(a=i.bottom)!==null&&a!==void 0?a:e}):(typeof i!="number"&&(i=e),{top:i,right:i,bottom:i,left:i})}function B0(i,e){var t=Tl(e.settings.margin,0);return i.pageSize().width-(t.left+t.right)}function L5(i,e,t,n,r){var a={},l=1.3333333333333333,s=Su(e,function(V){return r.getComputedStyle(V).backgroundColor});s!=null&&(a.fillColor=s);var h=Su(e,function(V){return r.getComputedStyle(V).color});h!=null&&(a.textColor=h);var u=E5(n,t);u&&(a.cellPadding=u);var d="borderTopColor",v=l*t,_=n.borderTopWidth;if(n.borderBottomWidth===_&&n.borderRightWidth===_&&n.borderLeftWidth===_){var p=(parseFloat(_)||0)/v;p&&(a.lineWidth=p)}else a.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/v,right:(parseFloat(n.borderRightWidth)||0)/v,bottom:(parseFloat(n.borderBottomWidth)||0)/v,left:(parseFloat(n.borderLeftWidth)||0)/v},a.lineWidth.top||(a.lineWidth.right?d="borderRightColor":a.lineWidth.bottom?d="borderBottomColor":a.lineWidth.left&&(d="borderLeftColor"));var A=Su(e,function(V){return r.getComputedStyle(V)[d]});A!=null&&(a.lineColor=A);var N=["left","right","center","justify"];N.indexOf(n.textAlign)!==-1&&(a.halign=n.textAlign),N=["middle","bottom","top"],N.indexOf(n.verticalAlign)!==-1&&(a.valign=n.verticalAlign);var I=parseInt(n.fontSize||"");isNaN(I)||(a.fontSize=I/l);var C=D5(n);C&&(a.fontStyle=C);var Z=(n.fontFamily||"").toLowerCase();return i.indexOf(Z)!==-1&&(a.font=Z),a}function D5(i){var e="";return(i.fontWeight==="bold"||i.fontWeight==="bolder"||parseInt(i.fontWeight)>=700)&&(e="bold"),(i.fontStyle==="italic"||i.fontStyle==="oblique")&&(e+="italic"),e}function Su(i,e){var t=O0(i,e);if(!t)return null;var n=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var r=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],a=parseInt(n[4]);return a===0||isNaN(r[0])||isNaN(r[1])||isNaN(r[2])?null:r}function O0(i,e){var t=e(i);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?i.parentElement==null?null:O0(i.parentElement,e):t}function E5(i,e){var t=[i.paddingTop,i.paddingRight,i.paddingBottom,i.paddingLeft],n=96/(72/e),r=(parseInt(i.lineHeight)-parseInt(i.fontSize))/e/2,a=t.map(function(s){return parseInt(s||"0")/n}),l=Tl(a,0);return r>l.top&&(l.top=r),r>l.bottom&&(l.bottom=r),l}function R0(i,e,t,n,r){var a,l;n===void 0&&(n=!1),r===void 0&&(r=!1);var s;typeof e=="string"?s=t.document.querySelector(e):s=e;var h=Object.keys(i.getFontList()),u=i.scaleFactor(),d=[],v=[],_=[];if(!s)return console.error("Html table could not be found with input: ",e),{head:d,body:v,foot:_};for(var p=0;p<s.rows.length;p++){var A=s.rows[p],N=(l=(a=A?.parentElement)===null||a===void 0?void 0:a.tagName)===null||l===void 0?void 0:l.toLowerCase(),I=P5(h,u,t,A,n,r);I&&(N==="thead"?d.push(I):N==="tfoot"?_.push(I):v.push(I))}return{head:d,body:v,foot:_}}function P5(i,e,t,n,r,a){for(var l=new I0(n),s=0;s<n.cells.length;s++){var h=n.cells[s],u=t.getComputedStyle(h);if(r||u.display!=="none"){var d=void 0;a&&(d=L5(i,h,e,u,t)),l.push({rowSpan:h.rowSpan,colSpan:h.colSpan,styles:d,_element:h,content:I5(h)})}}var v=t.getComputedStyle(n);if(l.length>0&&(r||v.display!=="none"))return l}function I5(i){var e=i.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function F5(i,e,t){for(var n=0,r=[i,e,t];n<r.length;n++){var a=r[n];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function br(i,e,t,n,r){if(i==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(i),l=1;l<arguments.length;l++){var s=arguments[l];if(s!=null)for(var h in s)Object.prototype.hasOwnProperty.call(s,h)&&(a[h]=s[h])}return a}function z0(i,e){var t=new no(i),n=t.getDocumentOptions(),r=t.getGlobalOptions();F5(r,n,e);var a=br({},r,n,e),l;typeof window<"u"&&(l=window);var s=T5(r,n,e),h=B5(r,n,e),u=O5(t,a),d=z5(t,a,l);return{id:e.tableId,content:d,hooks:h,styles:s,settings:u}}function T5(i,e,t){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},r=function(h){if(h==="columnStyles"){var u=i[h],d=e[h],v=t[h];n.columnStyles=br({},u,d,v)}else{var _=[i,e,t],p=_.map(function(A){return A[h]||{}});n[h]=br({},p[0],p[1],p[2])}},a=0,l=Object.keys(n);a<l.length;a++){var s=l[a];r(s)}return n}function B5(i,e,t){for(var n=[i,e,t],r={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,l=n;a<l.length;a++){var s=l[a];s.didParseCell&&r.didParseCell.push(s.didParseCell),s.willDrawCell&&r.willDrawCell.push(s.willDrawCell),s.didDrawCell&&r.didDrawCell.push(s.didDrawCell),s.willDrawPage&&r.willDrawPage.push(s.willDrawPage),s.didDrawPage&&r.didDrawPage.push(s.didDrawPage)}return r}function O5(i,e){var t,n,r,a,l,s,h,u,d,v,_,p,A=Tl(e.margin,40/i.scaleFactor()),N=(t=R5(i,e.startY))!==null&&t!==void 0?t:A.top,I;e.showFoot===!0?I="everyPage":e.showFoot===!1?I="never":I=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var C;e.showHead===!0?C="everyPage":e.showHead===!1?C="never":C=(r=e.showHead)!==null&&r!==void 0?r:"everyPage";var Z=(a=e.useCss)!==null&&a!==void 0?a:!1,V=e.theme||(Z?"plain":"striped"),z=!!e.horizontalPageBreak,se=(l=e.horizontalPageBreakRepeat)!==null&&l!==void 0?l:null;return{includeHiddenHtml:(s=e.includeHiddenHtml)!==null&&s!==void 0?s:!1,useCss:Z,theme:V,startY:N,margin:A,pageBreak:(h=e.pageBreak)!==null&&h!==void 0?h:"auto",rowPageBreak:(u=e.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(d=e.tableWidth)!==null&&d!==void 0?d:"auto",showHead:C,showFoot:I,tableLineWidth:(v=e.tableLineWidth)!==null&&v!==void 0?v:0,tableLineColor:(_=e.tableLineColor)!==null&&_!==void 0?_:200,horizontalPageBreak:z,horizontalPageBreakRepeat:se,horizontalPageBreakBehaviour:(p=e.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function R5(i,e){var t=i.getLastAutoTable(),n=i.scaleFactor(),r=i.pageNumber(),a=!1;if(t&&t.startPageNumber){var l=t.startPageNumber+t.pageNumber-1;a=l===r}return typeof e=="number"?e:(e==null||e===!1)&&a&&t?.finalY!=null?t.finalY+20/n:null}function z5(i,e,t){var n=e.head||[],r=e.body||[],a=e.foot||[];if(e.html){var l=e.includeHiddenHtml;if(t){var s=R0(i,e.html,t,l,e.useCss)||{};n=s.head||n,r=s.body||n,a=s.foot||n}else console.error("Cannot parse html in non browser environment")}var h=e.columns||j5(n,r,a);return{columns:h,head:n,body:r,foot:a}}function j5(i,e,t){var n=i[0]||e[0]||t[0]||[],r=[];return Object.keys(n).filter(function(a){return a!=="_element"}).forEach(function(a){var l=1,s;Array.isArray(n)?s=n[parseInt(a)]:s=n[a],typeof s=="object"&&!Array.isArray(s)&&(l=s?.colSpan||1);for(var h=0;h<l;h++){var u=void 0;Array.isArray(n)?u=r.length:u=a+(h>0?"_".concat(h):"");var d={dataKey:u};r.push(d)}}),r}var Du=(function(){function i(e,t,n){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=n,this.doc=e.getDocument()}return i})(),U5=(function(i){P0(e,i);function e(t,n,r,a,l,s){var h=i.call(this,t,n,s)||this;return h.cell=r,h.row=a,h.column=l,h.section=a.section,h}return e})(Du),q5=(function(){function i(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return i.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,n){return t+n.getMaxCellHeight(e)},0)},i.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,n){return t+n.getMaxCellHeight(e)},0)},i.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},i.prototype.callCellHooks=function(e,t,n,r,a,l){for(var s=0,h=t;s<h.length;s++){var u=h[s],d=new U5(e,this,n,r,a,l),v=u(d)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],v)return!1}return!0},i.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var n=0,r=this.hooks.didDrawPage;n<r.length;n++){var a=r[n];a(new Du(e,this,t))}},i.prototype.callWillDrawPageHooks=function(e,t){for(var n=0,r=this.hooks.willDrawPage;n<r.length;n++){var a=r[n];a(new Du(e,this,t))}},i.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(r,a){return r+a.wrappedWidth},0);return t}else{var n=this.settings.margin;return e-n.left-n.right}},i})(),j0=(function(){function i(e,t,n,r,a){a===void 0&&(a=!1),this.height=0,this.raw=e,e instanceof I0&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=n,this.cells=r,this.spansMultiplePages=a}return i.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(n,r){var a;return Math.max(n,((a=t.cells[r.index])===null||a===void 0?void 0:a.height)||0)},0)},i.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(n){var r=t.cells[n.index];return r?r.rowSpan>1:!1}).length>0},i.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},i.prototype.getMinimumRowHeight=function(e,t){var n=this;return e.reduce(function(r,a){var l=n.cells[a.index];if(!l)return 0;var s=t.getLineHeight(l.styles.fontSize),h=l.padding("vertical"),u=h+s;return u>r?u:r},0)},i})(),U0=(function(){function i(e,t,n){var r;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=n,this.raw=e;var a=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,a=(r=e.content)!==null&&r!==void 0?r:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var l=a!=null?""+a:"",s=/\r\n|\r|\n/g;this.text=l.split(s)}return i.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var r=this.width-this.padding("horizontal");n=this.x+r/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},i.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var n=Array.isArray(this.text)?this.text.length:1,r=this.styles.fontSize/e*t,a=n*r+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},i.prototype.padding=function(e){var t=Tl(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},i})(),V5=(function(){function i(e,t,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=n}return i.prototype.getMaxCustomCellWidth=function(e){for(var t=0,n=0,r=e.allRows();n<r.length;n++){var a=r[n],l=a.cells[this.index];l&&typeof l.styles.cellWidth=="number"&&(t=Math.max(t,l.styles.cellWidth))}return t},i})();function W5(i,e){H5(i,e);var t=[],n=0;e.columns.forEach(function(a){var l=a.getMaxCustomCellWidth(e);l?a.width=l:(a.width=a.wrappedWidth,t.push(a)),n+=a.width});var r=e.getWidth(i.pageSize().width)-n;r&&(r=Eu(t,r,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),r&&(r=Eu(t,r,function(a){return a.minWidth})),r=Math.abs(r),!e.settings.horizontalPageBreak&&r>.1/i.scaleFactor()&&(r=r<1?r:Math.round(r),console.log("Of the table content, ".concat(r," units width could not fit page"))),$5(e),Z5(e,i),G5(e)}function H5(i,e){var t=i.scaleFactor(),n=e.settings.horizontalPageBreak,r=B0(i,e);e.allRows().forEach(function(a){for(var l=0,s=e.columns;l<s.length;l++){var h=s[l],u=a.cells[h.index];if(u){var d=e.hooks.didParseCell;e.callCellHooks(i,d,u,a,h,null);var v=u.padding("horizontal");u.contentWidth=Il(u.text,u.styles,i)+v;var _=Il(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,i);if(u.minReadableWidth=_+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||n===!0)u.contentWidth>r?(u.minWidth=r,u.wrappedWidth=r):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var p=10/t;u.minWidth=u.styles.minCellWidth||p,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),e.allRows().forEach(function(a){for(var l=0,s=e.columns;l<s.length;l++){var h=s[l],u=a.cells[h.index];if(u&&u.colSpan===1)h.wrappedWidth=Math.max(h.wrappedWidth,u.wrappedWidth),h.minWidth=Math.max(h.minWidth,u.minWidth),h.minReadableWidth=Math.max(h.minReadableWidth,u.minReadableWidth);else{var d=e.styles.columnStyles[h.dataKey]||e.styles.columnStyles[h.index]||{},v=d.cellWidth||d.minCellWidth;v&&typeof v=="number"&&(h.minWidth=v,h.wrappedWidth=v)}u&&(u.colSpan>1&&!h.minWidth&&(h.minWidth=u.minWidth),u.colSpan>1&&!h.wrappedWidth&&(h.wrappedWidth=u.minWidth))}})}function Eu(i,e,t){for(var n=e,r=i.reduce(function(p,A){return p+A.wrappedWidth},0),a=0;a<i.length;a++){var l=i[a],s=l.wrappedWidth/r,h=n*s,u=l.width+h,d=t(l),v=u<d?d:u;e-=v-l.width,l.width=v}if(e=Math.round(e*1e10)/1e10,e){var _=i.filter(function(p){return e<0?p.width>t(p):!0});_.length&&(e=Eu(_,e,t))}return e}function G5(i){for(var e={},t=1,n=i.allRows(),r=0;r<n.length;r++)for(var a=n[r],l=0,s=i.columns;l<s.length;l++){var h=s[l],u=e[h.index];if(t>1)t--,delete a.cells[h.index];else if(u)u.cell.height+=a.height,t=u.cell.colSpan,delete a.cells[h.index],u.left--,u.left<=1&&delete e[h.index];else{var d=a.cells[h.index];if(!d)continue;if(d.height=a.height,d.rowSpan>1){var v=n.length-r,_=d.rowSpan>v?v:d.rowSpan;e[h.index]={cell:d,left:_,row:a}}}}}function $5(i){for(var e=i.allRows(),t=0;t<e.length;t++)for(var n=e[t],r=null,a=0,l=0,s=0;s<i.columns.length;s++){var h=i.columns[s];if(l-=1,l>1&&i.columns[s+1])a+=h.width,delete n.cells[h.index];else if(r){var u=r;delete n.cells[h.index],r=null,u.width=h.width+a}else{var u=n.cells[h.index];if(!u)continue;if(l=u.colSpan,a=0,u.colSpan>1){r=u,a+=h.width;continue}u.width=h.width+a}}}function Z5(i,e){for(var t={count:0,height:0},n=0,r=i.allRows();n<r.length;n++){for(var a=r[n],l=0,s=i.columns;l<s.length;l++){var h=s[l],u=a.cells[h.index];if(u){e.applyStyles(u.styles,!0);var d=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=e.splitTextToSize(u.text,d+1/e.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=M0(u.text,d,u.styles,e,"...");else if(u.styles.overflow==="hidden")u.text=M0(u.text,d,u.styles,e,"");else if(typeof u.styles.overflow=="function"){var v=u.styles.overflow(u.text,d);typeof v=="string"?u.text=[v]:u.text=v}u.contentHeight=u.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var _=u.contentHeight/u.rowSpan;u.rowSpan>1&&t.count*t.height<_*u.rowSpan?t={height:_,count:u.rowSpan}:t&&t.count>0&&t.height>_&&(_=t.height),_>a.height&&(a.height=_)}}t.count--}}function M0(i,e,t,n,r){return i.map(function(a){return Y5(a,e,t,n,r)})}function Y5(i,e,t,n,r){var a=1e4*n.scaleFactor();if(e=Math.ceil(e*a)/a,e>=Il(i,t,n))return i;for(;e<Il(i+r,t,n)&&!(i.length<=1);)i=i.substring(0,i.length-1);return i.trim()+r}function q0(i,e){var t=new no(i),n=K5(e,t.scaleFactor()),r=new q5(e,n);return W5(t,r),t.applyStyles(t.userStyles),r}function K5(i,e){var t=i.content,n=J5(t.columns);if(t.head.length===0){var r=N0(n,"head");r&&t.head.push(r)}if(t.foot.length===0){var r=N0(n,"foot");r&&t.foot.push(r)}var a=i.settings.theme,l=i.styles;return{columns:n,head:Au("head",t.head,n,l,a,e),body:Au("body",t.body,n,l,a,e),foot:Au("foot",t.foot,n,l,a,e)}}function Au(i,e,t,n,r,a){var l={},s=e.map(function(h,u){for(var d=0,v={},_=0,p=0,A=0,N=t;A<N.length;A++){var I=N[A];if(l[I.index]==null||l[I.index].left===0)if(p===0){var C=void 0;Array.isArray(h)?C=h[I.index-_-d]:C=h[I.dataKey];var Z={};typeof C=="object"&&!Array.isArray(C)&&(Z=C?.styles||{});var V=Q5(i,I,u,r,n,a,Z),z=new U0(C,V,i);v[I.dataKey]=z,v[I.index]=z,p=z.colSpan-1,l[I.index]={left:z.rowSpan-1,times:p}}else p--,_++;else l[I.index].left--,p=l[I.index].times,d++}return new j0(h,u,i,v)});return s}function N0(i,e){var t={};return i.forEach(function(n){if(n.raw!=null){var r=X5(e,n.raw);r!=null&&(t[n.dataKey]=r)}}),Object.keys(t).length>0?t:null}function X5(i,e){if(i==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(i==="foot"&&typeof e=="object")return e.footer;return null}function J5(i){return i.map(function(e,t){var n,r;return typeof e=="object"?r=(n=e.dataKey)!==null&&n!==void 0?n:t:r=t,new V5(r,e,t)})}function Q5(i,e,t,n,r,a,l){var s=N5(n),h;i==="head"?h=r.headStyles:i==="body"?h=r.bodyStyles:i==="foot"&&(h=r.footStyles);var u=br({},s.table,s[i],r.styles,h),d=r.columnStyles[e.dataKey]||r.columnStyles[e.index]||{},v=i==="body"?d:{},_=i==="body"&&t%2===0?br({},s.alternateRow,r.alternateRowStyles):{},p=M5(a),A=br({},p,u,_,v);return br(A,l)}function em(i,e,t){var n;t===void 0&&(t={});var r=B0(i,e),a=new Map,l=[],s=[],h=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?h=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(h=[e.settings.horizontalPageBreakRepeat]),h.forEach(function(_){var p=e.columns.find(function(A){return A.dataKey===_||A.index===_});p&&!a.has(p.index)&&(a.set(p.index,!0),l.push(p.index),s.push(e.columns[p.index]),r-=p.wrappedWidth)});for(var u=!0,d=(n=t?.start)!==null&&n!==void 0?n:0;d<e.columns.length;){if(a.has(d)){d++;continue}var v=e.columns[d].wrappedWidth;if(u||r>=v)u=!1,l.push(d),s.push(e.columns[d]),r-=v;else break;d++}return{colIndexes:l,columns:s,lastIndex:d-1}}function tm(i,e){for(var t=[],n=0;n<e.columns.length;n++){var r=em(i,e,{start:n});r.columns.length&&(t.push(r),n=r.lastIndex)}return t}function V0(i,e){var t=e.settings,n=t.startY,r=t.margin,a={x:r.left,y:n},l=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),s=n+r.bottom+l;if(t.pageBreak==="avoid"){var h=e.body,u=h.reduce(function(_,p){return _+p.height},0);s+=u}var d=new no(i);(t.pageBreak==="always"||t.startY!=null&&s>d.pageSize().height)&&(H0(d),a.y=r.top),e.callWillDrawPageHooks(d,a);var v=br({},a);e.startPageNumber=d.pageNumber(),t.horizontalPageBreak?im(d,e,v,a):(d.applyStyles(d.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(_){return wr(d,e,_,a,e.columns)}),d.applyStyles(d.userStyles),e.body.forEach(function(_,p){var A=p===e.body.length-1;Fl(d,e,_,A,v,a,e.columns)}),d.applyStyles(d.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(_){return wr(d,e,_,a,e.columns)})),F0(d,e,v,a),e.callEndPageHooks(d,a),e.finalY=a.y,i.lastAutoTable=e,d.applyStyles(d.userStyles)}function im(i,e,t,n){var r=tm(i,e),a=e.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")r.forEach(function(u,d){i.applyStyles(i.userStyles),d>0?os(i,e,t,n,u.columns,!0):L0(i,e,n,u.columns),nm(i,e,t,n,u.columns),Cu(i,e,n,u.columns)});else for(var l=-1,s=r[0],h=function(){var u=l;if(s){i.applyStyles(i.userStyles);var d=s.columns;l>=0?os(i,e,t,n,d,!0):L0(i,e,n,d),u=D0(i,e,l+1,n,d),Cu(i,e,n,d)}var v=u-l;r.slice(1).forEach(function(_){i.applyStyles(i.userStyles),os(i,e,t,n,_.columns,!0),D0(i,e,l+1,n,_.columns,v),Cu(i,e,n,_.columns)}),l=u};l<e.body.length-1;)h()}function L0(i,e,t,n){var r=e.settings;i.applyStyles(i.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(a){return wr(i,e,a,t,n)})}function nm(i,e,t,n,r){i.applyStyles(i.userStyles),e.body.forEach(function(a,l){var s=l===e.body.length-1;Fl(i,e,a,s,t,n,r)})}function D0(i,e,t,n,r,a){i.applyStyles(i.userStyles),a=a??e.body.length;var l=Math.min(t+a,e.body.length),s=-1;return e.body.slice(t,l).forEach(function(h,u){var d=t+u===e.body.length-1,v=W0(i,e,d,n);h.canEntireRowFit(v,r)&&(wr(i,e,h,n,r),s=t+u)}),s}function Cu(i,e,t,n){var r=e.settings;i.applyStyles(i.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(a){return wr(i,e,a,t,n)})}function rm(i,e,t){var n=t.getLineHeight(i.styles.fontSize),r=i.padding("vertical"),a=Math.floor((e-r)/n);return Math.max(0,a)}function am(i,e,t,n){var r={};i.spansMultiplePages=!0,i.height=0;for(var a=0,l=0,s=t.columns;l<s.length;l++){var h=s[l],u=i.cells[h.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var d=new U0(u.raw,u.styles,u.section);d=br(d,u),d.text=[];var v=rm(u,e,n);u.text.length>v&&(d.text=u.text.splice(v,u.text.length));var _=n.scaleFactor(),p=n.getLineHeightFactor();u.contentHeight=u.getContentHeight(_,p),u.contentHeight>=e&&(u.contentHeight=e,d.styles.minCellHeight-=e),u.contentHeight>i.height&&(i.height=u.contentHeight),d.contentHeight=d.getContentHeight(_,p),d.contentHeight>a&&(a=d.contentHeight),r[h.index]=d}}var A=new j0(i.raw,-1,i.section,r,!0);A.height=a;for(var N=0,I=t.columns;N<I.length;N++){var h=I[N],d=A.cells[h.index];d&&(d.height=A.height);var u=i.cells[h.index];u&&(u.height=i.height)}return A}function om(i,e,t,n){var r=i.pageSize().height,a=n.settings.margin,l=a.top+a.bottom,s=r-l;e.section==="body"&&(s-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var h=e.getMinimumRowHeight(n.columns,i),u=h<t;if(h>s)return console.log("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var d=e.hasRowSpan(n.columns),v=e.getMaxCellHeight(n.columns)>s;return v?(d&&console.log("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(d||n.settings.rowPageBreak==="avoid")}function Fl(i,e,t,n,r,a,l){var s=W0(i,e,n,a);if(t.canEntireRowFit(s,l))wr(i,e,t,a,l);else if(om(i,t,s,e)){var h=am(t,s,e,i);wr(i,e,t,a,l),os(i,e,r,a,l),Fl(i,e,h,n,r,a,l)}else os(i,e,r,a,l),Fl(i,e,t,n,r,a,l)}function wr(i,e,t,n,r){n.x=e.settings.margin.left;for(var a=0,l=r;a<l.length;a++){var s=l[a],h=t.cells[s.index];if(!h){n.x+=s.width;continue}i.applyStyles(h.styles),h.x=n.x,h.y=n.y;var u=e.callCellHooks(i,e.hooks.willDrawCell,h,t,s,n);if(u===!1){n.x+=s.width;continue}sm(i,h,n);var d=h.getTextPos();E0(h.text,d.x,d.y,{halign:h.styles.halign,valign:h.styles.valign,maxWidth:Math.ceil(h.width-h.padding("left")-h.padding("right"))},i.getDocument()),e.callCellHooks(i,e.hooks.didDrawCell,h,t,s,n),n.x+=s.width}n.y+=t.height}function sm(i,e,t){var n=e.styles;if(i.getDocument().setFillColor(i.getDocument().getFillColor()),typeof n.lineWidth=="number"){var r=T0(n.lineWidth,n.fillColor);r&&i.rect(e.x,t.y,e.width,e.height,r)}else typeof n.lineWidth=="object"&&(n.fillColor&&i.rect(e.x,t.y,e.width,e.height,"F"),lm(i,e,t,n.lineWidth))}function lm(i,e,t,n){var r,a,l,s;n.top&&(r=t.x,a=t.y,l=t.x+e.width,s=t.y,n.right&&(l+=.5*n.right),n.left&&(r-=.5*n.left),h(n.top,r,a,l,s)),n.bottom&&(r=t.x,a=t.y+e.height,l=t.x+e.width,s=t.y+e.height,n.right&&(l+=.5*n.right),n.left&&(r-=.5*n.left),h(n.bottom,r,a,l,s)),n.left&&(r=t.x,a=t.y,l=t.x,s=t.y+e.height,n.top&&(a-=.5*n.top),n.bottom&&(s+=.5*n.bottom),h(n.left,r,a,l,s)),n.right&&(r=t.x+e.width,a=t.y,l=t.x+e.width,s=t.y+e.height,n.top&&(a-=.5*n.top),n.bottom&&(s+=.5*n.bottom),h(n.right,r,a,l,s));function h(u,d,v,_,p){i.getDocument().setLineWidth(u),i.getDocument().line(d,v,_,p,"S")}}function W0(i,e,t,n){var r=e.settings.margin.bottom,a=e.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&t)&&(r+=e.getFootHeight(e.columns)),i.pageSize().height-n.y-r}function os(i,e,t,n,r,a){r===void 0&&(r=[]),a===void 0&&(a=!1),i.applyStyles(i.userStyles),e.settings.showFoot==="everyPage"&&!a&&e.foot.forEach(function(s){return wr(i,e,s,n,r)}),e.callEndPageHooks(i,n);var l=e.settings.margin;F0(i,e,t,n),H0(i),e.pageNumber++,n.x=l.left,n.y=l.top,t.y=l.top,e.callWillDrawPageHooks(i,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(s){return wr(i,e,s,n,r)}),i.applyStyles(i.userStyles))}function H0(i){var e=i.pageNumber();i.setPage(e+1);var t=i.pageNumber();return t===e?(i.addPage(),!0):!1}function cm(i){i.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0],r=z0(this,n),a=q0(this,r);return V0(this,a),this},i.API.lastAutoTable=!1,i.API.autoTableText=function(e,t,n,r){E0(e,t,n,r,this)},i.API.autoTableSetDefaults=function(e){return no.setDefaults(e,this),this},i.autoTableSetDefaults=function(e,t){no.setDefaults(e,t)},i.API.autoTableHtmlToJson=function(e,t){var n;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var r=new no(this),a=R0(r,e,window,t,!1),l=a.head,s=a.body,h=((n=l[0])===null||n===void 0?void 0:n.map(function(u){return u.content}))||[];return{columns:h,rows:s,data:s}}}var ku;function G0(i,e){var t=z0(i,e),n=q0(i,t);V0(i,n)}try{typeof window<"u"&&window&&(Mu=window,Nu=Mu.jsPDF||((ku=Mu.jspdf)===null||ku===void 0?void 0:ku.jsPDF),Nu&&cm(Nu))}catch(i){console.error("Could not apply autoTable plugin",i)}var Mu,Nu;var Bl=class i{registerFonts(e){if(!e||typeof e.addFileToVFS!="function"||typeof e.addFont!="function"){console.warn("jsPDF instance does not support font registration methods");return}let t="",n="";t&&n&&(e.addFileToVFS("PlayfairDisplay-Regular.ttf",t),e.addFont("PlayfairDisplay-Regular.ttf","PlayfairDisplay","normal"),e.addFileToVFS("PlayfairDisplay-Bold.ttf",n),e.addFont("PlayfairDisplay-Bold.ttf","PlayfairDisplay","bold"));let r="",a="";r&&a&&(e.addFileToVFS("CormorantGaramond-Regular.ttf",r),e.addFont("CormorantGaramond-Regular.ttf","CormorantGaramond","normal"),e.addFileToVFS("CormorantGaramond-Bold.ttf",a),e.addFont("CormorantGaramond-Bold.ttf","CormorantGaramond","bold"));let l="",s="";l&&s&&(e.addFileToVFS("Montserrat-Regular.ttf",l),e.addFont("Montserrat-Regular.ttf","Montserrat","normal"),e.addFileToVFS("Montserrat-Bold.ttf",s),e.addFont("Montserrat-Bold.ttf","Montserrat","bold"));let h="",u="";h&&u&&(e.addFileToVFS("Lato-Regular.ttf",h),e.addFont("Lato-Regular.ttf","Lato","normal"),e.addFileToVFS("Lato-Bold.ttf",u),e.addFont("Lato-Bold.ttf","Lato","bold"));let d="",v="";d&&v&&(e.addFileToVFS("Georgia-Regular.ttf",d),e.addFont("Georgia-Regular.ttf","Georgia","normal"),e.addFileToVFS("Georgia-Bold.ttf",v),e.addFont("Georgia-Bold.ttf","Georgia","bold"));let _="",p="";_&&p&&(e.addFileToVFS("Verdana-Regular.ttf",_),e.addFont("Verdana-Regular.ttf","Verdana","normal"),e.addFileToVFS("Verdana-Bold.ttf",p),e.addFont("Verdana-Bold.ttf","Verdana","bold"));let A="",N="";A&&N&&(e.addFileToVFS("Arial-Regular.ttf",A),e.addFont("Arial-Regular.ttf","Arial","normal"),e.addFileToVFS("Arial-Bold.ttf",N),e.addFont("Arial-Bold.ttf","Arial","bold"))}static \u0275fac=function(t){return new(t||i)};static \u0275prov=Rr({token:i,factory:i.\u0275fac,providedIn:"root"})};var um=["menuChart"],Pu=(i,e)=>({"bg-blue-100 text-blue-800 border border-blue-200":i,"bg-gray-100 text-gray-700 border border-gray-200":e});function hm(i,e){if(i&1&&(D(0,"option",85),U(1),E()),i&2){let t=e.$implicit;he("value",t.id),W(),fa(" ",t.name," ",t.is_default?"(Default)":""," ")}}function fm(i,e){if(i&1){let t=ei();D(0,"div",86)(1,"div",18)(2,"input",87),Yt("ngModelChange",function(r){Me(t);let a=le();return Zt(a.editedMenuName,r)||(a.editedMenuName=r),Ne(r)}),Ie("keyup.enter",function(){Me(t);let r=le();return Ne(r.saveMenuName())})("keyup.escape",function(){Me(t);let r=le();return Ne(r.cancelEditMenuName())}),E(),D(3,"div",21)(4,"button",88),Ie("click",function(){Me(t);let r=le();return Ne(r.saveMenuName())}),D(5,"span",23),U(6,"check"),E()(),D(7,"button",89),Ie("click",function(){Me(t);let r=le();return Ne(r.cancelEditMenuName())}),D(8,"span",23),U(9,"close"),E()()()(),D(10,"div",90),U(11," Premi Invio per salvare, Esc per annullare "),E()()}if(i&2){let t=le();W(2),$t("ngModel",t.editedMenuName)}}function dm(i,e){if(i&1){let t=ei();D(0,"div",91)(1,"label",92)(2,"input",93),Ie("change",function(){Me(t);let r=le();return Ne(r.toggleMenuType())}),E(),D(3,"span",94),U(4,"Menu Specifico (Dedicato)"),E()()()}if(i&2){let t=le();W(2),he("checked",t.currentMenu.type==="dedicated")("disabled",t.currentMenu.is_default)}}function pm(i,e){i&1&&(D(0,"div",95),U(1," Questo menu \xE8 dedicato a una specifica prenotazione o evento. "),E())}function gm(i,e){i&1&&(D(0,"div",96),U(1," Attenzione: Il menu di default non pu\xF2 essere specifico. Seleziona un altro menu come default prima di impostare questo come specifico. "),E())}function mm(i,e){i&1&&(D(0,"span",97)(1,"span",76),U(2,"event"),E(),U(3," Specifico "),E())}function vm(i,e){i&1&&(D(0,"span",98)(1,"span",76),U(2,"public"),E(),U(3," Globale "),E())}function _m(i,e){if(i&1){let t=ei();D(0,"div",30)(1,"div",16)(2,"label",92)(3,"input",93),Ie("change",function(){Me(t);let r=le();return Ne(r.toggleMenuFavorite())}),E(),D(4,"span",94),U(5," Preferito "),D(6,"span",99),U(7,"star"),E()()()(),D(8,"div",16)(9,"label",92)(10,"input",93),Ie("change",function(){Me(t);let r=le();return Ne(r.toggleMenuActive())}),E(),D(11,"span",94),U(12," Attivo "),D(13,"span",100),U(14,"check_circle"),E()()()()()}if(i&2){let t=le();W(3),he("checked",t.currentMenu.is_favorite)("disabled",t.currentMenu.is_default),W(7),he("checked",t.currentMenu.is_active)("disabled",t.currentMenu.is_default)}}function ym(i,e){i&1&&(D(0,"span",98),U(1,"Default"),E())}function bm(i,e){i&1&&(D(0,"span",103),U(1,"Non attivo"),E())}function wm(i,e){if(i&1&&(D(0,"div",36)(1,"span",101),U(2,"info"),E(),D(3,"span",35),U(4),E(),et(5,ym,2,0,"span",39)(6,bm,2,0,"span",102),E()),i&2){let t=le();W(4),Dn(t.currentMenu.description||"Nessuna descrizione"),W(),he("ngIf",t.currentMenu.is_default),W(),he("ngIf",!t.currentMenu.is_active)}}function xm(i,e){if(i&1){let t=ei();D(0,"div",30)(1,"div",16)(2,"label",92)(3,"input",93),Ie("change",function(){Me(t);let r=le();return Ne(r.toggleMenuDefault())}),E(),D(4,"span",94),U(5," Default "),D(6,"span",104),U(7,"flag"),E()()()()()}if(i&2){let t=le();W(3),he("checked",t.currentMenu.is_default)("disabled",t.currentMenu.is_default)}}function Sm(i,e){i&1&&(D(0,"div",105)(1,"span",106),U(2,"bar_chart"),E(),D(3,"p",107),U(4,"Nessun piatto da visualizzare con i filtri attuali"),E()())}function Am(i,e){if(i&1&&(D(0,"div",108),U(1),E()),i&2){let t=le();W(),at(" Mostrati i primi ",t.maxDishesInChart," piatti (ordinati per filtri correnti) ")}}function Cm(i,e){if(i&1&&(D(0,"option",85),U(1),E()),i&2){let t=e.$implicit;he("value",t.id),W(),at(" ",t.name," ")}}function km(i,e){i&1&&(D(0,"th")(1,"div",36)(2,"span"),U(3,"Ord"),E()()())}function Mm(i,e){if(i&1&&(D(0,"span",23),U(1),E()),i&2){let t=le();W(),at(" ",t.sortDirection==="asc"?"arrow_upward":"arrow_downward"," ")}}function Nm(i,e){if(i&1&&(D(0,"span",23),U(1),E()),i&2){let t=le();W(),at(" ",t.sortDirection==="asc"?"arrow_upward":"arrow_downward"," ")}}function Lm(i,e){if(i&1&&(D(0,"span",23),U(1),E()),i&2){let t=le();W(),at(" ",t.sortDirection==="asc"?"arrow_upward":"arrow_downward"," ")}}function Dm(i,e){if(i&1&&(D(0,"span",23),U(1),E()),i&2){let t=le();W(),at(" ",t.sortDirection==="asc"?"arrow_upward":"arrow_downward"," ")}}function Em(i,e){if(i&1&&(D(0,"span",23),U(1),E()),i&2){let t=le();W(),at(" ",t.sortDirection==="asc"?"arrow_upward":"arrow_downward"," ")}}function Pm(i,e){if(i&1){let t=ei();D(0,"td")(1,"div",120)(2,"span",121),U(3),E(),D(4,"div",122)(5,"button",123),Ie("click",function(){Me(t);let r=le().$implicit,a=le(2);return Ne(a.moveDishUp(r))}),D(6,"span",124),U(7,"arrow_upward"),E()(),D(8,"button",125),Ie("click",function(){Me(t);let r=le().$implicit,a=le(2);return Ne(a.moveDishDown(r))}),D(9,"span",124),U(10,"arrow_downward"),E()()()()()}if(i&2){let t=le().index,n=le(2);W(3),Dn(t+1),W(2),he("disabled",t===0),W(3),he("disabled",t===n.filteredDishes.length-1)}}function Im(i,e){if(i&1&&(D(0,"div",126)(1,"span",127),U(2,"delete"),E(),D(3,"span",128),U(4),ui(5,"date"),E()()),i&2){let t=le().$implicit;W(4),at(" Eliminato il ",Ci(5,1,t.deleted_at,"dd/MM/yyyy")," ")}}function Fm(i,e){i&1&&(D(0,"div",129)(1,"span",130),U(2,"warning"),E(),D(3,"span",131),U(4," Senza menu "),E()())}function Tm(i,e){if(i&1&&(Yi(0),D(1,"span",135)(2,"span",136),U(3,"restaurant_menu"),E(),U(4),E(),Ki()),i&2){let t=e.$implicit;W(),he("ngClass",Ws(2,Pu,t.is_default,!t.is_default)),W(3),at(" ",t.name," ")}}function Bm(i,e){if(i&1&&(D(0,"span",137),U(1),E()),i&2){let t=le(2).$implicit,n=le(2);W(),at(" +",n.getMenusForDish(t.id).length-1," altri ")}}function Om(i,e){if(i&1&&(D(0,"div",132),et(1,Tm,5,5,"ng-container",133)(2,Bm,2,1,"span",134),E()),i&2){let t=le().$implicit,n=le(2);W(),he("ngForOf",n.getMenusForDish(t.id)),W(),he("ngIf",n.isDishInMultipleMenus(t.id))}}function Rm(i,e){if(i&1&&(D(0,"span",140),U(1),E()),i&2){let t=e.$implicit,n=le(4);he("title",n.getAllergenName(t)),W(),at(" ",t," ")}}function zm(i,e){if(i&1&&(Yi(0,138),et(1,Rm,2,2,"span",139),Ki()),i&2){let t=le().$implicit;W(),he("ngForOf",t.allergens)}}function jm(i,e){if(i&1&&(D(0,"div",35),U(1),ui(2,"slice"),E()),i&2){let t=le().$implicit;W(),fa(" ",Hs(2,2,t.description,0,100),"",t.description.length>100?"...":""," ")}}function Um(i,e){if(i&1&&(D(0,"span",35),U(1),E()),i&2){let t=le().$implicit;W(),at(" ",t.preparation_time," min ")}}function qm(i,e){i&1&&(D(0,"span",35),U(1,"-"),E())}function Vm(i,e){if(i&1){let t=ei();Yi(0),D(1,"button",141),Ie("click",function(){Me(t);let r=le().$implicit,a=le(2);return Ne(a.showCopyMenuDialog(r))}),D(2,"span",23),U(3,"content_copy"),E()(),D(4,"button",142),Ie("click",function(){Me(t);let r=le().$implicit,a=le(2);return Ne(a.showMoveMenuDialog(r))}),D(5,"span",23),U(6,"open_with"),E()(),D(7,"button",143),Ie("click",function(){Me(t);let r=le().$implicit,a=le(2);return Ne(a.confirmDeleteDish(r))}),Gt(8,"lucide-angular",47),E(),Ki()}if(i&2){let t=le().$implicit,n=le(2);W(),he("disabled",!t.id||!n.menus||n.menus.length===0),W(3),he("disabled",!t.id||!n.menus||n.menus.length===0||n.menus.length===1),W(4),he("size",20)}}function Wm(i,e){if(i&1){let t=ei();Yi(0),D(1,"button",144),Ie("click",function(){Me(t);let r=le().$implicit,a=le(2);return Ne(a.confirmRestoreDish(r))}),D(2,"span",23),U(3,"restore"),E()(),Ki()}}function Hm(i,e){if(i&1){let t=ei();D(0,"tr"),et(1,Pm,11,3,"td",79),D(2,"td"),et(3,Im,6,4,"div",110)(4,Fm,5,0,"div",111)(5,Om,3,2,"div",112),D(6,"div",36)(7,"div",113)(8,"div",114)(9,"strong",115),Ie("click",function(){let r=Me(t).$implicit,a=le(2);return Ne(a.editDish(r.id))}),U(10),E(),et(11,zm,2,1,"ng-container",116),E(),et(12,jm,3,6,"div",117),E()()(),D(13,"td"),U(14),E(),D(15,"td")(16,"strong"),U(17),ui(18,"number"),E()(),D(19,"td"),U(20),ui(21,"number"),E(),D(22,"td")(23,"span"),U(24),ui(25,"number"),E()(),D(26,"td")(27,"select",118),Ie("ngModelChange",function(r){let a=Me(t).$implicit,l=le(2);return Ne(l.updateDishStatus(a,r))}),D(28,"option",67),U(29,"Disponibile"),E(),D(30,"option",68),U(31,"Non disponibile"),E(),D(32,"option",69),U(33,"Esaurito"),E()()(),D(34,"td"),et(35,Um,2,1,"span",117)(36,qm,2,0,"span",117),E(),D(37,"td")(38,"div",119),et(39,Vm,9,3,"ng-container",79)(40,Wm,4,0,"ng-container",79),E()()()}if(i&2){let t=e.$implicit,n=le(2);Ai("opacity-60",t.deleted_at)("bg-gray-50",t.deleted_at),W(),he("ngIf",n.currentMenu&&n.viewMode==="menu-only"),W(2),he("ngIf",t.deleted_at),W(),he("ngIf",!t.deleted_at&&n.isDishWithoutMenu(t.id)),W(),he("ngIf",!t.deleted_at&&n.viewMode==="all-dishes"&&!n.isDishWithoutMenu(t.id)),W(5),at(" ",t.name," "),W(),he("ngIf",t.allergens&&t.allergens.length>0),W(),he("ngIf",t.description),W(2),Dn(n.getCategoryName(t.category_id||"")),W(3),at("\u20AC",Ci(18,28,t.base_price,"1.2-2")),W(3),at("",Ci(21,31,n.calculateFoodCostPercentage(t),"1.0-1"),"%"),W(3),Fo(n.calculateMargin(t)>=0?"text-muted":"error"),W(),at(" \u20AC",Ci(25,34,n.calculateMargin(t),"1.2-2")," "),W(3),Ai("available",t.status==="available")("unavailable",t.status==="unavailable")("out_of_stock",t.status==="out_of_stock"),he("ngModel",t.status),W(8),he("ngIf",t.preparation_time),W(),he("ngIf",!t.preparation_time),W(3),he("ngIf",!t.deleted_at),W(),he("ngIf",t.deleted_at)}}function Gm(i,e){if(i&1&&(Yi(0),et(1,Hm,41,37,"tr",109),Ki()),i&2){let t=le();W(),he("ngForOf",t.filteredDishes)}}function $m(i,e){if(i&1&&(D(0,"tr",146)(1,"td",147)(2,"div",148)(3,"span",5),U(4,"folder"),E(),D(5,"div",149),U(6),E(),D(7,"span",150),U(8),E()()()()),i&2){let t=le().$implicit,n=le(2);W(6),Dn(t.name),W(2),at(" ",n.getDishesByCategory(t.id).length," piatti ")}}function Zm(i,e){if(i&1){let t=ei();D(0,"div",122)(1,"button",123),Ie("click",function(){Me(t);let r=le(2).$implicit,a=le(3);return Ne(a.moveDishUp(r))}),D(2,"span",124),U(3,"arrow_upward"),E()(),D(4,"button",125),Ie("click",function(){Me(t);let r=le(2).$implicit,a=le(3);return Ne(a.moveDishDown(r))}),D(5,"span",124),U(6,"arrow_downward"),E()()()}if(i&2){let t=le(2).index,n=le().$implicit,r=le(2);W(),he("disabled",t===0),W(3),he("disabled",t===r.getDishesByCategory(n.id).length-1)}}function Ym(i,e){if(i&1&&(D(0,"td")(1,"div",120)(2,"span",121),U(3),E(),et(4,Zm,7,2,"div",152),E()()),i&2){let t=le().index,n=le(3);W(3),Dn(t+1),W(),he("ngIf",n.viewMode==="menu-only"&&n.sortField==="category"&&!n.hasActiveFilters)}}function Km(i,e){if(i&1&&(D(0,"div",126)(1,"span",127),U(2,"delete"),E(),D(3,"span",128),U(4),ui(5,"date"),E()()),i&2){let t=le().$implicit;W(4),at(" Eliminato il ",Ci(5,1,t.deleted_at,"dd/MM/yyyy")," ")}}function Xm(i,e){i&1&&(D(0,"div",126)(1,"span",130),U(2,"warning"),E(),D(3,"span",131),U(4," Senza menu "),E()())}function Jm(i,e){if(i&1&&(Yi(0),D(1,"span",135)(2,"span",136),U(3,"restaurant_menu"),E(),U(4),E(),Ki()),i&2){let t=e.$implicit;W(),he("ngClass",Ws(2,Pu,t.is_default,!t.is_default)),W(3),at(" ",t.name," ")}}function Qm(i,e){if(i&1&&(D(0,"span",137),U(1),E()),i&2){let t=le(2).$implicit,n=le(3);W(),at(" +",n.getMenusForDish(t.id).length-1," altri ")}}function ev(i,e){if(i&1&&(D(0,"div",132),et(1,Jm,5,5,"ng-container",133)(2,Qm,2,1,"span",134),E()),i&2){let t=le().$implicit,n=le(3);W(),he("ngForOf",n.getMenusForDish(t.id)),W(),he("ngIf",n.isDishInMultipleMenus(t.id))}}function tv(i,e){if(i&1&&(D(0,"span",140),U(1),E()),i&2){let t=e.$implicit,n=le(5);he("title",n.getAllergenName(t)),W(),at(" ",t," ")}}function iv(i,e){if(i&1&&(Yi(0),et(1,tv,2,2,"span",139),Ki()),i&2){let t=le().$implicit;W(),he("ngForOf",t.allergens)}}function nv(i,e){if(i&1&&(D(0,"div",153),U(1),ui(2,"slice"),E()),i&2){let t=le().$implicit;W(),fa(" ",Hs(2,2,t.description,0,100),"",t.description.length>100?"...":""," ")}}function rv(i,e){if(i&1&&(D(0,"span",35),U(1),E()),i&2){let t=le().$implicit;W(),at(" ",t.preparation_time," min ")}}function av(i,e){i&1&&(D(0,"span",35),U(1,"-"),E())}function ov(i,e){if(i&1){let t=ei();Yi(0),D(1,"button",141),Ie("click",function(){Me(t);let r=le().$implicit,a=le(3);return Ne(a.showCopyMenuDialog(r))}),D(2,"span",23),U(3,"content_copy"),E()(),D(4,"button",142),Ie("click",function(){Me(t);let r=le().$implicit,a=le(3);return Ne(a.showMoveMenuDialog(r))}),D(5,"span",23),U(6,"open_with"),E()(),D(7,"button",143),Ie("click",function(){Me(t);let r=le().$implicit,a=le(3);return Ne(a.confirmDeleteDish(r))}),Gt(8,"lucide-angular",47),E(),Ki()}if(i&2){let t=le().$implicit,n=le(3);W(),he("disabled",!t.id||!n.menus||n.menus.length===0),W(3),he("disabled",!t.id||!n.menus||n.menus.length===0||n.menus.length===1),W(4),he("size",20)}}function sv(i,e){if(i&1){let t=ei();Yi(0),D(1,"button",144),Ie("click",function(){Me(t);let r=le().$implicit,a=le(3);return Ne(a.confirmRestoreDish(r))}),D(2,"span",23),U(3,"restore"),E()(),Ki()}}function lv(i,e){if(i&1){let t=ei();D(0,"tr"),et(1,Ym,5,2,"td",79),D(2,"td"),et(3,Km,6,4,"div",110)(4,Xm,5,0,"div",110)(5,ev,3,2,"div",112),D(6,"div",36)(7,"div",113)(8,"div",114)(9,"strong",115),Ie("click",function(){let r=Me(t).$implicit,a=le(3);return Ne(a.editDish(r.id))}),U(10),E(),et(11,iv,2,1,"ng-container",79),E(),et(12,nv,3,6,"div",151),E()()(),D(13,"td"),U(14),E(),D(15,"td")(16,"strong"),U(17),ui(18,"number"),E()(),D(19,"td"),U(20),ui(21,"number"),E(),D(22,"td")(23,"span"),U(24),ui(25,"number"),E()(),D(26,"td")(27,"select",118),Ie("ngModelChange",function(r){let a=Me(t).$implicit,l=le(3);return Ne(l.updateDishStatus(a,r))}),D(28,"option",67),U(29,"Disponibile"),E(),D(30,"option",68),U(31,"Non disponibile"),E(),D(32,"option",69),U(33,"Esaurito"),E()()(),D(34,"td"),et(35,rv,2,1,"span",117)(36,av,2,0,"span",117),E(),D(37,"td")(38,"div",119),et(39,ov,9,3,"ng-container",79)(40,sv,4,0,"ng-container",79),E()()()}if(i&2){let t=e.$implicit,n=le(3);Ai("opacity-60",t.deleted_at)("bg-gray-50",t.deleted_at),W(),he("ngIf",n.currentMenu&&n.viewMode==="menu-only"),W(2),he("ngIf",t.deleted_at),W(),he("ngIf",!t.deleted_at&&n.isDishWithoutMenu(t.id)),W(),he("ngIf",!t.deleted_at&&n.viewMode==="all-dishes"&&!n.isDishWithoutMenu(t.id)),W(5),at(" ",t.name," "),W(),he("ngIf",t.allergens&&t.allergens.length>0),W(),he("ngIf",t.description),W(2),Dn(n.getCategoryName(t.category_id||"")),W(3),at("\u20AC",Ci(18,28,t.base_price,"1.2-2")),W(3),at("",Ci(21,31,n.calculateFoodCostPercentage(t),"1.0-1"),"%"),W(3),Fo(n.calculateMargin(t)>=0?"text-muted":"error"),W(),at(" \u20AC",Ci(25,34,n.calculateMargin(t),"1.2-2")," "),W(3),Ai("available",t.status==="available")("unavailable",t.status==="unavailable")("out_of_stock",t.status==="out_of_stock"),he("ngModel",t.status),W(8),he("ngIf",t.preparation_time),W(),he("ngIf",!t.preparation_time),W(3),he("ngIf",!t.deleted_at),W(),he("ngIf",t.deleted_at)}}function cv(i,e){if(i&1&&(Yi(0),et(1,$m,9,2,"tr",145)(2,lv,41,37,"tr",109),Ki()),i&2){let t=e.$implicit,n=le(2);W(),he("ngIf",n.getDishesByCategory(t.id).length>0),W(),he("ngForOf",n.getDishesByCategory(t.id))}}function uv(i,e){if(i&1&&(D(0,"tr",146)(1,"td",154)(2,"div",155)(3,"span",23),U(4,"folder_open"),E(),U(5," Senza Categoria "),D(6,"span",156),U(7),E()()()()),i&2){let t=le(2);W(7),at(" ",t.getDishesByCategory("").length," piatti ")}}function hv(i,e){if(i&1&&(D(0,"div",126)(1,"span",127),U(2,"delete"),E(),D(3,"span",128),U(4),ui(5,"date"),E()()),i&2){let t=le().$implicit;W(4),at(" Eliminato il ",Ci(5,1,t.deleted_at,"dd/MM/yyyy")," ")}}function fv(i,e){i&1&&(D(0,"div",126)(1,"span",130),U(2,"warning"),E(),D(3,"span",131),U(4," Senza menu "),E()())}function dv(i,e){i&1&&(D(0,"span",159),U(1,"(D)"),E())}function pv(i,e){if(i&1&&(Yi(0),D(1,"span",135)(2,"span",136),U(3,"restaurant_menu"),E(),U(4),et(5,dv,2,0,"span",158),E(),Ki()),i&2){let t=e.$implicit;W(),he("ngClass",Ws(3,Pu,t.is_default,!t.is_default)),W(3),at(" ",t.name," "),W(),he("ngIf",t.is_default)}}function gv(i,e){if(i&1&&(D(0,"span",137),U(1),E()),i&2){let t=le(2).$implicit,n=le(2);W(),at(" +",n.getMenusForDish(t.id).length-1," altri ")}}function mv(i,e){if(i&1&&(D(0,"div",132),et(1,pv,6,6,"ng-container",133)(2,gv,2,1,"span",134),E()),i&2){let t=le().$implicit,n=le(2);W(),he("ngForOf",n.getMenusForDish(t.id)),W(),he("ngIf",n.isDishInMultipleMenus(t.id))}}function vv(i,e){if(i&1&&(D(0,"span",140),U(1),E()),i&2){let t=e.$implicit,n=le(4);he("title",n.getAllergenName(t)),W(),at(" ",t," ")}}function _v(i,e){if(i&1&&(Yi(0,138),et(1,vv,2,2,"span",139),Ki()),i&2){let t=le().$implicit;W(),he("ngForOf",t.allergens)}}function yv(i,e){if(i&1&&(D(0,"div",160),U(1),ui(2,"slice"),E()),i&2){let t=le().$implicit;W(),fa(" ",Hs(2,2,t.description,0,100),"",t.description.length>100?"...":""," ")}}function bv(i,e){if(i&1&&(D(0,"span",35),U(1),E()),i&2){let t=le().$implicit;W(),at(" ",t.preparation_time," min ")}}function wv(i,e){i&1&&(D(0,"span",35),U(1,"-"),E())}function xv(i,e){if(i&1){let t=ei();D(0,"tr")(1,"td"),et(2,hv,6,4,"div",110)(3,fv,5,0,"div",110)(4,mv,3,2,"div",112),D(5,"div",36)(6,"div",113)(7,"div",114)(8,"strong",115),Ie("click",function(){let r=Me(t).$implicit,a=le(2);return Ne(a.editDish(r.id))}),U(9),E(),et(10,_v,2,1,"ng-container",116),E(),et(11,yv,3,6,"div",157),E()()(),D(12,"td",35),U(13,"-"),E(),D(14,"td")(15,"strong"),U(16),ui(17,"number"),E()(),D(18,"td"),U(19),ui(20,"number"),E(),D(21,"td")(22,"span"),U(23),ui(24,"number"),E()(),D(25,"td")(26,"span"),U(27),ui(28,"number"),E()(),D(29,"td")(30,"span",150),U(31),E()(),D(32,"td"),et(33,bv,2,1,"span",117)(34,wv,2,0,"span",117),E()()}if(i&2){let t=e.$implicit,n=le(2);Ai("opacity-60",t.deleted_at)("bg-gray-50",t.deleted_at),W(2),he("ngIf",t.deleted_at),W(),he("ngIf",!t.deleted_at&&n.isDishWithoutMenu(t.id)),W(),he("ngIf",!t.deleted_at&&n.viewMode==="all-dishes"&&!n.isDishWithoutMenu(t.id)),W(5),at(" ",t.name," "),W(),he("ngIf",t.allergens&&t.allergens.length>0),W(),he("ngIf",t.description),W(5),at("\u20AC",Ci(17,25,t.base_price,"1.2-2")),W(3),at("\u20AC",Ci(20,28,t.food_cost,"1.2-2")),W(3),Fo(n.calculateMargin(t)>=0?"text-muted":"error"),W(),at(" \u20AC",Ci(24,31,n.calculateMargin(t),"1.2-2")," "),W(3),Fo(n.calculateMarginPercentage(t)>=0?"text-muted":"error"),W(),at(" ",Ci(28,34,n.calculateMarginPercentage(t),"1.0-0"),"% "),W(3),Ai("active",t.status==="available")("inactive",t.status!=="available"),W(),at(" ",n.getStatusText(t.status)," "),W(2),he("ngIf",t.preparation_time),W(),he("ngIf",!t.preparation_time)}}function Sv(i,e){if(i&1&&(Yi(0),et(1,cv,3,2,"ng-container",133)(2,uv,8,1,"tr",145)(3,xv,35,37,"tr",109),Ki()),i&2){let t=le();W(),he("ngForOf",t.categories),W(),he("ngIf",t.getDishesByCategory("").length>0),W(),he("ngForOf",t.getDishesByCategory(""))}}function Av(i,e){i&1&&(D(0,"tr")(1,"td",161)(2,"div",162)(3,"span",23),U(4,"search_off"),E(),D(5,"h3"),U(6,"Nessun piatto trovato"),E(),D(7,"p"),U(8,"Prova a modificare i filtri di ricerca o aggiungi un nuovo piatto"),E()()()())}function Cv(i,e){if(i&1&&(D(0,"option",85),U(1),ui(2,"number"),E()),i&2){let t=e.$implicit;he("value",t.id),W(),fa(" ",t.name," - \u20AC",Ci(2,3,t.cost_per_unit,"1.2-2")," ")}}function kv(i,e){if(i&1){let t=ei();D(0,"div",163)(1,"div",164)(2,"div",165)(3,"div",36)(4,"span",23),U(5,"local_drink"),E(),D(6,"h2",166),U(7,"Aggiungi Bevanda"),E()(),D(8,"button",167),Ie("click",function(){Me(t);let r=le();return Ne(r.closeAddDrinkDialog())}),D(9,"span",23),U(10,"close"),E()()(),D(11,"div",168)(12,"div",16)(13,"label",17)(14,"span",23),U(15,"local_bar"),E(),U(16," Seleziona Bevanda "),E(),D(17,"select",169),Yt("ngModelChange",function(r){Me(t);let a=le();return Zt(a.selectedDrinkIngredient,r)||(a.selectedDrinkIngredient=r),Ne(r)}),D(18,"option",170),U(19,"Seleziona una bevanda..."),E(),et(20,Cv,3,6,"option",20),E()(),D(21,"div",16)(22,"label",17)(23,"span",23),U(24,"euro"),E(),U(25," Prezzo di Vendita "),E(),D(26,"input",171),Yt("ngModelChange",function(r){Me(t);let a=le();return Zt(a.drinkPrice,r)||(a.drinkPrice=r),Ne(r)}),E()()(),D(27,"div",172)(28,"button",75),Ie("click",function(){Me(t);let r=le();return Ne(r.closeAddDrinkDialog())}),U(29," Annulla "),E(),D(30,"button",173),Ie("click",function(){Me(t);let r=le();return Ne(r.addDrinkFromIngredient())}),Gt(31,"lucide-angular",45),U(32," Aggiungi "),E()()()()}if(i&2){let t=le();W(17),$t("ngModel",t.selectedDrinkIngredient),W(3),he("ngForOf",t.drinkIngredientService.getDrinkIngredients()),W(6),$t("ngModel",t.drinkPrice),W(4),he("disabled",!t.selectedDrinkIngredient||!t.drinkPrice),W(),he("size",20)}}function Mv(i,e){if(i&1&&(D(0,"option",85),U(1),E()),i&2){let t=e.$implicit;he("value",t.id),W(),fa(" ",t.name," ",t.is_default?"(Default)":""," ")}}function Nv(i,e){i&1&&(D(0,"span",182),U(1,"refresh"),E())}function Lv(i,e){i&1&&(D(0,"span",23),U(1,"check"),E())}function Dv(i,e){if(i&1){let t=ei();D(0,"div",163)(1,"div",164)(2,"div",165)(3,"div",36)(4,"span",23),U(5),E(),D(6,"h2",166),U(7),E()(),D(8,"button",174),Ie("click",function(){Me(t);let r=le();return Ne(r.closeMoveDialog())}),D(9,"span",23),U(10,"close"),E()()(),D(11,"div",168)(12,"div",175),Gt(13,"lucide-angular",176),D(14,"div")(15,"strong"),U(16),E(),Gt(17,"br"),D(18,"span",35),U(19),E()()(),D(20,"div",16)(21,"label",17)(22,"span",23),U(23,"restaurant_menu"),E(),U(24," Menu di destinazione "),E(),D(25,"select",177),Yt("ngModelChange",function(r){Me(t);let a=le();return Zt(a.selectedTargetMenuId,r)||(a.selectedTargetMenuId=r),Ne(r)}),D(26,"option",170),U(27,"Seleziona un menu..."),E(),et(28,Mv,2,3,"option",20),E()(),D(29,"div",178)(30,"div",179),Gt(31,"lucide-angular",176),U(32),E()()(),D(33,"div",172)(34,"button",180),Ie("click",function(){Me(t);let r=le();return Ne(r.closeMoveDialog())}),U(35," Annulla "),E(),D(36,"button",173),Ie("click",function(){Me(t);let r=le();return Ne(r.moveDishToMenu())}),et(37,Nv,2,0,"span",181)(38,Lv,2,0,"span",81),U(39),E()()()()}if(i&2){let t=le();W(5),Dn(t.isCopyMode?"content_copy":"drive_file_move"),W(2),Dn(t.isCopyMode?"Copia Piatto":"Sposta Piatto"),W(),he("disabled",t.isMoving),W(8),Dn(t.dishToMove==null?null:t.dishToMove.name),W(3),at(" ",t.isCopyMode?"Seleziona il menu in cui copiare il piatto":"Seleziona il menu di destinazione"),W(6),$t("ngModel",t.selectedTargetMenuId),he("disabled",t.isMoving),W(3),he("ngForOf",t.getAvailableMenusForMove()),W(4),at(" ",t.isCopyMode?"Il piatto verr\xE0 copiato nel menu selezionato.":"Il piatto verr\xE0 spostato nel menu selezionato e rimosso dal menu corrente."," "),W(2),he("disabled",t.isMoving),W(2),he("disabled",!t.selectedTargetMenuId||t.isMoving),W(),he("ngIf",t.isMoving),W(),he("ngIf",!t.isMoving),W(),at(" ",t.isMoving?t.isCopyMode?"Copia...":"Spostamento...":t.isCopyMode?"Copia":"Sposta"," ")}}function Ev(i,e){if(i&1){let t=ei();D(0,"div",16)(1,"label",17),U(2,"Colore Sfondo"),E(),D(3,"div",206)(4,"input",207),Yt("ngModelChange",function(r){Me(t);let a=le(2);return Zt(a.pdfCustomization.backgroundColor,r)||(a.pdfCustomization.backgroundColor=r),Ne(r)}),E(),D(5,"input",211),Yt("ngModelChange",function(r){Me(t);let a=le(2);return Zt(a.pdfCustomization.backgroundColor,r)||(a.pdfCustomization.backgroundColor=r),Ne(r)}),E()()()}if(i&2){let t=le(2);W(4),$t("ngModel",t.pdfCustomization.backgroundColor),W(),$t("ngModel",t.pdfCustomization.backgroundColor)}}function Pv(i,e){if(i&1){let t=ei();D(0,"div",15)(1,"div",16)(2,"label",17),U(3,"Colore Inizio"),E(),D(4,"div",206)(5,"input",207),Yt("ngModelChange",function(r){Me(t);let a=le(2);return Zt(a.pdfCustomization.gradientStart,r)||(a.pdfCustomization.gradientStart=r),Ne(r)}),E(),D(6,"input",212),Yt("ngModelChange",function(r){Me(t);let a=le(2);return Zt(a.pdfCustomization.gradientStart,r)||(a.pdfCustomization.gradientStart=r),Ne(r)}),E()()(),D(7,"div",16)(8,"label",17),U(9,"Colore Fine"),E(),D(10,"div",206)(11,"input",207),Yt("ngModelChange",function(r){Me(t);let a=le(2);return Zt(a.pdfCustomization.gradientEnd,r)||(a.pdfCustomization.gradientEnd=r),Ne(r)}),E(),D(12,"input",213),Yt("ngModelChange",function(r){Me(t);let a=le(2);return Zt(a.pdfCustomization.gradientEnd,r)||(a.pdfCustomization.gradientEnd=r),Ne(r)}),E()()()()}if(i&2){let t=le(2);W(5),$t("ngModel",t.pdfCustomization.gradientStart),W(),$t("ngModel",t.pdfCustomization.gradientStart),W(5),$t("ngModel",t.pdfCustomization.gradientEnd),W(),$t("ngModel",t.pdfCustomization.gradientEnd)}}function Iv(i,e){if(i&1){let t=ei();D(0,"div",16)(1,"label",17),Gt(2,"lucide-angular",214),U(3," Direzione Gradiente "),E(),D(4,"div",201)(5,"button",202),Ie("click",function(){Me(t);let r=le(2);return Ne(r.pdfCustomization.gradientDirection="vertical")}),U(6," \u2193 Verticale "),E(),D(7,"button",202),Ie("click",function(){Me(t);let r=le(2);return Ne(r.pdfCustomization.gradientDirection="horizontal")}),U(8," \u2192 Orizzontale "),E(),D(9,"button",202),Ie("click",function(){Me(t);let r=le(2);return Ne(r.pdfCustomization.gradientDirection="diagonal-right")}),U(10," \u2198 Diagonale Destra "),E(),D(11,"button",202),Ie("click",function(){Me(t);let r=le(2);return Ne(r.pdfCustomization.gradientDirection="diagonal-left")}),U(12," \u2199 Diagonale Sinistra "),E()()()}if(i&2){let t=le(2);W(2),he("size",18),W(3),Ai("active",t.pdfCustomization.gradientDirection==="vertical"),W(2),Ai("active",t.pdfCustomization.gradientDirection==="horizontal"),W(2),Ai("active",t.pdfCustomization.gradientDirection==="diagonal-right"),W(2),Ai("active",t.pdfCustomization.gradientDirection==="diagonal-left")}}function Fv(i,e){if(i&1&&(D(0,"div",86),Gt(1,"img",217),E()),i&2){let t=le(3);W(),he("src",t.uploadedBackgroundImage,yh)}}function Tv(i,e){if(i&1){let t=ei();D(0,"div",16)(1,"label",17),Gt(2,"lucide-angular",215),U(3," Carica Immagine Sfondo "),E(),D(4,"input",216),Ie("change",function(r){Me(t);let a=le(2);return Ne(a.onBackgroundImageUpload(r))}),E(),et(5,Fv,2,1,"div",24),E()}if(i&2){let t=le(2);W(2),he("size",18),W(3),he("ngIf",t.uploadedBackgroundImage)}}function Bv(i,e){if(i&1){let t=ei();D(0,"div",16)(1,"label",17),U(2),E(),D(3,"input",218),Yt("ngModelChange",function(r){Me(t);let a=le(2);return Zt(a.pdfCustomization.backgroundOpacity,r)||(a.pdfCustomization.backgroundOpacity=r),Ne(r)}),E()()}if(i&2){let t=le(2);W(2),at(" Opacit\xE0 Sfondo: ",t.pdfCustomization.backgroundOpacity,"% "),W(),$t("ngModel",t.pdfCustomization.backgroundOpacity)}}function Ov(i,e){if(i&1){let t=ei();D(0,"div",183),Ie("click",function(){Me(t);let r=le();return Ne(r.closePDFCustomizationModal())}),D(1,"div",184),Ie("click",function(r){return Me(t),Ne(r.stopPropagation())}),D(2,"div",165)(3,"div",55),Gt(4,"lucide-angular",51),D(5,"h2",166),U(6,"Personalizza Menu PDF"),E()(),D(7,"button",167),Ie("click",function(){Me(t);let r=le();return Ne(r.closePDFCustomizationModal())}),Gt(8,"lucide-angular",185),E()(),D(9,"div",186)(10,"div",16)(11,"label",17),Gt(12,"lucide-angular",187),U(13," Font "),E(),D(14,"select",188),Yt("ngModelChange",function(r){Me(t);let a=le();return Zt(a.pdfCustomization.font,r)||(a.pdfCustomization.font=r),Ne(r)}),D(15,"option",189),U(16,"Helvetica (Sans-serif moderno)"),E(),D(17,"option",190),U(18,"Times New Roman (Serif classico)"),E(),D(19,"option",191),U(20,"Courier (Monospace)"),E(),D(21,"option",192),U(22,"Georgia (Serif elegante)"),E(),D(23,"option",193),U(24,"Verdana (Sans-serif chiaro)"),E(),D(25,"option",194),U(26,"Arial (Sans-serif standard)"),E(),D(27,"option",195),U(28,"Playfair Display (Serif elegante)"),E(),D(29,"option",196),U(30,"Cormorant Garamond (Serif classico)"),E(),D(31,"option",197),U(32,"Montserrat (Sans-serif moderno)"),E(),D(33,"option",198),U(34,"Lato (Sans-serif chiaro)"),E()()(),Gt(35,"div",199),D(36,"div",16)(37,"label",17),Gt(38,"lucide-angular",200),U(39," Tipo Sfondo "),E(),D(40,"div",201)(41,"button",202),Ie("click",function(){Me(t);let r=le();return Ne(r.pdfCustomization.backgroundType="theme")}),U(42," Tema Attuale "),E(),D(43,"button",202),Ie("click",function(){Me(t);let r=le();return Ne(r.pdfCustomization.backgroundType="color")}),U(44," Colore Solido "),E(),D(45,"button",202),Ie("click",function(){Me(t);let r=le();return Ne(r.pdfCustomization.backgroundType="gradient")}),U(46," Gradiente "),E(),D(47,"button",202),Ie("click",function(){Me(t);let r=le();return Ne(r.pdfCustomization.backgroundType="image")}),U(48," Immagine "),E()()(),et(49,Ev,6,2,"div",203)(50,Pv,13,4,"div",204)(51,Iv,13,9,"div",203)(52,Tv,6,2,"div",203)(53,Bv,4,2,"div",203),Gt(54,"div",199),D(55,"h3",205),U(56,"Colori Testo"),E(),D(57,"div",15)(58,"div",16)(59,"label",17),U(60,"Nome Ristorante"),E(),D(61,"div",206)(62,"input",207),Yt("ngModelChange",function(r){Me(t);let a=le();return Zt(a.pdfCustomization.restaurantNameColor,r)||(a.pdfCustomization.restaurantNameColor=r),Ne(r)}),E(),D(63,"button",208),Ie("click",function(){Me(t);let r=le();return Ne(r.pdfCustomization.restaurantNameColor=r.getDefaultColor("restaurantName"))}),U(64," Default Tema "),E()()(),D(65,"div",16)(66,"label",17),U(67,"Titoli Categoria"),E(),D(68,"div",206)(69,"input",207),Yt("ngModelChange",function(r){Me(t);let a=le();return Zt(a.pdfCustomization.categoryColor,r)||(a.pdfCustomization.categoryColor=r),Ne(r)}),E(),D(70,"button",208),Ie("click",function(){Me(t);let r=le();return Ne(r.pdfCustomization.categoryColor=r.getDefaultColor("categoryTitle"))}),U(71," Default Tema "),E()()()(),D(72,"div",15)(73,"div",16)(74,"label",17),U(75,"Prezzi"),E(),D(76,"div",206)(77,"input",207),Yt("ngModelChange",function(r){Me(t);let a=le();return Zt(a.pdfCustomization.priceColor,r)||(a.pdfCustomization.priceColor=r),Ne(r)}),E(),D(78,"button",208),Ie("click",function(){Me(t);let r=le();return Ne(r.pdfCustomization.priceColor=r.getDefaultColor("price"))}),U(79," Default Tema "),E()()(),D(80,"div",16)(81,"label",17),U(82,"Allergeni"),E(),D(83,"div",206)(84,"input",207),Yt("ngModelChange",function(r){Me(t);let a=le();return Zt(a.pdfCustomization.allergenColor,r)||(a.pdfCustomization.allergenColor=r),Ne(r)}),E(),D(85,"button",208),Ie("click",function(){Me(t);let r=le();return Ne(r.pdfCustomization.allergenColor=r.getDefaultColor("allergens"))}),U(86," Default Tema "),E()()()(),D(87,"div",16)(88,"label",17),U(89,"Descrizioni"),E(),D(90,"div",206)(91,"input",207),Yt("ngModelChange",function(r){Me(t);let a=le();return Zt(a.pdfCustomization.descriptionColor,r)||(a.pdfCustomization.descriptionColor=r),Ne(r)}),E(),D(92,"button",208),Ie("click",function(){Me(t);let r=le();return Ne(r.pdfCustomization.descriptionColor=r.getDefaultColor("description"))}),U(93," Default Tema "),E()()()(),D(94,"div",209)(95,"button",48),Ie("click",function(){Me(t);let r=le();return Ne(r.resetPDFCustomization())}),Gt(96,"lucide-angular",210),U(97," Reset "),E(),D(98,"button",75),Ie("click",function(){Me(t);let r=le();return Ne(r.closePDFCustomizationModal())}),U(99," Annulla "),E(),D(100,"button",44),Ie("click",function(){Me(t);let r=le();return Ne(r.generateCustomizedPDF())}),Gt(101,"lucide-angular",49),U(102," Genera PDF "),E()()()()}if(i&2){let t=le();W(4),he("size",24),W(4),he("size",20),W(4),he("size",18),W(2),$t("ngModel",t.pdfCustomization.font),W(24),he("size",18),W(3),Ai("active",t.pdfCustomization.backgroundType==="theme"),W(2),Ai("active",t.pdfCustomization.backgroundType==="color"),W(2),Ai("active",t.pdfCustomization.backgroundType==="gradient"),W(2),Ai("active",t.pdfCustomization.backgroundType==="image"),W(2),he("ngIf",t.pdfCustomization.backgroundType==="color"),W(),he("ngIf",t.pdfCustomization.backgroundType==="gradient"),W(),he("ngIf",t.pdfCustomization.backgroundType==="gradient"),W(),he("ngIf",t.pdfCustomization.backgroundType==="image"),W(),he("ngIf",t.pdfCustomization.backgroundType!=="theme"),W(9),$t("ngModel",t.pdfCustomization.restaurantNameColor),W(7),$t("ngModel",t.pdfCustomization.categoryColor),W(8),$t("ngModel",t.pdfCustomization.priceColor),W(7),$t("ngModel",t.pdfCustomization.allergenColor),W(7),$t("ngModel",t.pdfCustomization.descriptionColor),W(5),he("size",20),W(5),he("size",20)}}vc.register(...Yh);var $0=class i{dishService=Ht($s);categoryService=Ht(Zs);router=Ht(Ph);menuDishService=Ht(Gh);menuService=Ht(Ys);drinkIngredientService=Ht(Ra);drinkGroupService=Ht(zr);ingredientService=Ht(Gs);beverageService=Ht(Xs);authService=Ht(Fh);restaurantPublicService=Ht(Kh);themeService=Ht(Xh);cdr=Ht(Ah);themeSubscription;fontService=Ht(Bl);menuChartCanvas;sortChartBy="name";chartInstance=null;maxDishesInChart=30;isEditingMenuName=!1;editedMenuName="";isCopyMode=!1;isSpecificMenu=!1;restaurantData=null;showDeletedDishes=!1;sortedCategories=[];dishes=[];categories=[];menus=[];selectedMenuId=null;currentMenu=null;filteredDishes=[];menuDishes=[];viewMode="menu-only";drinkIngredients=[];drinkTypes=[];showMarkAsDrinkDialog=!1;ingredientToMarkAsDrink=null;selectedDrinkType="";showAddDrinkDialog=!1;selectedDrinkIngredient=null;drinkPrice=null;drinkGroupDetails=[];selectedDrinkGroup="";showMoveDialog=!1;dishToMove=null;selectedTargetMenuId=null;isMoving=!1;stats={totalDishes:0,totalCategories:0,averagePrice:0,averageFoodCostPercentage:0,averageMarginPercentage:0,averageMargin:0};showPDFCustomizationModal=!1;pdfCustomization={font:"helvetica",backgroundType:"theme",backgroundOpacity:10,backgroundColor:"#FFFFFF",gradientStart:"#7209B7",gradientEnd:"#EF233C",gradientDirection:"vertical",categoryColor:"#7209B7",priceColor:"#7209B7",allergenColor:"#EF233C",descriptionColor:"#313131",restaurantNameColor:"#1A1A1A"};uploadedBackgroundImage=null;searchTerm="";selectedCategory="all";statusFilter="all";priceRange={min:null,max:null};sortField="category";sortDirection="asc";ngOnInit(){return rt(this,null,function*(){this.loadData(),yield this.drinkIngredientService.initialize(),yield this.loadRestaurantData(),this.themeSubscription=this.themeService.currentTheme$.subscribe(e=>{setTimeout(()=>{this.prepareAndUpdateChart()},80)})})}loadRestaurantData(){return rt(this,null,function*(){try{let e=yield this.authService.getCurrentRestaurantId();e&&(this.restaurantData=yield this.restaurantPublicService.loadRestaurantById(e),console.log("\u{1F3E2} Dati ristorante caricati:",this.restaurantData))}catch(e){console.error("Errore nel caricamento dei dati del ristorante:",e)}})}loadData(){return rt(this,null,function*(){try{yield Promise.all([this.dishService.loadData(),this.categoryService.loadData(),this.menuService.loadData(),this.menuDishService.loadData()]),this.dishService.data$.subscribe(e=>{this.dishes=e,this.applyFilters(),this.calculateStats()}),this.menuDishService.data$.subscribe(e=>{console.log("\u{1F4E5} menuDishService data$ updated (TUTTI i menuDishes):",e.length),this.menuDishes=e,this.currentMenu&&this.applyFilters()}),this.categoryService.data$.subscribe(e=>{this.categories=e,this.sortedCategories=[...e].sort((t,n)=>(t.order_index||0)-(n.order_index||0)),this.calculateStats()}),this.menuService.data$.subscribe(e=>{if(this.menus=e.map(t=>Vs(Io({},t),{type:t.type||"global"})),this.menus.length>0){let t=this.menus.find(n=>n.is_default)||this.menus[0];this.selectedMenuId=t.id,this.currentMenu=t,this.syncCheckboxState(),this.applyFilters()}})}catch(e){console.error("Errore nel caricamento dei dati:",e)}})}calculateStats(){let e=this.filteredDishes;if(!e||e.length===0){this.stats={totalDishes:0,totalCategories:0,averagePrice:0,averageFoodCostPercentage:0,averageMarginPercentage:0,averageMargin:0};return}let t=e.length,r=new Set(e.map(p=>p.category_id).filter(p=>p)).size,a=e.reduce((p,A)=>p+(A.base_price||0),0),l=t>0?a/t:0,s=e.reduce((p,A)=>p+(A.base_price-A.food_cost),0),h=t>0?s/t:0,u=e.filter(p=>p.base_price>0),d=u.length,v=0,_=0;d>0&&u.forEach(p=>{let A=p.food_cost/p.base_price*100,N=100-A;v+=A,_+=N}),this.stats={totalDishes:t,totalCategories:r,averagePrice:l,averageFoodCostPercentage:d>0?v/d:0,averageMarginPercentage:d>0?_/d:0,averageMargin:h},console.log("\u{1F4CA} Statistiche piatti visibili:",{visibleDishesCount:e.length,totalDishesInSystem:this.dishes.length,viewMode:this.viewMode,currentMenu:this.currentMenu?.name,stats:this.stats})}applyFilters(){if(!this.dishes||this.dishes.length===0){this.filteredDishes=[];return}let e=this.dishes.filter(t=>this.showDeletedDishes?!0:!t.deleted_at);if(this.currentMenu&&this.viewMode==="menu-only"){let t=this.menuDishes.filter(a=>a.menu_id===this.currentMenu.id&&a.is_active).sort((a,l)=>(a.order_index||0)-(l.order_index||0)),n=new Map;t.forEach((a,l)=>{n.set(a.dish_id,a.order_index||l)});let r=t.map(a=>a.dish_id);e=e.filter(a=>r.includes(a.id)),e=e.sort((a,l)=>{let s=n.get(a.id)||0,h=n.get(l.id)||0;return s-h})}else if(this.viewMode==="without-menu"){let t=this.menuDishes.filter(r=>r.is_active).map(r=>r.dish_id),n=[...new Set(t)];e=e.filter(r=>!n.includes(r.id))}e=this.applyCommonFilters(e),this.currentMenu&&this.viewMode==="menu-only"&&this.sortField==="category"||(e=this.sortDishes(e)),this.filteredDishes=[...e],this.calculateStats(),this.prepareAndUpdateChart()}applyCommonFilters(e){let t=[...e];if(this.searchTerm.trim()){let n=this.searchTerm.toLowerCase();t=t.filter(r=>r.name.toLowerCase().includes(n)||r.description&&r.description.toLowerCase().includes(n))}return this.selectedCategory&&this.selectedCategory!=="all"&&(t=t.filter(n=>n.category_id===this.selectedCategory)),this.statusFilter&&this.statusFilter!=="all"&&(t=t.filter(n=>n.status===this.statusFilter)),this.priceRange.min!==null&&(t=t.filter(n=>n.base_price>=this.priceRange.min)),this.priceRange.max!==null&&(t=t.filter(n=>n.base_price<=this.priceRange.max)),t}sortDishes(e){return e.length?[...e].sort((t,n)=>{let r,a;switch(this.sortField){case"name":r=t.name.toLowerCase(),a=n.name.toLowerCase();break;case"category":r=this.getCategoryName(t.category_id||"").toLowerCase(),a=this.getCategoryName(n.category_id||"").toLowerCase(),r===a&&(r=t.name.toLowerCase(),a=n.name.toLowerCase());break;case"price":r=t.base_price,a=n.base_price;break;case"food_cost_percentage":r=this.calculateFoodCostPercentage(t),a=this.calculateFoodCostPercentage(n);break;case"margin":r=this.calculateMargin(t),a=this.calculateMargin(n);break;default:r=t.name.toLowerCase(),a=n.name.toLowerCase()}return r<a?this.sortDirection==="asc"?-1:1:r>a?this.sortDirection==="asc"?1:-1:0}):e}getViewModeStats(){let e=this.dishes.filter(a=>this.showDeletedDishes?!0:!a.deleted_at),t=new Set(this.menuDishes.filter(a=>a.is_active).map(a=>a.dish_id)),n=0;if(this.currentMenu){let a=new Set(this.menuDishes.filter(l=>l.menu_id===this.currentMenu.id&&l.is_active).map(l=>l.dish_id));n=e.filter(l=>a.has(l.id)).length}let r=e.filter(a=>!t.has(a.id)).length;return{"menu-only":n,"all-dishes":e.length,"without-menu":r}}getDishesWithoutMenu(){let e=new Set(this.menuDishes.filter(t=>t.is_active).map(t=>t.dish_id));return this.dishes.filter(t=>{let n=e.has(t.id),r=this.showDeletedDishes?!0:!t.deleted_at;return!n&&r})}onSort(e){this.sortField===e?this.sortDirection=this.sortDirection==="asc"?"desc":"asc":(this.sortField=e,this.sortDirection="asc"),this.applyFilters()}getCategoryName(e){return this.categories.find(n=>n.id===e)?.name||"Senza categoria"}calculateMargin(e){return e.base_price-e.food_cost}calculateMarginPercentage(e){return e.base_price===0?0:(e.base_price-e.food_cost)/e.base_price*100}getDishesByCategory(e){return this.filteredDishes.filter(t=>t.category_id===e)}resetFilters(){this.searchTerm="",this.selectedCategory="all",this.statusFilter="all",this.priceRange={min:null,max:null},this.sortField="category",this.sortDirection="asc",this.applyFilters()}getStatusText(e){return{available:"Disponibile",unavailable:"Non disponibile",out_of_stock:"Esaurito"}[e]||e}editDish(e){this.currentMenu?this.router.navigate(["/food-cost-calculator",e],{queryParams:{menuId:this.currentMenu.id,returnToMenuBuilder:"true"}}):this.router.navigate(["/food-cost-calculator",e])}createNewDish(){this.currentMenu?this.router.navigate(["/food-cost"],{queryParams:{menuId:this.currentMenu.id,returnToMenuBuilder:"true"}}):this.router.navigate(["/restaurant/menu/food-cost"])}calculateFoodCostPercentage(e){return!e.base_price||e.base_price===0?0:e.food_cost/e.base_price*100}updateDishStatus(e,t){return rt(this,null,function*(){try{let n=e.status;t==="available"||t==="unavailable"||t==="out_of_stock"?(e.status=t,(yield this.dishService.updateDish(e.id,{status:t}))?(console.log(`Stato piatto ${e.name} aggiornato a: ${t}`),this.calculateStats()):(e.status=n,console.error("Errore nell'aggiornamento dello stato del piatto"),alert("Errore durante l'aggiornamento dello stato. Riprova."))):(console.error("Stato non valido:",t),alert("Stato non valido selezionato."))}catch(n){console.error("Errore durante l'aggiornamento dello stato:",n),alert("Errore durante l'aggiornamento dello stato.")}})}confirmDeleteDish(e){return rt(this,null,function*(){let t=`Sei sicuro di voler eliminare il piatto "${e.name}"?

Questa azione non pu\xF2 essere annullata.`;confirm(t)&&(yield this.deleteDish(e.id))})}deleteDish(e){return rt(this,null,function*(){try{(yield this.dishService.deleteDish(e))?console.log("\u2705 Piatto eliminato con successo"):alert("Errore durante l'eliminazione del piatto")}catch(t){console.error("\u274C Errore durante l'eliminazione:",t),alert("Errore durante l'eliminazione del piatto")}})}loadMenuDishes(){return rt(this,null,function*(){this.currentMenu&&(this.menuDishes=yield this.menuDishService.getDishesWithDetailsByMenu(this.currentMenu.id))})}changeMenu(e){let t=this.menus.find(n=>n.id===e);t&&!t.is_active&&!t.is_default&&!confirm(`\u26A0\uFE0F Attenzione: il menu "${t.name}" \xE8 disattivato.
Vuoi comunque selezionarlo?`)||(this.selectedMenuId=e,this.currentMenu=t||null,this.currentMenu?(this.syncCheckboxState(),this.applyFilters()):this.isSpecificMenu=!1)}createNewMenu(){return rt(this,null,function*(){let e=prompt("Nome del nuovo menu:");if(e){let t=prompt("Descrizione (opzionale):"),n=confirm("Impostare come menu di default?"),r=confirm("\xC8 un menu specifico (dedicato)?"),a=t||void 0,l;r?l=yield this.menuService.createDedicatedMenu(e,a):l=yield this.menuService.createMenu(e,a,n),l&&(this.currentMenu=l,this.syncCheckboxState(),this.selectedMenuId=l.id,this.loadMenuDishes(),yield this.menuService.loadData())}})}toggleDishInMenu(e){return rt(this,null,function*(){if(!this.currentMenu)return;let t=this.menuDishes.find(n=>n.menu_id===this.currentMenu.id&&n.dish_id===e.id);if(t)yield this.menuService.removeDishFromMenu(t.id);else{let n=yield this.menuDishService.addDishToMenu(this.currentMenu.id,e.id,e.category_id||"");n&&(this.menuDishes=[...this.menuDishes,n])}this.applyFilters()})}loadAvailableDishes(){return rt(this,null,function*(){yield this.dishService.loadData()})}isDishInCurrentMenu(e){return this.currentMenu?this.menuDishes.some(t=>t.menu_id===this.currentMenu.id&&t.dish_id===e&&t.is_active):!1}closeMoveDialog(){this.showMoveDialog=!1,this.dishToMove=null,this.selectedTargetMenuId=null,this.isMoving=!1}moveDishToMenu(){return rt(this,null,function*(){if(console.log("\u{1F680} moveDishToMenu chiamato - isCopyMode:",this.isCopyMode),!this.dishToMove||!this.selectedTargetMenuId){console.error("\u274C Dati mancanti");return}let e=this.menus.find(t=>t.id===this.selectedTargetMenuId);if(!e){alert("Menu di destinazione non trovato!");return}this.isMoving=!0;try{if(this.isCopyMode){console.log("\u{1F4CB} MODALIT\xC0 COPIA: clono il piatto");let t=yield this.dishService.cloneDish(this.dishToMove.id,e.name);if(!t)throw new Error("Errore nella clonazione del piatto");if(console.log("\u2705 Piatto clonato:",t.id,t.name),this.menuDishes.some(a=>a&&a.menu_id===this.selectedTargetMenuId&&a.dish_id===t.id&&a.is_active)){alert(`Il piatto clonato \xE8 gi\xE0 nel menu "${e.name}"`),this.closeMoveDialog();return}let r=yield this.menuService.addDishToMenu(this.selectedTargetMenuId,t.id,t.category_id||"",0);if(r){console.log("\u2705 Piatto clonato aggiunto al menu"),this.menuDishes=[...this.menuDishes,r],yield this.menuService.loadMenuDishes(this.selectedTargetMenuId),yield this.dishService.loadData(),this.applyFilters(),alert(`\u2705 Piatto "${this.dishToMove.name}" COPIATO (come "${t.name}") e aggiunto al menu "${e.name}"`),this.closeMoveDialog();return}else throw new Error("Errore nell'aggiunta del piatto clonato al menu")}else{if(console.log("\u{1F504} MODALIT\xC0 SPOSTA: sposto il piatto esistente"),this.menuDishes.some(r=>r&&r.menu_id===this.selectedTargetMenuId&&r.dish_id===this.dishToMove.id&&r.is_active)){alert(`Il piatto "${this.dishToMove.name}" \xE8 gi\xE0 nel menu "${e.name}"`),this.closeMoveDialog();return}let n=this.menuDishes.find(r=>r&&r.dish_id===this.dishToMove.id&&r.is_active);if(n)if(console.log("\u{1F4CB} Record trovato per lo spostamento:",n.id),yield this.menuService.updateMenuDish(n.id,{menu_id:this.selectedTargetMenuId})){console.log("\u2705 Record aggiornato con nuovo menu_id"),this.menuDishes=this.menuDishes.map(a=>a&&a.id===n.id?Vs(Io({},a),{menu_id:this.selectedTargetMenuId}):a),n.menu_id&&(yield this.menuService.loadMenuDishes(n.menu_id)),yield this.menuService.loadMenuDishes(this.selectedTargetMenuId),this.applyFilters(),alert(`\u2705 Piatto "${this.dishToMove.name}" SPOSTATO al menu "${e.name}"`),this.closeMoveDialog();return}else throw new Error("Errore nell'aggiornamento del record");else{console.log("\u2795 Il piatto non \xE8 in nessun menu, lo aggiungo al menu di destinazione");let r=yield this.menuService.addDishToMenu(this.selectedTargetMenuId,this.dishToMove.id,this.dishToMove.category_id||"",0);if(r){console.log("\u2705 Piatto aggiunto al menu di destinazione"),this.menuDishes=[...this.menuDishes,r],yield this.menuService.loadMenuDishes(this.selectedTargetMenuId),this.applyFilters(),alert(`\u2705 Piatto "${this.dishToMove.name}" AGGIUNTO al menu "${e.name}"`),this.closeMoveDialog();return}else throw new Error("Errore nell'aggiunta del piatto al menu")}}}catch(t){console.error("\u274C Errore:",t);let n=this.isCopyMode?"copia":"spostamento";alert(`\u274C Errore durante la ${n} del piatto: ${t.message||"Errore sconosciuto"}`)}finally{this.isMoving=!1}})}getAvailableMenusForMove(){if(this.dishToMove&&!this.isCopyMode){let e=this.getMenuForDish(this.dishToMove.id);if(e)return this.menus.filter(t=>t.id!==e.id)}return this.menus}showDishesWithoutMenu(){this.setViewMode("without-menu")}setViewMode(e){this.viewMode=e,this.applyFilters(),e==="without-menu"&&setTimeout(()=>{let t=document.querySelector(".piatti-senza-menu");t&&t.scrollIntoView({behavior:"smooth"})},100)}startEditMenuName(){this.currentMenu&&(this.editedMenuName=this.currentMenu.name,this.isEditingMenuName=!0)}saveMenuName(){return rt(this,null,function*(){this.currentMenu&&this.editedMenuName.trim()&&((yield this.menuService.updateMenu(this.currentMenu.id,{name:this.editedMenuName}))?(this.isEditingMenuName=!1,yield this.menuService.loadData(),this.changeMenu(this.currentMenu.id)):alert("Errore durante il salvataggio del nome menu."))})}cancelEditMenuName(){this.isEditingMenuName=!1,this.editedMenuName=""}showCopyMenuDialog(e){console.log("\u{1F535} MODAL COPIA attivato per:",e.name),this.dishToMove=e,this.selectedTargetMenuId=null,this.showMoveDialog=!0,this.isCopyMode=!0;let t=this.getMenuForDish(e.id);console.log("\u{1F535} Piatto attualmente in menu:",t?.name||"Nessun menu")}showMoveMenuDialog(e){console.log("\u{1F534} MODAL SPOSTA attivato per:",e.name),this.dishToMove=e,this.selectedTargetMenuId=null,this.showMoveDialog=!0,this.isCopyMode=!1;let t=this.getMenuForDish(e.id);console.log("\u{1F534} DEBUG showMoveMenuDialog:",{dishId:e.id,dishName:e.name,currentMenu:t?.name||"Nessun menu",currentMenuId:t?.id,totalMenus:this.menus.length,menuNames:this.menus.map(r=>r.name)});let n=this.getAvailableMenusForMove();console.log("\u{1F534} Menu disponibili per spostamento:",n.map(r=>r.name)),n.length===0&&(console.warn("\u26A0\uFE0F Nessun menu disponibile per lo spostamento!"),setTimeout(()=>{alert("Non ci sono altri menu disponibili per lo spostamento."),this.closeMoveDialog()},100))}toggleMenuType(){return rt(this,null,function*(){if(!this.currentMenu||this.currentMenu.is_default)return;let e=this.currentMenu.type==="global"?"dedicated":"global";try{if(yield this.menuService.updateMenu(this.currentMenu.id,{type:e})){let n=Vs(Io({},this.currentMenu),{type:e});this.currentMenu=n;let r=this.menus.findIndex(a=>a.id===this.currentMenu.id);r!==-1&&(this.menus[r]=n),this.isSpecificMenu=e==="dedicated",yield this.menuService.loadData(),console.log(`\u2705 Menu "${this.currentMenu.name}" impostato come ${e}`)}else alert("Errore durante l'aggiornamento del tipo menu")}catch(t){console.error("Errore nel toggle menu type:",t)}})}syncCheckboxState(){this.currentMenu?this.isSpecificMenu=this.currentMenu.type==="dedicated":this.isSpecificMenu=!1}toggleShowDeletedDishes(){return rt(this,null,function*(){if(this.showDeletedDishes=!this.showDeletedDishes,this.showDeletedDishes){let e=yield this.dishService.getAllDishesIncludingDeleted();this.dishes=e}else yield this.dishService.loadData();this.applyFilters(),this.calculateStats()})}isDishWithoutMenu(e){return!e||this.dishes.find(n=>n.id===e)?.deleted_at&&!this.showDeletedDishes?!1:!this.existsDishInAnyMenu(e)}getDeletedDishesCount(){return this.dishes.filter(e=>e.deleted_at).length}getDishesWithoutMenuRespectingDeleted(){let e=this.menuDishes.filter(n=>n.is_active===!0).map(n=>n.dish_id),t=[...new Set(e)];return console.log("\u{1F50D} Piatti con menu:",t.length),console.log("\u{1F50D} Piatti totali:",this.dishes.length),this.dishes.filter(n=>{let r=t.includes(n.id),a=this.showDeletedDishes?!0:!n.deleted_at;return!r&&a})}confirmRestoreDish(e){return rt(this,null,function*(){let t=`Sei sicuro di voler ripristinare il piatto "${e.name}"?

Il piatto torner\xE0 disponibile nel sistema.`;confirm(t)&&(yield this.restoreDish(e.id))})}restoreDish(e){return rt(this,null,function*(){try{if(yield this.dishService.restoreDish(e)){console.log("\u2705 Piatto ripristinato con successo");let n=this.dishes.findIndex(a=>a.id===e);n!==-1&&(this.dishes[n].deleted_at=null,this.dishes[n].status="available"),!this.dishes.some(a=>a.deleted_at)&&this.showDeletedDishes?(this.showDeletedDishes=!1,yield this.dishService.loadData()):this.applyFilters(),this.calculateStats(),alert("\u2705 Piatto ripristinato con successo!")}else alert("\u274C Errore durante il ripristino del piatto")}catch(t){console.error("\u274C Errore durante il ripristino:",t),alert("Errore durante il ripristino del piatto")}})}hasDeletedDishes(){return this.dishes.some(e=>e.deleted_at)}refreshAllData(){return rt(this,null,function*(){try{console.log("\u{1F504} Ricarica completa dei dati..."),yield Promise.all([this.dishService.loadData(),this.categoryService.loadData(),this.menuService.loadData(),this.menuDishService.loadData()]),this.currentMenu&&(yield this.menuDishService.loadDishesForMenu(this.currentMenu.id)),this.applyFilters(),this.calculateStats(),console.log("\u2705 Dati ricaricati con successo")}catch(e){console.error("\u274C Errore durante il refresh dei dati:",e)}})}onDeleteMenu(e){return rt(this,null,function*(){if(!e)return;if(e.is_default){alert("\u274C Non puoi eliminare il menu di default. Imposta prima un altro menu come default.");return}let n=confirm(`Sei sicuro di voler eliminare il menu "${e.name}"?

Clicca:
\u2022 "OK" per eliminare anche tutti i piatti del menu
\u2022 "Annulla" per eliminare solo il menu (i piatti rimarranno nel sistema ma senza menu)`);try{if(n){if(!confirm(`ATTENZIONE: Stai per eliminare il menu "${e.name}" e TUTTI i suoi piatti.
Questa azione non pu\xF2 essere annullata.

Sei assolutamente sicuro?`))return;let s=this.menuDishes.filter(h=>h.menu_id===e.id);for(let h of s)yield this.dishService.deleteDish(h.dish_id)}let r=this.menuDishes.filter(l=>l.menu_id===e.id);for(let l of r)yield this.menuDishService.delete(l.id);if(yield this.menuService.delete(e.id)){if(yield this.loadData(),this.menus.length>0){let l=this.menus.find(s=>s.is_default)||this.menus[0];this.changeMenu(l.id)}else this.currentMenu=null,this.selectedMenuId=null;alert(`\u2705 Menu "${e.name}" eliminato con successo!`)}else alert("\u274C Errore durante l'eliminazione del menu")}catch(r){console.error("\u274C Errore durante l'eliminazione del menu:",r),alert("Errore durante l'eliminazione del menu")}})}getMenuForDish(e){if(!e||!this.menuDishes||!this.menus)return null;let t=this.menuDishes.find(n=>n.dish_id===e&&n.is_active);return t&&this.menus.find(n=>n.id===t.menu_id)||null}existsDishInAnyMenu(e){return!e||!this.menuDishes||this.menuDishes.length===0?!1:this.menuDishes.some(t=>t.dish_id===e&&t.is_active===!0)}isSortingByNonCategoryField(){return["name","price","food_cost_percentage","margin"].includes(this.sortField)}toggleMenuFavorite(){return rt(this,null,function*(){if(!(!this.currentMenu||this.currentMenu.is_default))try{let e=!this.currentMenu.is_favorite;if(yield this.menuService.updateMenu(this.currentMenu.id,{is_favorite:e})){this.currentMenu.is_favorite=e;let n=this.menus.findIndex(r=>r.id===this.currentMenu.id);n!==-1&&(this.menus[n].is_favorite=e),console.log(`\u2705 Menu "${this.currentMenu.name}" ${e?"aggiunto ai":"rimosso dai"} preferiti`)}else alert("\u274C Errore durante l'aggiornamento del menu")}catch(e){console.error("\u274C Errore toggleMenuFavorite:",e),alert("Errore durante l'aggiornamento del menu")}})}toggleMenuActive(){return rt(this,null,function*(){if(!this.currentMenu||this.currentMenu.is_default){alert("\u26A0\uFE0F Il menu di default non pu\xF2 essere disattivato");return}try{let e=!this.currentMenu.is_active,t=e?`Attivare il menu "${this.currentMenu.name}"?`:`Disattivare il menu "${this.currentMenu.name}"?

I piatti rimarranno nel sistema ma non saranno visibili nei selettori.`;if(!confirm(t))return;let n;if(e||(n=this.menus.find(a=>a.is_active&&a.id!==this.currentMenu.id&&!a.is_default),n||(n=this.menus.find(a=>a.is_default)),!n&&this.menus.length>0&&(n=this.menus[0])),yield this.menuService.updateMenu(this.currentMenu.id,{is_active:e})){this.currentMenu.is_active=e;let a=this.menus.findIndex(l=>l.id===this.currentMenu.id);a!==-1&&(this.menus[a].is_active=e),!e&&n&&(this.selectedMenuId=n.id,this.currentMenu=n,this.syncCheckboxState(),this.applyFilters(),setTimeout(()=>{this.selectedMenuId=n.id},0)),!e&&!n&&(alert("\u26A0\uFE0F Attenzione: questo era l'ultimo menu attivo!"),this.selectedMenuId=null,this.currentMenu=null,this.isSpecificMenu=!1,this.applyFilters()),console.log(`\u2705 Menu "${this.currentMenu?.name}" ${e?"attivato":"disattivato"}`)}else alert("\u274C Errore durante l'aggiornamento del menu")}catch(e){console.error("\u274C Errore toggleMenuActive:",e),alert("Errore durante l'aggiornamento del menu")}})}toggleMenuDefault(){return rt(this,null,function*(){if(!(!this.currentMenu||this.currentMenu.is_default))try{let e=`Impostare il menu "${this.currentMenu.name}" come menu di default?

Attenzione: Questo menu diventer\xE0 il menu principale del ristorante.
Il menu default corrente verr\xE0 automaticamente impostato come non default.`;if(!confirm(e))return;if(yield this.menuService.setAsDefault(this.currentMenu.id)){let n=this.menus.find(a=>a.is_default&&a.id!==this.currentMenu.id);n&&(n.is_default=!1),this.currentMenu.is_default=!0;let r=this.menus.findIndex(a=>a.id===this.currentMenu.id);r!==-1&&(this.menus[r].is_default=!0),this.currentMenu.is_active=!0,this.currentMenu.type="global",this.isSpecificMenu=!1,yield this.menuService.loadData(),console.log(`\u2705 Menu "${this.currentMenu.name}" impostato come default`),alert(`\u2705 Menu "${this.currentMenu.name}" impostato come menu di default!`)}else alert("\u274C Errore durante l'impostazione del menu come default")}catch(e){console.error("\u274C Errore toggleMenuDefault:",e),alert("Errore durante l'impostazione del menu come default")}})}loadDrinkGroupDetails(){return rt(this,null,function*(){this.drinkGroupDetails=yield this.drinkGroupService.getDrinkGroupDetails()})}openMarkAsDrinkDialog(e){this.ingredientToMarkAsDrink=e,this.selectedDrinkGroup="",this.showMarkAsDrinkDialog=!0}markIngredientAsDrink(){return rt(this,null,function*(){if(!this.ingredientToMarkAsDrink||!this.selectedDrinkGroup)return;(yield this.drinkIngredientService.markAsDrink(this.ingredientToMarkAsDrink.id,this.selectedDrinkGroup))?(alert("Ingrediente contrassegnato come bevanda!"),this.closeMarkAsDrinkDialog(),yield this.ingredientService.loadData()):alert("Errore nel contrassegnare come bevanda")})}getDrinkGroupName(e){return this.drinkIngredientService.getGroupNameForIngredient(e)}closeMarkAsDrinkDialog(){this.showMarkAsDrinkDialog=!1,this.ingredientToMarkAsDrink=null,this.selectedDrinkType=""}openAddDrinkDialog(){return rt(this,null,function*(){yield this.drinkIngredientService.initialize(),this.selectedDrinkIngredient=null,this.drinkPrice=null,this.showAddDrinkDialog=!0})}closeAddDrinkDialog(){this.showAddDrinkDialog=!1,this.selectedDrinkIngredient=null,this.drinkPrice=null}addDrinkFromIngredient(){return rt(this,null,function*(){if(!this.selectedDrinkIngredient||!this.drinkPrice||!this.currentMenu){alert("Seleziona una bevanda e inserisci un prezzo");return}try{(yield this.beverageService.createBeverageFromIngredient(this.selectedDrinkIngredient,this.drinkPrice,this.currentMenu.id))&&(alert("Bevanda aggiunta con successo!"),this.closeAddDrinkDialog(),yield this.refreshAllData())}catch(e){console.error("Errore:",e),alert("Errore nell'aggiunta della bevanda")}})}exportToPDF(){if(this.filteredDishes.length===0){alert("Non ci sono piatti da esportare!");return}let e=new Ue({orientation:"landscape",unit:"mm",format:"a4"}),t=14,n=12;e.setFontSize(18),e.setTextColor(44,62,80),e.text(`Men\xF9: ${this.currentMenu?.name||"Panoramica Piatti"}`,t,n),n+=8,e.setFontSize(11),e.setTextColor(100);let r=new Date().toLocaleDateString("it-IT"),a=this.getViewModeLabel(this.viewMode);e.text(`Generato il ${r}  \u2022  ${a}`,t,n),n+=12,e.setFontSize(12),e.setTextColor(40),e.setFont("Bodoni Moda","bold"),e.text("Riepilogo KPI",t,n),n+=8,e.setFontSize(10),e.setFont("Bodoni Moda","normal"),e.setTextColor(60),[`Totale Piatti:          ${this.stats.totalDishes}`,`Categorie:              ${this.stats.totalCategories}`,`Prezzo Medio:           \u20AC${this.stats.averagePrice.toFixed(2)}`,`Margine Medio:          \u20AC${this.stats.averageMargin.toFixed(2)}`,`Food Cost Medio:        ${this.stats.averageFoodCostPercentage.toFixed(1)}%`].forEach(v=>{e.text(v,t+6,n),n+=7}),n+=8;let s=this.filteredDishes.map(v=>[v.name||"",this.getCategoryName(v.category_id||""),v.allergens&&v.allergens.length>0?v.allergens.sort((_,p)=>_-p).join(", "):"-",`\u20AC${(v.base_price||0).toFixed(2)}`,`${this.calculateFoodCostPercentage(v).toFixed(1)}%`,`\u20AC${this.calculateMargin(v).toFixed(2)}`,this.getStatusText(v.status||"unknown"),v.preparation_time?`${v.preparation_time} min`:"-"]);G0(e,{head:[["Nome","Categoria","Allergeni","Prezzo","FC %","Margine (\u20AC)","Stato","Tempo Prep."]],body:s,startY:n,theme:"grid",styles:{fontSize:8,cellPadding:3,textColor:[44,62,80],lineColor:[200,200,200],lineWidth:.1},headStyles:{fillColor:[44,62,80],textColor:[255,255,255],fontStyle:"bold"},alternateRowStyles:{fillColor:[245,247,250]},columnStyles:{0:{cellWidth:45},1:{cellWidth:35},2:{cellWidth:25,halign:"center"},3:{cellWidth:22,halign:"right"},4:{cellWidth:18,halign:"right"},5:{cellWidth:25,halign:"right"},6:{cellWidth:25,halign:"center"},7:{cellWidth:22,halign:"center"}},margin:{left:t,right:t}});let u=e.lastAutoTable.finalY||n;e.setFontSize(10),e.setTextColor(100),e.text(`Totale piatti mostrati: ${this.filteredDishes.length}`,t,u+12);let d=`Menu_${this.currentMenu?.name||"Piatti"}_${new Date().toISOString().slice(0,10)}.pdf`;e.save(d)}getViewModeLabel(e){return{"menu-only":"Solo questo menu","all-dishes":"Tutti i piatti","without-menu":"Piatti senza menu"}[e]||e}getMenusForDish(e){if(!e||!this.menuDishes||!this.menus||this.menuDishes.length===0)return[];let t=this.menuDishes.filter(r=>r&&r.dish_id===e&&r.is_active===!0),n=[];return t.forEach(r=>{let a=this.menus.find(l=>l&&l.id===r.menu_id);a&&n.push(a)}),n}getMainMenuNameForDish(e){let t=this.getMenusForDish(e);if(t.length===0)return"";let n=t.find(r=>r.is_default);return n?n.name:t[0].name}isDishInMultipleMenus(e){return this.getMenusForDish(e).length>1}isDishInMenu(e,t){let n=t||this.currentMenu?.id;return n?this.menuDishes.some(r=>r.dish_id===e&&r.menu_id===n&&r.is_active):!1}exportCustomerPDF(e){return rt(this,null,function*(){if(this.filteredDishes.length===0){alert("Non ci sono piatti da esportare!");return}let t=this.getCurrentTheme(),n=e?this.getCustomColors(t,e):this.getDefaultColors(t),r=new Ue({orientation:"portrait",unit:"mm",format:"a4",compress:!0});this.fontService.registerFonts(r);let a=e?.font?this.mapFont(e.font):"helvetica",l=15,s=r.internal.pageSize.width,h=r.internal.pageSize.height,u=20,d=()=>rt(this,null,function*(){e?yield this.drawBackground(r,s,h,e,n):(r.setFillColor(n.background[0],n.background[1],n.background[2]),r.rect(0,0,s,h,"F"))});yield d();let v=!1;if(this.restaurantData?.logo_url)try{let V=this.restaurantData.logo_url,z=new Image;z.crossOrigin="anonymous",z.src=V+"?t="+Date.now(),yield new Promise((j,ie)=>{z.onload=j,z.onerror=()=>ie(new Error("Impossibile caricare logo: "+V))});let se=40,we=40,pe=(s-se)/2,X=15;r.addImage(z,"PNG",pe,X,se,we),u=X+we+8,v=!0}catch(V){console.warn("Logo non aggiunto:",V)}v||(u=20),r.setFontSize(18),r.setTextColor(n.restaurantName[0],n.restaurantName[1],n.restaurantName[2]),r.setFont(a,"bold");let _=this.restaurantData?.name||"Il tuo Ristorante",p=r.getTextWidth(_);r.text(_,(s-p)/2,u),u+=8,r.setFontSize(14),r.setTextColor(n.menuTitle[0],n.menuTitle[1],n.menuTitle[2]),r.setFont(a,"normal");let A=`Menu ${this.currentMenu?.name||""}`,N=r.getTextWidth(A);if(r.text(A,(s-N)/2,u),u+=12,this.restaurantData?.address||this.restaurantData?.phone||this.restaurantData?.email){r.setFontSize(10),r.setTextColor(n.textLight[0],n.textLight[1],n.textLight[2]);let V="";this.restaurantData.address&&(V+=this.restaurantData.address),this.restaurantData.phone&&(V+=(V?" \u2022 ":"")+this.restaurantData.phone),this.restaurantData.email&&(V+=(V?" \u2022 ":"")+this.restaurantData.email);let z=r.getTextWidth(V);r.text(V,(s-z)/2,u),u+=10}r.setDrawColor(n.line[0],n.line[1],n.line[2]),r.line(l,u,s-l,u),u+=12;let I=this.groupDishesByCategory();for(let V of I){h-u<35&&(r.addPage(),u=l,yield d());let se=15+V.dishes.length*12;u+se>h-12&&(r.addPage(),u=l,yield d()),r.setFontSize(14),r.setTextColor(n.categoryTitle[0],n.categoryTitle[1],n.categoryTitle[2]);let we=e?.font||"helvetica",pe=this.mapFont(we);r.setFont(pe,"bold"),r.text(V.name.toUpperCase(),l,u),u+=10,r.setDrawColor(n.categoryTitle[0],n.categoryTitle[1],n.categoryTitle[2]),r.setLineWidth(.3),r.line(l,u-2,s-l,u-2),u+=4;for(let X of V.dishes){u>h-20&&(r.addPage(),u=l,yield d()),r.setFontSize(12),r.setTextColor(n.textMain[0],n.textMain[1],n.textMain[2]),r.setFont(pe,"bold");let j=X.name;r.text(j,l+2,u);let ie=`\u20AC ${(X.base_price||0).toFixed(2)}`;r.setTextColor(n.price[0],n.price[1],n.price[2]);let M=r.getTextWidth(ie);if(r.text(ie,s-l-M,u),X.allergens&&X.allergens.length>0){r.setFontSize(9),r.setTextColor(n.allergens[0],n.allergens[1],n.allergens[2]),r.setFont(pe,"normal");let $=` [${[...X.allergens].sort((ce,de)=>ce-de).join(", ")}]`,H=l+2+r.getTextWidth(j)+20;H+r.getTextWidth($)<s-l-M-5&&r.text($,H,u)}if(u+=5,X.description&&X.description.trim()!==""){r.setFontSize(10),r.setTextColor(n.description[0],n.description[1],n.description[2]),r.setFont(pe,"normal");let F=s-2*l-20,$=r.splitTextToSize(X.description,F);for(let H of $)u>h-20&&(r.addPage(),u=l,yield d()),r.text(H,l+5,u),u+=5}u+=4}u+=6}let C=r.getNumberOfPages();for(let V=1;V<=C;V++)r.setPage(V),r.setFontSize(9),r.setTextColor(n.pageNumber[0],n.pageNumber[1],n.pageNumber[2]),r.text(`Pagina ${V} di ${C}`,s/2,h-10,{align:"center"});let Z=`Menu_${this.currentMenu?.name||"Ristorante"}_${new Date().toISOString().slice(0,10)}.pdf`;r.save(Z)})}getDefaultColors(e){return e==="dark"?{background:[15,15,20],textMain:[245,245,247],textLight:[161,161,179],categoryTitle:[114,9,183],price:[114,9,183],allergens:[239,35,60],line:[42,42,58],restaurantName:[245,245,247],menuTitle:[114,9,183],description:[161,161,179],pageNumber:[140,140,160]}:{background:[250,250,252],textMain:[26,26,26],textLight:[49,49,49],categoryTitle:[114,9,183],price:[114,9,183],allergens:[239,35,60],line:[200,200,200],restaurantName:[26,26,26],menuTitle:[114,9,183],description:[49,49,49],pageNumber:[100,100,120]}}exportCustomerPDFWithCustomization(e){return rt(this,null,function*(){if(this.filteredDishes.length===0){alert("Non ci sono piatti da esportare!");return}let t=this.getCurrentTheme(),n=e?this.getCustomColors(t,e):this.getDefaultColors(t),r=new Ue({orientation:"portrait",unit:"mm",format:"a4",compress:!0});this.fontService.registerFonts(r);let a=e?.font?this.mapFont(e.font):"helvetica",l=15,s=r.internal.pageSize.width,h=r.internal.pageSize.height,u=20;yield rt(this,null,function*(){yield this.drawBackground(r,s,h,e,n)}),r.setTextColor(n.restaurantName[0],n.restaurantName[1],n.restaurantName[2]);let v=`Menu_${this.currentMenu?.name||"Ristorante"}_${new Date().toISOString().slice(0,10)}.pdf`;r.save(v)})}getCustomColors(e,t){let n=e==="dark"?{background:[15,15,20],textMain:[245,245,247],textLight:[161,161,179],categoryTitle:[114,9,183],price:[114,9,183],allergens:[239,35,60],line:[42,42,58],restaurantName:[245,245,247],menuTitle:[114,9,183],description:[161,161,179],pageNumber:[140,140,160]}:{background:[250,250,252],textMain:[26,26,26],textLight:[49,49,49],categoryTitle:[114,9,183],price:[114,9,183],allergens:[239,35,60],line:[200,200,200],restaurantName:[26,26,26],menuTitle:[114,9,183],description:[49,49,49],pageNumber:[100,100,120]},r=t.restaurantNameColor?this.hexToRgb(t.restaurantNameColor):n.restaurantName;return{background:n.background,textMain:n.textMain,textLight:n.textLight,categoryTitle:t.categoryColor?this.hexToRgb(t.categoryColor):n.categoryTitle,price:t.priceColor?this.hexToRgb(t.priceColor):n.price,allergens:t.allergenColor?this.hexToRgb(t.allergenColor):n.allergens,line:n.line,restaurantName:r,menuTitle:r,description:t.descriptionColor?this.hexToRgb(t.descriptionColor):n.description,pageNumber:n.pageNumber}}drawBackground(e,t,n,r,a){return rt(this,null,function*(){switch(r.backgroundType){case"theme":{e.setFillColor(a.background[0],a.background[1],a.background[2]),e.rect(0,0,t,n,"F");break}case"color":{let l=this.hexToRgb(r.backgroundColor||"#FFFFFF"),s=(r.backgroundOpacity??100)/100;e.saveGraphicsState(),e.setGState(new e.GState({opacity:s})),e.setFillColor(l[0],l[1],l[2]),e.rect(0,0,t,n,"F"),e.restoreGraphicsState();break}case"gradient":{let l=this.hexToRgb(r.gradientStart||"#7209B7"),s=this.hexToRgb(r.gradientEnd||"#EF233C"),h=r.gradientDirection||"vertical",u=(r.backgroundOpacity??100)/100,d=50,v=0,_=0;switch(h){case"vertical":_=n/d,v=t;break;case"horizontal":v=t/d,_=n;break;case"diagonal-right":case"diagonal-left":v=t/d,_=n/d;break}for(let p=0;p<d;p++){let A=p/d,N=Math.round(l[0]+(s[0]-l[0])*A),I=Math.round(l[1]+(s[1]-l[1])*A),C=Math.round(l[2]+(s[2]-l[2])*A),Z=Math.round(N*u+255*(1-u)),V=Math.round(I*u+255*(1-u)),z=Math.round(C*u+255*(1-u));switch(e.setFillColor(Z,V,z),h){case"vertical":e.rect(0,p*_,v,_,"F");break;case"horizontal":e.rect(p*v,0,v,_,"F");break;case"diagonal-right":e.rect(p*v,p*_,v,_,"F");break;case"diagonal-left":e.rect(t-(p+1)*v,p*_,v,_,"F");break}}break}case"image":{if(r.backgroundImage)try{let l=(r.backgroundOpacity??100)/100,s=yield this.applyOpacityToImage(r.backgroundImage,l,t,n);e.addImage(s,"PNG",0,0,t,n)}catch(l){console.error("Errore applicazione immagine:",l),e.setFillColor(255,255,255),e.rect(0,0,t,n,"F")}break}}})}applyOpacityToImage(e,t,n,r){return rt(this,null,function*(){return new Promise((a,l)=>{let s=new Image;s.crossOrigin="anonymous",s.onload=()=>{let h=document.createElement("canvas"),u=h.getContext("2d");if(!u){l(new Error("Impossibile creare context 2d"));return}let d=Math.round(n*3.78),v=Math.round(r*3.78);h.width=d,h.height=v,u.fillStyle="white",u.fillRect(0,0,d,v),u.globalAlpha=t,u.drawImage(s,0,0,d,v),a(h.toDataURL("image/png"))},s.onerror=()=>{l(new Error("Impossibile caricare immagine"))},s.src=e})})}setCustomFont(e,t){let n={helvetica:"helvetica",times:"times",courier:"courier",georgia:"Georgia",verdana:"Verdana",arial:"Arial",playfair:"PlayfairDisplay",cormorant:"CormorantGaramond",montserrat:"Montserrat",lato:"Lato"};e.setFont(n[t]||"helvetica")}mapFont(e){return{helvetica:"helvetica",verdana:"helvetica",arial:"helvetica",montserrat:"helvetica",lato:"helvetica",times:"times",georgia:"times",playfair:"times",cormorant:"times",courier:"courier"}[e]||"helvetica"}exportCustomerPDFFallback(){if(this.filteredDishes.length===0){alert("Non ci sono piatti da esportare!");return}let e=new Ue({orientation:"portrait",unit:"mm",format:"a4",compress:!0}),t=15,n=e.internal.pageSize.width,r=20;try{e.setFontSize(18),e.setTextColor(33,37,41),e.setFont("Bodoni Moda","bold");let a=this.restaurantData?.name||"Ristorante",l=e.getTextWidth(a);e.text(a,(n-l)/2,r),r+=10,e.setFontSize(14),e.setTextColor(108,117,125),e.setFont("Bodoni Moda","normal");let s=`Menu ${this.currentMenu?.name||""}`,h=e.getTextWidth(s);e.text(s,(n-h)/2,r),r+=15,e.setFontSize(10),e.setTextColor(108,117,125);let u=new Date().toLocaleDateString("it-IT");e.text(`Data: ${u}`,t,r),r+=20,this.groupDishesByCategory().forEach(p=>{let A=15+p.dishes.length*20;r+A>e.internal.pageSize.height-20&&(e.addPage(),r=t),e.setFontSize(14),e.setTextColor(0,123,255),e.setFont("Bodoni Moda","bold"),e.text(p.name.toUpperCase(),t,r),r+=8,e.setDrawColor(200,200,200),e.line(t,r-5,n-t,r-5),r+=5,p.dishes.forEach(N=>{r>e.internal.pageSize.height-20&&(e.addPage(),r=t),e.setFontSize(12),e.setTextColor(33,37,41),e.setFont("Bodoni Moda","bold");let I=N.name;e.text(I,t+5,r);let C="";N.allergens&&N.allergens.length>0&&(C=` [${N.allergens.sort((z,se)=>z-se).join(", ")}]`);let Z=`\u20AC${(N.base_price||0).toFixed(2)}`,V=e.getTextWidth(Z);if(e.text(Z,n-t-V,r),C){let z=t+5+e.getTextWidth(I)+2,se=n-t-V-5,we=e.getTextWidth(C);z+we<se&&(e.setFontSize(9),e.setTextColor(220,38,38),e.setFont("Bodoni Moda","normal"),e.text(C,z,r),e.setFontSize(10),e.setTextColor(108,117,125))}if(r+=6,N.description&&N.description.trim()!==""){e.setFontSize(10),e.setTextColor(108,117,125),e.setFont("Bodoni Moda","normal");let z=n-2*t-40;e.splitTextToSize(N.description,z).forEach(we=>{r>e.internal.pageSize.height-20&&(e.addPage(),r=t),e.text(we,t+10,r),r+=5})}r+=4}),r+=8});let v=e.getNumberOfPages();for(let p=1;p<=v;p++)e.setPage(p),e.setFontSize(10),e.setTextColor(108,117,125),e.text(`Pagina ${p} di ${v}`,n/2,e.internal.pageSize.height-10,{align:"center"});let _=`Menu_${this.currentMenu?.name||"Ristorante"}_${new Date().toISOString().slice(0,10)}.pdf`;e.save(_)}catch(a){console.error("\u274C Errore generazione PDF fallback:",a),alert("Errore durante la generazione del PDF. Riprova.")}}getCurrentTheme(){if(!this.themeService)return"light";try{return this.themeService.getCurrentTheme()}catch{return typeof window<"u"&&document.body.classList.contains("dark-theme")?"dark":"light"}}groupDishesByCategory(){console.log("\u{1F4CA} DEBUG groupDishesByCategory:",{filteredDishes:this.filteredDishes.length,categories:this.categories.length,sortedCategories:this.sortedCategories.length});let e=new Map;this.categories.forEach(r=>{e.set(r.id,[])}),this.filteredDishes.forEach(r=>{r.deleted_at||(r.category_id&&e.has(r.category_id)?e.get(r.category_id).push(r):r.category_id?e.set(r.category_id,[r]):(e.has("no-category")||e.set("no-category",[]),e.get("no-category").push(r)))});let t=[];this.sortedCategories.forEach(r=>{let a=e.get(r.id);a&&a.length>0&&(t.push({name:r.name,dishes:a.sort((l,s)=>l.name.localeCompare(s.name))}),e.delete(r.id))}),e.forEach((r,a)=>{if(a!=="no-category"&&r.length>0){let l=this.categories.find(s=>s.id===a);l&&t.push({name:l.name,dishes:r.sort((s,h)=>s.name.localeCompare(h.name))})}});let n=e.get("no-category");return n&&n.length>0&&t.push({name:"Senza categoria",dishes:n.sort((r,a)=>r.name.localeCompare(a.name))}),console.log("\u{1F4CA} DEBUG Risultato categorie:",t.map(r=>({name:r.name,count:r.dishes.length}))),t}getAllergenName(e){return mc(e)?.name||`Allergene ${e}`}getAllergenIcon(e){return mc(e)?.icon||"\u26A0\uFE0F"}moveDishUp(e){return rt(this,null,function*(){if(!(!this.currentMenu||this.viewMode!=="menu-only")){this.isMoving=!0;try{let t=this.filteredDishes.findIndex(r=>r.id===e.id);t>0&&([this.filteredDishes[t],this.filteredDishes[t-1]]=[this.filteredDishes[t-1],this.filteredDishes[t]],this.filteredDishes=[...this.filteredDishes],this.cdr.detectChanges()),(yield this.menuService.moveDishInMenu(this.currentMenu.id,e.id,"up"))||(yield this.menuService.loadMenuDishes(this.currentMenu.id))}catch(t){console.error("Errore nello spostamento del piatto:",t),yield this.menuService.loadMenuDishes(this.currentMenu.id)}finally{this.isMoving=!1}}})}moveDishDown(e){return rt(this,null,function*(){if(!(!this.currentMenu||this.viewMode!=="menu-only")){this.isMoving=!0;try{let t=this.filteredDishes.findIndex(r=>r.id===e.id);t>=0&&t<this.filteredDishes.length-1&&([this.filteredDishes[t],this.filteredDishes[t+1]]=[this.filteredDishes[t+1],this.filteredDishes[t]],this.filteredDishes=[...this.filteredDishes],this.cdr.detectChanges()),(yield this.menuService.moveDishInMenu(this.currentMenu.id,e.id,"down"))?(setTimeout(()=>rt(this,null,function*(){yield this.menuService.loadMenuDishes(this.currentMenu.id)}),0),console.log("\u2705 Piatto spostato gi\xF9:",e.name)):(yield this.menuService.loadMenuDishes(this.currentMenu.id),this.applyFilters())}catch(t){console.error("Errore nello spostamento del piatto:",t),yield this.menuService.loadMenuDishes(this.currentMenu.id),this.applyFilters()}finally{this.isMoving=!1}}})}initializeMenuOrder(){return rt(this,null,function*(){this.currentMenu&&(yield this.menuService.initializeOrderIndexes(this.currentMenu.id),yield this.menuService.loadMenuDishes(this.currentMenu.id),this.applyFilters())})}prepareAndUpdateChart(){if(!this.menuChartCanvas?.nativeElement||(this.chartInstance&&(this.chartInstance.destroy(),this.chartInstance=null),this.filteredDishes.length===0))return;let e;this.sortChartBy==="criticality"?e=[...this.filteredDishes].sort((A,N)=>{let I=this.calculateFoodCostPercentage(A),C=this.calculateFoodCostPercentage(N);if(I!==C)return C-I;let Z=this.calculateMargin(A),V=this.calculateMargin(N);return Z-V}).slice(0,this.maxDishesInChart):e=[...this.filteredDishes].sort((A,N)=>A.name.localeCompare(N.name)).slice(0,this.maxDishesInChart);let t=e.map(A=>A.name.length>22?A.name.substring(0,19)+"\u2026":A.name),n=e.map(A=>A.food_cost||0),r=e.map(A=>this.calculateMargin(A)),a=e.map(A=>this.calculateFoodCostPercentage(A)),l=e.map(A=>this.calculateMarginPercentage(A)),s=document.documentElement,h=getComputedStyle(s).getPropertyValue("--primary").trim(),u=getComputedStyle(s).getPropertyValue("--tertiary").trim(),d=getComputedStyle(s).getPropertyValue("--danger-color")?.trim()||"#ef4444",v=getComputedStyle(s).getPropertyValue("--success-color")?.trim()||"#10b981",_=getComputedStyle(s).getPropertyValue("--text-color").trim(),p={type:"bar",data:{labels:t,datasets:[{label:"Food Cost (\u20AC)",data:n,backgroundColor:"rgba(239, 68, 68, 0.55)",borderColor:d,borderWidth:1,yAxisID:"y-euro"},{label:"Margine (\u20AC)",data:r,backgroundColor:"rgba(16, 185, 129, 0.55)",borderColor:v,borderWidth:1,yAxisID:"y-euro"},{type:"line",label:"Food Cost %",data:a,borderColor:u,backgroundColor:"transparent",borderWidth:2,pointRadius:3,pointBackgroundColor:u,tension:.2,yAxisID:"y-percent"},{type:"line",label:"Margine %",data:l,borderColor:h,backgroundColor:"transparent",borderWidth:2,pointRadius:3,pointBackgroundColor:h,tension:.2,yAxisID:"y-percent"}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"top",labels:{color:_,usePointStyle:!0,boxWidth:20,padding:16}},tooltip:{mode:"index",intersect:!1}},scales:{x:{ticks:{color:_,maxRotation:45,minRotation:45}},"y-euro":{type:"linear",position:"left",title:{display:!0,text:"\u20AC",color:_},ticks:{color:_},grid:{color:_+"22"}},"y-percent":{type:"linear",position:"right",title:{display:!0,text:"%",color:_},ticks:{color:_},grid:{drawOnChartArea:!1}}}}};this.chartInstance=new vc(this.menuChartCanvas.nativeElement,p)}ngAfterViewInit(){setTimeout(()=>this.prepareAndUpdateChart(),0)}ngOnDestroy(){this.themeSubscription?.unsubscribe(),this.chartInstance&&(this.chartInstance.destroy(),this.chartInstance=null)}changeChartSort(e){this.sortChartBy=e,this.prepareAndUpdateChart()}get hasActiveFilters(){return this.searchTerm.trim()!==""||this.selectedCategory!=="all"||this.statusFilter!=="all"||this.priceRange.min!==null||this.priceRange.max!==null}openPDFCustomizationModal(){this.resetPDFCustomization(),this.showPDFCustomizationModal=!0}closePDFCustomizationModal(){this.showPDFCustomizationModal=!1}resetPDFCustomization(){this.pdfCustomization={font:"helvetica",backgroundType:"theme",backgroundOpacity:100,backgroundColor:"#FFFFFF",gradientStart:"#7209B7",gradientEnd:"#EF233C",gradientDirection:"vertical",categoryColor:this.getDefaultColor("categoryTitle"),priceColor:this.getDefaultColor("price"),allergenColor:this.getDefaultColor("allergens"),descriptionColor:this.getDefaultColor("description"),restaurantNameColor:this.getDefaultColor("restaurantName")},this.uploadedBackgroundImage=null}getDefaultColor(e){let t=this.getCurrentTheme(),r=this.getDefaultColors(t)[e];return!r||r.length!==3?"#000000":this.rgbToHex(r[0],r[1],r[2])}onBackgroundImageUpload(e){let t=e.target;if(t.files&&t.files[0]){let n=t.files[0],r=new FileReader;r.onload=a=>{this.uploadedBackgroundImage=a.target?.result,this.pdfCustomization.backgroundImage=this.uploadedBackgroundImage},r.readAsDataURL(n)}}generateCustomizedPDF(){this.exportCustomerPDF(this.pdfCustomization),this.closePDFCustomizationModal()}hexToRgb(e){let t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:[0,0,0]}addLinearGradientPattern(e,t,n,r,a,l,s,h){e.addShadingPattern(t,new e.ShadingPattern("axial",[a,l,s,h],[{offset:0,color:n},{offset:1,color:r}]))}rgbToHex(e,t,n){return"#"+[e,t,n].map(r=>{let a=r.toString(16);return a.length===1?"0"+a:a}).join("")}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=bh({type:i,selectors:[["app-menu-builder"]],viewQuery:function(t,n){if(t&1&&wh(um,5),t&2){let r;xh(r=Sh())&&(n.menuChartCanvas=r.first)}},decls:215,vars:66,consts:[["menuChart",""],[1,"page-container"],[1,"grid-cards","p-sm"],["data-tutorial","menu-total-dishes",1,"card"],[1,"flex","items-center","gap-sm","mb-md"],[1,"material-icons","text-primary","text-md"],[1,"card-title"],[1,"text-md","font-bold","text-primary","justify-center","flex"],[1,"text-muted","card-footer"],["data-tutorial","menu-avg-price",1,"card"],[1,"text-md","font-bold","text-primary","text-amber-500","justify-center","flex"],["data-tutorial","menu-avg-margin",1,"card"],["data-tutorial","menu-avg-foodcost",1,"card"],[1,"form-card","p-sm","mt-lg"],["data-tutorial","menu-selector"],[1,"form-row"],[1,"form-group"],[1,"standard-label"],[1,"flex","gap-sm","items-center"],[1,"form-select",3,"ngModelChange","change","ngModel","disabled"],[3,"value",4,"ngFor","ngForOf"],[1,"flex","gap-sm"],["title","Modifica nome menu",1,"icon-button",3,"click","disabled"],[1,"material-icons"],["class","mt-sm",4,"ngIf"],[1,"form-group","m-0"],[1,"w-full",3,"ngModelChange","change","ngModel"],["value","menu-only"],["value","all-dishes"],["value","without-menu"],[1,"form-row","mt-sm"],["class","mt-sm flex items-center gap-sm",4,"ngIf"],["class","text-mini text-muted mt-sm ml-6",4,"ngIf"],["class","text-mini text-warning mt-sm ml-6",4,"ngIf"],[1,"flex","flex-wrap","gap-sm","justify-between"],[1,"text-muted"],[1,"flex","items-center","gap-sm"],[1,"material-icons","text-muted","text-sm","ml-xs",3,"title"],["class","chip success ml-md",4,"ngIf"],["class","chip ml-md",4,"ngIf"],["class","form-row mt-sm",4,"ngIf"],["class","flex items-center gap-sm",4,"ngIf"],[1,"flex","w-100",2,"justify-content","flex-end"],["data-tutorial","menu-print",1,"modal-footer","p-sm",2,"max-width","max-content"],[1,"promethea-button",3,"click"],["name","plus",3,"size"],["title","Elimina menu",1,"promethea-button","ghost",3,"click","disabled"],["name","trash-2",3,"size"],[1,"promethea-button","outline",3,"click"],["name","download",3,"size"],["title","Personalizza e stampa menu",1,"promethea-button","outline",3,"click"],["name","palette",3,"size"],[1,"chart-section","mt-lg","p-sm","card"],[1,"flex","justify-between","items-center","mb-3"],[1,"card-title","flex","items-center","gap-sm"],[1,"flex","items-center","gap-md"],[1,"text-sm","text-muted"],[1,"promethea-button","small",3,"click"],["data-tutorial","menu-chart",1,"chart-container",2,"position","relative","height","320px","width","100%"],["id","menuChart"],["class","empty-state mt-md text-center",4,"ngIf"],["class","text-sm text-muted mt-sm text-center",4,"ngIf"],["data-tutorial","menu-filters",1,"form-card","m-sm02"],[1,"flex","justify-between","items-end","gap-md","flex-wrap"],["type","text","placeholder","Cerca per nome o descrizione...",3,"ngModelChange","input","ngModel"],[3,"ngModelChange","change","ngModel"],["value","all"],["value","available"],["value","unavailable"],["value","out_of_stock"],[2,"display","flex","gap","var(--gap-sm)"],["type","number","placeholder","Min",3,"ngModelChange","input","ngModel"],[2,"align-self","center"],["type","number","placeholder","Max",3,"ngModelChange","input","ngModel"],[1,"modal-footer","p-sm"],[1,"promethea-button","ghost",3,"click"],[1,"material-icons","text-sm"],["data-tutorial","menu-table",1,"table-section","p-sm"],[1,"crm-table"],[4,"ngIf"],[2,"cursor","pointer",3,"click"],["class","material-icons",4,"ngIf"],[2,"width","100px"],["class","modal-overlay",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[3,"value"],[1,"mt-sm"],["type","text","placeholder","Nuovo nome menu","autofocus","",1,"form-input",3,"ngModelChange","keyup.enter","keyup.escape","ngModel"],["title","Salva",1,"icon-button","success",3,"click"],["title","Annulla",1,"icon-button",3,"click"],[1,"text-sm","text-muted","mt-sm"],[1,"mt-sm","flex","items-center","gap-sm"],[1,"flex","items-center","gap-sm","cursor-pointer"],["type","checkbox",1,"form-checkbox",3,"change","checked","disabled"],[1,"ml-xs","text-sm"],[1,"text-mini","text-muted","mt-sm","ml-6"],[1,"text-mini","text-warning","mt-sm","ml-6"],[1,"chip","success","ml-md"],[1,"chip","ml-md"],[1,"material-icons","text-yellow-500","text-sm"],[1,"material-icons","text-green-500","text-sm"],[1,"material-icons","text-muted"],["class","chip error ml-md",4,"ngIf"],[1,"chip","error","ml-md"],[1,"material-icons","text-blue-500","text-sm"],[1,"empty-state","mt-md","text-center"],[1,"material-icons","text-3xl","text-muted"],[1,"text-muted","mt-sm"],[1,"text-sm","text-muted","mt-sm","text-center"],[3,"opacity-60","bg-gray-50",4,"ngFor","ngForOf"],["class","chip mb-sm",4,"ngIf"],["class","flex items-center gap-sm mb-sm",4,"ngIf"],["class","flex flex-wrap gap-1 mb-sm",4,"ngIf"],[1,"nomedescpiatto"],[1,"flex","flex-wrap","gap-sm","align-center"],[1,"link",3,"click"],["class","chip-allergeni",4,"ngIf"],["class","text-muted",4,"ngIf"],[1,"status-select",3,"ngModelChange","ngModel"],[1,"flex","gap-sm",2,"justify-content","flex-end"],[1,"order-controls"],[1,"order-number"],[1,"flex","flex-col","gap-sm"],["title","Sposta su",1,"icon-button",3,"click","disabled"],[1,"material-icons","text-mini"],["title","Sposta gi\xF9",1,"icon-button",3,"click","disabled"],[1,"chip","mb-sm"],[1,"material-icons","text-red-500","text-sm"],[1,"text-mini","text-red-600","font-medium"],[1,"flex","items-center","gap-sm","mb-sm"],[1,"material-icons","text-amber-500","text-sm"],[1,"text-mini","text-amber-600","font-medium"],[1,"flex","flex-wrap","gap-1","mb-sm"],[4,"ngFor","ngForOf"],["class","chip text-mini bg-purple-100 text-purple-800 border border-purple-200",4,"ngIf"],[1,"chip","text-mini",3,"ngClass"],[1,"material-icons","text-mini","mr-1"],[1,"chip","text-mini","bg-purple-100","text-purple-800","border","border-purple-200"],[1,"chip-allergeni"],["class","chip-mini",3,"title",4,"ngFor","ngForOf"],[1,"chip-mini",3,"title"],["title","Copia in altro menu",1,"promethea-button","small",3,"click","disabled"],["title","Sposta in altro menu",1,"promethea-button","small",3,"click","disabled"],["title","Elimina piatto",1,"promethea-button","ghost","small",3,"click"],["title","Ripristina piatto",1,"promethea-button","success","small",3,"click"],["class","category-header",4,"ngIf"],[1,"category-header"],["colspan","8",2,"background","var(--smoke-color-2)","font-weight","800"],[1,"text-md","flex","gap-md",2,"margin","0","border","none"],[1,"text-primary"],[1,"chip"],["class","text-muted text-mini text-interrupt",4,"ngIf"],["class","flex flex-col gap-sm",4,"ngIf"],[1,"text-muted","text-mini","text-interrupt"],["colspan","8",2,"background","var(--smoke-1)","font-weight","800"],[1,"section-title",2,"margin","0","border","none"],[1,"chip",2,"margin-left","auto"],["class","text-muted","style","font-size: 0.8rem;",4,"ngIf"],["class","ml-1 text-blue-600 font-bold",4,"ngIf"],[1,"ml-1","text-blue-600","font-bold"],[1,"text-muted",2,"font-size","0.8rem"],["colspan","8",1,"empty-state-row"],[1,"empty-state"],[1,"modal-overlay"],[1,"modal-container","modal-sm"],[1,"modal-header"],[1,"section-title","m-0"],[1,"icon-button",3,"click"],[1,"modal-content","p-md"],[1,"form-select",3,"ngModelChange","ngModel"],["value","","disabled",""],["type","number","placeholder","Inserisci prezzo","min","0","step","0.01",1,"form-input",3,"ngModelChange","ngModel"],[1,"modal-footer"],[1,"promethea-button",3,"click","disabled"],[1,"icon-button",3,"click","disabled"],[1,"info-message","mb-md"],["name","info"],[3,"ngModelChange","ngModel","disabled"],[1,"flex","gap-sm","mt-sm"],[1,"text-muted","text-mini"],[1,"promethea-button","ghost",3,"click","disabled"],["class","material-icons animate-spin",4,"ngIf"],[1,"material-icons","animate-spin"],[1,"modal-overlay",3,"click"],[1,"modal-container","modal-lg",3,"click"],["name","x",3,"size"],[1,"form-card"],["name","type",3,"size"],[1,"w-100",3,"ngModelChange","ngModel"],["value","helvetica"],["value","times"],["value","courier"],["value","georgia"],["value","verdana"],["value","arial"],["value","playfair",2,"display","none"],["value","cormorant",2,"display","none"],["value","montserrat",2,"display","none"],["value","lato",2,"display","none"],[2,"border-top","1px solid var(--smoke-1)","margin","var(--gap-lg) 0"],["name","image",3,"size"],[1,"flex","gap-sm","flex-wrap"],[1,"chip",2,"cursor","pointer",3,"click"],["class","form-group",4,"ngIf"],["class","form-row",4,"ngIf"],[1,"text-md","font-bold","mb-md"],[1,"flex","gap-md","items-center"],["type","color",3,"ngModelChange","ngModel"],[1,"promethea-button","ghost","x-small",3,"click"],[1,"modal-footer",2,"margin-top","auto"],["name","rotate-ccw",3,"size"],["type","text","placeholder","#FFFFFF",1,"flex-1",3,"ngModelChange","ngModel"],["type","text","placeholder","#7209B7",3,"ngModelChange","ngModel"],["type","text","placeholder","#EF233C",3,"ngModelChange","ngModel"],["name","arrow-right",3,"size"],["name","upload",3,"size"],["type","file","accept","image/*",1,"w-100",3,"change"],[2,"max-width","200px","border-radius","8px",3,"src"],["type","range","min","0","max","100",3,"ngModelChange","ngModel"]],template:function(t,n){if(t&1){let r=ei();D(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"span",5),U(5,"restaurant"),E(),D(6,"h3",6),U(7,"Totale Piatti"),E()(),D(8,"div",7),U(9),E(),D(10,"span",8),U(11,"Piatti nel men\xF9"),E()(),D(12,"div",9)(13,"div",4)(14,"span",5),U(15,"euro"),E(),D(16,"h3",6),U(17,"Prezzo Medio"),E()(),D(18,"div",10),U(19),ui(20,"number"),E(),D(21,"span",8),U(22,"Prezzo medio piatto"),E()(),D(23,"div",11)(24,"div",4)(25,"span",5),U(26,"trending_up"),E(),D(27,"h3",6),U(28,"Margine Medio"),E()(),D(29,"div",7),U(30),ui(31,"number"),E(),D(32,"span",8),U(33,"Margine medio"),E()(),D(34,"div",12)(35,"div",4)(36,"span",5),U(37,"account_balance"),E(),D(38,"h3",6),U(39,"Food Cost Medio"),E()(),D(40,"div",7),U(41),ui(42,"number"),E(),D(43,"span",8),U(44,"Food cost medio (in %)"),E()()(),D(45,"div",13)(46,"div",14)(47,"div",15)(48,"div",16)(49,"label",17),U(50,"Menu"),E(),D(51,"div",18)(52,"select",19),Yt("ngModelChange",function(l){return Me(r),Zt(n.selectedMenuId,l)||(n.selectedMenuId=l),Ne(l)}),Ie("change",function(){return Me(r),Ne(n.changeMenu(n.selectedMenuId))}),et(53,hm,2,3,"option",20),E(),D(54,"div",21)(55,"button",22),Ie("click",function(){return Me(r),Ne(n.startEditMenuName())}),D(56,"span",23),U(57,"edit"),E()()()(),et(58,fm,12,1,"div",24),E(),D(59,"div",25)(60,"label",17),U(61,"Visualizzazione:"),E(),D(62,"select",26),Yt("ngModelChange",function(l){return Me(r),Zt(n.viewMode,l)||(n.viewMode=l),Ne(l)}),Ie("change",function(){return Me(r),Ne(n.setViewMode(n.viewMode))}),D(63,"option",27),U(64,"Solo questo menu"),E(),D(65,"option",28),U(66,"Tutti i piatti"),E(),D(67,"option",29),U(68,"Piatti senza menu"),E()()()(),D(69,"div",30)(70,"div",16),et(71,dm,5,2,"div",31)(72,pm,2,0,"div",32)(73,gm,2,0,"div",33),E(),D(74,"div",16)(75,"div",34)(76,"div",35),U(77),E(),D(78,"div",36)(79,"span",37),U(80," info "),E(),et(81,mm,4,0,"span",38)(82,vm,4,0,"span",39),E()()()(),et(83,_m,15,4,"div",40),D(84,"div",30)(85,"div",16),et(86,wm,7,3,"div",41),E()(),et(87,xm,8,2,"div",40),E(),D(88,"div",42)(89,"div",43)(90,"button",44),Ie("click",function(){return Me(r),Ne(n.createNewMenu())}),Gt(91,"lucide-angular",45),U(92," Nuovo Menu "),E(),D(93,"button",46),Ie("click",function(){return Me(r),Ne(n.onDeleteMenu(n.currentMenu))}),Gt(94,"lucide-angular",47),U(95," Elimina "),E(),D(96,"button",48),Ie("click",function(){return Me(r),Ne(n.exportToPDF())}),Gt(97,"lucide-angular",49),U(98," Menu Staff "),E(),D(99,"button",48),Ie("click",function(){return Me(r),Ne(n.exportCustomerPDF())}),Gt(100,"lucide-angular",49),U(101," Menu Semplice "),E(),D(102,"button",50),Ie("click",function(){return Me(r),Ne(n.openPDFCustomizationModal())}),Gt(103,"lucide-angular",51),U(104," Menu Pro "),E()()()(),D(105,"div",52)(106,"div",53)(107,"h3",54)(108,"span",23),U(109,"bar_chart"),E(),U(110," Analisi Costi e Margini "),E(),D(111,"div",55)(112,"span",56),U(113,"Ordina per:"),E(),D(114,"button",57),Ie("click",function(){return Me(r),Ne(n.changeChartSort("name"))}),U(115," Nome "),E(),D(116,"button",57),Ie("click",function(){return Me(r),Ne(n.changeChartSort("criticality"))}),U(117," Criticit\xE0 "),E()()(),D(118,"div",58),Gt(119,"canvas",59,0),E(),et(121,Sm,5,0,"div",60)(122,Am,2,1,"div",61),E(),D(123,"div",62)(124,"div",63)(125,"div",15)(126,"div",16)(127,"label",17)(128,"span",23),U(129,"search"),E(),U(130," Cerca "),E(),D(131,"input",64),Yt("ngModelChange",function(l){return Me(r),Zt(n.searchTerm,l)||(n.searchTerm=l),Ne(l)}),Ie("input",function(){return Me(r),Ne(n.applyFilters())}),E()(),D(132,"div",16)(133,"label",17)(134,"span",23),U(135,"category"),E(),U(136," Categoria "),E(),D(137,"select",65),Yt("ngModelChange",function(l){return Me(r),Zt(n.selectedCategory,l)||(n.selectedCategory=l),Ne(l)}),Ie("change",function(){return Me(r),Ne(n.applyFilters())}),D(138,"option",66),U(139,"Tutte le categorie"),E(),et(140,Cm,2,2,"option",20),E()()(),D(141,"div",15)(142,"div",16)(143,"label",17)(144,"span",23),U(145,"visibility"),E(),U(146," Stato "),E(),D(147,"select",65),Yt("ngModelChange",function(l){return Me(r),Zt(n.statusFilter,l)||(n.statusFilter=l),Ne(l)}),Ie("change",function(){return Me(r),Ne(n.applyFilters())}),D(148,"option",66),U(149,"Tutti gli stati"),E(),D(150,"option",67),U(151,"Disponibile"),E(),D(152,"option",68),U(153,"Non disponibile"),E(),D(154,"option",69),U(155,"Esaurito"),E()()(),D(156,"div",16)(157,"label",17)(158,"span",23),U(159,"euro"),E(),U(160," Prezzo "),E(),D(161,"div",70)(162,"input",71),Yt("ngModelChange",function(l){return Me(r),Zt(n.priceRange.min,l)||(n.priceRange.min=l),Ne(l)}),Ie("input",function(){return Me(r),Ne(n.applyFilters())}),E(),D(163,"span",72),U(164,"-"),E(),D(165,"input",73),Yt("ngModelChange",function(l){return Me(r),Zt(n.priceRange.max,l)||(n.priceRange.max=l),Ne(l)}),Ie("input",function(){return Me(r),Ne(n.applyFilters())}),E()()()()(),D(166,"div",74)(167,"button",44),Ie("click",function(){return Me(r),Ne(n.createNewDish())}),Gt(168,"lucide-angular",45),U(169," Nuovo Piatto "),E(),D(170,"button",44),Ie("click",function(){return Me(r),Ne(n.openAddDrinkDialog())}),D(171,"span",23),U(172,"local_drink"),E(),U(173," Aggiungi Bevanda "),E(),D(174,"button",75),Ie("click",function(){return Me(r),Ne(n.resetFilters())}),D(175,"span",23),U(176,"refresh"),E(),U(177," Reset Filtri "),E(),D(178,"button",75),Ie("click",function(){return Me(r),Ne(n.toggleShowDeletedDishes())}),D(179,"span",76),U(180),E(),U(181),E()()(),D(182,"div",77)(183,"table",78)(184,"thead")(185,"tr"),et(186,km,4,0,"th",79),D(187,"th",80),Ie("click",function(){return Me(r),Ne(n.onSort("name"))}),U(188," Nome "),et(189,Mm,2,1,"span",81),E(),D(190,"th",80),Ie("click",function(){return Me(r),Ne(n.onSort("category"))}),U(191," Categoria "),et(192,Nm,2,1,"span",81),E(),D(193,"th",80),Ie("click",function(){return Me(r),Ne(n.onSort("price"))}),U(194," Prezzo "),et(195,Lm,2,1,"span",81),E(),D(196,"th",80),Ie("click",function(){return Me(r),Ne(n.onSort("food_cost_percentage"))}),U(197," FC % "),et(198,Dm,2,1,"span",81),E(),D(199,"th",80),Ie("click",function(){return Me(r),Ne(n.onSort("margin"))}),U(200," Margine (\u20AC) "),et(201,Em,2,1,"span",81),E(),D(202,"th"),U(203,"Stato"),E(),D(204,"th"),U(205,"Tempo Prep."),E(),D(206,"th",82),U(207,"Azioni"),E()()(),D(208,"tbody"),et(209,Gm,2,1,"ng-container",79)(210,Sv,4,3,"ng-container",79)(211,Av,9,0,"tr",79),E()()(),et(212,kv,33,5,"div",83)(213,Dv,40,14,"div",83)(214,Ov,103,25,"div",84),E()}t&2&&(W(9),Dn(n.stats.totalDishes),W(10),at("\u20AC",Ci(20,57,n.stats.averagePrice,"1.2-2")),W(11),at(" \u20AC",Ci(31,60,n.stats.averageMargin,"1.2-2")," "),W(11),at(" ",Ci(42,63,n.stats.averageFoodCostPercentage,"1.0-1"),"% "),W(11),$t("ngModel",n.selectedMenuId),he("disabled",n.menus.length===0||n.isEditingMenuName),W(),he("ngForOf",n.menus),W(2),he("disabled",!n.currentMenu||n.isEditingMenuName),W(3),he("ngIf",n.isEditingMenuName&&n.currentMenu),W(4),$t("ngModel",n.viewMode),W(9),he("ngIf",n.currentMenu),W(),he("ngIf",(n.currentMenu==null?null:n.currentMenu.type)==="dedicated"),W(),he("ngIf",(n.currentMenu==null?null:n.currentMenu.is_default)&&(n.currentMenu==null?null:n.currentMenu.type)==="dedicated"),W(4),at(" ",n.getViewModeStats()[n.viewMode]," piatto/i "),W(2),he("title",n.currentMenu!=null&&n.currentMenu.is_default?"Il menu di default non pu\xF2 essere specifico":"Menu dedicato a una specifica prenotazione/evento"),W(2),he("ngIf",(n.currentMenu==null?null:n.currentMenu.type)==="dedicated"),W(),he("ngIf",(n.currentMenu==null?null:n.currentMenu.type)==="global"&&!(n.currentMenu!=null&&n.currentMenu.is_default)),W(),he("ngIf",n.currentMenu),W(3),he("ngIf",n.currentMenu),W(),he("ngIf",n.currentMenu),W(4),he("size",20),W(2),he("disabled",!n.currentMenu||n.isEditingMenuName),W(),he("size",20),W(3),he("size",20),W(3),he("size",20),W(3),he("size",20),W(11),Ai("primary",n.sortChartBy==="name"),W(2),Ai("primary",n.sortChartBy==="criticality"),W(5),he("ngIf",n.filteredDishes.length===0),W(),he("ngIf",n.filteredDishes.length>n.maxDishesInChart),W(9),$t("ngModel",n.searchTerm),W(6),$t("ngModel",n.selectedCategory),W(3),he("ngForOf",n.categories),W(7),$t("ngModel",n.statusFilter),W(15),$t("ngModel",n.priceRange.min),W(3),$t("ngModel",n.priceRange.max),W(3),he("size",20),W(10),Ai("bg-red-100",n.showDeletedDishes)("text-red-700",n.showDeletedDishes),W(2),at(" ",n.showDeletedDishes?"visibility_off":"delete"," "),W(),at(" ",n.showDeletedDishes?"Nascondi Eliminati":"Mostra Eliminati"," "),W(5),he("ngIf",n.currentMenu&&n.viewMode==="menu-only"),W(3),he("ngIf",n.sortField==="name"),W(3),he("ngIf",n.sortField==="category"),W(3),he("ngIf",n.sortField==="price"),W(3),he("ngIf",n.sortField==="food_cost_percentage"),W(3),he("ngIf",n.sortField==="margin"),W(8),he("ngIf",n.isSortingByNonCategoryField()),W(),he("ngIf",!n.isSortingByNonCategoryField()),W(),he("ngIf",n.filteredDishes.length===0),W(),he("ngIf",n.showAddDrinkDialog),W(),he("ngIf",n.showMoveDialog),W(),he("ngIf",n.showPDFCustomizationModal))},dependencies:[Eh,Ch,kh,Mh,Wh,Uh,qh,Th,Rh,zh,jh,Bh,Vh,Oh,Zh,$h,Dh,Lh,Nh],styles:[".category-header[_ngcontent-%COMP%]{border-left:4px solid var(--primary)}.category-header[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:var(--gap-md)!important}.crm-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:not(.category-header):hover{background:var(--smoke-1)}.chip.inactive[_ngcontent-%COMP%]{background:color-mix(in srgb,#6b7280 20%,transparent);color:#6b7280}.nomedescpiatto[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:calc(var(--gap-sm) / 2)}.status-select[_ngcontent-%COMP%]{width:fit-content!important}@media (max-width: 768px){.filters-container[_ngcontent-%COMP%]{flex-direction:column}.filter-group[_ngcontent-%COMP%]{min-width:100%}.order-controls[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%]{gap:calc(var(--gap-sm) /2);padding:calc(var(--gap-sm) /2)}}.status-select.available[_ngcontent-%COMP%]{border-color:var(--success-color, #28a745)}.status-select.unavailable[_ngcontent-%COMP%]{border-color:var(--warning-color, #ffc107)}.status-select.out_of_stock[_ngcontent-%COMP%]{border-color:var(--danger-color, #dc3545)}.status-select[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #007bff40}.chip.active[_ngcontent-%COMP%]{background-color:var(--success-color);color:#fff}.chip.inactive[_ngcontent-%COMP%]{background-color:var(--danger-color);color:#fff}.text-warning[_ngcontent-%COMP%]{color:#f59e0b!important}.pianti-senza-menu-section[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(245,158,11,.1),transparent);border-left:4px solid #f59e0b}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}50%{transform:scale(1.05)}to{transform:scale(1)}}.move-button[_ngcontent-%COMP%]:hover{animation:_ngcontent-%COMP%_pulse .5s ease-in-out}tr.opacity-60[_ngcontent-%COMP%]{opacity:.8}tr.bg-gray-50[_ngcontent-%COMP%]{background-color:var(--smoke-1);border:1px solid var(--shadow-1)}tr.no-category-divider[_ngcontent-%COMP%]{border-top:1px solid #e5e7eb}tr.no-category-divider[_ngcontent-%COMP%]:first-child{border-top:none}.category-header[_ngcontent-%COMP%]:not(.category-header){display:none}.chip-allergeni[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:250px;gap:var(--gap-sm);flex-wrap:wrap}.order-controls[_ngcontent-%COMP%]{display:flex;gap:var(--gap-sm);align-items:center;font-weight:700;color:var(--tertiary)}.chart-section[_ngcontent-%COMP%]{border-radius:var(--gap-md);box-shadow:var(--shadow-1);margin:0 var(--gap-sm)}.chart-container[_ngcontent-%COMP%]{margin:var(--gap-sm) 0}.empty-state[_ngcontent-%COMP%]{padding:var(--gap-md);opacity:.7}"]})};export{$0 as MenuBuilder};
