import{a as de}from"./chunk-KNQCUD3T.js";import"./chunk-INO3WHLC.js";import{a as se}from"./chunk-OILXJW2J.js";import"./chunk-GO2X6ET2.js";import"./chunk-MTC3TSRZ.js";import{b as J,d as K,e as Q,g as X,h as Z,i as ee,j as te,q as ne,r as ie,s as re,u as ae,v as oe,x as le}from"./chunk-XWCDBJ2K.js";import"./chunk-PMU7JIES.js";import{c as U,d as Y,l as H}from"./chunk-COP7W333.js";import{Eb as I,Fb as f,Hb as $,Ib as a,Ja as l,Jb as h,Kb as v,Lb as D,Ob as _,Pb as y,Qb as b,Za as G,a as W,b as j,ba as z,cb as C,ga as F,h as g,kb as S,la as m,lb as i,ma as u,mb as r,nb as O,o as q,tb as E,va as L,wb as p,yb as c}from"./chunk-2FS7XGGJ.js";var R=class d extends se{getTableName(){return"revenue_records"}monthlyRevenueSubject=new q([]);monthlyRevenue$=this.monthlyRevenueSubject.asObservable();loadRevenueForMonth(n){return g(this,null,function*(){try{let t=yield this.getCurrentRestaurantId();if(!t)return[];let e=this.formatMonthForDatabase(n),{data:o,error:s}=yield this.supabaseService.getSupabaseClient().from(this.getTableName()).select("*").eq("restaurant_id",t).eq("month",e).order("completed_at",{ascending:!1});if(s)throw s;return this.dataSubject.next(o||[]),o||[]}catch(t){return console.error("Error loading revenue for month:",t),[]}})}calculateMonthlyRevenueFromOrders(n){return g(this,null,function*(){try{let t=yield this.getCurrentRestaurantId();if(!t)return this.getEmptyMonthlyRevenue(n);let e=this.formatMonthForDatabase(n),o=`${e.substring(0,7)}-01`,s=this.getLastDayOfMonth(e),{data:k,error:T}=yield this.supabaseService.getSupabaseClient().from("orders").select("*").eq("restaurant_id",t).eq("status","completed").gte("created_at",`${o}T00:00:00`).lte("created_at",`${s}T23:59:59`);if(T)throw T;let w=k||[],V=w.reduce((x,M)=>x+(M.total_amount||0),0),me=w.reduce((x,M)=>x+(M.tax_amount||0),0),N=w.reduce((x,M)=>x+(M.discount_amount||0),0),A=V-N,P=w.length,ue=P>0?A/P:0,B={month:e,total_revenue:V,total_tax:me,total_discount:N,net_revenue:A,order_count:P,average_ticket:ue};return yield this.saveMonthlyRevenue(B),B}catch(t){return console.error("Error calculating monthly revenue:",t),this.getEmptyMonthlyRevenue(n)}})}saveMonthlyRevenue(n){return g(this,null,function*(){try{let t=yield this.getCurrentRestaurantId();if(!t)return;let{error:e}=yield this.supabaseService.getSupabaseClient().from("monthly_revenue").upsert(j(W({restaurant_id:t},n),{updated_at:new Date().toISOString()}),{onConflict:"restaurant_id,month"});if(e)throw e}catch(t){console.error("Error saving monthly revenue:",t)}})}loadMonthlyRevenue(n){return g(this,null,function*(){try{let t=yield this.getCurrentRestaurantId();if(!t)return null;let e=this.formatMonthForDatabase(n),{data:o,error:s}=yield this.supabaseService.getSupabaseClient().from("monthly_revenue").select("*").eq("restaurant_id",t).eq("month",e).single();if(s){if(s.code==="PGRST116")return yield this.calculateMonthlyRevenueFromOrders(n);throw s}return o}catch(t){return console.error("Error loading monthly revenue:",t),yield this.calculateMonthlyRevenueFromOrders(n)}})}addManualRevenue(n){return g(this,null,function*(){try{let t=yield this.getCurrentRestaurantId();if(!t)return null;let e={restaurant_id:t,order_id:`manual_${Date.now()}`,order_number:`MANUAL-${Date.now()}`,customer_name:"Entrata Manuale",total_amount:n.amount,tax_amount:0,discount_amount:0,net_amount:n.amount,payment_method:"manual",order_type:"dine_in",description:n.description,category:n.category,notes:n.notes,month:this.formatMonthForDatabase(n.month),completed_at:new Date().toISOString(),created_at:new Date().toISOString()},{data:o,error:s}=yield this.supabaseService.getSupabaseClient().from(this.getTableName()).insert(e).select().single();if(s)throw s;return yield this.loadRevenueForMonth(n.month),o}catch(t){return console.error("Error adding manual revenue:",t),null}})}deleteManualRevenue(n){return g(this,null,function*(){try{let{error:t}=yield this.supabaseService.getSupabaseClient().from(this.getTableName()).delete().eq("id",n).like("order_id","manual_%");if(t)throw t;return!0}catch(t){return console.error("Error deleting manual revenue:",t),!1}})}formatMonthForDatabase(n){return n.match(/^\d{4}-\d{2}-\d{2}$/)?n:n.match(/^\d{4}-\d{2}$/)?`${n}-01`:new Date(n).toISOString().split("T")[0]}getLastDayOfMonth(n){let t=new Date(n);return new Date(t.getFullYear(),t.getMonth()+1,0).toISOString().split("T")[0]}getEmptyMonthlyRevenue(n){return{month:this.formatMonthForDatabase(n),total_revenue:0,total_tax:0,total_discount:0,net_revenue:0,order_count:0,average_ticket:0}}getAvailableMonths(){return g(this,null,function*(){try{let n=yield this.getCurrentRestaurantId();if(!n)return[];let{data:t,error:e}=yield this.supabaseService.getSupabaseClient().from(this.getTableName()).select("month").eq("restaurant_id",n).order("month",{ascending:!1});if(e)throw e;return[...new Set(t?.map(s=>s.month)||[])]}catch(n){return console.error("Error getting available months:",n),[]}})}static \u0275fac=(()=>{let n;return function(e){return(n||(n=L(d)))(e||d)}})();static \u0275prov=z({token:d,factory:d.\u0275fac,providedIn:"root"})};function pe(d,n){if(d&1&&(i(0,"div",43)(1,"div",44)(2,"span",45),a(3),r(),i(4,"span",46),a(5),r()(),i(6,"div",47),a(7),r(),i(8,"div",48),O(9,"div",49),r()()),d&2){let t=n.$implicit,e=c();l(3),h(t.category),l(2),v("",t.percentage.toFixed(1),"%"),l(2),h(e.formatCurrency(t.amount)),l(2),I("width",t.percentage,"%")}}function ve(d,n){if(d&1){let t=E();i(0,"div",50),p("click",function(){m(t);let o=c();return u(o.closeRevenueModal())}),i(1,"div",51),p("click",function(o){return m(t),u(o.stopPropagation())}),i(2,"div",52)(3,"div",53)(4,"div",54)(5,"span",11),a(6,"add"),r()(),i(7,"div")(8,"h1",4),a(9,"Aggiungi Entrata Manuale"),r()()(),i(10,"button",55),p("click",function(){m(t);let o=c();return u(o.closeRevenueModal())}),i(11,"span",11),a(12,"close"),r()()(),i(13,"div",56)(14,"form",57),p("submit",function(o){return m(t),c().saveRevenue(),u(o.preventDefault())}),i(15,"div",58)(16,"label",59)(17,"span",11),a(18,"description"),r(),a(19," Descrizione * "),r(),i(20,"input",60),b("ngModelChange",function(o){m(t);let s=c();return y(s.revenueForm.description,o)||(s.revenueForm.description=o),u(o)}),r()(),i(21,"div",58)(22,"div",9)(23,"label",61)(24,"span",11),a(25,"euro"),r(),a(26," Importo (\u20AC) * "),r(),i(27,"input",62),b("ngModelChange",function(o){m(t);let s=c();return y(s.revenueForm.amount,o)||(s.revenueForm.amount=o),u(o)}),r()(),i(28,"div",9)(29,"label",63)(30,"span",11),a(31,"label"),r(),a(32," Categoria "),r(),i(33,"select",64),b("ngModelChange",function(o){m(t);let s=c();return y(s.revenueForm.category,o)||(s.revenueForm.category=o),u(o)}),i(34,"option",65),a(35,"Vendite Dirette"),r(),i(36,"option",66),a(37,"Catering"),r(),i(38,"option",67),a(39,"Eventi"),r(),i(40,"option",68),a(41,"Altro Servizio"),r(),i(42,"option",69),a(43,"Altre Entrate"),r()()()(),i(44,"div",70)(45,"label",71)(46,"span",11),a(47,"notes"),r(),a(48," Note "),r(),i(49,"textarea",72),b("ngModelChange",function(o){m(t);let s=c();return y(s.revenueForm.notes,o)||(s.revenueForm.notes=o),u(o)}),r()()()(),i(50,"div",73)(51,"button",74),p("click",function(){m(t);let o=c();return u(o.closeRevenueModal())}),i(52,"span",11),a(53,"close"),r(),a(54," Annulla "),r(),i(55,"button",75),p("click",function(){m(t);let o=c();return u(o.saveRevenue())}),i(56,"span",11),a(57,"check"),r(),a(58," Aggiungi Entrata "),r()()()()}if(d&2){let t=c();l(20),_("ngModel",t.revenueForm.description),l(7),_("ngModel",t.revenueForm.amount),l(6),_("ngModel",t.revenueForm.category),l(16),_("ngModel",t.revenueForm.notes)}}function he(d,n){if(d&1){let t=E();i(0,"button",81),p("click",function(){let o=m(t).$implicit,s=c(2);return u(s.changeMonth(o))}),a(1),r()}if(d&2){let t=n.$implicit,e=c(2);f("active",t===e.selectedMonth),l(),v(" ",e.formatMonthDisplay(t)," ")}}function fe(d,n){if(d&1){let t=E();i(0,"div",50),p("click",function(){m(t);let o=c();return u(o.closeMonthsModal())}),i(1,"div",76),p("click",function(o){return m(t),u(o.stopPropagation())}),i(2,"div",77)(3,"h2",78)(4,"span",11),a(5,"calendar_today"),r(),a(6," Seleziona Mese "),r(),i(7,"button",55),p("click",function(){m(t);let o=c();return u(o.closeMonthsModal())}),i(8,"span",11),a(9,"close"),r()()(),i(10,"div",56)(11,"div",79),C(12,he,2,3,"button",80),r()(),i(13,"div",73)(14,"button",16),p("click",function(){m(t);let o=c();return u(o.closeMonthsModal())}),i(15,"span",11),a(16,"close"),r(),a(17," Chiudi "),r()()()()}if(d&2){let t=c();l(12),S("ngForOf",t.availableMonths)}}var ce=class d{expenseService=F(de);revenueService=F(R);expenses=[];monthlyRevenue=null;availableMonths=[];selectedMonth=this.getCurrentMonth();averageTicket=25;showRevenueModal=!1;showMonthsModal=!1;revenueForm={description:"",amount:0,category:"altre_entrate",month:this.getCurrentMonth(),notes:""};revenueCategories=["vendite_dirette","catering","eventi","altro_servizio","altre_entrate"];ngOnInit(){this.loadData()}loadData(){return g(this,null,function*(){yield this.loadExpenses(),yield this.loadRevenue(),yield this.loadAvailableMonths()})}loadExpenses(){return g(this,null,function*(){yield this.expenseService.loadExpensesForMonth(this.selectedMonth),this.expenseService.data$.subscribe(n=>{this.expenses=n})})}loadRevenue(){return g(this,null,function*(){this.monthlyRevenue=yield this.revenueService.loadMonthlyRevenue(this.selectedMonth)})}loadAvailableMonths(){return g(this,null,function*(){let n=yield this.expenseService.getAvailableMonths(),t=yield this.revenueService.getAvailableMonths();this.availableMonths=[...new Set([...n,...t])].sort().reverse()})}get monthlyStats(){return this.expenseService.calculateMonthlyTotal(this.expenses)}get financialSummary(){let n=this.monthlyStats.totale,t=this.monthlyRevenue?.net_revenue||0,e=t-n,o=t>0?e/t*100:0;return{expenses:n,revenue:t,profit:e,profitMargin:o,breakEvenCustomers:n/this.averageTicket,actualCustomers:this.monthlyRevenue?.order_count||0,customersDifference:(this.monthlyRevenue?.order_count||0)-n/this.averageTicket}}get dailyBreakdown(){let n=this.financialSummary,t=this.getDaysInMonth(this.selectedMonth);return{dailyExpenses:n.expenses/t,dailyRevenue:n.revenue/t,dailyProfit:n.profit/t,dailyCustomersNeeded:n.breakEvenCustomers/t,dailyActualCustomers:n.actualCustomers/t}}getCurrentMonth(){let n=new Date;return`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}-01`}formatMonthDisplay(n){return new Date(n).toLocaleDateString("it-IT",{month:"long",year:"numeric"})}formatCurrency(n){return`\u20AC${n.toFixed(2)}`}formatNumber(n){return n.toFixed(0)}getDaysInMonth(n){let t=new Date(n);return new Date(t.getFullYear(),t.getMonth()+1,0).getDate()}openAddRevenueModal(){this.revenueForm={description:"",amount:0,category:"altre_entrate",month:this.selectedMonth,notes:""},this.showRevenueModal=!0}openMonthsModal(){this.showMonthsModal=!0}closeRevenueModal(){this.showRevenueModal=!1}closeMonthsModal(){this.showMonthsModal=!1}saveRevenue(){return g(this,null,function*(){if(!this.revenueForm.description||!this.revenueForm.amount){alert("Compila tutti i campi obbligatori");return}try{yield this.revenueService.addManualRevenue(this.revenueForm),this.closeRevenueModal(),yield this.loadRevenue()}catch(n){console.error("Error saving revenue:",n),alert("Errore nel salvataggio dell'entrata: "+n.message)}})}changeMonth(n){return g(this,null,function*(){this.selectedMonth=n,yield this.loadData(),this.closeMonthsModal()})}getCategoryBreakdown(){return[...new Set(this.expenses.map(t=>t.category))].map(t=>{let e=this.expenses.filter(s=>s.category===t).reduce((s,k)=>s+k.amount,0),o=this.monthlyStats.totale>0?e/this.monthlyStats.totale*100:0;return{category:t,amount:e,percentage:o}}).sort((t,e)=>e.amount-t.amount)}getProfitabilityStatus(){let n=this.financialSummary;return n.profitMargin>=20?{status:"eccellente",color:"success",message:"Redditivit\xE0 eccellente!"}:n.profitMargin>=10?{status:"buona",color:"info",message:"Redditivit\xE0 buona"}:n.profitMargin>=0?{status:"accettabile",color:"warning",message:"Redditivit\xE0 accettabile"}:{status:"critica",color:"danger",message:"In perdita - Necessaria attenzione"}}min(n,t){return Math.min(n,t)}max(n,t){return Math.max(n,t)}getProgressWidth(){let n=this.financialSummary.profitMargin;return Math.min(Math.max(n,0),100)}static \u0275fac=function(t){return new(t||d)};static \u0275cmp=G({type:d,selectors:[["app-financial-report"]],decls:135,vars:51,consts:[[1,"page-container"],[1,"section-header"],[1,"flex","gap-sm"],[1,"material-icons","fs-lg"],[1,"section-title"],[1,"text-muted"],[1,"form-card"],[1,"flex","flex-col","justify-between","items-start"],[1,"form-row"],[1,"form-group"],[1,"standard-label"],[1,"material-icons"],[1,"promethea-button","ghost",3,"click"],["type","number","step","0.01","min","1",3,"ngModelChange","ngModel"],[1,"text-muted","text-sm"],[1,"modal-footer","p-md0"],[1,"promethea-button",3,"click"],[1,"grid-cards"],[1,"card"],[1,"flex","items-center","gap-sm","mb-md"],[1,"material-icons","text-primary","text-md"],[1,"card-title"],[1,"text-md","font-bold","text-primary","justify-center","flex"],[1,"text-muted","card-footer"],[1,"material-icons","text-md"],[1,"text-md","font-bold","justify-center","flex"],[1,"card-footer"],[1,"dashboard-grid","mt-lg"],[1,"text-md","font-semibold","m-0"],[1,"stats-grid"],[1,"stat-item"],[1,"stat-label"],[1,"stat-value"],[1,"profitability-status"],[1,"status-icon"],[1,"status-content"],[1,"font-semibold","mb-sm"],[1,"text-muted","mb-md"],[1,"progress-bar"],[1,"progress-fill"],[1,"categories-list"],["class","category-item",4,"ngFor","ngForOf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"category-item"],[1,"category-header"],[1,"category-name","font-semibold"],[1,"category-percentage","text-muted"],[1,"category-amount","font-bold"],[1,"category-bar"],[1,"category-bar-fill"],[1,"modal-overlay",3,"click"],[1,"modal-container",3,"click"],[1,"modal-header"],[1,"flex"],[1,"header-icon"],[1,"icon-button",3,"click"],[1,"modal-content"],[1,"form-card",3,"submit"],[1,"form-row","mb-md"],["for","revenue-description",1,"standard-label"],["type","text","id","revenue-description","name","description","required","","placeholder","Es. Vendita catering evento",3,"ngModelChange","ngModel"],["for","revenue-amount",1,"standard-label"],["type","number","id","revenue-amount","name","amount","step","0.01","min","0","required","",3,"ngModelChange","ngModel"],["for","revenue-category",1,"standard-label"],["id","revenue-category","name","category",3,"ngModelChange","ngModel"],["value","vendite_dirette"],["value","catering"],["value","eventi"],["value","altro_servizio"],["value","altre_entrate"],[1,"flex","flex-col","gap-sm"],["for","revenue-notes",1,"standard-label"],["id","revenue-notes","name","notes","rows","3","placeholder","Note aggiuntive...",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button",1,"promethea-button","ghost",3,"click"],["type","submit",1,"promethea-button",3,"click"],[1,"modal-container","modal-sm",3,"click"],[1,"flex","justify-between","items-center","mb-lg","p-md","border-b"],[1,"section-title","m-0"],[1,"months-grid"],["class","month-button",3,"active","click",4,"ngFor","ngForOf"],[1,"month-button",3,"click"]],template:function(t,e){t&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),a(4,"assessment"),r(),i(5,"h1",4),a(6,"Report Finanziario"),r()(),i(7,"p",5),a(8,"Analisi completa di entrate, uscite e redditivit\xE0"),r()(),i(9,"div",6)(10,"div",7)(11,"div",8)(12,"div",9)(13,"label",10)(14,"span",11),a(15,"calendar_today"),r(),a(16," Mese "),r(),i(17,"button",12),p("click",function(){return e.openMonthsModal()}),i(18,"span",11),a(19,"calendar_today"),r(),a(20),r()(),i(21,"div",9)(22,"label",10)(23,"span",11),a(24,"receipt"),r(),a(25," Scontrino Medio (\u20AC) "),r(),i(26,"input",13),b("ngModelChange",function(s){return y(e.averageTicket,s)||(e.averageTicket=s),s}),r(),i(27,"small",14),a(28,"Importo medio per cliente"),r()()(),i(29,"div",15)(30,"button",16),p("click",function(){return e.openAddRevenueModal()}),i(31,"span",11),a(32,"add"),r(),a(33," Entrata Manuale "),r()()()(),i(34,"div",17)(35,"div",18)(36,"div",19)(37,"span",20),a(38,"trending_up"),r(),i(39,"h3",21),a(40,"Entrate Totali"),r()(),i(41,"div",22),a(42),r(),i(43,"span",23),a(44),r()(),i(45,"div",18)(46,"div",19)(47,"span",20),a(48,"trending_down"),r(),i(49,"h3",21),a(50,"Uscite Totali"),r()(),i(51,"div",22),a(52),r(),i(53,"span",23),a(54),r()(),i(55,"div",18)(56,"div",19)(57,"span",24),a(58),r(),i(59,"h3",21),a(60),r()(),i(61,"div",25),a(62),r(),i(63,"span",23),a(64),r()(),i(65,"div",18)(66,"div",19)(67,"span",20),a(68,"swap_horiz"),r(),i(69,"h3",21),a(70,"Break-even"),r()(),i(71,"div",22),a(72),r(),i(73,"span",26),a(74),r()()(),i(75,"div",27)(76,"div",18)(77,"div",19)(78,"span",20),a(79,"today"),r(),i(80,"h3",28),a(81,"Analisi Giornaliera"),r()(),i(82,"div",29)(83,"div",30)(84,"div",31),a(85,"Entrate Giornaliere"),r(),i(86,"div",32),a(87),r()(),i(88,"div",30)(89,"div",31),a(90,"Uscite Giornaliere"),r(),i(91,"div",32),a(92),r()(),i(93,"div",30)(94,"div",31),a(95,"Utile Giornaliero"),r(),i(96,"div",32),a(97),r()(),i(98,"div",30)(99,"div",31),a(100,"Clienti Necessari"),r(),i(101,"div",32),a(102),r()(),i(103,"div",30)(104,"div",31),a(105,"Clienti Attuali"),r(),i(106,"div",32),a(107),r()()()(),i(108,"div",18)(109,"div",19)(110,"span",11),a(111,"bar_chart"),r(),i(112,"h3",28),a(113,"Stato Redditivit\xE0"),r()(),i(114,"div",33)(115,"div",34)(116,"span",11),a(117),r()(),i(118,"div",35)(119,"h4",36),a(120),r(),i(121,"p",37),a(122),r(),i(123,"div",38),O(124,"div",39),r()()()()(),i(125,"div",6)(126,"div",19)(127,"span",11),a(128,"category"),r(),i(129,"h3",28),a(130,"Dettaglio per Categoria Spese"),r()(),i(131,"div",40),C(132,pe,10,5,"div",41),r()()(),C(133,ve,59,4,"div",42)(134,fe,18,1,"div",42)),t&2&&(l(20),v(" ",e.formatMonthDisplay(e.selectedMonth)," "),l(6),_("ngModel",e.averageTicket),l(16),h(e.formatCurrency(e.financialSummary.revenue)),l(2),v("",e.financialSummary.actualCustomers," clienti serviti"),l(8),h(e.formatCurrency(e.financialSummary.expenses)),l(2),D(" ",e.formatCurrency(e.monthlyStats.fisse)," fisse + ",e.formatCurrency(e.monthlyStats.variabili)," variabili "),l(3),f("text-green-500",e.financialSummary.profit>=0)("text-red-500",e.financialSummary.profit<0),l(),v(" ",e.financialSummary.profit>=0?"attach_money":"money_off"," "),l(2),h(e.financialSummary.profit>=0?"Utile":"Perdita"),l(),f("text-green-500",e.financialSummary.profit>=0)("text-red-500",e.financialSummary.profit<0),l(),v(" ",e.formatCurrency(e.financialSummary.profit)," "),l(2),v("",e.financialSummary.profitMargin.toFixed(1),"% margine"),l(8),v("",e.formatNumber(e.financialSummary.breakEvenCustomers)," clienti"),l(),f("text-green-500",e.financialSummary.customersDifference>=0)("text-red-500",e.financialSummary.customersDifference<0),l(),D(" ",e.financialSummary.customersDifference>=0?"+":"","",e.formatNumber(e.financialSummary.customersDifference)," "),l(13),h(e.formatCurrency(e.dailyBreakdown.dailyRevenue)),l(5),h(e.formatCurrency(e.dailyBreakdown.dailyExpenses)),l(4),f("text-green-500",e.dailyBreakdown.dailyProfit>=0)("text-red-500",e.dailyBreakdown.dailyProfit<0),l(),v(" ",e.formatCurrency(e.dailyBreakdown.dailyProfit)," "),l(5),h(e.formatNumber(e.dailyBreakdown.dailyCustomersNeeded)),l(5),h(e.formatNumber(e.dailyBreakdown.dailyActualCustomers)),l(7),$(e.getProfitabilityStatus().color),l(3),v(" ",e.getProfitabilityStatus().color==="success"?"celebration":e.getProfitabilityStatus().color==="danger"?"warning":"analytics"," "),l(3),h(e.getProfitabilityStatus().message),l(2),v("Margine di profitto: ",e.financialSummary.profitMargin.toFixed(1),"%"),l(2),I("width",e.financialSummary.profitMargin>=0?e.financialSummary.profitMargin<=100?e.financialSummary.profitMargin:100:0,"%"),f("bg-green-500",e.financialSummary.profitMargin>=20)("bg-yellow-500",e.financialSummary.profitMargin>=10&&e.financialSummary.profitMargin<20)("bg-red-500",e.financialSummary.profitMargin<10),l(8),S("ngForOf",e.getCategoryBreakdown()),l(),S("ngIf",e.showRevenueModal),l(),S("ngIf",e.showMonthsModal))},dependencies:[H,U,Y,le,ee,ie,re,J,te,ne,K,Q,oe,ae,Z,X],styles:[".stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:var(--gap-md)}.stat-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;padding:var(--gap-md);background:var(--smoke-1);border-radius:8px;transition:all .2s ease}.stat-item[_ngcontent-%COMP%]:hover{background:var(--smoke-2);transform:translateY(-2px)}.stat-label[_ngcontent-%COMP%]{font-size:var(--fs-sm);color:var(--text-muted);margin-bottom:var(--gap-sm)}.stat-value[_ngcontent-%COMP%]{font-size:var(--fs-md);font-weight:700}.profitability-status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--gap-md);padding:var(--gap-md);border-radius:12px;background:var(--smoke-1);transition:all .3s ease}.profitability-status.success[_ngcontent-%COMP%]{background:color-mix(in srgb,#10b981 10%,transparent);border:1px solid color-mix(in srgb,#10b981 30%,transparent)}.profitability-status.warning[_ngcontent-%COMP%]{background:color-mix(in srgb,#f59e0b 10%,transparent);border:1px solid color-mix(in srgb,#f59e0b 30%,transparent)}.profitability-status.danger[_ngcontent-%COMP%]{background:color-mix(in srgb,#ef4444 10%,transparent);border:1px solid color-mix(in srgb,#ef4444 30%,transparent)}.status-icon[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;background:var(--background);display:flex;align-items:center;justify-content:center;flex-shrink:0}.profitability-status.success[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%]{background:#10b981;color:#fff}.profitability-status.warning[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%]{background:#f59e0b;color:#fff}.profitability-status.danger[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%]{background:#ef4444;color:#fff}.status-content[_ngcontent-%COMP%]{flex:1}.progress-bar[_ngcontent-%COMP%]{width:100%;height:8px;background:var(--smoke-1);border-radius:4px;overflow:hidden}.progress-fill[_ngcontent-%COMP%]{height:100%;border-radius:4px;transition:width .5s ease}.categories-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--gap-md)}.category-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--gap-sm);padding:var(--gap-md);border:1px solid var(--smoke-1);border-radius:8px;transition:all .2s ease}.category-item[_ngcontent-%COMP%]:hover{border-color:var(--secondary);background:var(--vetro)}.category-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.category-bar[_ngcontent-%COMP%]{width:100%;height:6px;background:var(--smoke-1);border-radius:3px;overflow:hidden}.category-bar-fill[_ngcontent-%COMP%]{height:100%;background:var(--gradiente);border-radius:3px;transition:width .5s ease}.months-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:var(--gap-sm)}.month-button[_ngcontent-%COMP%]{padding:var(--gap-md);border:1px solid var(--smoke-1);border-radius:8px;background:var(--background);color:var(--text-color);cursor:pointer;transition:all .2s ease;text-align:center}.month-button[_ngcontent-%COMP%]:hover{border-color:var(--secondary);background:var(--smoke-1)}.month-button.active[_ngcontent-%COMP%]{background:var(--gradiente);color:#fff;border-color:var(--primary)}.text-green-500[_ngcontent-%COMP%]{color:#10b981}.text-red-500[_ngcontent-%COMP%]{color:#ef4444}.text-yellow-500[_ngcontent-%COMP%]{color:#f59e0b}.bg-green-500[_ngcontent-%COMP%]{background:#10b981}.bg-red-500[_ngcontent-%COMP%]{background:#ef4444}.bg-yellow-500[_ngcontent-%COMP%]{background:#f59e0b}.max-w-120[_ngcontent-%COMP%]{max-width:120px}@media (max-width: 768px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.profitability-status[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.months-grid[_ngcontent-%COMP%], .dashboard-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 480px){.stats-grid[_ngcontent-%COMP%], .grid-cards[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};export{ce as FinancialReport};
