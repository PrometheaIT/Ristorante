import{a as te}from"./chunk-YBKV2SZW.js";import{a as Z}from"./chunk-C3UMVAYL.js";import"./chunk-THIV3BQJ.js";import{a as ee}from"./chunk-57RGVMRV.js";import"./chunk-7QR2BAVO.js";import"./chunk-WUX2K4S7.js";import"./chunk-77SKEQNN.js";import"./chunk-ACSXOFRZ.js";import{a as f}from"./chunk-KNL3CWA3.js";import{A as X,e as y,g as G,k as P,m as $,n as j,o as H,p as B,q as V,s as W,t as h,u as q,v as Y,w as K,x as J,y as Q}from"./chunk-DCWKKS33.js";import{$ as k,$b as N,Db as v,Eb as d,Ka as U,La as s,Nb as A,Pb as z,Qb as a,Rb as b,Sb as T,V as I,Yb as F,ab as S,ac as D,ea as c,f as m,fb as p,g as C,i as L,qb as l,rb as t,sb as r,t as E,tb as g}from"./chunk-K5RDB55Y.js";var x=class e{authService=c(f);router=c(h);canActivate(){return m(this,null,function*(){console.log("\u{1F6E1}\uFE0F AuthGuard: checking authentication"),yield this.authService.waitForAuthInit();let i=this.authService.isAuthenticated();return console.log("\u{1F6E1}\uFE0F AuthGuard - User authenticated:",i),i?(console.log("\u{1F6E1}\uFE0F AuthGuard - Access granted"),!0):(console.log("\u{1F6E1}\uFE0F AuthGuard - Redirecting to login"),this.router.navigate(["/login"]),!1)})}static \u0275fac=function(n){return new(n||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})};var _=class e{authService=c(f);router=c(h);canActivate(i){return m(this,null,function*(){console.log("\u{1F46E} RoleGuard: checking role permissions"),yield this.authService.waitForAuthInit();let n=i.data.roles,o=this.authService.currentUserValue;if(!o)return console.log("\u{1F46E} RoleGuard - No user found, redirecting to login"),this.router.navigate(["/login"]),!1;let u=o.user_metadata?.role;return console.log("\u{1F46E} RoleGuard - User role:",u,"Expected roles:",n),!u||!n.includes(u)?(console.warn(`\u{1F46E} RoleGuard - Access denied. Required roles: ${n}, User role: ${u}`),this.authService.isRestaurantUser()?this.router.navigate(["/restaurant/dashboard"]):this.authService.isCustomerUser()?this.router.navigate(["/customer/search"]):this.authService.isSupplierUser()?this.router.navigate(["/supplier/dashboard"]):this.router.navigate(["/login"]),!1):(console.log("\u{1F46E} RoleGuard - Role access granted"),!0)})}static \u0275fac=function(n){return new(n||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})};var ne=[{path:"login",loadComponent:()=>import("./chunk-ZXM7TJZL.js").then(e=>e.Login)},{path:"register",children:[{path:"",loadComponent:()=>import("./chunk-2VHFZAAE.js").then(e=>e.Register)},{path:":role",loadComponent:()=>import("./chunk-2VHFZAAE.js").then(e=>e.Register)}]},{path:"restaurant-list",loadComponent:()=>import("./chunk-3FF2BJ63.js").then(e=>e.RestaurantList),title:"Ristoranti"},{path:"restaurant/:restaurantId/map",loadComponent:()=>import("./chunk-SCT5AWJA.js").then(e=>e.RestaurantMapViewer),title:"Mappa Ristorante"},{path:"restaurant",canActivate:[x,_],data:{roles:["restaurant_owner","restaurant_manager","chef","waiter"]},children:[{path:"dashboard",loadComponent:()=>import("./chunk-ZNZN5EDH.js").then(e=>e.Dashboard)},{path:"menu",loadComponent:()=>import("./chunk-IBPKXTNI.js").then(e=>e.MenuBuilder)},{path:"orders",loadComponent:()=>import("./chunk-LXT5CM5U.js").then(e=>e.LiveOrders)},{path:"kitchen-display",loadComponent:()=>import("./chunk-YDLBGE3J.js").then(e=>e.KitchenDisplay)},{path:"recipe",loadComponent:()=>import("./chunk-643AJDV2.js").then(e=>e.Recipe)},{path:"expense-management",loadComponent:()=>import("./chunk-QNDWBQNB.js").then(e=>e.ExpenseManagement)},{path:"reservations",loadComponent:()=>import("./chunk-HJ45OVQI.js").then(e=>e.ReservationManager)},{path:"table-map",loadComponent:()=>import("./chunk-TVIZ4TGJ.js").then(e=>e.TableMap)},{path:"floor-plan",loadComponent:()=>import("./chunk-DBAENUZO.js").then(e=>e.FloorPlanEditor)},{path:"calendar-view",loadComponent:()=>import("./chunk-P3XJIVFM.js").then(e=>e.CalendarView)},{path:"inventory",loadComponent:()=>import("./chunk-RXZJ7FAT.js").then(e=>e.Inventory)},{path:"suppliers",loadComponent:()=>import("./chunk-WW3LFYOV.js").then(e=>e.SupplierManager),title:"Gestione Fornitori"},{path:"tables",loadComponent:()=>import("./chunk-WPZGADYO.js").then(e=>e.TablemapView)},{path:"financial-report",loadComponent:()=>import("./chunk-BVU7ALMM.js").then(e=>e.FinancialReport)},{path:"settings",loadComponent:()=>import("./chunk-53INV77A.js").then(e=>e.RestaurantSettings)},{path:"",redirectTo:"dashboard",pathMatch:"full"}]},{path:"supplier",canActivate:[x,_],data:{roles:["supplier"]},children:[{path:"dashboard",loadComponent:()=>import("./chunk-YQHVSEKT.js").then(e=>e.SupplierDashboard)},{path:"settings",loadComponent:()=>import("./chunk-ZBOKAHXD.js").then(e=>e.SupplierSettings)},{path:"restaurants",loadComponent:()=>import("./chunk-ZJWM63H7.js").then(e=>e.SupplierRestaurants)},{path:"products",loadComponent:()=>import("./chunk-CJ4AB75O.js").then(e=>e.SupplierIngredients)},{path:"ingredients",loadComponent:()=>import("./chunk-CJ4AB75O.js").then(e=>e.SupplierIngredients)},{path:"",redirectTo:"dashboard",pathMatch:"full"}]},{path:"customer",canActivate:[x,_],data:{roles:["customer"]},children:[{path:"search",loadComponent:()=>import("./chunk-Y27BBNWY.js").then(e=>e.RestaurantSearch)},{path:"reservations",loadComponent:()=>import("./chunk-ULEYZXWJ.js").then(e=>e.ReservationWizard)},{path:"orders",loadComponent:()=>import("./chunk-BEEPMDAQ.js").then(e=>e.OrderTracker)},{path:"reviews",loadComponent:()=>import("./chunk-VLJJDMWT.js").then(e=>e.ReviewSystem)},{path:"restaurant/:id",loadComponent:()=>import("./chunk-BWQR6YMZ.js").then(e=>e.RestaurantDetail)},{path:"menu/:id",loadComponent:()=>import("./chunk-LBJ6LVTH.js").then(e=>e.InteractiveMenu)},{path:"",redirectTo:"search",pathMatch:"full"}]},{path:"food-cost",loadComponent:()=>import("./chunk-5DLJ7T53.js").then(e=>e.FoodCostCalculator)},{path:"food-cost-calculator/:id",component:Z},{path:"",pathMatch:"full",redirectTo:"/dashboard"},{path:"**",redirectTo:"/dashboard"}];var ie={providers:[K(ne,J())]};function oe(e,i){e&1&&(t(0,"div",1)(1,"div",2),g(2,"div",3),t(3,"p"),a(4,"Caricamento..."),r()()())}var M=class e{isLoading=!1;static \u0275fac=function(n){return new(n||e)};static \u0275cmp=S({type:e,selectors:[["app-loader"]],inputs:{isLoading:"isLoading"},decls:1,vars:1,consts:[["class","loader-overlay",4,"ngIf"],[1,"loader-overlay"],[1,"loader-card","card"],[1,"spinner"]],template:function(n,o){n&1&&p(0,oe,5,0,"div",0),n&2&&l("ngIf",o.isLoading)},dependencies:[P,y],styles:[".loader-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#ffffffe6;display:flex;justify-content:center;align-items:center;z-index:9999}.loader-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem;padding:2rem}.spinner[_ngcontent-%COMP%]{border:4px solid var(--smoke-color-1);border-top:4px solid var(--primary);border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})};function se(e,i){e&1&&(t(0,"div",22)(1,"span",5),a(2,"restaurant"),r(),t(3,"h2"),a(4,"Promethea"),r()())}function le(e,i){e&1&&(t(0,"h3",27),a(1,"Gestione Ristorante"),r())}function pe(e,i){if(e&1&&(t(0,"div",7),p(1,le,2,0,"h3",10),t(2,"ul",11)(3,"li",15)(4,"a",23)(5,"span",5),a(6,"dashboard"),r(),t(7,"span",14),a(8,"Dashboard"),r()()(),t(9,"li",15)(10,"a",24)(11,"span",5),a(12,"brunch_dining"),r(),t(13,"span",14),a(14,"Prenotazioni Tavoli"),r()()(),t(15,"li",15)(16,"a",25)(17,"span",5),a(18,"kitchen"),r(),t(19,"span",14),a(20,"Pannello Cucina"),r()()(),t(21,"li",15)(22,"a",26)(23,"span",5),a(24,"table_restaurant"),r(),t(25,"span",14),a(26,"Layout Sala"),r()()()()()),e&2){let n=d();s(),l("ngIf",!n.isSidebarCollapsed)}}function ce(e,i){e&1&&(t(0,"h3",27),a(1,"Menu & Cucina"),r())}function de(e,i){if(e&1&&(t(0,"div",7),p(1,ce,2,0,"h3",10),t(2,"ul",11)(3,"li",15)(4,"a",28)(5,"span",5),a(6,"restaurant_menu"),r(),t(7,"span",14),a(8,"Men\xF9 & Piatti"),r()()(),t(9,"li",15)(10,"a",29)(11,"span",5),a(12,"receipt_long"),r(),t(13,"span",14),a(14,"Ricette"),r()()(),t(15,"li",15)(16,"a",30)(17,"span",5),a(18,"savings"),r(),t(19,"span",14),a(20,"Food Cost"),r()()()()()),e&2){let n=d();s(),l("ngIf",!n.isSidebarCollapsed)}}function ue(e,i){e&1&&(t(0,"h3",27),a(1,"Magazzino & Acquisti"),r())}function me(e,i){if(e&1&&(t(0,"div",7),p(1,ue,2,0,"h3",10),t(2,"ul",11)(3,"li",15)(4,"a",31)(5,"span",5),a(6,"inventory_2"),r(),t(7,"span",14),a(8,"Inventario"),r()()(),t(9,"li",15)(10,"a",32)(11,"span",5),a(12,"local_shipping"),r(),t(13,"span",14),a(14,"Fornitori"),r()()()()()),e&2){let n=d();s(),l("ngIf",!n.isSidebarCollapsed)}}function ge(e,i){e&1&&(t(0,"h3",27),a(1,"Finanze"),r())}function ve(e,i){if(e&1&&(t(0,"div",33),p(1,ge,2,0,"h3",10),t(2,"ul",11)(3,"li",15)(4,"a",34)(5,"span",5),a(6,"payments"),r(),t(7,"span",14),a(8,"Gestione Spese"),r()()(),t(9,"li",15)(10,"a",35)(11,"span",5),a(12,"bar_chart"),r(),t(13,"span",14),a(14,"Report Finanziario"),r()()()()()),e&2){let n=d();s(),l("ngIf",!n.isSidebarCollapsed)}}function be(e,i){e&1&&(t(0,"h3",27),a(1,"Gestione Fornitore"),r())}function he(e,i){if(e&1&&(t(0,"div",7),p(1,be,2,0,"h3",10),t(2,"ul",11)(3,"li",15)(4,"a",36)(5,"span",5),a(6,"dashboard"),r(),t(7,"span",14),a(8,"Dashboard"),r()()(),t(9,"li",15)(10,"a",37)(11,"span",5),a(12,"storefront"),r(),t(13,"span",14),a(14,"Catalogo Prodotti"),r()()()()()),e&2){let n=d();s(),l("ngIf",!n.isSidebarCollapsed)}}function fe(e,i){e&1&&(t(0,"h3",27),a(1,"Cliente"),r())}function xe(e,i){if(e&1&&(t(0,"div",7),p(1,fe,2,0,"h3",10),t(2,"ul",11)(3,"li",15)(4,"a",38)(5,"span",5),a(6,"search"),r(),t(7,"span",14),a(8,"Cerca Ristoranti"),r()()(),t(9,"li",15)(10,"a",39)(11,"span",5),a(12,"restaurant"),r(),t(13,"span",14),a(14,"Lista Ristoranti"),r()()(),t(15,"li",15)(16,"a",40)(17,"span",5),a(18,"book_online"),r(),t(19,"span",14),a(20,"Le mie Prenotazioni"),r()()(),t(21,"li",15)(22,"a",41)(23,"span",5),a(24,"shopping_bag"),r(),t(25,"span",14),a(26,"I miei Ordini"),r()()(),t(27,"li",15)(28,"a",42)(29,"span",5),a(30,"rate_review"),r(),t(31,"span",14),a(32,"Le mie Recensioni"),r()()()()()),e&2){let n=d();s(),l("ngIf",!n.isSidebarCollapsed)}}function _e(e,i){e&1&&(t(0,"h3",27),a(1,"Account"),r())}function Ce(e,i){if(e&1&&(t(0,"div",47)(1,"span"),a(2),r(),t(3,"span"),a(4),r()()),e&2){let n=d(2);s(2),b(n.getUserDisplayName()),s(),z(F("role-badge ",n.getRoleClass())),s(),b(n.getRoleLabel())}}function ke(e,i){if(e&1&&(t(0,"div",48)(1,"span"),a(2),r()()),e&2){let n=d(2);s(2),b(n.getRestaurantName())}}function Se(e,i){if(e&1&&(t(0,"div",48)(1,"span"),a(2),r()()),e&2){let n=d(2);s(2),b(n.getSupplierCompanyName())}}function ye(e,i){if(e&1&&(t(0,"div",43)(1,"div",44),a(2),N(3,"uppercase"),r(),p(4,Ce,5,5,"div",45)(5,ke,3,1,"div",46)(6,Se,3,1,"div",46),r()),e&2){let n=d();s(2),T(" ",D(3,4,n.getUserInitial())," "),s(2),l("ngIf",n.currentUser),s(),l("ngIf",n.currentRestaurant&&n.isRestaurantUser()),s(),l("ngIf",n.supplierProfile&&n.isSupplierUser())}}var O=class e{authService=c(f);supabaseService=c(X);supplierAuthService=c(te);router=c(h);loadingService=c(ee);loading=!0;routerLoading=!1;initLoading=!0;isSidebarCollapsed=!1;currentUser$;currentRestaurant$;currentUser=null;currentRestaurant=null;supplierProfile=null;userSubscription=new C;supplierSubscription=new C;loadingSubscription=new C;constructor(){this.currentUser$=this.authService.currentUser$,this.currentRestaurant$=this.authService.currentUser$.pipe(I(i=>i&&this.isRestaurantUser()?new L(n=>{this.supabaseService.getCurrentUserRestaurant().then(o=>{n.next(o),n.complete()}).catch(o=>{console.error("Error loading restaurant:",o),n.next(null),n.complete()})}):E(null)))}ngOnInit(){this.loadingSubscription=this.loadingService.loading$.subscribe(i=>{this.loading=i||this.routerLoading||this.initLoading}),this.router.events.subscribe(i=>{i instanceof j?(this.routerLoading=!0,this.updateGlobalLoading()):(i instanceof H||i instanceof B||i instanceof V)&&(this.routerLoading=!1,this.updateGlobalLoading())}),this.userSubscription=this.authService.currentUser$.subscribe(i=>m(this,null,function*(){this.currentUser=i,i?(yield this.loadUserRestaurant(),this.isSupplierUser()&&(yield this.supplierAuthService.loadSupplierProfile())):(this.currentRestaurant=null,this.supplierProfile=null),this.initLoading=!1,this.updateGlobalLoading()})),this.currentRestaurant$.subscribe(i=>{this.currentRestaurant=i}),this.supplierSubscription=this.supplierAuthService.supplierProfile$.subscribe(i=>{this.supplierProfile=i})}updateGlobalLoading(){this.loading=this.loadingService.isLoadingSync()||this.routerLoading||this.initLoading}ngOnDestroy(){this.userSubscription&&this.userSubscription.unsubscribe(),this.supplierSubscription&&this.supplierSubscription.unsubscribe(),this.loadingSubscription&&this.loadingSubscription.unsubscribe()}loadUserRestaurant(){return m(this,null,function*(){if(this.isRestaurantUser())try{this.currentRestaurant=yield this.supabaseService.getCurrentUserRestaurant(),console.log("Restaurant loaded:",this.currentRestaurant)}catch(i){console.error("Error loading restaurant:",i),this.currentRestaurant=null}else this.currentRestaurant=null})}toggleSidebar(){this.isSidebarCollapsed=!this.isSidebarCollapsed}isRestaurantUser(){return this.authService.isRestaurantUser()}isCustomerUser(){return this.authService.isCustomerUser()}isSupplierUser(){return this.authService.isSupplierUser()}getUserDisplayName(){let i=this.currentUser;if(!i)return"";let n=i.user_metadata?.first_name,o=i.user_metadata?.last_name;return n&&o?`${n} ${o}`:n||o||i.email||"Utente"}getUserInitial(){let i=this.currentUser;if(!i)return"";let n=i.user_metadata?.first_name,o=i.user_metadata?.last_name;return n&&o?`${n.charAt(0)}${o.charAt(0)}`.toUpperCase():n?n.charAt(0).toUpperCase():o?o.charAt(0).toUpperCase():i.email?.charAt(0).toUpperCase()||"U"}getRestaurantName(){return this.currentRestaurant?.name||"Ristorante"}getSupplierCompanyName(){return this.supplierProfile?.company_name||"Fornitore"}logout(){return m(this,null,function*(){yield this.authService.logout()})}onSidebarNavClick(i){if(window.innerWidth>768)return;i.target.closest(".nav-link")&&(this.isSidebarCollapsed=!0)}onDocumentClick(i){let n=i.target;if(window.innerWidth<=768){if(n.closest(".mobile-sidebar-toggle"))return;this.isSidebarCollapsed||!n.closest(".sidebar")&&!n.closest(".sidebar-toggle")&&(this.isSidebarCollapsed=!0)}}getRoleClass(){let i=this.currentUser;return i?`role-${i.user_metadata?.role??i.role??"guest"}`:"role-guest"}getRoleLabel(){let i=this.currentUser;if(!i)return"Guest";let n=i.user_metadata?.role??i.role??"guest";switch(n){case"restaurant_owner":return"Proprietario";case"restaurant_manager":return"Manager";case"chef":return"Chef";case"waiter":return"Cameriere";case"customer":return"Cliente";case"supplier":return"Fornitore";case"super_admin":return"Super Admin";default:return n.charAt(0).toUpperCase()+n.slice(1)}}isAuthenticated(){return this.authService.isAuthenticated()}getSettingsRoute(){return this.isRestaurantUser()?"/restaurant/settings":this.isSupplierUser()?"/supplier/settings":"/profile"}navigateBasedOnRole(){this.isRestaurantUser()?this.router.navigate(["/restaurant/dashboard"]):this.isSupplierUser()?this.router.navigate(["/supplier/dashboard"]):this.isCustomerUser()?this.router.navigate(["/customer"]):this.router.navigate(["/login"])}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=S({type:e,selectors:[["app-root"]],hostBindings:function(n,o){n&1&&v("click",function(w){return o.onDocumentClick(w)},U)},decls:43,vars:15,consts:[[1,"app-container"],[1,"sidebar",3,"click"],[1,"sidebar-header"],["class","sidebar-brand",4,"ngIf"],[1,"icon-button","sidebar-toggle",3,"click"],[1,"material-icons"],[1,"sidebar-nav"],[1,"nav-section"],["class","nav-section",4,"ngIf"],["class","nav-section","style","display: none;",4,"ngIf"],["class","nav-section-title",4,"ngIf"],[1,"nav-menu"],[1,"nav-item",2,"display","none"],["routerLink","/profile","routerLinkActive","nav-link--active","data-label","Profilo",1,"nav-link"],[1,"nav-text"],[1,"nav-item"],["routerLink","/restaurant/settings","routerLinkActive","nav-link--active","data-label","Impostazioni",1,"nav-link"],["data-label","Logout",1,"nav-link",3,"click"],["class","sidebar-user",4,"ngIf"],["aria-label","Apri sidebar",1,"mobile-sidebar-toggle",3,"click"],[3,"isLoading"],[1,"main-content"],[1,"sidebar-brand"],["routerLink","/restaurant/dashboard","routerLinkActive","nav-link--active","data-label","Dashboard",1,"nav-link"],["routerLink","/restaurant/table-map","routerLinkActive","nav-link--active","data-label","Prenotazioni",1,"nav-link"],["routerLink","/restaurant/kitchen-display","routerLinkActive","nav-link--active","data-label","Pannello Cucina",1,"nav-link"],["routerLink","/restaurant/floor-plan","routerLinkActive","nav-link--active","data-label","Layout Sala",1,"nav-link"],[1,"nav-section-title"],["routerLink","/restaurant/menu","routerLinkActive","nav-link--active","data-label","Men\xF9 e Piatti",1,"nav-link"],["routerLink","/restaurant/recipe","routerLinkActive","nav-link--active","data-label","Ricette",1,"nav-link"],["routerLink","/food-cost","routerLinkActive","nav-link--active","data-label","Food Cost",1,"nav-link"],["routerLink","/restaurant/inventory","routerLinkActive","nav-link--active","data-label","Inventario",1,"nav-link"],["routerLink","/restaurant/suppliers","routerLinkActive","nav-link--active","data-label","Fornitori",1,"nav-link"],[1,"nav-section",2,"display","none"],["routerLink","/restaurant/expense-management","routerLinkActive","nav-link--active","data-label","Gestione Spese",1,"nav-link"],["routerLink","/restaurant/financial-report","routerLinkActive","nav-link--active","data-label","Report Finanziario",1,"nav-link"],["routerLink","/supplier/dashboard","routerLinkActive","nav-link--active","data-label","Dashboard",1,"nav-link"],["routerLink","/supplier/products","routerLinkActive","nav-link--active","data-label","Catalogo Prodotti",1,"nav-link"],["routerLink","/customer/search","routerLinkActive","nav-link--active","data-label","Cerca Ristoranti",1,"nav-link"],["routerLink","/customer/restaurant-list","routerLinkActive","nav-link--active","data-label","Lista Ristoranti",1,"nav-link"],["routerLink","/customer/reservations","routerLinkActive","nav-link--active","data-label","Le mie Prenotazioni",1,"nav-link"],["routerLink","/customer/orders","routerLinkActive","nav-link--active","data-label","I miei Ordini",1,"nav-link"],["routerLink","/customer/reviews","routerLinkActive","nav-link--active","data-label","Le mie Recensioni",1,"nav-link"],[1,"sidebar-user"],[1,"user-avatar-small"],["class","user-info",4,"ngIf"],["class","restaurant-info",4,"ngIf"],[1,"user-info"],[1,"restaurant-info"]],template:function(n,o){n&1&&(t(0,"div",0)(1,"aside",1),v("click",function(w){return o.onSidebarNavClick(w)}),t(2,"div",2),p(3,se,5,0,"div",3),t(4,"button",4),v("click",function(){return o.toggleSidebar()}),t(5,"span",5),a(6),r()()(),t(7,"nav",6),g(8,"div",7),p(9,pe,27,1,"div",8)(10,de,21,1,"div",8)(11,me,15,1,"div",8)(12,ve,15,1,"div",9)(13,he,15,1,"div",8)(14,xe,33,1,"div",8),t(15,"div",7),p(16,_e,2,0,"h3",10),t(17,"ul",11)(18,"li",12)(19,"a",13)(20,"span",5),a(21,"person"),r(),t(22,"span",14),a(23,"Profilo"),r()()(),t(24,"li",15)(25,"a",16)(26,"span",5),a(27,"settings"),r(),t(28,"span",14),a(29,"Impostazioni"),r()()(),t(30,"li",15)(31,"button",17),v("click",function(){return o.logout()}),t(32,"span",5),a(33,"logout"),r(),t(34,"span",14),a(35,"Logout"),r()()()()()(),p(36,ye,7,6,"div",18),r(),t(37,"button",19),v("click",function(){return o.toggleSidebar()}),t(38,"span",5),a(39,"menu"),r()(),g(40,"app-loader",20),t(41,"main",21),g(42,"router-outlet"),r()()),n&2&&(s(),A("sidebar--collapsed",o.isSidebarCollapsed),s(2),l("ngIf",!o.isSidebarCollapsed),s(3),b(o.isSidebarCollapsed?"menu":"chevron_left"),s(3),l("ngIf",o.isRestaurantUser()),s(),l("ngIf",o.isRestaurantUser()),s(),l("ngIf",o.isRestaurantUser()),s(),l("ngIf",o.isRestaurantUser()),s(),l("ngIf",o.isSupplierUser()),s(),l("ngIf",o.isCustomerUser()),s(2),l("ngIf",!o.isSidebarCollapsed),s(20),l("ngIf",!o.isSidebarCollapsed),s(4),l("isLoading",o.loading),s(),A("main-content--expanded",o.isSidebarCollapsed))},dependencies:[P,y,W,Q,q,Y,M,G],styles:['.app-container[_ngcontent-%COMP%]{display:flex;min-height:100vh;background:var(--background);position:relative}.sidebar[_ngcontent-%COMP%]{width:var(--grandezzasidebar);height:100vh;background:var(--sidebar-background);border-right:1px solid color-mix(in srgb,var(--secondary) 20%,transparent);display:flex;flex-direction:column;transition:all .3s cubic-bezier(.4,0,.2,1);overflow:hidden;flex-shrink:0;position:fixed;left:0;top:0;z-index:1000;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);overflow-x:none!important}.sidebar--collapsed[_ngcontent-%COMP%]{width:64px}.sidebar.sidebar--collapsed[_ngcontent-%COMP%]{overflow:visible!important}.sidebar.sidebar--collapsed[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]{overflow-y:auto!important;overflow-x:hidden!important;align-items:center;padding:0}.sidebar.sidebar--collapsed[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%], .sidebar.sidebar--collapsed[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{position:relative;overflow:visible!important}.sidebar--collapsed[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{justify-content:center}.main-content[_ngcontent-%COMP%]{flex:1;margin-left:var(--grandezzasidebar);overflow:auto;transition:all .3s cubic-bezier(.4,0,.2,1);background:var(--background);min-height:100vh}.main-content--expanded[_ngcontent-%COMP%]{margin-left:64px}.mobile-sidebar-toggle[_ngcontent-%COMP%]{display:none}@media (max-width: 768px){.sidebar[_ngcontent-%COMP%]{position:fixed;left:0;top:0;height:100vh;width:100vw;transform:translate(0);transition:transform .25s ease;z-index:1100}.sidebar.sidebar--collapsed[_ngcontent-%COMP%]{transform:translate(-100%)}.main-content[_ngcontent-%COMP%]{margin-left:0!important;width:100%}.sidebar[_ngcontent-%COMP%]:not(.sidebar--collapsed) + .main-content[_ngcontent-%COMP%]:after{content:"";position:fixed;inset:0;background:#00000073;z-index:1050;pointer-events:auto}.mobile-sidebar-toggle[_ngcontent-%COMP%]{display:none;position:fixed;left:12px;top:12px;z-index:1200;width:44px;height:44px;border-radius:10px;background:var(--smoke-color-1);border:1px solid color-mix(in srgb,var(--secondary) 12%,transparent);box-shadow:0 6px 18px color-mix(in srgb,var(--primary) 12%,transparent);display:flex;align-items:center;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);justify-content:center;cursor:pointer}.sidebar.sidebar--collapsed[_ngcontent-%COMP%] + .mobile-sidebar-toggle[_ngcontent-%COMP%]{display:flex}.sidebar[_ngcontent-%COMP%]:not(.sidebar--collapsed) + .mobile-sidebar-toggle[_ngcontent-%COMP%]{display:none}.sidebar[_ngcontent-%COMP%]   .nav-text[_ngcontent-%COMP%]{display:inline-block}}.sidebar-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:var(--gutter-sm);border-bottom:1px solid color-mix(in srgb,var(--secondary) 15%,transparent);background:color-mix(in srgb,var(--background) 92%,transparent);position:relative;gap:var(--gutter-sm)}.sidebar-header[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-1px;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent 0%,color-mix(in srgb,var(--primary) 30%,transparent) 50%,transparent 100%)}.sidebar-brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--gutter-sm);padding:var(--gutter-sm);border-radius:12px;background:color-mix(in srgb,var(--primary) 8%,transparent);border:1px solid color-mix(in srgb,var(--primary) 15%,transparent)}.sidebar-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:var(--primary);font-size:var(--fs-md);font-weight:800;letter-spacing:-.5px;background:linear-gradient(135deg,var(--primary),var(--secondary));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.sidebar-brand[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{color:var(--primary);font-size:24px;background:transparent;padding:6px;border-radius:8px}.sidebar-toggle[_ngcontent-%COMP%]{background:color-mix(in srgb,var(--secondary) 15%,transparent);border-radius:10px;border:1px solid color-mix(in srgb,var(--secondary) 20%,transparent);transition:all .3s ease}.sidebar-toggle[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--primary) 15%,transparent);border-color:var(--primary);transform:scale(1.05) rotate(-5deg)}.sidebar-user[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--gutter-sm);padding:var(--gutter-sm);border-top:1px solid color-mix(in srgb,var(--secondary) 60%,transparent);background:transparent;position:relative}.user-avatar-small[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,var(--primary),var(--accent-warm));display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700;font-size:.9rem;border:2px solid color-mix(in srgb,var(--secondary) 30%,transparent);box-shadow:0 4px 12px color-mix(in srgb,var(--primary) 20%,transparent)}.user-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px;min-width:0}.user-info[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:var(--fs-sm);color:var(--text-color);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:600}.user-role.chip[_ngcontent-%COMP%]{font-size:.7rem;padding:4px 10px;width:fit-content;background:color-mix(in srgb,var(--tertiary) 10%,transparent);color:var(--tertiary);border:1px solid color-mix(in srgb,var(--tertiary) 20%,transparent);border-radius:20px;font-weight:600}.sidebar-nav[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;padding:0;gap:var(--gutter-sm);overflow-y:auto;overflow-x:none!important;background:var(--background)}.nav-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--gutter-md);background:var(--background);margin-bottom:var(--gutter-sm)}.nav-section-title[_ngcontent-%COMP%]{font-weight:700;color:var(--tertiary);padding:0 var(--gutter-sm);text-transform:uppercase;letter-spacing:.5px;opacity:.8;margin-top:var(--gutter-md)}.nav-menu[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:var(--gutter-sm);background:var(--background)}.nav-item[_ngcontent-%COMP%]{width:100%;padding:0 var(--gutter-sm)}.nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:0;padding:var(--gutter-sm);border-radius:14px;color:var(--text-color);text-decoration:none;transition:all .3s cubic-bezier(.4,0,.2,1);border:1.5px solid transparent;position:relative;width:100%;background:color-mix(in srgb,var(--background) 60%,transparent);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);border:none;cursor:pointer;font-family:inherit;font-size:inherit}.nav-link[_ngcontent-%COMP%]:before{content:"";position:absolute;left:-4px;top:50%;transform:translateY(-50%);width:4px;height:0;background:linear-gradient(180deg,var(--primary),var(--accent-warm));border-radius:0 4px 4px 0;transition:height .3s ease}.nav-link[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--primary) 8%,transparent);border-color:color-mix(in srgb,var(--primary) 25%,transparent);transform:translate(8px);box-shadow:0 4px 16px color-mix(in srgb,var(--primary) 15%,transparent)}.nav-link[_ngcontent-%COMP%]:hover:before{height:60%}.nav-link--active[_ngcontent-%COMP%]{background:color-mix(in srgb,var(--primary) 12%,transparent)!important;border-color:color-mix(in srgb,var(--primary) 60%,transparent)!important;color:var(--primary)!important;font-weight:700;transform:translate(-5px);box-shadow:0 6px 20px color-mix(in srgb,var(--primary) 20%,transparent)}.nav-link--active[_ngcontent-%COMP%]:before{height:80%;background:linear-gradient(180deg,var(--primary),var(--accent-warm))}.nav-link--active[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{color:var(--primary)!important;transform:scale(1.1)}.nav-link[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:22px;color:color-mix(in srgb,var(--text-color) 70%,transparent);flex-shrink:0;transition:all .3s ease;background:transparent;padding:6px;border-radius:10px}.nav-link[_ngcontent-%COMP%]:hover   .material-icons[_ngcontent-%COMP%]{color:var(--primary);background:transparent;transform:scale(1.1)}.nav-text[_ngcontent-%COMP%]{font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;transition:all .3s ease;font-size:.9rem;color:inherit}.sidebar-footer[_ngcontent-%COMP%]{padding:var(--gutter-sm);border-top:1px solid color-mix(in srgb,var(--secondary) 15%,transparent);background:color-mix(in srgb,var(--background) 92%,transparent);position:relative}.sidebar-footer[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-1px;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent 0%,color-mix(in srgb,var(--secondary) 40%,transparent) 50%,transparent 100%)}.restaurant-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px;padding:var(--gutter-sm);border-radius:12px;border:1px solid color-mix(in srgb,var(--secondary) 15%,transparent);margin:0;color:var(--primary);font-weight:800;letter-spacing:-.5px;background:linear-gradient(135deg,var(--primary),var(--secondary));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.restaurant-info[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:var(--fs-sm);color:var(--text-color);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:800}.restaurant-info[_ngcontent-%COMP%]   .text-muted[_ngcontent-%COMP%]{color:var(--tertiary);font-style:normal;font-weight:500;opacity:.8}.sidebar--collapsed[_ngcontent-%COMP%]   .sidebar-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .sidebar--collapsed[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%], .sidebar--collapsed[_ngcontent-%COMP%]   .nav-text[_ngcontent-%COMP%], .sidebar--collapsed[_ngcontent-%COMP%]   .restaurant-info[_ngcontent-%COMP%], .sidebar--collapsed[_ngcontent-%COMP%]   .nav-badge[_ngcontent-%COMP%]{opacity:0;visibility:hidden;width:0;height:0;overflow:hidden}.sidebar--collapsed[_ngcontent-%COMP%]   .sidebar-user[_ngcontent-%COMP%]{justify-content:center;padding:var(--gutter-sm)}.sidebar--collapsed[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{justify-content:center;padding:calc(var(--gutter-sm) / 2);margin:0;border-radius:16px;position:relative;z-index:1}.sidebar--collapsed[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]{padding:0;align-items:center}.sidebar--collapsed[_ngcontent-%COMP%]   .sidebar-footer[_ngcontent-%COMP%]{padding:var(--gutter-md);display:flex;justify-content:center}.sidebar--collapsed[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{position:relative}.sidebar--collapsed[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover   .nav-badge[_ngcontent-%COMP%]{opacity:1;visibility:visible;position:absolute;right:8px;top:8px;width:auto;height:auto}.nav-link[_ngcontent-%COMP%], .sidebar-toggle[_ngcontent-%COMP%], .icon-button[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1)}.nav-link[_ngcontent-%COMP%]:active, .sidebar-toggle[_ngcontent-%COMP%]:active{transform:scale(.95)}.sidebar-nav[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.sidebar-nav[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:color-mix(in srgb,var(--secondary) 5%,transparent);border-radius:10px}.sidebar-nav[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:color-mix(in srgb,var(--primary) 30%,transparent);border-radius:10px}.sidebar-nav[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:color-mix(in srgb,var(--primary) 50%,transparent)}.sidebar--collapsed[_ngcontent-%COMP%]   .nav-section[_ngcontent-%COMP%]:not(:first-child):before{content:"";position:absolute;top:-8px;left:50%;transform:translate(-50%);width:24px;height:1px;background:color-mix(in srgb,var(--secondary) 30%,transparent)}.sidebar.sidebar--collapsed[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:after{content:attr(data-label);position:absolute;left:calc(100% + 15px);top:50%;transform:translateY(-50%);background:#000;color:#fff;padding:10px 14px;border-radius:8px;white-space:nowrap;font-size:.85rem;font-weight:600;box-shadow:0 4px 20px #0000004d;z-index:10000;min-width:max-content;opacity:0;visibility:hidden;transition:all .3s ease}.sidebar.sidebar--collapsed[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover:after{opacity:1;visibility:visible}.sidebar--collapsed[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{transform:none!important;background:color-mix(in srgb,var(--primary) 12%,transparent)!important}.sidebar--collapsed[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover   .material-icons[_ngcontent-%COMP%]{color:var(--primary)!important;background:transparent;transform:scale(1.1)}.sidebar--collapsed[_ngcontent-%COMP%]   .nav-section[_ngcontent-%COMP%]{position:relative;margin-bottom:var(--gutter-md)}.sidebar--collapsed[_ngcontent-%COMP%]   .nav-section[_ngcontent-%COMP%]:not(:first-child):before{content:"";position:absolute;top:-8px;left:50%;border-radius:var(--fs-sm);transform:translate(-50%);width:80%;height:var(--gutter-sm);background:color-mix(in srgb,var(--tertiary) 80%,transparent)}.sidebar--collapsed[_ngcontent-%COMP%]   .nav-section[_ngcontent-%COMP%]:not(:first-child){padding-top:var(--gutter-md)}.sidebar--collapsed[_ngcontent-%COMP%]   .nav-section-title[_ngcontent-%COMP%]{display:block!important;opacity:1!important;visibility:visible!important;width:auto!important;height:1px!important;background:color-mix(in srgb,var(--secondary) 40%,transparent);margin:var(--gutter-md) auto;padding:0;text-indent:-9999px;overflow:hidden;border:none;border-radius:2px}.sidebar--collapsed[_ngcontent-%COMP%]   .nav-section[_ngcontent-%COMP%]:first-child   .nav-section-title[_ngcontent-%COMP%]{margin-top:0}']})};$(O,ie).catch(e=>console.error(e));
