import{Q as o,ba as r,o as i}from"./chunk-2FS7XGGJ.js";var s=class e{counter=0;subject=new i(!1);loading$=this.subject.asObservable();update(){this.subject.next(this.counter>0)}start(){this.counter++,this.update(),setTimeout(()=>{this.counter>0&&(console.warn("\u26A0\uFE0F Loading timeout - forcing stop"),this.counter=0,this.update())},2e4)}stop(){this.counter=Math.max(0,this.counter-1),this.update()}trackPromise(t){return this.start(),t.finally(()=>this.stop())}trackObservable(t){return this.start(),t.pipe(o(()=>this.stop()))}isLoadingSync(){return this.counter>0}static \u0275fac=function(a){return new(a||e)};static \u0275prov=r({token:e,factory:e.\u0275fac,providedIn:"root"})};export{s as a};
