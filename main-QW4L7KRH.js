import{a as ue}from"./chunk-T4JCOYZM.js";import{a as me}from"./chunk-MUEDDA7Y.js";import"./chunk-ADJF2M73.js";import"./chunk-LW3TQ7AP.js";import"./chunk-7VSFVQGQ.js";import"./chunk-ZKHE5HWC.js";import"./chunk-4J5ZEMM4.js";import"./chunk-VQ7WJPK7.js";import{a as de}from"./chunk-QMR2VPJU.js";import{a as pe,b as h}from"./chunk-IHSWM4ZR.js";import{b as ce}from"./chunk-FBJM6ARG.js";import{c as Z,d as A,f as ee,h as te,m as O,n as R,o as ne,q as ie,r as g,s as ae,t as re,u as oe,v as se,w as le}from"./chunk-VYE6ILYG.js";import{$a as c,Ab as D,Bb as F,Db as Q,Eb as r,Fa as W,Fb as j,Ga as s,Gb as x,Mb as X,Qb as S,Rb as P,U as B,Wa as M,_,ca as H,da as p,g as u,gb as K,h as I,hb as l,ia as V,ib as i,j as N,ja as Y,jb as a,kb as v,n as $,pb as J,sb as C,u as G,ub as m,ya as q}from"./chunk-3SWAHN2Y.js";var y=class e{authService=p(h);router=p(g);canActivate(){return u(this,null,function*(){console.log("\u{1F6E1}\uFE0F AuthGuard: checking authentication");try{(yield Promise.race([this.authService.waitForAuthInit(),new Promise(o=>setTimeout(()=>o(!1),5e3))]))||console.warn("\u{1F6E1}\uFE0F AuthGuard - Auth init timeout, checking current state");let n=this.authService.isAuthenticated();return console.log("\u{1F6E1}\uFE0F AuthGuard - User authenticated:",n),n?(console.log("\u{1F6E1}\uFE0F AuthGuard - Access granted"),!0):(console.log("\u{1F6E1}\uFE0F AuthGuard - Redirecting to login"),this.router.navigate(["/login"]),!1)}catch(t){return console.error("\u{1F6E1}\uFE0F AuthGuard - Error:",t),this.router.navigate(["/login"]),!1}})}static \u0275fac=function(n){return new(n||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})};var d=class e{authService=p(h);permissionService=p(pe);router=p(g);canActivate(t){return u(this,null,function*(){if(console.log("\u{1F510} RoleGuard: Checking route:",t.routeConfig?.path),yield this.authService.waitForAuthInit(),!this.authService.currentUserValue)return console.log("\u{1F510} RoleGuard - No user, redirecting to login"),this.router.navigate(["/login"]),!1;if(this.authService.isRestaurantUser()&&!this.authService.hasAnyPermissions())return console.log("\u{1F510} RoleGuard - User has no permissions, redirecting to no-permission"),this.router.navigate(["/no-permission"]),!1;let o=t.data.permissions;if(console.log("\u{1F510} RoleGuard - Detailed Debug:",{route:t.routeConfig?.path,requiredPermissions:o,userPermissions:this.permissionService.getCurrentPermissions(),userRole:this.authService.getUserRole(),staffRole:this.authService.getStaffRole(),context:this.authService.getCurrentContext(),isOwner:this.authService.isOwner(),isRestaurantUser:this.authService.isRestaurantUser(),currentRestaurantId:this.authService.getCurrentRestaurantId()}),!o||o.length===0)return console.log("\u{1F510} RoleGuard - No permissions required, access granted"),!0;let f=this.permissionService.hasAnyPermission(o);return console.log("\u{1F510} Permission check result:",{requiredPermissions:o,hasPermission:f,userHasPermissions:this.permissionService.getCurrentPermissions(),missingPermissions:o.filter(b=>!this.permissionService.hasPermission(b))}),f?(console.log("\u{1F510} RoleGuard - Access granted"),!0):(console.log("\u{1F510} Permission denied, redirecting to dashboard"),console.log("\u{1F510} Missing permissions:",o.filter(b=>!this.permissionService.hasPermission(b))),this.redirectToAppropriateDashboard(),!1)})}redirectToAppropriateDashboard(){switch(this.authService.getCurrentContext()){case"staff":this.router.navigate(["/restaurant/dashboard"]);break;case"supplier":this.router.navigate(["/supplier/dashboard"]);break;case"customer":default:this.router.navigate(["/customer"]);break}}static \u0275fac=function(n){return new(n||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})};var w=class e{authService=p(h);router=p(g);canActivate(){return u(this,null,function*(){if(yield this.authService.waitForAuthInit(),!this.authService.isAuthenticated())return this.router.navigate(["/login"]),!1;let t=this.authService.getCurrentContext(),n=this.authService.canBeStaff();return console.log("\u{1F468}\u200D\u{1F4BC} StaffGuard Debug:",{currentContext:t,canBeStaff:n,staffRole:this.authService.getStaffRole()}),t==="staff"||this.authService.isOwner()||n?(t!=="staff"&&(console.log("\u{1F504} Setting context to staff for staff area access"),this.authService.setContext("staff")),!0):(this.redirectToAppropriateDashboard(),!1)})}redirectToAppropriateDashboard(){switch(this.authService.getCurrentContext()){case"supplier":this.router.navigate(["/supplier/dashboard"]);break;case"customer":default:this.router.navigate(["/customer/menu-display"]);break}}static \u0275fac=function(n){return new(n||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})};var E=class e{authService=p(h);router=p(g);canActivate(){return u(this,null,function*(){if(yield this.authService.waitForAuthInit(),!this.authService.isAuthenticated())return this.router.navigate(["/login"]),!1;let t=this.authService.getCurrentContext(),n=this.authService.canBeSupplier();console.log("\u{1F69A} SupplierGuard Debug:",{currentContext:t,canBeSupplier:n,availableContexts:this.authService.getAvailableContexts()});let o=t==="supplier"||n;return console.log("\u{1F510} SupplierGuard - Can access supplier area:",o),o?(t!=="supplier"&&(console.log("\u{1F504} Setting context to supplier for supplier area access"),this.authService.setContext("supplier")),!0):(console.log("\u{1F6AB} User cannot access supplier area, redirecting to customer"),this.authService.setContext("customer"),this.router.navigate(["/customer/menu-display"]),!1)})}static \u0275fac=function(n){return new(n||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})};var ve=[{path:"login",loadComponent:()=>import("./chunk-O3SLBDPD.js").then(e=>e.Login)},{path:"register",children:[{path:"",loadComponent:()=>import("./chunk-K7U4IPDG.js").then(e=>e.Register)},{path:":role",loadComponent:()=>import("./chunk-K7U4IPDG.js").then(e=>e.Register)}]},{path:"no-permission",loadComponent:()=>import("./chunk-VIJ5GR7K.js").then(e=>e.NoPermission),canActivate:[d]},{path:"customer/restaurant/restaurant-list",loadComponent:()=>import("./chunk-DEIIJKQ5.js").then(e=>e.RestaurantList),title:"Ristoranti"},{path:"customer/restaurant/:restaurantId/map",loadComponent:()=>import("./chunk-VCN7WCVB.js").then(e=>e.RestaurantMapViewer),title:"Mappa Ristorante"},{path:"restaurant",canActivate:[y,w],children:[{path:"dashboard",loadComponent:()=>import("./chunk-45UF6EU7.js").then(e=>e.Dashboard),canActivate:[d],data:{permissions:["view_dashboard"]}},{path:"menu",loadComponent:()=>import("./chunk-NGOWWXSM.js").then(e=>e.MenuBuilder),canActivate:[d],data:{permissions:["manage_menu"]}},{path:"orders",loadComponent:()=>import("./chunk-IST75GWY.js").then(e=>e.LiveOrders),canActivate:[d],data:{permissions:["manage_orders"]}},{path:"kitchen-display",loadComponent:()=>import("./chunk-JZKRDMUQ.js").then(e=>e.KitchenDisplay),canActivate:[d],data:{permissions:["view_kitchen_display"]}},{path:"recipe",loadComponent:()=>import("./chunk-RJRZLJFT.js").then(e=>e.Recipe),canActivate:[d],data:{permissions:["view_ingredients"]}},{path:"expense-management",loadComponent:()=>import("./chunk-CQ3ZLI5V.js").then(e=>e.ExpenseManagement),canActivate:[d],data:{permissions:["view_reports"]}},{path:"financial-report",loadComponent:()=>import("./chunk-IOAQPK3F.js").then(e=>e.FinancialReport),canActivate:[d],data:{permissions:["view_reports"]}},{path:"reservation-manager",loadComponent:()=>import("./chunk-IJB4YJ3L.js").then(e=>e.ReservationManager),canActivate:[d],data:{permissions:["manage_reservations"]}},{path:"table-map",loadComponent:()=>import("./chunk-JQCZX5LY.js").then(e=>e.TableMap),canActivate:[d],data:{permissions:["take_orders"]}},{path:"floor-plan",loadComponent:()=>import("./chunk-TGOTNA45.js").then(e=>e.FloorPlanEditor),canActivate:[d],data:{permissions:["view_table_map"]}},{path:"calendar-view",loadComponent:()=>import("./chunk-P2JKG552.js").then(e=>e.RestaurantCalendar),canActivate:[d],data:{permissions:["manage_reservations"]}},{path:"inventory",loadComponent:()=>import("./chunk-KW44NSQ7.js").then(e=>e.Inventory),canActivate:[d],data:{permissions:["manage_inventory"]}},{path:"suppliers",loadComponent:()=>import("./chunk-EOBOVHP2.js").then(e=>e.SupplierManager),canActivate:[d],data:{permissions:["manage_inventory"]}},{path:"tables",loadComponent:()=>import("./chunk-RUBVGMSY.js").then(e=>e.TablemapView),canActivate:[d],data:{permissions:["take_orders"]}},{path:"staff-management",loadComponent:()=>import("./chunk-UWMYWRUU.js").then(e=>e.StaffManagement),canActivate:[d],data:{permissions:["manage_staff"]}},{path:"settings",loadComponent:()=>import("./chunk-SGGGSD3I.js").then(e=>e.RestaurantSettings),canActivate:[d],data:{permissions:["manage_restaurant_settings"]}},{path:"",redirectTo:"dashboard",pathMatch:"full"}]},{path:"supplier",canActivate:[y,E],data:{roles:["supplier"],context:"supplier"},children:[{path:"dashboard",loadComponent:()=>import("./chunk-YUGSF44U.js").then(e=>e.SupplierDashboard)},{path:"settings",loadComponent:()=>import("./chunk-QMP3JWHZ.js").then(e=>e.SupplierSettings)},{path:"restaurants",loadComponent:()=>import("./chunk-N6SPWZGX.js").then(e=>e.SupplierRestaurants)},{path:"products",loadComponent:()=>import("./chunk-TXOINCHW.js").then(e=>e.SupplierIngredients)},{path:"ingredients",loadComponent:()=>import("./chunk-TXOINCHW.js").then(e=>e.SupplierIngredients)},{path:"",redirectTo:"dashboard",pathMatch:"full"}]},{path:"customer",canActivate:[y,d],data:{roles:["customer"],context:"customer"},children:[{path:"search",loadComponent:()=>import("./chunk-WZ7MU3BE.js").then(e=>e.RestaurantSearch)},{path:"menu/:id",loadComponent:()=>import("./chunk-XBYD4YLX.js").then(e=>e.MenuDisplay)},{path:"customer/restaurant/:restaurantId/reservation",loadComponent:()=>import("./chunk-TSKCOXOD.js").then(e=>e.ReservationWizard),title:"Prenotazione Tavolo"},{path:"orders",loadComponent:()=>import("./chunk-NTXCUWSH.js").then(e=>e.OrderTracker)},{path:"reviews",loadComponent:()=>import("./chunk-AEBO7BLE.js").then(e=>e.ReviewSystem)},{path:"restaurant/:id",loadComponent:()=>import("./chunk-VYNMAE32.js").then(e=>e.RestaurantDetail)},{path:"settings",loadComponent:()=>import("./chunk-RTZPWM36.js").then(e=>e.SettingsCustomer)},{path:"",redirectTo:"menu-display",pathMatch:"full"}]},{path:"food-cost",loadComponent:()=>import("./chunk-NYTFYZAF.js").then(e=>e.FoodCostCalculator),canActivate:[y,w],data:{permissions:["view_ingredients"]}},{path:"food-cost-calculator/:id",component:me,canActivate:[y,w],data:{permissions:["view_ingredients"]}},{path:"",pathMatch:"full",redirectTo:"customer/search"},{path:"customer/menu-display",redirectTo:"customer/search",pathMatch:"full"},{path:"**",redirectTo:"customer/search"}];var ge={providers:[oe(ve,se())]};function _e(e,t){e&1&&(i(0,"div",1)(1,"div",2)(2,"div",3),v(3,"div",4)(4,"div",5)(5,"div",6),a(),i(6,"div",7)(7,"span",8),r(8,"P"),a(),i(9,"span",8),r(10,"r"),a(),i(11,"span",8),r(12,"e"),a(),i(13,"span",8),r(14,"p"),a(),i(15,"span",8),r(16,"a"),a(),i(17,"span",8),r(18,"r"),a(),i(19,"span",8),r(20,"a"),a(),i(21,"span",8),r(22,"n"),a(),i(23,"span",8),r(24,"d"),a(),i(25,"span",8),r(26,"o"),a(),i(27,"span",8),r(28,"."),a(),i(29,"span",8),r(30,"."),a(),i(31,"span",8),r(32,"."),a()(),i(33,"p",9),r(34,"Stiamo cucinando i tuoi dati"),a()()())}var T=class e{isLoading=!1;static \u0275fac=function(n){return new(n||e)};static \u0275cmp=M({type:e,selectors:[["app-loader"]],inputs:{isLoading:"isLoading"},decls:1,vars:1,consts:[["class","promethea-loader",4,"ngIf"],[1,"promethea-loader"],[1,"loader-content"],[1,"plate"],[1,"food-wave"],[1,"food-wave","delay-1"],[1,"food-wave","delay-2"],[1,"loader-text"],[1,"letter"],[1,"text-muted","mt-lg"]],template:function(n,o){n&1&&c(0,_e,35,0,"div",0),n&2&&l("ngIf",o.isLoading)},dependencies:[O,A],styles:[".promethea-loader[_ngcontent-%COMP%]{position:fixed;inset:0;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background:color-mix(in srgb,var(--background) 80%,transparent);display:flex;align-items:center;justify-content:center;z-index:9999;touch-action:none;-webkit-overflow-scrolling:auto;overflow:hidden}.loader-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:var(--gap-lg)}.plate[_ngcontent-%COMP%]{width:120px;height:120px;background:var(--text-color);border-radius:50%;position:relative;box-shadow:0 8px 32px var(--shadow-1),inset 0 -8px 20px color-mix(in srgb,var(--text-color) 8%,transparent);border:6px solid var(--vetro);overflow:hidden}.food-wave[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:100%;height:60%;background:var(--gradiente);border-radius:50% 50% 0 0;animation:_ngcontent-%COMP%_wave 2.4s ease-in-out infinite}.food-wave.delay-1[_ngcontent-%COMP%]{animation-delay:-.8s}.food-wave.delay-2[_ngcontent-%COMP%]{animation-delay:-1.6s}@keyframes _ngcontent-%COMP%_wave{0%,to{transform:translateY(80%) scaleY(.4);opacity:.6}50%{transform:translateY(20%) scaleY(1.2);opacity:1}}.loader-text[_ngcontent-%COMP%]{font-size:var(--fs-lg);font-weight:800;color:var(--primary);letter-spacing:2px;display:flex;gap:4px}.letter[_ngcontent-%COMP%]{display:inline-block;opacity:0;animation:_ngcontent-%COMP%_appear .1s forwards,_ngcontent-%COMP%_bounce 1.2s infinite}.letter[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.letter[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.letter[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.letter[_ngcontent-%COMP%]:nth-child(4){animation-delay:.4s}.letter[_ngcontent-%COMP%]:nth-child(5){animation-delay:.5s}.letter[_ngcontent-%COMP%]:nth-child(6){animation-delay:.6s}.letter[_ngcontent-%COMP%]:nth-child(7){animation-delay:.7s}.letter[_ngcontent-%COMP%]:nth-child(8){animation-delay:.8s}.letter[_ngcontent-%COMP%]:nth-child(9){animation-delay:.9s}.letter[_ngcontent-%COMP%]:nth-child(10){animation-delay:1s}.letter[_ngcontent-%COMP%]:nth-child(11){animation-delay:1.2s}.letter[_ngcontent-%COMP%]:nth-child(12){animation-delay:1.4s}.letter[_ngcontent-%COMP%]:nth-child(13){animation-delay:1.6s}@keyframes _ngcontent-%COMP%_appear{to{opacity:1}}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-12px)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.promethea-loader.ng-leave[_ngcontent-%COMP%], .promethea-loader.ng-hide[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .4s ease-out reverse}"]})};function be(e,t){if(e&1&&(i(0,"option",5),r(1),a()),e&2){let n=t.$implicit,o=m(2);l("value",n)("selected",o.currentContext===n),s(),x(" ",o.getContextLabel(n)," ")}}function Ce(e,t){if(e&1){let n=J();i(0,"div",1)(1,"label",2),r(2,"Visualizzazione:"),a(),i(3,"select",3),C("change",function(f){V(n);let b=m();return Y(b.onContextChange(f))}),c(4,be,2,3,"option",4),a()()}if(e&2){let n=m();s(3),l("value",n.currentContext)("title",n.getContextTitle(n.currentContext)),s(),l("ngForOf",n.availableContexts)}}var L=class e{authService=p(h);router=p(g);availableContexts=[];currentContext="customer";ngOnInit(){this.updateContexts(),this.authService.currentContext$.subscribe(t=>{this.currentContext=t,this.updateContexts()})}updateContexts(){this.availableContexts=this.authService.getAvailableContexts()}onContextChange(t){let o=t.target.value;this.switchContext(o)}switchContext(t){return u(this,null,function*(){if(yield this.authService.switchContext(t))switch(t){case"staff":this.router.navigate(["/restaurant/dashboard"]);break;case"supplier":this.router.navigate(["/supplier/dashboard"]);break;case"customer":this.router.navigate(["/customer/menu-display"]);break}})}getContextLabel(t){switch(t){case"staff":return"Ristorante";case"supplier":return"Fornitore";case"customer":return"Cliente";default:return t}}getContextTitle(t){return`Visualizza come ${this.getContextLabel(t).toLowerCase()}`}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=M({type:e,selectors:[["app-context-selector"]],decls:1,vars:1,consts:[["class","context-selector p-sm0",4,"ngIf"],[1,"context-selector","p-sm0"],[1,"inline-flex","items-center","gap-2","font-semibold","text-sm","mb-sm","opacity-90"],[1,"form-control",3,"change","value","title"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"]],template:function(n,o){n&1&&c(0,Ce,5,3,"div",0),n&2&&l("ngIf",o.availableContexts.length>1)},dependencies:[O,Z,A],encapsulation:2})};var U=class e{constructor(t){this.platformId=t}currentThemeSubject=new $("light");currentTheme$=this.currentThemeSubject.asObservable();initializeTheme(){if(R(this.platformId)){let n=localStorage.getItem("app-theme")||"light";this.applyTheme(n),this.currentThemeSubject.next(n)}}setTheme(t){this.applyTheme(t),this.currentThemeSubject.next(t),R(this.platformId)&&localStorage.setItem("app-theme",t)}toggleTheme(){let t=this.currentThemeSubject.value==="light"?"dark":"light";this.setTheme(t)}applyTheme(t){if(R(this.platformId)){let n=document.documentElement;n.removeAttribute("data-theme"),n.classList.remove("light-theme","dark-theme"),n.setAttribute("data-theme",t),n.classList.add(t+"-theme"),n.offsetHeight}}getCurrentTheme(){return this.currentThemeSubject.value}static \u0275fac=function(n){return new(n||e)(H(q))};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})};function xe(e,t){e&1&&(i(0,"div",30)(1,"span",5),r(2,"restaurant"),a(),i(3,"h2"),r(4,"Promethea"),a()())}function Se(e,t){e&1&&(i(0,"h3",32),r(1,"Gestione Ristorante"),a())}function Pe(e,t){e&1&&v(0,"div",33)}function ye(e,t){e&1&&(i(0,"li",15)(1,"a",34)(2,"span",5),r(3,"dashboard"),a(),i(4,"span",13),r(5,"Dashboard"),a()()())}function ke(e,t){e&1&&(i(0,"li",15)(1,"a",35)(2,"span",5),r(3,"table_restaurant"),a(),i(4,"span",13),r(5,"Layout Sala"),a()()())}function Me(e,t){e&1&&(i(0,"li",15)(1,"a",36)(2,"span",5),r(3,"supervisor_account"),a(),i(4,"span",13),r(5,"Staff"),a()()())}function Ae(e,t){if(e&1&&(i(0,"div",8),c(1,Se,2,0,"h3",9)(2,Pe,1,0,"div",31),i(3,"ul",10),c(4,ye,6,0,"li",14)(5,ke,6,0,"li",14)(6,Me,6,0,"li",14),a()()),e&2){let n=m();s(),l("ngIf",!n.isSidebarCollapsed),s(),l("ngIf",n.isSidebarCollapsed),s(2),l("ngIf",n.authService.hasPermission("view_dashboard")),s(),l("ngIf",n.authService.hasPermission("view_table_map")),s(),l("ngIf",n.authService.hasPermission("manage_staff"))}}function Oe(e,t){e&1&&(i(0,"h3",32),r(1,"Prenotazioni"),a())}function we(e,t){e&1&&v(0,"div",33)}function Ie(e,t){e&1&&(i(0,"li",15)(1,"a",37)(2,"span",5),r(3,"brunch_dining"),a(),i(4,"span",13),r(5,"Prenotazioni Tavoli"),a()()())}function Re(e,t){e&1&&(i(0,"li",15)(1,"a",38)(2,"span",5),r(3,"calendar_today"),a(),i(4,"span",13),r(5,"Calendario"),a()()())}function Ee(e,t){e&1&&(i(0,"li",15)(1,"a",39)(2,"span",5),r(3,"book_online"),a(),i(4,"span",13),r(5,"Lista Prenotazioni"),a()()())}function Te(e,t){if(e&1&&(i(0,"div",8),c(1,Oe,2,0,"h3",9)(2,we,1,0,"div",31),i(3,"ul",10),c(4,Ie,6,0,"li",14)(5,Re,6,0,"li",14)(6,Ee,6,0,"li",14),a()()),e&2){let n=m();s(),l("ngIf",!n.isSidebarCollapsed),s(),l("ngIf",n.isSidebarCollapsed),s(2),l("ngIf",n.authService.hasPermission("manage_reservations")),s(),l("ngIf",n.authService.hasPermission("manage_reservations")),s(),l("ngIf",n.authService.hasPermission("manage_reservations"))}}function Le(e,t){e&1&&(i(0,"h3",32),r(1,"Menu & Cucina"),a())}function Ue(e,t){e&1&&v(0,"div",33)}function ze(e,t){e&1&&(i(0,"li",15)(1,"a",40)(2,"span",5),r(3,"restaurant_menu"),a(),i(4,"span",13),r(5,"Men\xF9 & Piatti"),a()()())}function De(e,t){e&1&&(i(0,"li",15)(1,"a",41)(2,"span",5),r(3,"receipt_long"),a(),i(4,"span",13),r(5,"Ricette"),a()()())}function Fe(e,t){e&1&&(i(0,"li",15)(1,"a",42)(2,"span",5),r(3,"savings"),a(),i(4,"span",13),r(5,"Food Cost"),a()()())}function je(e,t){e&1&&(i(0,"li",15)(1,"a",43)(2,"span",5),r(3,"kitchen"),a(),i(4,"span",13),r(5,"Pannello Cucina"),a()()())}function Ne(e,t){if(e&1&&(i(0,"div",8),c(1,Le,2,0,"h3",9)(2,Ue,1,0,"div",31),i(3,"ul",10),c(4,ze,6,0,"li",14)(5,De,6,0,"li",14)(6,Fe,6,0,"li",14)(7,je,6,0,"li",14),a()()),e&2){let n=m();s(),l("ngIf",!n.isSidebarCollapsed),s(),l("ngIf",n.isSidebarCollapsed),s(2),l("ngIf",n.authService.hasPermission("manage_menu")),s(),l("ngIf",n.authService.hasPermission("manage_inventory")),s(),l("ngIf",n.authService.hasPermission("manage_inventory")),s(),l("ngIf",n.authService.hasPermission("view_kitchen_display"))}}function $e(e,t){e&1&&(i(0,"h3",32),r(1,"Magazzino & Acquisti"),a())}function Ge(e,t){e&1&&v(0,"div",33)}function Be(e,t){e&1&&(i(0,"li",15)(1,"a",44)(2,"span",5),r(3,"inventory_2"),a(),i(4,"span",13),r(5,"Inventario"),a()()())}function He(e,t){e&1&&(i(0,"li",15)(1,"a",45)(2,"span",5),r(3,"local_shipping"),a(),i(4,"span",13),r(5,"Fornitori"),a()()())}function Ve(e,t){e&1&&(i(0,"li",15)(1,"a",46)(2,"span",5),r(3,"payments"),a(),i(4,"span",13),r(5,"Gestione Spese"),a()()())}function Ye(e,t){if(e&1&&(i(0,"div",8),c(1,$e,2,0,"h3",9)(2,Ge,1,0,"div",31),i(3,"ul",10),c(4,Be,6,0,"li",14)(5,He,6,0,"li",14)(6,Ve,6,0,"li",14),a()()),e&2){let n=m();s(),l("ngIf",!n.isSidebarCollapsed),s(),l("ngIf",n.isSidebarCollapsed),s(2),l("ngIf",n.authService.hasPermission("manage_inventory")),s(),l("ngIf",n.authService.hasPermission("manage_inventory")),s(),l("ngIf",n.authService.hasPermission("view_expenses"))}}function qe(e,t){e&1&&(i(0,"h3",32),r(1,"Finanze"),a())}function We(e,t){e&1&&v(0,"div",33)}function Ke(e,t){e&1&&(i(0,"li",15)(1,"a",47)(2,"span",5),r(3,"bar_chart"),a(),i(4,"span",13),r(5,"Report Finanziario"),a()()())}function Je(e,t){if(e&1&&(i(0,"div",8),c(1,qe,2,0,"h3",9)(2,We,1,0,"div",31),i(3,"ul",10),c(4,Ke,6,0,"li",14),a()()),e&2){let n=m();s(),l("ngIf",!n.isSidebarCollapsed),s(),l("ngIf",n.isSidebarCollapsed),s(2),l("ngIf",n.authService.hasPermission("view_reports"))}}function Qe(e,t){e&1&&(i(0,"h3",32),r(1,"Gestione Fornitore"),a())}function Xe(e,t){e&1&&v(0,"div",33)}function Ze(e,t){if(e&1&&(i(0,"div",8),c(1,Qe,2,0,"h3",9)(2,Xe,1,0,"div",31),i(3,"ul",10)(4,"li",15)(5,"a",48)(6,"span",5),r(7,"dashboard"),a(),i(8,"span",13),r(9,"Dashboard"),a()()(),i(10,"li",15)(11,"a",49)(12,"span",5),r(13,"storefront"),a(),i(14,"span",13),r(15,"Catalogo Prodotti"),a()()()()()),e&2){let n=m();s(),l("ngIf",!n.isSidebarCollapsed),s(),l("ngIf",n.isSidebarCollapsed)}}function et(e,t){e&1&&(i(0,"h3",32),r(1,"Cliente"),a())}function tt(e,t){e&1&&v(0,"div",33)}function nt(e,t){if(e&1&&(i(0,"div",8),c(1,et,2,0,"h3",9)(2,tt,1,0,"div",31),i(3,"ul",10)(4,"li",11)(5,"a",50)(6,"span",5),r(7,"search"),a(),i(8,"span",13),r(9,"Cerca Ristoranti"),a()()(),i(10,"li",15)(11,"a",51)(12,"span",5),r(13,"home"),a(),i(14,"span",13),r(15,"Home"),a()()(),i(16,"li",15)(17,"a",52)(18,"span",5),r(19,"restaurant"),a(),i(20,"span",13),r(21,"Lista Ristoranti"),a()()(),i(22,"li",11)(23,"a",53)(24,"span",5),r(25,"book_online"),a(),i(26,"span",13),r(27,"Le mie Prenotazioni"),a()()(),i(28,"li",11)(29,"a",54)(30,"span",5),r(31,"shopping_bag"),a(),i(32,"span",13),r(33,"I miei Ordini"),a()()(),i(34,"li",11)(35,"a",55)(36,"span",5),r(37,"rate_review"),a(),i(38,"span",13),r(39,"Le mie Recensioni"),a()()()()()),e&2){let n=m();s(),l("ngIf",!n.isSidebarCollapsed),s(),l("ngIf",n.isSidebarCollapsed)}}function it(e,t){e&1&&(i(0,"h3",32),r(1,"Account"),a())}function at(e,t){e&1&&(i(0,"li",15)(1,"a",56)(2,"span",5),r(3,"settings"),a(),i(4,"span",13),r(5,"Impostazioni"),a()()())}function rt(e,t){e&1&&(i(0,"li",15)(1,"a",57)(2,"span",5),r(3,"settings"),a(),i(4,"span",13),r(5,"Impostazioni"),a()()())}function ot(e,t){e&1&&(i(0,"li",15)(1,"a",58)(2,"span",5),r(3,"settings"),a(),i(4,"span",13),r(5,"Impostazioni"),a()()())}function st(e,t){e&1&&(i(0,"div",59),v(1,"app-context-selector"),a())}function lt(e,t){if(e&1&&(i(0,"div",64),r(1),a()),e&2){let n=m(2);s(),x(" ",n.getRestaurantName()," ")}}function ct(e,t){if(e&1&&(i(0,"div",64),r(1),a()),e&2){let n=m(2);s(),x(" ",n.getSupplierCompanyName()," ")}}function pt(e,t){if(e&1&&(i(0,"div",60)(1,"div",61)(2,"span",62),r(3),a()(),c(4,lt,2,1,"div",63)(5,ct,2,1,"div",63),a()),e&2){let n=m();s(3),j(n.getUserDisplayName()),s(),l("ngIf",n.currentRestaurant&&n.isRestaurantUser()),s(),l("ngIf",n.supplierProfile&&n.isSupplierUser())}}function dt(e,t){if(e&1&&(i(0,"div",65),r(1),a()),e&2){let n=m();s(),x(" ",n.getRoleDisplayName()," ")}}var z=class e{authService=p(h);supabaseService=p(ce);supplierAuthService=p(ue);router=p(g);loadingService=p(de);themeService=p(U);loading=!1;loadingSubscription;isSidebarCollapsed=!1;currentUser$;currentRestaurant$;currentUser=null;currentRestaurant=null;supplierProfile=null;userSubscription=new I;supplierSubscription=new I;contextSubscription=new I;constructor(){this.currentUser$=this.authService.currentUser$,this.currentRestaurant$=this.authService.currentUser$.pipe(B(t=>t&&this.isRestaurantUser()?new N(n=>{this.supabaseService.getCurrentUserRestaurant().then(o=>{n.next(o),n.complete()}).catch(()=>{n.next(null),n.complete()})}):G(null)))}ngOnInit(){return u(this,null,function*(){this.themeService.initializeTheme(),this.loadingSubscription=this.loadingService.loading$.subscribe(t=>{this.loading=t}),this.contextSubscription=this.authService.currentContext$.subscribe(()=>{}),this.userSubscription=this.authService.currentUser$.subscribe(t=>{this.currentUser=t,t?(this.authService.loadPermissions(),this.printDebugInfo()):(this.currentRestaurant=null,this.supplierProfile=null)}),this.currentRestaurant$.subscribe(t=>{this.currentRestaurant=t}),this.supplierSubscription=this.supplierAuthService.supplierProfile$.subscribe(t=>{this.supplierProfile=t})})}ngOnDestroy(){this.userSubscription.unsubscribe(),this.supplierSubscription.unsubscribe(),this.loadingSubscription.unsubscribe(),this.contextSubscription.unsubscribe()}printDebugInfo(){console.log("\u{1F50D} DEBUG - App Component State:"),console.log("  - Current Context:",this.authService.getCurrentContext()),console.log("  - isRestaurantUser():",this.isRestaurantUser()),console.log("  - isCustomerUser():",this.isCustomerUser()),console.log("  - isSupplierUser():",this.isSupplierUser()),console.log("  - Current Staff:",this.authService.getCurrentStaff()),console.log("  - Current Restaurant:",this.currentRestaurant),console.log("  - Available Contexts:",this.authService.getAvailableContexts()),console.log("  - Can Be Staff:",this.authService.canBeStaff()),console.log("  - Is Owner:",this.authService.isOwner()),console.log("  - User Role:",this.authService.getUserRole())}loadUserRestaurant(){return u(this,null,function*(){if(this.isRestaurantUser())try{this.currentRestaurant=yield this.supabaseService.getCurrentUserRestaurant(),console.log("Restaurant loaded:",this.currentRestaurant)}catch(t){console.error("Error loading restaurant:",t),this.currentRestaurant=null}else this.currentRestaurant=null})}toggleSidebar(){this.isSidebarCollapsed=!this.isSidebarCollapsed}isRestaurantUser(){return this.authService.isRestaurantUser()}isCustomerUser(){return this.authService.isCustomerUser()}isSupplierUser(){return this.authService.isSupplierUser()}canBeStaff(){return this.authService.canBeStaff()}getUserDisplayName(){let t=this.currentUser;if(!t)return"";let n=t.user_metadata?.first_name,o=t.user_metadata?.last_name;return n&&o?`${n} ${o}`:n||o||t.email||"Utente"}getUserInitial(){let t=this.currentUser;if(!t)return"";let n=t.user_metadata?.first_name,o=t.user_metadata?.last_name;return n&&o?`${n.charAt(0)}${o.charAt(0)}`.toUpperCase():n?n.charAt(0).toUpperCase():o?o.charAt(0).toUpperCase():t.email?.charAt(0).toUpperCase()||"U"}getRestaurantName(){return this.currentRestaurant?.name||"Ristorante"}getSupplierCompanyName(){return this.supplierProfile&&this.supplierProfile.company_name||"Fornitore"}logout(){return u(this,null,function*(){yield this.authService.logout()})}onSidebarNavClick(t){if(window.innerWidth>768)return;t.target.closest(".nav-link")&&(this.isSidebarCollapsed=!0)}onDocumentClick(t){let n=t.target;if(window.innerWidth<=768){if(n.closest(".mobile-sidebar-toggle"))return;this.isSidebarCollapsed||!n.closest(".sidebar")&&!n.closest(".sidebar-toggle")&&(this.isSidebarCollapsed=!0)}}getRoleClass(){return`role-${this.authService.getStaffRole()||"guest"}`}getRoleLabel(){switch(this.authService.getStaffRole()||"guest"){case"owner":return"admin_panel_settings";case"manager":return"supervisor_account";case"chef":return"restaurant";case"waiter":return"room_service";case"kitchen_staff":return"kitchen";default:return"person"}}getRoleDisplayName(){let t=this.authService.getStaffRole()||"guest";return{owner:"Proprietario",manager:"Responsabile",chef:"Chef",waiter:"Cameriere",kitchen_staff:"Staff Cucina",guest:"Ospite"}[t]||t}isAuthenticated(){return this.authService.isAuthenticated()}getSettingsRoute(){return this.isRestaurantUser()&&this.authService.hasPermission("manage_restaurant_settings")?"/restaurant/settings":this.isSupplierUser()?"/supplier/settings":"/customer"}navigateBasedOnRole(){this.isRestaurantUser()?this.router.navigate(["/restaurant/dashboard"]):this.isSupplierUser()?this.router.navigate(["/supplier/dashboard"]):this.isCustomerUser()?this.router.navigate(["/customer"]):this.router.navigate(["/login"])}getAvailableContexts(){return this.authService.getAvailableContexts()}shouldShowContextSelector(){return this.authService.getAvailableContexts().length>1}setTheme(t){this.themeService.setTheme(t)}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=M({type:e,selectors:[["app-root"]],hostBindings:function(n,o){n&1&&C("click",function(b){return o.onDocumentClick(b)},W)},decls:63,vars:50,consts:[[1,"app-container"],[1,"sidebar",3,"click"],[1,"sidebar-header"],["class","sidebar-brand",4,"ngIf"],[1,"icon-button",3,"click"],[1,"material-icons"],[1,"sidebar-nav"],["class","nav-section",4,"ngIf"],[1,"nav-section"],["class","nav-section-title",4,"ngIf"],[1,"nav-menu"],[1,"nav-item",2,"display","none"],["routerLink","/profile","routerLinkActive","nav-link--active","data-label","Profilo",1,"nav-link"],[1,"nav-text"],["class","nav-item",4,"ngIf"],[1,"nav-item"],["data-label","Logout",1,"icon-button","largo",3,"click"],[1,"sidebar_footer"],["class","context-selector-container",4,"ngIf"],[1,"sidebar-user"],[1,"user-main-info"],[1,"avatartondo"],["class","user-details",4,"ngIf"],[1,"theme-toggle-integrated"],["type","checkbox","hidden","",3,"change","checked"],[1,"flex","gap-md","items-center",2,"justify-content","space-between"],["class","role-text",4,"ngIf"],["aria-label","Apri sidebar",1,"mobile-sidebar-toggle",3,"click"],[3,"isLoading"],[1,"main-content"],[1,"sidebar-brand"],["class","section-divider elegant",4,"ngIf"],[1,"nav-section-title"],[1,"section-divider","elegant"],["routerLink","/restaurant/dashboard","routerLinkActive","nav-link--active","data-label","Dashboard",1,"nav-link"],["routerLink","/restaurant/floor-plan","routerLinkActive","nav-link--active","data-label","Layout Sala",1,"nav-link"],["routerLink","/restaurant/staff-management","routerLinkActive","nav-link--active","data-label","Staff",1,"nav-link"],["routerLink","/restaurant/table-map","routerLinkActive","nav-link--active","data-label","Prenotazioni",1,"nav-link"],["routerLink","/restaurant/calendar-view","routerLinkActive","nav-link--active","data-label","Calendario",1,"nav-link"],["routerLink","/restaurant/reservation-manager","routerLinkActive","nav-link--active","data-label","Lista Prenotazioni",1,"nav-link"],["routerLink","/restaurant/menu","routerLinkActive","nav-link--active","data-label","Men\xF9 e Piatti",1,"nav-link"],["routerLink","/restaurant/recipe","routerLinkActive","nav-link--active","data-label","Ricette",1,"nav-link"],["routerLink","/food-cost","routerLinkActive","nav-link--active","data-label","Food Cost",1,"nav-link"],["routerLink","/restaurant/kitchen-display","routerLinkActive","nav-link--active","data-label","Pannello Cucina",1,"nav-link"],["routerLink","/restaurant/inventory","routerLinkActive","nav-link--active","data-label","Inventario",1,"nav-link"],["routerLink","/restaurant/suppliers","routerLinkActive","nav-link--active","data-label","Fornitori",1,"nav-link"],["routerLink","/restaurant/expense-management","routerLinkActive","nav-link--active","data-label","Gestione Spese",1,"nav-link"],["routerLink","/restaurant/financial-report","routerLinkActive","nav-link--active","data-label","Report Finanziario",1,"nav-link"],["routerLink","/supplier/dashboard","routerLinkActive","nav-link--active","data-label","Dashboard",1,"nav-link"],["routerLink","/supplier/products","routerLinkActive","nav-link--active","data-label","Catalogo Prodotti",1,"nav-link"],["routerLink","/customer/search","routerLinkActive","nav-link--active","data-label","Cerca Ristoranti",1,"nav-link"],["routerLink","/customer/menu-display","routerLinkActive","nav-link--active","data-label","Cerca Ristoranti",1,"nav-link"],["routerLink","/customer/restaurant/restaurant-list","routerLinkActive","nav-link--active","data-label","Lista Ristoranti",1,"nav-link"],["routerLink","/customer/reservations","routerLinkActive","nav-link--active","data-label","Le mie Prenotazioni",1,"nav-link"],["routerLink","/customer/orders","routerLinkActive","nav-link--active","data-label","I miei Ordini",1,"nav-link"],["routerLink","/customer/reviews","routerLinkActive","nav-link--active","data-label","Le mie Recensioni",1,"nav-link"],["routerLink","/restaurant/settings","routerLinkActive","nav-link--active","data-label","Impostazioni Ristorante",1,"nav-link"],["routerLink","/supplier/settings","routerLinkActive","nav-link--active","data-label","Impostazioni Fornitore",1,"nav-link"],["routerLink","/customer/settings","routerLinkActive","nav-link--active","data-label","Impostazioni Cliente",1,"nav-link"],[1,"context-selector-container"],[1,"user-details"],[1,"user-info"],[1,"user-name"],["class","restaurant-info",4,"ngIf"],[1,"restaurant-info"],[1,"role-text"]],template:function(n,o){n&1&&(i(0,"div",0)(1,"aside",1),C("click",function(b){return o.onSidebarNavClick(b)}),i(2,"div",2),c(3,xe,5,0,"div",3),i(4,"button",4),C("click",function(){return o.toggleSidebar()}),i(5,"span",5),r(6),a()()(),i(7,"nav",6),c(8,Ae,7,5,"div",7)(9,Te,7,5,"div",7)(10,Ne,8,6,"div",7)(11,Ye,7,5,"div",7)(12,Je,5,3,"div",7)(13,Ze,16,2,"div",7)(14,nt,40,2,"div",7),i(15,"div",8),c(16,it,2,0,"h3",9),i(17,"ul",10)(18,"li",11)(19,"a",12)(20,"span",5),r(21,"person"),a(),i(22,"span",13),r(23,"Profilo"),a()()(),c(24,at,6,0,"li",14)(25,rt,6,0,"li",14)(26,ot,6,0,"li",14),i(27,"li",15)(28,"button",16),C("click",function(){return o.logout()}),i(29,"span",5),r(30,"logout"),a(),i(31,"span",13),r(32,"Logout"),a()()()()()(),i(33,"div",17),c(34,st,2,0,"div",18),i(35,"div",19)(36,"div",20)(37,"div",21),r(38),S(39,"uppercase"),a(),c(40,pt,6,3,"div",22),a(),i(41,"label",23),S(42,"async"),i(43,"input",24),S(44,"async"),C("change",function(){return o.themeService.toggleTheme()}),a(),i(45,"span",5),S(46,"async"),S(47,"async"),r(48," light_mode "),a(),i(49,"span",5),S(50,"async"),S(51,"async"),r(52," dark_mode "),a()()(),i(53,"div",25),c(54,dt,2,1,"div",26),i(55,"span"),r(56),a()()()(),i(57,"button",27),C("click",function(){return o.toggleSidebar()}),i(58,"span",5),r(59,"menu"),a()(),v(60,"app-loader",28),i(61,"main",29),v(62,"router-outlet"),a()()),n&2&&(s(),F("sidebar--collapsed",o.isSidebarCollapsed),s(2),l("ngIf",!o.isSidebarCollapsed),s(3),j(o.isSidebarCollapsed?"menu":"chevron_left"),s(2),l("ngIf",o.isRestaurantUser()),s(),l("ngIf",o.isRestaurantUser()&&(o.authService.hasPermission("manage_reservations")||o.authService.hasPermission("take_orders"))),s(),l("ngIf",o.isRestaurantUser()&&(o.authService.hasPermission("manage_menu")||o.authService.hasPermission("view_kitchen_display"))),s(),l("ngIf",o.isRestaurantUser()&&(o.authService.hasPermission("manage_inventory")||o.authService.hasPermission("view_expenses"))),s(),l("ngIf",o.isRestaurantUser()&&o.authService.hasPermission("view_reports")),s(),l("ngIf",o.isSupplierUser()),s(),l("ngIf",o.isCustomerUser()),s(2),l("ngIf",!o.isSidebarCollapsed),s(8),l("ngIf",o.isRestaurantUser()&&o.authService.hasPermission("manage_restaurant_settings")),s(),l("ngIf",o.isSupplierUser()),s(),l("ngIf",o.isCustomerUser()),s(8),l("ngIf",o.shouldShowContextSelector()),s(4),x(" ",P(39,36,o.getUserInitial())," "),s(2),l("ngIf",!o.isSidebarCollapsed),s(),K("data-label",P(42,38,o.themeService.currentTheme$)==="dark"?"Passa al tema chiaro":"Passa al tema scuro"),s(2),l("checked",P(44,40,o.themeService.currentTheme$)==="dark"),s(2),D("opacity",P(46,42,o.themeService.currentTheme$)==="light"?"1":"0")("visibility",P(47,44,o.themeService.currentTheme$)==="light"?"visible":"hidden"),s(4),D("opacity",P(50,46,o.themeService.currentTheme$)==="dark"?"1":"0")("visibility",P(51,48,o.themeService.currentTheme$)==="dark"?"visible":"hidden"),s(5),l("ngIf",!o.isSidebarCollapsed),s(),Q(X("material-icons text-md role-icon ",o.getRoleClass())),s(),x(" ",o.getRoleLabel()," "),s(4),l("isLoading",o.loading),s(),F("main-content--expanded",o.isSidebarCollapsed))},dependencies:[O,A,ie,le,ae,re,T,L,ee,te],styles:['[_ngcontent-%COMP%]:root{--transition-timing: cubic-bezier(.4, 0, .2, 1);--transition-duration: .3s;--transition-duration-slow: .8s}ul[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{list-style:none}.app-container[_ngcontent-%COMP%]{display:flex;min-height:100dvh;background:var(--background);color:var(--text-color)}.sidebar[_ngcontent-%COMP%]{position:fixed;inset:0 auto 0 0;width:var(--sidebar-width);height:100dvh;background:var(--background);display:flex;flex-direction:column;z-index:1000;transition:width var(--transition-duration-slow) var(--transition-timing),transform var(--transition-duration) var(--transition-timing),box-shadow var(--transition-duration) var(--transition-timing);overflow:hidden;box-shadow:0 5px 20px var(--smoke-1);will-change:transform,width}.sidebar--collapsed[_ngcontent-%COMP%]{width:var(--sidebar--collapsed-width)}.sidebar-header[_ngcontent-%COMP%], .sidebar_footer[_ngcontent-%COMP%]{padding:var(--gap-md)}.sidebar_footer[_ngcontent-%COMP%]{padding:var(--gap-sm);box-shadow:0 -2px 15px var(--shadow-1)}.sidebar-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:var(--gap-md);transition:padding var(--transition-duration) var(--transition-timing)}.sidebar--collapsed[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{padding:var(--gap-sm);justify-content:center}.sidebar-brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--gap-sm);font-weight:800;font-size:var(--fs-sm);color:var(--primary);padding:var(--gap-sm);background:var(--shadow-1);border-radius:14px;transition:opacity var(--transition-duration) var(--transition-timing),transform var(--transition-duration) var(--transition-timing),width var(--transition-duration) var(--transition-timing)}.sidebar-brand[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:var(--fs-sm);background:var(--gradiente);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}.nav-section-title[_ngcontent-%COMP%]{margin-bottom:var(--gap-md);color:var(--tertiary)}.sidebar-nav[_ngcontent-%COMP%]{flex:1;overflow-y:auto;overflow-x:hidden;padding:var(--gap-md);display:flex;flex-direction:column;gap:var(--gap-lg);transition:padding var(--transition-duration) var(--transition-timing)}.sidebar--collapsed[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]{padding:var(--gap-sm);gap:0}.sidebar--collapsed[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{align-items:center;display:flex;padding:var(--gap-sm);position:relative}.sidebar--collapsed[_ngcontent-%COMP%]   .nav-menu[_ngcontent-%COMP%]{align-items:center;flex-direction:column;display:flex;gap:0}.sidebar--collapsed[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:var(--fs-md)}.nav-menu[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--gap-sm)}.largo[_ngcontent-%COMP%]{width:100%;justify-content:flex-start;padding:var(--gap-md);display:flex;gap:var(--gap-sm);border-radius:14px;font-weight:500}.largo[_ngcontent-%COMP%]:hover{transform:translate(4px)}.nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--gap-md);padding:var(--gap-md);color:var(--text-color);border-radius:14px;text-decoration:none;transition:all .3s ease;position:relative}.nav-link[_ngcontent-%COMP%]:hover{background:var(--smoke-1);transform:translateY(-4px)}.nav-link--active[_ngcontent-%COMP%]{background:color-mix(in srgb,var(--primary) 15%,transparent);color:var(--primary);font-weight:700;box-shadow:0 4px 12px var(--shadow-1)}.nav-link--active[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:50%;transform:translateY(-50%);width:4px;height:70%;background:var(--gradiente);border-radius:0 4px 4px 0}.sidebar--collapsed[_ngcontent-%COMP%]   .nav-link--active[_ngcontent-%COMP%]:before{display:none}.sidebar--collapsed[_ngcontent-%COMP%]   .nav-text[_ngcontent-%COMP%], .sidebar--collapsed[_ngcontent-%COMP%]   .nav-section-title[_ngcontent-%COMP%], .sidebar--collapsed[_ngcontent-%COMP%]   .sidebar-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .sidebar--collapsed[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%], .sidebar--collapsed[_ngcontent-%COMP%]   .restaurant-info[_ngcontent-%COMP%], .sidebar--collapsed[_ngcontent-%COMP%]   .context-selector-container[_ngcontent-%COMP%]{opacity:0;width:0;overflow:hidden;pointer-events:none;display:none}.nav-text[_ngcontent-%COMP%]{font-size:var(--fs-sm);font-weight:600}.sidebar--collapsed[_ngcontent-%COMP%]   .icon-button.largo[_ngcontent-%COMP%]{padding:var(--gap-sm)}.sidebar--collapsed[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{justify-content:center;align-items:center;display:flex;padding:var(--gap-sm);gap:0;height:auto;position:relative}.sidebar--collapsed[_ngcontent-%COMP%]   .theme-toggle-integrated[_ngcontent-%COMP%]{display:none}.sidebar--collapsed[_ngcontent-%COMP%]   .sidebar_footer[_ngcontent-%COMP%]{padding:0;align-items:center;display:flex;flex-direction:column}.sidebar--collapsed[_ngcontent-%COMP%]   .sidebar-user[_ngcontent-%COMP%]{padding:var(--gap-sm);gap:var(--gap-sm);display:flex;flex-direction:column}.sidebar-user[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:var(--gap-sm);padding:var(--gap-sm) 0;border-top:1px solid var(--primary)}.user-main-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--gap-sm);flex:1}.user-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px;flex:1}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--gap-sm)}.user-name[_ngcontent-%COMP%]{font-weight:600;font-size:var(--fs-sm);line-height:1.2}.role-badge[_ngcontent-%COMP%]{padding:var(--gap-md);border-radius:12px;font-size:calc(var(--fs-sm) / 2);font-weight:600;background:var(--smoke-1);border:1px solid var(--smoke-1);line-height:1}.sidebar--collapsed[_ngcontent-%COMP%]   .role-badge[_ngcontent-%COMP%]{display:none}.restaurant-info[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-muted)}.main-content[_ngcontent-%COMP%]{margin-left:var(--sidebar-width);flex:1;min-height:100dvh;transition:margin-left var(--transition-duration-slow) var(--transition-timing),filter var(--transition-duration) var(--transition-timing);overflow-y:auto;overflow-x:hidden}.mobile-sidebar-toggle[_ngcontent-%COMP%]{display:none;position:fixed;top:16px;left:16px;z-index:1200;width:48px;height:48px;border-radius:16px;background:var(--smoke-1);border:1px solid var(--shadow-1);box-shadow:0 8px 15px var(--shadow-1);-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);color:var(--text-color);align-items:center;justify-content:center}@media (max-width: 768px){.sidebar--collapsed[_ngcontent-%COMP%] ~ .main-content[_ngcontent-%COMP%], .main-content--expanded[_ngcontent-%COMP%]{margin-left:0!important}.sidebar[_ngcontent-%COMP%]{transform:translate(-100%);width:100%}.sidebar[_ngcontent-%COMP%]:not(.sidebar--collapsed){transform:translate(0)}.main-content[_ngcontent-%COMP%]{margin-left:0!important}.mobile-sidebar-toggle[_ngcontent-%COMP%]{display:flex}.sidebar[_ngcontent-%COMP%]:not(.sidebar--collapsed) ~ .main-content[_ngcontent-%COMP%]:after{content:"";position:fixed;inset:0;background:#00000080;z-index:999;pointer-events:auto}}.theme-toggle-integrated[_ngcontent-%COMP%]{cursor:pointer;width:var(--fs-lg);height:var(--fs-lg);border-radius:50%;border:2px solid var(--smoke-2);display:flex;align-items:center;justify-content:center;background:var(--background);position:relative;transition:all .3s ease;flex-shrink:0}.theme-toggle-integrated[_ngcontent-%COMP%]:hover{transform:scale(1.05);border-color:var(--primary);background:var(--shadow-1);box-shadow:0 4px 12px var(--shadow-1)}.theme-toggle-integrated[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:var(--fs-md);transition:all .3s ease}.theme-toggle-integrated[_ngcontent-%COMP%]   .light-icon[_ngcontent-%COMP%]{opacity:1}.theme-toggle-integrated[_ngcontent-%COMP%]   .dark-icon[_ngcontent-%COMP%], html[data-theme=dark][_ngcontent-%COMP%]   .theme-toggle-integrated[_ngcontent-%COMP%]   .light-icon[_ngcontent-%COMP%]{opacity:0}html[data-theme=dark][_ngcontent-%COMP%]   .theme-toggle-integrated[_ngcontent-%COMP%]   .dark-icon[_ngcontent-%COMP%]{opacity:1}html.dark-theme[_ngcontent-%COMP%]   .theme-toggle-integrated[_ngcontent-%COMP%]   .light-icon[_ngcontent-%COMP%]{opacity:0}html.dark-theme[_ngcontent-%COMP%]   .theme-toggle-integrated[_ngcontent-%COMP%]   .dark-icon[_ngcontent-%COMP%]{opacity:1}.sidebar--collapsed[_ngcontent-%COMP%] ~ .main-content[_ngcontent-%COMP%], .main-content--expanded[_ngcontent-%COMP%]{margin-left:var(--sidebar--collapsed-width);transition:margin-left var(--transition-duration-slow) var(--transition-timing),filter var(--transition-duration) var(--transition-timing)}.role-icon[_ngcontent-%COMP%]{font-size:var(--fs-sm);padding:var(--gap-sm);border-radius:50%;background:var(--smoke-1);transition:all .3s ease}.role-owner[_ngcontent-%COMP%]   .role-icon[_ngcontent-%COMP%]{color:#ff6b35;background:color-mix(in srgb,#ff6b35 15%,transparent)}.role-manager[_ngcontent-%COMP%]   .role-icon[_ngcontent-%COMP%]{color:#4a90e2;background:color-mix(in srgb,#4a90e2 15%,transparent)}.role-chef[_ngcontent-%COMP%]   .role-icon[_ngcontent-%COMP%]{color:#e74c3c;background:color-mix(in srgb,#e74c3c 15%,transparent)}.role-waiter[_ngcontent-%COMP%]   .role-icon[_ngcontent-%COMP%]{color:#27ae60;background:color-mix(in srgb,#27ae60 15%,transparent)}.role-kitchen_staff[_ngcontent-%COMP%]   .role-icon[_ngcontent-%COMP%]{color:#9b59b6;background:color-mix(in srgb,#9b59b6 15%,transparent)}.role-guest[_ngcontent-%COMP%]   .role-icon[_ngcontent-%COMP%]{color:var(--text-muted);background:var(--smoke-1)}.sidebar--collapsed[_ngcontent-%COMP%]   .role-text[_ngcontent-%COMP%]{display:none}.sidebar--collapsed[_ngcontent-%COMP%]   .role-icon[_ngcontent-%COMP%]{margin:0 auto}.sidebar--collapsed[_ngcontent-%COMP%]   .section-divider[_ngcontent-%COMP%]{display:block}.sidebar[_ngcontent-%COMP%]:not(.sidebar--collapsed)   .section-divider[_ngcontent-%COMP%]{display:none}.section-divider.elegant[_ngcontent-%COMP%]{width:100%;height:3px;background:linear-gradient(90deg,transparent,var(--primary),transparent);margin:0;border-radius:50%;transition:all .3s ease}']})};ne(z,ge).catch(e=>console.error(e));
