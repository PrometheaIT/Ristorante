import{a as R}from"./chunk-B2ZSPVEF.js";import{c as ue}from"./chunk-ETLR4YQ2.js";import{a as E}from"./chunk-MUH5FSAN.js";import{a as pe}from"./chunk-4AAJDU75.js";import"./chunk-3SRQJDPW.js";import"./chunk-6N7TSVOQ.js";import{b as ae}from"./chunk-ISGJYCJJ.js";import{b as re,d as se,h as oe,q as ce,r as le,s as de,x as me}from"./chunk-LDJ3K2AA.js";import{b as ne}from"./chunk-NPOGW2A3.js";import{b as J,c as X,d as Z,f as ee,i as te,l as ie}from"./chunk-SSGQXIGB.js";import{Aa as l,Ab as C,Bb as f,Cb as O,E as j,Fb as A,G as q,Gb as z,H as L,Hb as V,Nb as w,Ob as I,Pb as Q,Qa as W,Rb as N,V as M,Va as h,Zb as Y,_ as b,a as B,bb as p,cb as a,da as x,db as n,ea as y,eb as H,g as k,kb as S,nb as v,pb as d,t as D,u as K,ub as G,vb as U,yb as P,zb as r}from"./chunk-UNLQURJ5.js";import{j as u}from"./chunk-4ZZIO3ZI.js";var $=class o{supabase=b(ne).getSupabaseClient();authService=b(ae);orderHelper=b(ue);orderState=b(R);dishService=b(E);dishCache=new Map;statusFilter=new k("all");searchTerm=new k("");floorPlanFilter=new k("all");rawGroups=new k([]);filteredGroups$=K([this.rawGroups.asObservable(),this.statusFilter.asObservable(),this.searchTerm.asObservable().pipe(j(300)),this.floorPlanFilter.asObservable()]).pipe(D(([t,e,i,s])=>this.filterGroups(t,e,i,s)),L());stats$=this.filteredGroups$.pipe(D(t=>this.calculateStats(t)));constructor(){console.log("\u{1F3C1} [KitchenService] Inizializzazione"),this.initializeService()}setFloorPlanFilter(t){this.floorPlanFilter.next(t)}loadFloorPlans(){return u(this,null,function*(){try{let t=yield this.authService.getCurrentRestaurantId();if(!t)return[];let{data:e,error:i}=yield this.supabase.from("restaurant_floor_plans").select("id, name").eq("restaurant_id",t).eq("is_active",!0).order("name",{ascending:!0});return i?(console.error("Errore caricamento mappe:",i),[]):e||[]}catch(t){return console.error("Errore caricamento mappe:",t),[]}})}getFloorPlanForTable(t){return u(this,null,function*(){try{let{data:e,error:i}=yield this.supabase.from("tables").select(`
          restaurant_floor_plans!inner (
            id,
            name
          )
        `).eq("id",t).single();if(i)throw i;return e.restaurant_floor_plans&&Array.isArray(e.restaurant_floor_plans)?e.restaurant_floor_plans[0]:null}catch(e){return console.error("Errore recupero mappa per tavolo:",e),null}})}forceRefresh(){return u(this,null,function*(){console.log("\u{1F504} [KitchenService] Forzatura refresh dati"),yield this.loadDishes(),yield this.loadKitchenData()})}setStatusFilter(t){this.statusFilter.next(t)}setSearchTerm(t){this.searchTerm.next(t)}updateItemStatus(t,e){return u(this,null,function*(){return yield this.orderState.updateItemStatus(t,e)})}updateComandaStatus(t,e){return u(this,null,function*(){let i=yield this.orderState.updateComandaStatus(t,e);return i&&["preparing","ready","served","cancelled"].includes(e)&&(yield this.orderState.updateAllItemsInComanda(t,e)),i})}markAllItemsInComandaAsReady(t){return u(this,null,function*(){return yield this.orderState.updateAllItemsInComanda(t,"ready")})}markAllItemsInGroupAsReady(t){return u(this,null,function*(){let e=t.comande.map(i=>this.markAllItemsInComandaAsReady(i.id));return yield Promise.all(e),!0})}calculateElapsedTime(t){if(!t)return 0;try{let e=new Date(t);return Math.max(0,Math.floor((new Date().getTime()-e.getTime())/(1e3*60)))}catch{return 0}}formatTime(t){return t?new Date(t).toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"}):""}loadInitialData(){return u(this,null,function*(){try{yield this.loadKitchenData()}catch(t){console.error("Errore caricamento iniziale dati cucina:",t)}})}calculateGroupStatusSummary(t){let e={waiting:0,preparing:0,ready:0,served:0,ordered:0,cancelled:0,out_of_stock:0};return t.forEach(i=>{i.items.forEach(s=>{switch(s.status){case"waiting":e.waiting++;break;case"preparing":e.preparing++;break;case"ready":e.ready++;break;case"served":e.served++;break;case"ordered":e.ordered++;break;case"cancelled":e.cancelled++;break;case"out_of_stock":e.out_of_stock++;break;default:e.ordered++;break}})}),e}filterGroups(t,e,i,s){let c=t;if(e!=="all"&&(c=c.filter(m=>m.comande.some(_=>_.items.some(g=>g.status===e)))),i.trim()){let m=i.toLowerCase();c=c.filter(_=>_.table_name.toLowerCase().includes(m)||_.customer_name.toLowerCase().includes(m)||_.comande.some(g=>g.items.some(T=>T.dish_name.toLowerCase().includes(m))))}return s!=="all"&&(c=c.filter(m=>m.floor_plan_id===s)),c}calculateStats(t){let e={waiting:0,preparing:0,ready:0,totalGroups:t.length,totalItems:0};return t.forEach(i=>{i.comande.forEach(s=>{s.items.forEach(c=>{e.totalItems++,c.status==="waiting"&&e.waiting++,c.status==="preparing"&&e.preparing++,c.status==="ready"&&e.ready++})})}),e}initializeService(){return u(this,null,function*(){try{console.log("\u{1F527} [KitchenService] Inizializzazione servizio"),yield this.loadDishes(),yield this.loadKitchenData()}catch(t){console.error("\u274C [KitchenService] Errore inizializzazione:",t)}})}loadDishes(){return u(this,null,function*(){try{console.log("\u{1F35D} [KitchenService] Caricamento piatti..."),yield this.dishService.loadData(),yield new Promise(e=>setTimeout(e,100));let t=this.dishService.getDishes();if(t.length===0){console.warn("\u26A0\uFE0F [KitchenService] Nessun piatto caricato, ritento..."),yield new Promise(i=>setTimeout(i,1e3));let e=this.dishService.getDishes();if(e.length===0){console.error("\u274C [KitchenService] Ancora nessun piatto dopo il retry");return}this.updateDishCache(e),console.log(`\u2705 [KitchenService] ${e.length} piatti caricati (dopo retry)`);return}this.updateDishCache(t),console.log(`\u2705 [KitchenService] ${t.length} piatti caricati`)}catch(t){console.error("\u274C [KitchenService] Errore caricamento piatti:",t)}})}updateDishCache(t){if(this.dishCache.clear(),t.forEach(e=>{e&&e.id&&e.name&&this.dishCache.set(e.id,{name:e.name,preparation_time:e.preparation_time||15})}),console.log(`\u{1F4E6} [KitchenService] Cache piatti aggiornata: ${this.dishCache.size} piatti`),this.dishCache.size>0){let e=Array.from(this.dishCache.entries()).slice(0,5);console.log("\u{1F50D} [KitchenService] Primi 5 piatti in cache:",e)}}getDishInfo(t){if(!t)return console.warn("\u26A0\uFE0F [KitchenService] dishId \xE8 undefined o null"),{name:"Piatto sconosciuto",preparation_time:15};let e=this.dishCache.get(t);if(e)return e;try{let i=this.dishService.getDishById(t);if(i){let s={name:i.name||`Piatto #${t.substring(0,4)}`,preparation_time:i.preparation_time||15};return this.dishCache.set(t,s),console.log(`\u2705 [KitchenService] Piatto trovato: ${s.name} (${t})`),s}}catch(i){console.error(`\u274C [KitchenService] Errore recupero piatto ${t}:`,i)}return console.warn(`\u26A0\uFE0F [KitchenService] Piatto non trovato: ${t}`),{name:`Piatto #${t.substring(0,4)}`,preparation_time:15}}loadKitchenData(){return u(this,null,function*(){try{let t=yield this.authService.getCurrentRestaurantId();if(!t){console.error("\u274C [KitchenService] Nessun restaurant ID trovato"),this.rawGroups.next([]);return}console.log("\u{1F50D} [KitchenService] Caricamento ordini per restaurant:",t);let{data:e,error:i}=yield this.supabase.from("order_headers").select(`
          id,
          order_number,
          table_id,
          customer_name,
          created_at,
          tables:table_id (
            table_number,
            table_name,
            floor_plan_id,
            restaurant_floor_plans (id, name)
          ),
          comande:comande!order_header_id (
            id,
            comanda_number,
            status,
            created_at,
            order_items (
              id,
              dish_id,
              quantity,
              status,
              item_notes,
              created_at
            )
          )
        `).eq("restaurant_id",t).in("status",["active","open","pending"]).order("created_at",{ascending:!0});if(i)throw i;if(console.log(`\u{1F4E6} [KitchenService] ${e?.length||0} ordini ricevuti`),e&&e.length>0&&e[0].comande&&e[0].comande.length>0){let c=e[0].comande[0].order_items?.[0];c&&console.log("\u{1F50D} [KitchenService] Primo order_item:",{dish_id:c.dish_id,dish_name:this.getDishInfo(c.dish_id).name})}let s=this.transformData(e||[]);this.rawGroups.next(s)}catch(t){console.error("\u274C [KitchenService] Errore caricamento dati cucina:",t),this.rawGroups.next([])}})}transformData(t){return console.log("\u{1F504} [KitchenService] Trasformazione dati..."),t.map(e=>{let i="no-floor-plan",s="Senza mappa";if(e.tables){let _=Array.isArray(e.tables)?e.tables[0]:e.tables;_?.floor_plan_id&&(i=_.floor_plan_id,_.restaurant_floor_plans?s=(Array.isArray(_.restaurant_floor_plans)?_.restaurant_floor_plans[0]:_.restaurant_floor_plans)?.name||`Mappa ${i.substring(0,4)}...`:s=`Mappa ${i.substring(0,4)}...`)}let c=this.transformComande(e.comande||[],e),m=this.calculateGroupStatusSummary(c);return{order_header_id:e.id,order_number:e.order_number,table_number:e.tables?.table_number?.toString()||e.table_id,table_name:e.tables?.table_name||`Tavolo ${e.table_id}`,created_at:e.created_at,customer_name:e.customer_name||"Cliente",floor_plan_id:i,floor_plan_name:s,table_id:e.table_id,comande:c,status_summary:m}})}transformComande(t,e){return t.map(i=>{console.log(`\u{1F4DD} [KitchenService] Trasformazione comanda ${i.id}`);let s=(i.order_items||[]).map(g=>{console.log(`\u{1F50D} [KitchenService] Item ${g.id}: dish_id = ${g.dish_id}`);let T=this.getDishInfo(g.dish_id);return{id:g.id,dish_id:g.dish_id,dish_name:T.name,quantity:g.quantity,status:g.status||"ordered",notes:g.item_notes||"",special_requests:g.item_notes||"",created_at:g.created_at,preparation_time:T.preparation_time,table_number:e.tables?.table_number||"N/A"}}),c=s.length,m=s.filter(g=>["ready","served","cancelled","out_of_stock"].includes(g.status)).length,_=c>0?Math.round(m/c*100):0;return{id:i.id,comanda_number:i.comanda_number||1,status:i.status||"ordered",created_at:i.created_at,items:s,completed_items:m,total_items:c,progress_percentage:_}})}static \u0275fac=function(e){return new(e||o)};static \u0275prov=M({token:o,factory:o.\u0275fac,providedIn:"root"})};var F=class o{dishService=b(E);ingredientService=b(pe);getRecipeDetails(t){let e=this.getDishById(t);if(!e)return{ingredients:[],instructions:"Ricetta non disponibile",preparationTime:15};let i=this.transformIngredientsForDisplay(e.ingredients_composition||[]);return{dishName:e.name,ingredients:i,instructions:e.recipe_instructions||"Nessuna istruzione di preparazione disponibile",preparationTime:e.preparation_time||15}}getDishById(t){let e=this.dishService.getDishes();if(!e||!Array.isArray(e))return console.warn("\u26A0\uFE0F [RecipeService] Nessun piatto disponibile"),null;let i=e.find(s=>s.id===t);return i||(console.warn(`\u26A0\uFE0F [RecipeService] Piatto con ID ${t} non trovato`),null)}getRecipeDetails$(t){return K([this.dishService.data$,this.ingredientService.data$]).pipe(D(([e,i])=>{let s=e.find(m=>m.id===t);if(!s)return{ingredients:[],instructions:"Ricetta non disponibile",preparationTime:15};let c=(s.ingredients_composition||[]).map(m=>{let _=i.find(g=>g.id===m.ingredient_id);return{id:m.ingredient_id,name:_?.name||"Ingrediente sconosciuto",quantity:m.quantity||0,unit:m.unit_symbol||_?.units?.symbol||"pz",notes:m.recipe_notes||"",cost:m.cost||0,description:_?.description}});return{dishName:s.name,ingredients:c,instructions:s.recipe_instructions||"Nessuna istruzione disponibile",preparationTime:s.preparation_time||15}}))}transformIngredientsForDisplay(t){if(!t||!Array.isArray(t))return console.warn("\u26A0\uFE0F [RecipeService] Composition non valida:",t),[];let e=this.ingredientService.getIngredients();return t.map(i=>{let s="Ingrediente sconosciuto",c="pz";if(i.ingredient_id&&e){let m=e.find(_=>_.id===i.ingredient_id);m&&(s=m.name,m.units?.symbol&&(c=m.units.symbol))}return{id:i.ingredient_id,name:i.ingredient_name||s,quantity:i.quantity||0,unit:i.unit_symbol||c,notes:i.recipe_notes||"",cost:i.cost||0}})}calculateRecipeCost(t){let e=this.getDishById(t);return!e||!e.ingredients_composition?0:e.ingredients_composition.reduce((i,s)=>i+(s.cost||0),0)}getPreparationTime(t){return this.getDishById(t)?.preparation_time||15}static \u0275fac=function(e){return new(e||o)};static \u0275prov=M({token:o,factory:o.\u0275fac,providedIn:"root"})};function he(o,t){if(o&1&&(a(0,"option",35),r(1),n()),o&2){let e=t.$implicit;p("value",e.id),l(),f(" ",e.name," ")}}function ve(o,t){o&1&&(a(0,"div",36)(1,"span",20),r(2,"restaurant_menu"),n(),a(3,"h3"),r(4,"Nessun ordine attivo"),n(),a(5,"p",7),r(6,"Tutti gli ordini sono stati completati"),n()())}function fe(o,t){if(o&1&&(a(0,"span",51),r(1),n()),o&2){let e=d().$implicit,i=d();l(),f(" \u23F3 ",i.getGroupStatusSummary(e).waiting," in attesa ")}}function xe(o,t){if(o&1&&(a(0,"span",52),r(1),n()),o&2){let e=d().$implicit,i=d();l(),f(" \u{1F468}\u200D\u{1F373} ",i.getGroupStatusSummary(e).preparing," in preparazione ")}}function ye(o,t){if(o&1&&(a(0,"span",53),r(1),n()),o&2){let e=d().$implicit,i=d();l(),f(" \u2705 ",i.getGroupStatusSummary(e).ready," pronto ")}}function be(o,t){if(o&1){let e=S();a(0,"select",65),v("change",function(s){x(e);let c=d().$implicit,m=d(3);return y(m.updateComandaStatus(c,s))}),a(1,"option",23),r(2,"In Attesa"),n(),a(3,"option",24),r(4,"In Preparazione"),n(),a(5,"option",25),r(6,"Pronto"),n(),a(7,"option",66),r(8,"Cancellato"),n()()}if(o&2){let e=d().$implicit;p("value",e.status)}}function Se(o,t){if(o&1&&(a(0,"div",87)(1,"p",88),r(2),n()()),o&2){let e=d().$implicit;l(2),C(e.notes)}}function Ce(o,t){if(o&1){let e=S();a(0,"button",30),v("click",function(){x(e);let s=d().$implicit,c=d(5);return y(c.forceOrderedToWaiting(s))}),a(1,"span",20),r(2,"play_arrow"),n(),r(3," Prendi in carico "),n()}}function we(o,t){if(o&1){let e=S();a(0,"button",30),v("click",function(){x(e);let s=d().$implicit,c=d(5);return y(c.startItemPreparation(s))}),a(1,"span",20),r(2,"kitchen"),n(),r(3," Inizia preparazione "),n()}}function Ie(o,t){if(o&1){let e=S();a(0,"button",30),v("click",function(){x(e);let s=d().$implicit,c=d(5);return y(c.markItemAsReady(s))}),a(1,"span",20),r(2,"check_circle"),n(),r(3," Segnala pronto "),n()}}function Ee(o,t){o&1&&(a(0,"div",42)(1,"span",89),r(2,"done_all"),n(),a(3,"span",7),r(4,"Pronto - in attesa della sala"),n()())}function ke(o,t){if(o&1&&(a(0,"option",90),r(1),n()),o&2){let e=t.$implicit,i=d().$implicit,s=d(5);p("value",e)("disabled",e===i.status),l(),f(" ",s.getStatusText(e)," ")}}function De(o,t){if(o&1){let e=S();a(0,"div",9)(1,"div",70)(2,"div",71)(3,"div",72)(4,"span",73),r(5),n(),a(6,"span",59),r(7),n()(),a(8,"div",74),r(9),n()(),a(10,"div",75)(11,"span",76)(12,"span",20),r(13,"schedule"),n(),r(14),n()(),h(15,Se,3,1,"div",77),a(16,"div",78)(17,"div",79),h(18,Ce,4,0,"button",80)(19,we,4,0,"button",80)(20,Ie,4,0,"button",80)(21,Ee,5,0,"div",81),n(),a(22,"div",82)(23,"select",83),v("change",function(s){let c=x(e).$implicit,m=d(5);return y(m.updateItemStatus(c,s))}),h(24,ke,2,3,"option",84),n(),a(25,"div",4)(26,"button",85),v("click",function(){let s=x(e).$implicit,c=d(5);return y(c.markItemAsOutOfStock(s))}),a(27,"span",20),r(28,"block"),n()(),a(29,"button",86),v("click",function(){let s=x(e).$implicit,c=d(5);return y(c.openRecipeModal(s))}),a(30,"span",20),r(31,"menu_book"),n()()()()()()()}if(o&2){let e=t.$implicit,i=d(5);P("status-"+e.status),l(5),f("",e.quantity,"\xD7"),l(2),C(i.getDishDisplayName(e)),l(),P(i.getStatusColor(e.status)),l(),f(" ",i.getStatusText(e.status)," "),l(2),p("ngClass","text-"+i.getTimerColor(e)),l(3),O(" ",i.getElapsedTimeCached(e),"/",e.preparation_time||15,"min "),l(),p("ngIf",e.notes),l(3),p("ngIf",e.status==="ordered"),l(),p("ngIf",e.status==="waiting"),l(),p("ngIf",e.status==="preparing"),l(),p("ngIf",e.status==="ready"),l(2),p("value",e.status),l(),p("ngForOf",i.getAllowedStatusesForItem(e))}}function Pe(o,t){if(o&1){let e=S();a(0,"div",67)(1,"div",8),h(2,De,32,17,"div",68),n(),a(3,"div",69)(4,"button",30),v("click",function(){x(e);let s=d().$implicit,c=d(3);return y(c.markAllItemsInComandaAsReady(s))}),a(5,"span",20),r(6,"done_all"),n(),r(7," Segna tutti i piatti della comanda come pronti "),n()()()}if(o&2){let e=d().$implicit,i=d(3);l(2),p("ngForOf",e.items)("ngForTrackBy",i.trackByItem)}}function Te(o,t){if(o&1){let e=S();a(0,"div",57)(1,"div",58),v("click",function(){let s=x(e).index,c=d(2).$implicit,m=d();return y(m.toggleComandaExpansion(c.order_header_id,s))}),a(2,"div",42)(3,"span",20),r(4),n(),a(5,"span",59),r(6),n(),a(7,"span",43),r(8),n(),h(9,be,9,1,"select",60),n(),a(10,"div",42)(11,"span",61),r(12),n(),a(13,"div",62),H(14,"div",63),n()()(),h(15,Pe,8,2,"div",64),n()}if(o&2){let e=t.$implicit,i=t.index,s=d(2).$implicit,c=d();l(4),f(" ",c.isComandaExpanded(s.order_header_id,i)?"expand_less":"expand_more"," "),l(2),f("Comanda ",i+1),l(),P(c.getComandaStatusColor(e.status)),l(),f(" ",c.getStatusText(e.status)," "),l(),p("ngIf",c.isComandaEditableByKitchen(e)),l(3),O("",e.completed_items,"/",e.total_items),l(2),U("width",e.progress_percentage,"%")("background",c.getComandaStatusColor(e.status)==="warning"?"var(--warning)":c.getComandaStatusColor(e.status)==="primary"?"var(--primary)":c.getComandaStatusColor(e.status)==="success"?"var(--success)":"var(--secondary)"),l(),p("ngIf",c.isComandaExpanded(s.order_header_id,i))}}function Ke(o,t){if(o&1){let e=S();a(0,"div",69)(1,"button",91),v("click",function(){x(e);let s=d(2).$implicit,c=d();return y(c.markAllComandeAsReady(s))}),a(2,"span",20),r(3,"done_all"),n(),r(4," Segna tutto l'ordine come pronto "),n()()}if(o&2){let e=d(2).$implicit,i=d();l(),p("disabled",i.isGroupAllReady(e))}}function Me(o,t){if(o&1&&(a(0,"div",54),h(1,Te,16,13,"div",55)(2,Ke,5,1,"div",56),n()),o&2){let e=d().$implicit,i=d();l(),p("ngForOf",e.comande)("ngForTrackBy",i.trackByComanda),l(),p("ngIf",i.hasItemsInGroup(e))}}function Oe(o,t){if(o&1){let e=S();a(0,"div",15)(1,"div",37),v("click",function(){let s=x(e).$implicit,c=d();return y(c.toggleGroupExpansion(s.order_header_id))}),a(2,"div",38)(3,"div",39)(4,"span",40),r(5,"table_restaurant"),n(),a(6,"h2",41),r(7),n()(),a(8,"div",42)(9,"span",43),r(10),n(),a(11,"span",44),r(12),n()()(),a(13,"div",45)(14,"span",46)(15,"span",20),r(16,"schedule"),n(),r(17),n(),a(18,"span",46)(19,"span",20),r(20,"list_alt"),n(),r(21),n(),h(22,fe,2,1,"span",47)(23,xe,2,1,"span",48)(24,ye,2,1,"span",49),n()(),h(25,Me,3,3,"div",50),n()}if(o&2){let e=t.$implicit,i=d();l(7),f(" Tavolo ",e.table_number," "),l(2),P(i.getGroupStatusColor(e)),l(),f(" ",i.getGroupStatusText(e)," "),l(2),f(" ",i.isGroupExpanded(e.order_header_id)?"expand_less":"expand_more"," "),l(5),f(" ",i.formatTime(e.created_at)," "),l(4),f(" ",e.comande.length," comanda(e) "),l(),p("ngIf",i.getGroupStatusSummary(e).waiting>0),l(),p("ngIf",i.getGroupStatusSummary(e).preparing>0),l(),p("ngIf",i.getGroupStatusSummary(e).ready>0),l(),p("ngIf",i.isGroupExpanded(e.order_header_id))}}function Re(o,t){if(o&1&&(a(0,"span",101),r(1),n()),o&2){let e=d(2);l(),f(" ",e.selectedRecipeItem.preparation_time," min ")}}function $e(o,t){if(o&1&&(a(0,"div",113),r(1),w(2,"number"),n()),o&2){let e=d().$implicit;l(),f(" \u20AC",Q(2,1,e.cost,"1.2-2")," ")}}function Fe(o,t){if(o&1&&(a(0,"div",31)(1,"label",19)(2,"span",20),r(3,"notes"),n(),r(4," Note di preparazione: "),n(),a(5,"p",110),r(6),n()()),o&2){let e=d().$implicit;l(6),C(e.notes)}}function Ge(o,t){if(o&1&&(a(0,"div",9)(1,"div",108)(2,"div")(3,"strong",109),r(4),n(),a(5,"div",110),r(6),n()(),h(7,$e,3,4,"div",111),n(),h(8,Fe,7,1,"div",112),n()),o&2){let e=t.$implicit;l(4),C(e.name||"Ingrediente"),l(2),O(" ",e.quantity||0," ",e.unit||""," "),l(),p("ngIf",e.cost>0),l(),p("ngIf",e.notes)}}function Ae(o,t){if(o&1&&(a(0,"div",8),h(1,Ge,9,5,"div",107),n()),o&2){let e=d(3);l(),p("ngForOf",e.getRecipeDetails().ingredients)}}function ze(o,t){o&1&&(a(0,"div",114)(1,"span",115),r(2,"info"),n(),a(3,"p",7),r(4,"Nessun ingrediente definito per questo piatto"),n()())}function Ve(o,t){if(o&1&&(a(0,"div",9)(1,"div",10)(2,"span",20),r(3,"menu_book"),n(),a(4,"h3",12),r(5,"Istruzioni di Preparazione"),n()(),a(6,"p",7),r(7),n()()),o&2){let e=d(3);l(7),C(e.getRecipeDetails().instructions)}}function Ne(o,t){o&1&&(a(0,"div",116)(1,"span",115),r(2,"info"),n(),a(3,"p",7),r(4,"Nessuna istruzione di preparazione disponibile"),n()())}function Be(o,t){if(o&1&&(a(0,"div")(1,"div",102)(2,"div",10)(3,"span",20),r(4,"list_alt"),n(),a(5,"h3",12),r(6,"Ingredienti"),n(),a(7,"span",103),r(8),n()(),h(9,Ae,2,1,"div",104)(10,ze,5,0,"ng-template",null,1,N),n(),h(12,Ve,8,1,"div",105)(13,Ne,5,0,"div",106),n()),o&2){let e=G(11),i=d(2);l(8),C(i.getRecipeDetails().ingredients.length||0),l(),p("ngIf",i.getRecipeDetails().ingredients&&i.getRecipeDetails().ingredients.length>0)("ngIfElse",e),l(3),p("ngIf",i.getRecipeDetails().instructions),l(),p("ngIf",!i.getRecipeDetails().instructions)}}function je(o,t){o&1&&(a(0,"div",117)(1,"span",115),r(2,"info"),n(),a(3,"p",7),r(4,"Nessuna ricetta disponibile per questo piatto"),n()())}function qe(o,t){if(o&1){let e=S();a(0,"div",92),v("click",function(){x(e);let s=d();return y(s.closeRecipeModal())}),a(1,"div",93),v("click",function(s){return x(e),y(s.stopPropagation())}),a(2,"div",94)(3,"h2",95)(4,"span",20),r(5,"menu_book"),n(),r(6),h(7,Re,2,1,"span",96),n(),a(8,"button",97),v("click",function(){x(e);let s=d();return y(s.closeRecipeModal())}),a(9,"span",20),r(10,"close"),n()()(),a(11,"div",98),h(12,Be,14,5,"div",99)(13,je,5,0,"ng-template",null,0,N),n(),a(15,"div",100)(16,"button",30),v("click",function(){x(e);let s=d();return y(s.closeRecipeModal())}),a(17,"span",20),r(18,"close"),n(),r(19," Chiudi "),n()()()()}if(o&2){let e=G(14),i=d();l(6),f(" Ricetta - ",i.selectedRecipeItem==null?null:i.selectedRecipeItem.dish_name," "),l(),p("ngIf",i.selectedRecipeItem),l(5),p("ngIf",i.selectedRecipeItem)("ngIfElse",e)}}var ge=class o{kitchenService=b($);orderStatusService=b(R);recipeService=b(F);cdr=b(Y);dishService=b(E);dishNameCache=new Map;allowedStatusesCache=new Map;elapsedTimeCache=new Map;lastCacheUpdate=new Map;CACHE_TTL=3e4;floorPlans=[];selectedFloorPlanId="all";recipeDetails$;statusFilter="all";searchTerm="";filteredGroups$=this.kitchenService.filteredGroups$;stats$=this.kitchenService.stats$;showRecipeModal=!1;selectedRecipeItem=null;expandedGroups={};expandedComande={};subscriptions=new B;ngOnInit(){return u(this,null,function*(){console.log("\u{1F3C1} KitchenDisplay initialized"),console.log("\u{1F35D} [KitchenDisplay] Piatti disponibili:",this.dishService.getDishes().length),this.dishService.data$.pipe(q(1)).subscribe(t=>{console.log("\u{1F35D} [KitchenDisplay] Primi 5 piatti:",t.slice(0,5).map(e=>({id:e.id,name:e.name})))}),yield this.loadFloorPlans(),yield this.forceRefresh(),this.debugDishNames(),this.subscriptions.add(this.filteredGroups$.subscribe(t=>{t?.forEach(e=>{let i=e.order_header_id;i in this.expandedGroups||(this.expandedGroups[i]=!0),e.comande?.forEach(s=>{let c=`${i}-${s.comanda_number}`;c in this.expandedComande||(this.expandedComande[c]=!0)})})}))})}ngOnDestroy(){this.subscriptions.unsubscribe()}loadFloorPlans(){return u(this,null,function*(){try{this.floorPlans=yield this.kitchenService.loadFloorPlans(),console.log("Mappe caricate:",this.floorPlans)}catch(t){console.error("Errore caricamento mappe:",t)}})}onFloorPlanChange(){this.kitchenService.setFloorPlanFilter(this.selectedFloorPlanId)}startItemPreparation(t){return u(this,null,function*(){(yield this.orderStatusService.updateItemStatus(t.id,"preparing"))?yield this.forceRefresh():alert("Errore")})}markItemAsReady(t){return u(this,null,function*(){(yield this.orderStatusService.updateItemStatus(t.id,"ready"))?yield this.forceRefresh():alert("Errore")})}markItemAsOutOfStock(t){return u(this,null,function*(){(yield this.orderStatusService.updateItemStatus(t.id,"out_of_stock"))?yield this.forceRefresh():alert("Errore")})}updateItemStatus(t,e){return u(this,null,function*(){let i=e.target,s=i.value;this.orderStatusService.canTransitionItem(t.status,s,"kitchen")?(yield this.orderStatusService.updateItemStatus(t.id,s))?yield this.forceRefresh():i.value=t.status:(alert("Transizione non consentita!"),i.value=t.status)})}updateComandaStatus(t,e){return u(this,null,function*(){let i=e.target,s=i.value;(yield this.orderStatusService.updateComandaStatus(t.id,s))?yield this.forceRefresh():i.value=t.status})}markAllComandeAsReady(t){return u(this,null,function*(){(yield this.kitchenService.markAllItemsInGroupAsReady(t))?yield this.forceRefresh():alert("Errore")})}markAllItemsInComandaAsReady(t){return u(this,null,function*(){(yield this.kitchenService.markAllItemsInComandaAsReady(t))?yield this.forceRefresh():alert("Errore")})}toggleGroupExpansion(t){this.expandedGroups[t]=!this.expandedGroups[t]}toggleComandaExpansion(t,e){let i=`${t}-${e}`;this.expandedComande[i]=!this.expandedComande[i]}isGroupExpanded(t){return this.expandedGroups[t]!==!1}isComandaExpanded(t,e){let i=`${t}-${e}`;return this.expandedComande[i]!==!1}onStatusFilterChange(t){this.statusFilter=t,this.kitchenService.setStatusFilter(t)}onSearchChange(){this.kitchenService.setSearchTerm(this.searchTerm)}getStatusText(t){return{ordered:"Ordinato",waiting:"In Attesa",preparing:"In Preparazione",ready:"Pronto",served:"Servito",cancelled:"Cancellato",out_of_stock:"Esaurito"}[t]||t}getStatusShortText(t){return{ordered:"Ordinato",waiting:"Attesa",preparing:"Prep.",ready:"Pronto",served:"Servito",out_of_stock:"Esaurito"}[t]||t}getStatusColor(t){return{waiting:"warning",preparing:"primary",ready:"success",served:"secondary",ordered:"info",cancelled:"danger",out_of_stock:"dark"}[t]||"secondary"}getGroupStatusColor(t){return this.getGroupStatusSummary(t).waiting>0?"warning":this.getGroupStatusSummary(t).preparing>0?"primary":this.getGroupStatusSummary(t).ready>0?"success":"secondary"}getGroupStatusText(t){let e=this.getGroupStatusSummary(t);return e.waiting>0?"In Attesa":e.preparing>0?"In Preparazione":e.ready>0?"Pronto":"Servito"}getComandaStatusColor(t){return{ordered:"info",waiting:"warning",preparing:"primary",ready:"success",served:"secondary",cancelled:"danger"}[t]||"secondary"}formatTime(t){return this.kitchenService.formatTime(t)}getElapsedTimeCached(t){let e=Date.now(),i=t.id,s=this.lastCacheUpdate.get(i)||0,c=this.elapsedTimeCache.get(i);if(c!==void 0&&e-s<this.CACHE_TTL)return c;let m=this.kitchenService.calculateElapsedTime(t);return this.elapsedTimeCache.set(i,m),this.lastCacheUpdate.set(i,e),m}getTimerColor(t){let e=this.getElapsedTimeCached(t),i=t.preparation_time||15;if(i===0)return"secondary";let s=e/i*100;return s<50?"success":s<75?"warning":"danger"}getRemainingTime(t){let e=this.getElapsedTimeCached(t),i=t.preparation_time||15;return Math.max(0,i-e)}hasItemsInGroup(t){return t.comande.some(e=>e.items&&e.items.length>0)}isGroupAllReady(t){return t.comande.every(e=>e.status==="ready"||e.status==="served")}getGroupStatusSummary(t){if(t.status_summary)return t.status_summary;let e={waiting:0,preparing:0,ready:0,served:0,ordered:0,cancelled:0,out_of_stock:0};return t.comande?.forEach(i=>{i.items?.forEach(s=>{let c=s.status||"ordered";e.hasOwnProperty(c)&&e[c]++})}),e}getComandaProgress(t){return{completed:t.completed_items||0,total:t.total_items||0,percentage:t.progress_percentage||0}}getRecipeDetails(){return this.selectedRecipeItem?this.recipeService.getRecipeDetails(this.selectedRecipeItem.dish_id):{ingredients:[],instructions:"Nessun piatto selezionato",preparationTime:15}}openRecipeModal(t){this.selectedRecipeItem=t,this.showRecipeModal=!0,this.recipeDetails$=this.recipeService.getRecipeDetails$(t.dish_id)}closeRecipeModal(){this.selectedRecipeItem=null,this.showRecipeModal=!1}getDishDisplayName(t){if(t.dish_name&&t.dish_name!=="Piatto")return t.dish_name;let e=this.dishService.getDishById(t.dish_id);return e?.name?e.name:t.dish_name||`Piatto #${t.dish_id?.substring(0,4)||"???"}`}getAllowedStatusesForItem(t){let e=`${t.status}_kitchen`;if(this.allowedStatusesCache.has(e))return this.allowedStatusesCache.get(e);let s=["waiting","preparing","ready","out_of_stock"].filter(c=>this.orderStatusService.canTransitionItem(t.status,c,"kitchen"));return this.allowedStatusesCache.set(e,s),s}isComandaEditableByKitchen(t){return["ordered","waiting","preparing","ready"].includes(t.status)}canTransitionTo(t,e){return this.orderStatusService.canTransitionItem(t.status,e,"kitchen")}forceOrderedToWaiting(t){return u(this,null,function*(){(yield this.orderStatusService.updateItemStatus(t.id,"waiting"))?yield this.forceRefresh():alert("Impossibile forzare lo stato")})}forceRefresh(){return u(this,null,function*(){yield this.kitchenService.forceRefresh()})}updateItemStatusQuick(t,e){return u(this,null,function*(){try{(yield this.orderStatusService.updateItemStatus(t.id,e))?yield this.forceRefresh():alert("Errore nel cambio stato")}catch(i){console.error("Errore:",i),alert("Errore nel cambio stato")}})}trackByGroup(t,e){return e?.order_header_id??t}trackByComanda(t,e){return e?.id??e?.comanda_number??t}trackByItem(t,e){return e?.id??t}debugDishNames(){let t=this.dishService.getDishes();console.log("\u{1F35D} [Debug] Totale piatti caricati:",t.length),t.length>0&&console.log("\u{1F35D} [Debug] Primi 3 piatti:",t.slice(0,3).map(e=>({id:e.id,name:e.name,preparation_time:e.preparation_time}))),this.subscriptions.add(this.filteredGroups$.subscribe(e=>{if(e.length>0&&e[0].comande.length>0){let i=e[0].comande[0].items[0];i&&console.log("\u{1F4DD} [Debug] Primo item:",{dish_id:i.dish_id,dish_name:i.dish_name,preparation_time:i.preparation_time})}}))}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=W({type:o,selectors:[["app-kitchen-display"]],decls:97,vars:24,consts:[["noRecipe",""],["noIngredients",""],[1,"page-container"],[1,"section-header"],[1,"flex","gap-sm"],[1,"material-icons","fs-lg"],[1,"section-title"],[1,"text-muted"],[1,"grid-cards"],[1,"card"],[1,"flex","items-center","gap-sm","mb-md"],[1,"material-icons","text-primary","text-md"],[1,"card-title"],[1,"text-md","font-bold","text-primary","justify-center","flex"],[1,"text-muted","card-footer"],[1,"form-card","mt-lg"],[1,"flex","flex-col","md:flex-row","justify-between","items-start","md:items-end","gap-sm"],[1,"form-row"],[1,"form-group"],[1,"standard-label"],[1,"material-icons"],[3,"change","value"],["value","all"],["value","waiting"],["value","preparing"],["value","ready"],["type","text","placeholder","Ordine, tavolo, piatto...",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer","p-md0"],[1,"promethea-button",3,"click"],[1,"mt-lg"],["class","empty-state",4,"ngIf"],["class","form-card mt-lg",4,"ngFor","ngForOf","ngForTrackBy"],["class","modal-overlay",3,"click",4,"ngIf"],[3,"value"],[1,"empty-state"],[1,"flex","flex-col","gap-sm",2,"cursor","pointer",3,"click"],[1,"flex","justify-between","items-center"],[1,"flex","gap-sm","items-center"],[1,"material-icons","text-lg"],[1,"section-title","m-0","flex","items-center","gap-sm"],[1,"flex","items-center","gap-sm"],[1,"chip"],[1,"material-icons","text-md"],[1,"flex","flex-wrap","gap-sm","mt-sm"],[1,"chip","bg-smoke"],["class","chip warning",4,"ngIf"],["class","chip primary",4,"ngIf"],["class","chip success",4,"ngIf"],["class","mt-md",4,"ngIf"],[1,"chip","warning"],[1,"chip","primary"],[1,"chip","success"],[1,"mt-md"],["class","mb-lg",4,"ngFor","ngForOf","ngForTrackBy"],["class","flex justify-end mt-lg",4,"ngIf"],[1,"mb-lg"],[1,"flex","justify-between","items-center","m-sm02","p-sm","rounded","bg-smoke","cursor-pointer",3,"click"],[1,"font-semibold"],["class","text-mini","style","min-width: 130px;",3,"value","change",4,"ngIf"],[1,"text-sm","font-semibold"],[2,"width","100px","height","8px","background","var(--smoke-1)","border-radius","4px","overflow","hidden"],[2,"height","100%","transition","width 0.3s ease"],["class","mt-sm",4,"ngIf"],[1,"text-mini",2,"min-width","130px",3,"change","value"],["value","cancelled"],[1,"mt-sm"],["class","card",3,"class",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","justify-end","mt-lg"],[1,"card-body"],[1,"flex","justify-between",2,"width","100%"],[1,"flex","gap-sm","mb-sm"],[1,"font-bold","text-primary"],[1,"chip","text-mini"],[1,"flex","items-center","gap-sm","flex-wrap"],[1,"text-mini",3,"ngClass"],["class","mt-sm p-xs rounded bg-smoke",4,"ngIf"],[1,"flex","flex-col","gap-md","mt-sm",2,"width","100%"],[1,"flex","flex-wrap","gap-sm"],["class","promethea-button",3,"click",4,"ngIf"],["class","flex items-center gap-sm",4,"ngIf"],[1,"flex","justify-between","gap-sm",2,"width","100%"],[1,"text-mini",2,"min-width","140px",3,"change","value"],[3,"value","disabled",4,"ngFor","ngForOf"],["title","Segnala esaurito",1,"icon-button",3,"click"],["title","Vedi ricetta",1,"icon-button",3,"click"],[1,"mt-sm","p-xs","rounded","bg-smoke"],[1,"text-muted","text-mini"],[1,"material-icons","text-success"],[3,"value","disabled"],[1,"promethea-button",3,"click","disabled"],[1,"modal-overlay",3,"click"],[1,"modal-container","modal-lg",3,"click"],[1,"modal-header"],[1,"section-title","m-0"],["class","chip active ml-md",4,"ngIf"],["type","button",1,"icon-button",3,"click"],[1,"modal-content"],[4,"ngIf","ngIfElse"],[1,"modal-footer"],[1,"chip","active","ml-md"],[1,"card","mb-lg"],[1,"chip","active"],["class","grid-cards",4,"ngIf","ngIfElse"],["class","card",4,"ngIf"],["class","card text-center p-md",4,"ngIf"],["class","card",4,"ngFor","ngForOf"],[1,"flex","justify-between","items-start","mb-sm"],[1,"text-md"],[1,"text-muted","text-sm","mt-1"],["class","text-primary font-semibold",4,"ngIf"],["class","mt-lg",4,"ngIf"],[1,"text-primary","font-semibold"],[1,"text-center","p-md"],[1,"material-icons","text-muted"],[1,"card","text-center","p-md"],[1,"card","text-center","p-xl"]],template:function(e,i){if(e&1&&(a(0,"div",2)(1,"div",3)(2,"div",4)(3,"span",5),r(4,"restaurant"),n(),a(5,"h1",6),r(6,"Display Cucina"),n()(),a(7,"p",7),r(8,"Gestisci gli ordini raggruppati per comanda"),n()(),a(9,"div",8)(10,"div",9)(11,"div",10)(12,"span",11),r(13,"schedule"),n(),a(14,"h3",12),r(15,"In Attesa"),n()(),a(16,"div",13),r(17),w(18,"async"),n(),a(19,"span",14),r(20,"Piatti in attesa"),n()(),a(21,"div",9)(22,"div",10)(23,"span",11),r(24,"kitchen"),n(),a(25,"h3",12),r(26,"In Preparazione"),n()(),a(27,"div",13),r(28),w(29,"async"),n(),a(30,"span",14),r(31,"Piatti in preparazione"),n()(),a(32,"div",9)(33,"div",10)(34,"span",11),r(35,"done"),n(),a(36,"h3",12),r(37,"Pronti"),n()(),a(38,"div",13),r(39),w(40,"async"),n(),a(41,"span",14),r(42,"Piatti pronti"),n()(),a(43,"div",9)(44,"div",10)(45,"span",11),r(46,"list_alt"),n(),a(47,"h3",12),r(48,"Ordini Attivi"),n()(),a(49,"div",13),r(50),w(51,"async"),n(),a(52,"span",14),r(53,"Gruppi attivi"),n()()(),a(54,"div",15)(55,"div",16)(56,"div",17)(57,"div",18)(58,"label",19)(59,"span",20),r(60,"filter_list"),n(),r(61," Stato: "),n(),a(62,"select",21),v("change",function(c){return i.onStatusFilterChange(c.target.value)}),a(63,"option",22),r(64,"Tutti gli ordini"),n(),a(65,"option",23),r(66,"In Attesa"),n(),a(67,"option",24),r(68,"In Preparazione"),n(),a(69,"option",25),r(70,"Pronti"),n()()(),a(71,"div",18)(72,"label",19)(73,"span",20),r(74,"search"),n(),r(75," Cerca: "),n(),a(76,"input",26),V("ngModelChange",function(c){return z(i.searchTerm,c)||(i.searchTerm=c),c}),v("ngModelChange",function(){return i.onSearchChange()}),n()(),a(77,"div",18)(78,"label",19)(79,"span",20),r(80,"map"),n(),r(81," Mappa: "),n(),a(82,"select",27),V("ngModelChange",function(c){return z(i.selectedFloorPlanId,c)||(i.selectedFloorPlanId=c),c}),v("ngModelChange",function(){return i.onFloorPlanChange()}),a(83,"option",22),r(84,"Tutte le mappe"),n(),h(85,he,2,2,"option",28),n()()(),a(86,"div",29)(87,"button",30),v("click",function(){return i.forceRefresh()}),a(88,"span",20),r(89,"refresh"),n(),r(90," Aggiorna "),n()()()(),a(91,"div",31),h(92,ve,7,0,"div",32),w(93,"async"),h(94,Oe,26,11,"div",33),w(95,"async"),n()(),h(96,qe,20,4,"div",34)),e&2){let s,c,m,_,g;l(17),C(((s=I(18,12,i.stats$))==null?null:s.waiting)||0),l(11),C(((c=I(29,14,i.stats$))==null?null:c.preparing)||0),l(11),C(((m=I(40,16,i.stats$))==null?null:m.ready)||0),l(11),C(((_=I(51,18,i.stats$))==null?null:_.totalGroups)||0),l(12),p("value",i.statusFilter),l(14),A("ngModel",i.searchTerm),l(6),A("ngModel",i.selectedFloorPlanId),l(3),p("ngForOf",i.floorPlans),l(7),p("ngIf",((g=I(93,20,i.filteredGroups$))==null?null:g.length)===0),l(2),p("ngForOf",I(95,22,i.filteredGroups$))("ngForTrackBy",i.trackByGroup),l(2),p("ngIf",i.showRecipeModal)}},dependencies:[ie,J,X,Z,me,le,de,re,ce,se,oe,ee,te],styles:[".order-card[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.2,.9,.2,1)}.order-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px var(--shadow-2)}.order-progress[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:var(--gap-sm)}.progress-fill[_ngcontent-%COMP%]{height:100%;border-radius:4px;transition:width .3s ease}.progress-fill.waiting-bg[_ngcontent-%COMP%]{background:var(--secondary)}.progress-fill.preparing-bg[_ngcontent-%COMP%]{background:var(--primary)}.progress-fill.ready-bg[_ngcontent-%COMP%]{background:#10b981}.item-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:var(--gap-sm)}.item-name[_ngcontent-%COMP%]{font-size:var(--fs-md);line-height:1.2;font-weight:700}.item-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;gap:var(--gap-sm);justify-content:space-between}.item-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--gap-sm);padding:var(--gap-sm);min-width:200px}.chip.waiting[_ngcontent-%COMP%]{background:color-mix(in srgb,var(--secondary) 20%,transparent);color:var(--secondary)}.chip.preparing[_ngcontent-%COMP%]{background:color-mix(in srgb,var(--primary) 20%,transparent);color:var(--primary)}.chip.ready[_ngcontent-%COMP%]{background:color-mix(in srgb,#10b981 20%,transparent);color:#10b981}.chip.served[_ngcontent-%COMP%]{background:color-mix(in srgb,#6b7280 20%,transparent);color:#6b7280}.chip.time-normal[_ngcontent-%COMP%]{background:var(--smoke-1)}.chip.time-warning[_ngcontent-%COMP%]{background:color-mix(in srgb,#f59e0b 20%,transparent);color:#f59e0b}.chip.time-critical[_ngcontent-%COMP%]{background:color-mix(in srgb,#ef4444 20%,transparent);color:#ef4444}.promethea-button.small[_ngcontent-%COMP%]{padding:var(--gap-sm) var(--gap-md);font-size:.875rem;min-height:36px}.modal-content[_ngcontent-%COMP%]{max-height:60vh;overflow-y:auto}.modal-lg[_ngcontent-%COMP%]{max-width:800px}@media (max-width: 768px){.item-actions[_ngcontent-%COMP%]{align-items:stretch;min-width:auto}.item-actions[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%]{justify-content:space-between}.order-progress[_ngcontent-%COMP%]{min-width:auto}.modal-lg[_ngcontent-%COMP%]{margin:var(--gap-md);max-width:calc(100vw - 2 * var(--gap-md))}}@media (max-width: 480px){.promethea-button.small[_ngcontent-%COMP%]{padding:8px 12px;font-size:.8rem}.promethea-button.small[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:16px}.grid-cards[_ngcontent-%COMP%]{grid-template-columns:1fr}}.rotate-90[_ngcontent-%COMP%]{transform:rotate(90deg);transition:transform .3s ease}.order-progress[_ngcontent-%COMP%]{min-width:200px}.progress-bar[_ngcontent-%COMP%]{width:100%;height:8px;background:var(--smoke-1);border-radius:4px;overflow:hidden}.progress-fill[_ngcontent-%COMP%]{height:100%;transition:width .3s ease}.warning-bg[_ngcontent-%COMP%]{background:#ff9800}.primary-bg[_ngcontent-%COMP%]{background:#2196f3}.success-bg[_ngcontent-%COMP%]{background:#4caf50}.secondary-bg[_ngcontent-%COMP%]{background:#9c27b0}.card-body[_ngcontent-%COMP%]{justify-content:space-between;flex-wrap:wrap}.card[_ngcontent-%COMP%]{overflow:hidden}"]})};export{ge as KitchenDisplay};
