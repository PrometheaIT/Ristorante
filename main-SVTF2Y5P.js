import{a as te}from"./chunk-YBKV2SZW.js";import{a as Z}from"./chunk-M7LOLZQJ.js";import"./chunk-THIV3BQJ.js";import{a as ee}from"./chunk-57RGVMRV.js";import"./chunk-7QR2BAVO.js";import"./chunk-WUX2K4S7.js";import"./chunk-Y4TUQNZC.js";import"./chunk-7V5YPNIB.js";import{a as h}from"./chunk-KNL3CWA3.js";import{A as X,e as y,g as F,k as P,m as $,n as j,o as H,p as B,q as V,s as W,t as b,u as Y,v as q,w as K,x as J,y as Q}from"./chunk-DCWKKS33.js";import{$ as _,$b as N,Db as g,Eb as m,Ka as I,La as s,Nb as A,Pb as T,Qb as r,Rb as v,Sb as z,V as U,Yb as D,ab as S,ac as G,ea as p,f as u,fb as c,g as C,i as R,qb as l,rb as t,sb as n,t as E,tb as k}from"./chunk-K5RDB55Y.js";var f=class e{authService=p(h);router=p(b);canActivate(){return u(this,null,function*(){console.log("\u{1F6E1}\uFE0F AuthGuard: checking authentication"),yield this.authService.waitForAuthInit();let a=this.authService.isAuthenticated();return console.log("\u{1F6E1}\uFE0F AuthGuard - User authenticated:",a),a?(console.log("\u{1F6E1}\uFE0F AuthGuard - Access granted"),!0):(console.log("\u{1F6E1}\uFE0F AuthGuard - Redirecting to login"),this.router.navigate(["/login"]),!1)})}static \u0275fac=function(i){return new(i||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})};var x=class e{authService=p(h);router=p(b);canActivate(a){return u(this,null,function*(){console.log("\u{1F46E} RoleGuard: checking role permissions"),yield this.authService.waitForAuthInit();let i=a.data.roles,o=this.authService.currentUserValue;if(!o)return console.log("\u{1F46E} RoleGuard - No user found, redirecting to login"),this.router.navigate(["/login"]),!1;let d=o.user_metadata?.role;return console.log("\u{1F46E} RoleGuard - User role:",d,"Expected roles:",i),!d||!i.includes(d)?(console.warn(`\u{1F46E} RoleGuard - Access denied. Required roles: ${i}, User role: ${d}`),this.authService.isRestaurantUser()?this.router.navigate(["/restaurant/dashboard"]):this.authService.isCustomerUser()?this.router.navigate(["/customer/search"]):this.authService.isSupplierUser()?this.router.navigate(["/supplier/dashboard"]):this.router.navigate(["/login"]),!1):(console.log("\u{1F46E} RoleGuard - Role access granted"),!0)})}static \u0275fac=function(i){return new(i||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})};var ne=[{path:"login",loadComponent:()=>import("./chunk-HEYZ2ZH2.js").then(e=>e.Login)},{path:"register",children:[{path:"",loadComponent:()=>import("./chunk-SE6MFEW4.js").then(e=>e.Register)},{path:":role",loadComponent:()=>import("./chunk-SE6MFEW4.js").then(e=>e.Register)}]},{path:"restaurant-list",loadComponent:()=>import("./chunk-HN7K7VYD.js").then(e=>e.RestaurantList),title:"Ristoranti"},{path:"restaurant/:restaurantId/map",loadComponent:()=>import("./chunk-NQ42ZNJH.js").then(e=>e.RestaurantMapViewer),title:"Mappa Ristorante"},{path:"restaurant",canActivate:[f,x],data:{roles:["restaurant_owner","restaurant_manager","chef","waiter"]},children:[{path:"dashboard",loadComponent:()=>import("./chunk-5WEABLQ7.js").then(e=>e.Dashboard)},{path:"menu",loadComponent:()=>import("./chunk-CTJNWLPV.js").then(e=>e.MenuBuilder)},{path:"orders",loadComponent:()=>import("./chunk-LXT5CM5U.js").then(e=>e.LiveOrders)},{path:"kitchen-display",loadComponent:()=>import("./chunk-GXQQ6W32.js").then(e=>e.KitchenDisplay)},{path:"recipe",loadComponent:()=>import("./chunk-IFOLUZVQ.js").then(e=>e.Recipe)},{path:"reservations",loadComponent:()=>import("./chunk-HJ45OVQI.js").then(e=>e.ReservationManager)},{path:"table-map",loadComponent:()=>import("./chunk-XRZCKW4V.js").then(e=>e.TableMap)},{path:"floor-plan",loadComponent:()=>import("./chunk-IQZ3MCB7.js").then(e=>e.FloorPlanEditor)},{path:"calendar-view",loadComponent:()=>import("./chunk-DGB27X5X.js").then(e=>e.CalendarView)},{path:"inventory",loadComponent:()=>import("./chunk-ZOOCRWB7.js").then(e=>e.Inventory)},{path:"suppliers",loadComponent:()=>import("./chunk-VPSHO44F.js").then(e=>e.SupplierManager),title:"Gestione Fornitori"},{path:"tables",loadComponent:()=>import("./chunk-WPZGADYO.js").then(e=>e.TablemapView)},{path:"financial",loadComponent:()=>import("./chunk-N7CXZHOC.js").then(e=>e.FinancialReport)},{path:"settings",loadComponent:()=>import("./chunk-3K2QHDHI.js").then(e=>e.RestaurantSettings)},{path:"",redirectTo:"dashboard",pathMatch:"full"}]},{path:"supplier",canActivate:[f,x],data:{roles:["supplier"]},children:[{path:"dashboard",loadComponent:()=>import("./chunk-YQHVSEKT.js").then(e=>e.SupplierDashboard)},{path:"settings",loadComponent:()=>import("./chunk-ZBOKAHXD.js").then(e=>e.SupplierSettings)},{path:"restaurants",loadComponent:()=>import("./chunk-ZJWM63H7.js").then(e=>e.SupplierRestaurants)},{path:"products",loadComponent:()=>import("./chunk-LACYBS5O.js").then(e=>e.SupplierIngredients)},{path:"ingredients",loadComponent:()=>import("./chunk-LACYBS5O.js").then(e=>e.SupplierIngredients)},{path:"",redirectTo:"dashboard",pathMatch:"full"}]},{path:"customer",canActivate:[f,x],data:{roles:["customer"]},children:[{path:"search",loadComponent:()=>import("./chunk-Y27BBNWY.js").then(e=>e.RestaurantSearch)},{path:"reservations",loadComponent:()=>import("./chunk-ULEYZXWJ.js").then(e=>e.ReservationWizard)},{path:"orders",loadComponent:()=>import("./chunk-BEEPMDAQ.js").then(e=>e.OrderTracker)},{path:"reviews",loadComponent:()=>import("./chunk-VLJJDMWT.js").then(e=>e.ReviewSystem)},{path:"restaurant/:id",loadComponent:()=>import("./chunk-BWQR6YMZ.js").then(e=>e.RestaurantDetail)},{path:"menu/:id",loadComponent:()=>import("./chunk-LBJ6LVTH.js").then(e=>e.InteractiveMenu)},{path:"",redirectTo:"search",pathMatch:"full"}]},{path:"food-cost",loadComponent:()=>import("./chunk-EFZAMOJP.js").then(e=>e.FoodCostCalculator)},{path:"food-cost-calculator/:id",component:Z},{path:"",pathMatch:"full",redirectTo:"/restaurant-list"},{path:"**",redirectTo:"/restaurant-list"}];var re={providers:[K(ne,J())]};function oe(e,a){e&1&&(t(0,"div",1)(1,"div",2),k(2,"div",3),t(3,"p"),r(4,"Caricamento..."),n()()())}var M=class e{isLoading=!1;static \u0275fac=function(i){return new(i||e)};static \u0275cmp=S({type:e,selectors:[["app-loader"]],inputs:{isLoading:"isLoading"},decls:1,vars:1,consts:[["class","loader-overlay",4,"ngIf"],[1,"loader-overlay"],[1,"loader-card","card"],[1,"spinner"]],template:function(i,o){i&1&&c(0,oe,5,0,"div",0),i&2&&l("ngIf",o.isLoading)},dependencies:[P,y],styles:[".loader-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#ffffffe6;display:flex;justify-content:center;align-items:center;z-index:9999}.loader-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem;padding:2rem}.spinner[_ngcontent-%COMP%]{border:4px solid var(--smoke-color-1);border-top:4px solid var(--primary);border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})};function se(e,a){e&1&&(t(0,"div",20)(1,"span",5),r(2,"restaurant"),n(),t(3,"h2"),r(4,"Promethea"),n()())}function le(e,a){e&1&&(t(0,"h3",35),r(1,"Gestione Ristorante"),n())}function pe(e,a){if(e&1&&(t(0,"div",8),c(1,le,2,0,"h3",9),t(2,"ul",10)(3,"li",11)(4,"a",21)(5,"span",5),r(6,"dashboard"),n(),t(7,"span",13),r(8,"Dashboard"),n()()(),t(9,"li",11)(10,"a",22)(11,"span",5),r(12,"restaurant_menu"),n(),t(13,"span",13),r(14,"Menu & Piatti"),n()()(),t(15,"li",23)(16,"a",24)(17,"span",5),r(18,"receipt_long"),n(),t(19,"span",13),r(20,"Ordini Clienti"),n()()(),t(21,"li",23)(22,"a",25)(23,"span",5),r(24,"event_available"),n(),t(25,"span",13),r(26,"Prenotazioni"),n()()(),t(27,"li",11)(28,"a",26)(29,"span",5),r(30,"inventory_2"),n(),t(31,"span",13),r(32,"Inventario"),n()()(),t(33,"li",11)(34,"a",27)(35,"span",5),r(36,"local_shipping"),n(),t(37,"span",13),r(38,"Fornitori"),n()()(),t(39,"li",11)(40,"a",28)(41,"span",5),r(42,"table_restaurant"),n(),t(43,"span",13),r(44,"Layout Tavoli"),n()()(),t(45,"li",11)(46,"a",29)(47,"span",5),r(48,"brunch_dining"),n(),t(49,"span",13),r(50,"Prenotazioni"),n()()(),t(51,"li",11)(52,"a",30)(53,"span",5),r(54,"kitchen"),n(),t(55,"span",13),r(56,"Pannello Ordini"),n()()(),t(57,"li",11)(58,"a",31)(59,"span",5),r(60,"receipt_long"),n(),t(61,"span",13),r(62,"Ricette"),n()()(),t(63,"li",23)(64,"a",32)(65,"span",5),r(66,"calendar_month"),n(),t(67,"span",13),r(68,"Calendario"),n()()(),t(69,"li",23)(70,"a",33)(71,"span",5),r(72,"bar_chart"),n(),t(73,"span",13),r(74,"Report"),n()()(),t(75,"li",11)(76,"a",34)(77,"span",5),r(78,"savings"),n(),t(79,"span",13),r(80,"Food Cost"),n()()()()()),e&2){let i=m();s(),l("ngIf",!i.isSidebarCollapsed)}}function ce(e,a){e&1&&(t(0,"h3",35),r(1,"Gestione Fornitore"),n())}function de(e,a){if(e&1&&(t(0,"div",8),c(1,ce,2,0,"h3",9),t(2,"ul",10)(3,"li",11)(4,"a",36)(5,"span",5),r(6,"dashboard"),n(),t(7,"span",13),r(8,"Dashboard"),n()()(),t(9,"li",23)(10,"a",37)(11,"span",5),r(12,"inventory_2"),n(),t(13,"span",13),r(14,"Ingredienti Forniti"),n()()(),t(15,"li",23)(16,"a",38)(17,"span",5),r(18,"restaurant"),n(),t(19,"span",13),r(20,"Ristoranti Clienti"),n()()(),t(21,"li",11)(22,"a",37)(23,"span",5),r(24,"storefront"),n(),t(25,"span",13),r(26,"Catalogo Prodotti"),n()()()()()),e&2){let i=m();s(),l("ngIf",!i.isSidebarCollapsed)}}function ue(e,a){e&1&&(t(0,"h3",35),r(1,"Cliente"),n())}function me(e,a){if(e&1&&(t(0,"div",8),c(1,ue,2,0,"h3",9),t(2,"ul",10)(3,"li",11)(4,"a",39)(5,"span",5),r(6,"search"),n(),t(7,"span",13),r(8,"Cerca Ristoranti"),n()()(),t(9,"li",11)(10,"a",40)(11,"span",5),r(12,"restaurant"),n(),t(13,"span",13),r(14,"Lista Ristoranti"),n()()(),t(15,"li",11)(16,"a",41)(17,"span",5),r(18,"book_online"),n(),t(19,"span",13),r(20,"Le mie Prenotazioni"),n()()(),t(21,"li",11)(22,"a",42)(23,"span",5),r(24,"shopping_bag"),n(),t(25,"span",13),r(26,"I miei Ordini"),n()()(),t(27,"li",11)(28,"a",43)(29,"span",5),r(30,"rate_review"),n(),t(31,"span",13),r(32,"Le mie Recensioni"),n()()()()()),e&2){let i=m();s(),l("ngIf",!i.isSidebarCollapsed)}}function ge(e,a){e&1&&(t(0,"h3",35),r(1,"Account"),n())}function ve(e,a){if(e&1&&(t(0,"div",48)(1,"span"),r(2),n(),t(3,"span"),r(4),n()()),e&2){let i=m(2);s(2),v(i.getUserDisplayName()),s(),T(D("role-badge ",i.getRoleClass())),s(),v(i.getRoleLabel())}}function be(e,a){if(e&1&&(t(0,"div",49)(1,"span"),r(2),n()()),e&2){let i=m(2);s(2),v(i.getRestaurantName())}}function he(e,a){if(e&1&&(t(0,"div",49)(1,"span"),r(2),n()()),e&2){let i=m(2);s(2),v(i.getSupplierCompanyName())}}function fe(e,a){if(e&1&&(t(0,"div",44)(1,"div",45),r(2),N(3,"uppercase"),n(),c(4,ve,5,5,"div",46)(5,be,3,1,"div",47)(6,he,3,1,"div",47),n()),e&2){let i=m();s(2),z(" ",G(3,4,i.getUserInitial())," "),s(2),l("ngIf",i.currentUser),s(),l("ngIf",i.currentRestaurant&&i.isRestaurantUser()),s(),l("ngIf",i.supplierProfile&&i.isSupplierUser())}}var O=class e{authService=p(h);supabaseService=p(X);supplierAuthService=p(te);router=p(b);loadingService=p(ee);loading=!0;routerLoading=!1;initLoading=!0;isSidebarCollapsed=!1;currentUser$;currentRestaurant$;currentUser=null;currentRestaurant=null;supplierProfile=null;userSubscription=new C;supplierSubscription=new C;loadingSubscription=new C;constructor(){this.currentUser$=this.authService.currentUser$,this.currentRestaurant$=this.authService.currentUser$.pipe(U(a=>a&&this.isRestaurantUser()?new R(i=>{this.supabaseService.getCurrentUserRestaurant().then(o=>{i.next(o),i.complete()}).catch(o=>{console.error("Error loading restaurant:",o),i.next(null),i.complete()})}):E(null)))}ngOnInit(){this.loadingSubscription=this.loadingService.loading$.subscribe(a=>{this.loading=a||this.routerLoading||this.initLoading}),this.router.events.subscribe(a=>{a instanceof j?(this.routerLoading=!0,this.updateGlobalLoading()):(a instanceof H||a instanceof B||a instanceof V)&&(this.routerLoading=!1,this.updateGlobalLoading())}),this.userSubscription=this.authService.currentUser$.subscribe(a=>u(this,null,function*(){this.currentUser=a,a?(yield this.loadUserRestaurant(),this.isSupplierUser()&&(yield this.supplierAuthService.loadSupplierProfile())):(this.currentRestaurant=null,this.supplierProfile=null),this.initLoading=!1,this.updateGlobalLoading()})),this.currentRestaurant$.subscribe(a=>{this.currentRestaurant=a}),this.supplierSubscription=this.supplierAuthService.supplierProfile$.subscribe(a=>{this.supplierProfile=a})}updateGlobalLoading(){this.loading=this.loadingService.isLoadingSync()||this.routerLoading||this.initLoading}ngOnDestroy(){this.userSubscription&&this.userSubscription.unsubscribe(),this.supplierSubscription&&this.supplierSubscription.unsubscribe(),this.loadingSubscription&&this.loadingSubscription.unsubscribe()}loadUserRestaurant(){return u(this,null,function*(){if(this.isRestaurantUser())try{this.currentRestaurant=yield this.supabaseService.getCurrentUserRestaurant(),console.log("Restaurant loaded:",this.currentRestaurant)}catch(a){console.error("Error loading restaurant:",a),this.currentRestaurant=null}else this.currentRestaurant=null})}toggleSidebar(){this.isSidebarCollapsed=!this.isSidebarCollapsed}isRestaurantUser(){return this.authService.isRestaurantUser()}isCustomerUser(){return this.authService.isCustomerUser()}isSupplierUser(){return this.authService.isSupplierUser()}getUserDisplayName(){let a=this.currentUser;if(!a)return"";let i=a.user_metadata?.first_name,o=a.user_metadata?.last_name;return i&&o?`${i} ${o}`:i||o||a.email||"Utente"}getUserInitial(){let a=this.currentUser;if(!a)return"";let i=a.user_metadata?.first_name,o=a.user_metadata?.last_name;return i&&o?`${i.charAt(0)}${o.charAt(0)}`.toUpperCase():i?i.charAt(0).toUpperCase():o?o.charAt(0).toUpperCase():a.email?.charAt(0).toUpperCase()||"U"}getRestaurantName(){return this.currentRestaurant?.name||"Ristorante"}getSupplierCompanyName(){return this.supplierProfile?.company_name||"Fornitore"}logout(){return u(this,null,function*(){yield this.authService.logout()})}onSidebarNavClick(a){if(window.innerWidth>768)return;a.target.closest(".nav-link")&&(this.isSidebarCollapsed=!0)}onDocumentClick(a){let i=a.target;if(window.innerWidth<=768){if(i.closest(".mobile-sidebar-toggle"))return;this.isSidebarCollapsed||!i.closest(".sidebar")&&!i.closest(".sidebar-toggle")&&(this.isSidebarCollapsed=!0)}}getRoleClass(){let a=this.currentUser;return a?`role-${a.user_metadata?.role??a.role??"guest"}`:"role-guest"}getRoleLabel(){let a=this.currentUser;if(!a)return"Guest";let i=a.user_metadata?.role??a.role??"guest";switch(i){case"restaurant_owner":return"Proprietario";case"restaurant_manager":return"Manager";case"chef":return"Chef";case"waiter":return"Cameriere";case"customer":return"Cliente";case"supplier":return"Fornitore";case"super_admin":return"Super Admin";default:return i.charAt(0).toUpperCase()+i.slice(1)}}isAuthenticated(){return this.authService.isAuthenticated()}getSettingsRoute(){return this.isRestaurantUser()?"/restaurant/settings":this.isSupplierUser()?"/supplier/settings":"/profile"}navigateBasedOnRole(){this.isRestaurantUser()?this.router.navigate(["/restaurant/dashboard"]):this.isSupplierUser()?this.router.navigate(["/supplier/dashboard"]):this.isCustomerUser()?this.router.navigate(["/customer"]):this.router.navigate(["/login"])}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=S({type:e,selectors:[["app-root"]],hostBindings:function(i,o){i&1&&g("click",function(w){return o.onDocumentClick(w)},I)},decls:39,vars:12,consts:[[1,"app-container"],[1,"sidebar",3,"click"],[1,"sidebar-header"],["class","sidebar-brand",4,"ngIf"],[1,"icon-button","sidebar-toggle",3,"click"],[1,"material-icons"],[1,"sidebar-nav"],["class","nav-section",4,"ngIf"],[1,"nav-section"],["class","nav-section-title",4,"ngIf"],[1,"nav-menu"],[1,"nav-item"],["routerLink","/profile","routerLinkActive","nav-link--active",1,"nav-link"],[1,"nav-text"],["routerLink","/restaurant/settings","routerLinkActive","nav-link--active",1,"nav-link"],[1,"nav-link","nav-link--logout",3,"click"],["class","sidebar-user",4,"ngIf"],["aria-label","Apri sidebar",1,"mobile-sidebar-toggle",3,"click"],[3,"isLoading"],[1,"main-content"],[1,"sidebar-brand"],["routerLink","/restaurant/dashboard","routerLinkActive","nav-link--active",1,"nav-link"],["routerLink","/restaurant/menu","routerLinkActive","nav-link--active",1,"nav-link"],[1,"nav-item",2,"display","none"],["routerLink","/restaurant/orders","routerLinkActive","nav-link--active",1,"nav-link"],["routerLink","/restaurant/reservations","routerLinkActive","nav-link--active",1,"nav-link"],["routerLink","/restaurant/inventory","routerLinkActive","nav-link--active",1,"nav-link"],["routerLink","/restaurant/suppliers","routerLinkActive","nav-link--active",1,"nav-link"],["routerLink","/restaurant/floor-plan","routerLinkActive","nav-link--active",1,"nav-link"],["routerLink","/restaurant/table-map","routerLinkActive","nav-link--active",1,"nav-link"],["routerLink","/restaurant/kitchen-display","routerLinkActive","nav-link--active",1,"nav-link"],["routerLink","/restaurant/recipe","routerLinkActive","nav-link--active",1,"nav-link"],["routerLink","/restaurant/calendar-view","routerLinkActive","nav-link--active",1,"nav-link"],["routerLink","/restaurant/financial","routerLinkActive","nav-link--active",1,"nav-link"],["routerLink","/food-cost","routerLinkActive","nav-link--active",1,"nav-link"],[1,"nav-section-title"],["routerLink","/supplier/dashboard","routerLinkActive","nav-link--active",1,"nav-link"],["routerLink","/supplier/products","routerLinkActive","nav-link--active",1,"nav-link"],["routerLink","/supplier/restaurants","routerLinkActive","nav-link--active",1,"nav-link"],["routerLink","/customer/search","routerLinkActive","nav-link--active",1,"nav-link"],["routerLink","/customer/restaurant-list","routerLinkActive","nav-link--active",1,"nav-link"],["routerLink","/customer/reservations","routerLinkActive","nav-link--active",1,"nav-link"],["routerLink","/customer/orders","routerLinkActive","nav-link--active",1,"nav-link"],["routerLink","/customer/reviews","routerLinkActive","nav-link--active",1,"nav-link"],[1,"sidebar-user"],[1,"user-avatar-small"],["class","user-info",4,"ngIf"],["class","restaurant-info",4,"ngIf"],[1,"user-info"],[1,"restaurant-info"]],template:function(i,o){i&1&&(t(0,"div",0)(1,"aside",1),g("click",function(w){return o.onSidebarNavClick(w)}),t(2,"div",2),c(3,se,5,0,"div",3),t(4,"button",4),g("click",function(){return o.toggleSidebar()}),t(5,"span",5),r(6),n()()(),t(7,"nav",6),c(8,pe,81,1,"div",7)(9,de,27,1,"div",7)(10,me,33,1,"div",7),t(11,"div",8),c(12,ge,2,0,"h3",9),t(13,"ul",10)(14,"li",11)(15,"a",12)(16,"span",5),r(17,"person"),n(),t(18,"span",13),r(19,"Profilo"),n()()(),t(20,"li",11)(21,"a",14)(22,"span",5),r(23,"settings"),n(),t(24,"span",13),r(25,"Impostazioni"),n()()(),t(26,"li",11)(27,"button",15),g("click",function(){return o.logout()}),t(28,"span",5),r(29,"logout"),n(),t(30,"span",13),r(31,"Logout"),n()()()()()(),c(32,fe,7,6,"div",16),n(),t(33,"button",17),g("click",function(){return o.toggleSidebar()}),t(34,"span",5),r(35,"menu"),n()(),k(36,"app-loader",18),t(37,"main",19),k(38,"router-outlet"),n()()),i&2&&(s(),A("sidebar--collapsed",o.isSidebarCollapsed),s(2),l("ngIf",!o.isSidebarCollapsed),s(3),v(o.isSidebarCollapsed?"menu":"chevron_left"),s(2),l("ngIf",o.isRestaurantUser()),s(),l("ngIf",o.isSupplierUser()),s(),l("ngIf",o.isCustomerUser()),s(2),l("ngIf",!o.isSidebarCollapsed),s(20),l("ngIf",!o.isSidebarCollapsed),s(4),l("isLoading",o.loading),s(),A("main-content--expanded",o.isSidebarCollapsed))},dependencies:[P,y,W,Q,Y,q,M,F],styles:['.app-container[_ngcontent-%COMP%]{display:flex;min-height:100vh;background:var(--background);position:relative}.sidebar[_ngcontent-%COMP%]{width:var(--grandezzasidebar);height:100vh;background:var(--sidebar-background);border-right:1px solid color-mix(in srgb,var(--secondary) 20%,transparent);display:flex;flex-direction:column;transition:all .3s cubic-bezier(.4,0,.2,1);overflow:hidden;flex-shrink:0;position:fixed;left:0;top:0;z-index:1000;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);overflow-x:none!important}.sidebar--collapsed[_ngcontent-%COMP%]{width:64px}.sidebar--collapsed[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{justify-content:center}.main-content[_ngcontent-%COMP%]{flex:1;margin-left:var(--grandezzasidebar);overflow:auto;transition:all .3s cubic-bezier(.4,0,.2,1);background:var(--background);min-height:100vh}.main-content--expanded[_ngcontent-%COMP%]{margin-left:64px}.mobile-sidebar-toggle[_ngcontent-%COMP%]{display:none}@media (max-width: 768px){.sidebar[_ngcontent-%COMP%]{position:fixed;left:0;top:0;height:100vh;width:100vw;transform:translate(0);transition:transform .25s ease;z-index:1100}.sidebar.sidebar--collapsed[_ngcontent-%COMP%]{transform:translate(-100%)}.main-content[_ngcontent-%COMP%]{margin-left:0!important;width:100%}.sidebar[_ngcontent-%COMP%]:not(.sidebar--collapsed) + .main-content[_ngcontent-%COMP%]:after{content:"";position:fixed;inset:0;background:#00000073;z-index:1050;pointer-events:auto}.mobile-sidebar-toggle[_ngcontent-%COMP%]{display:none;position:fixed;left:12px;top:12px;z-index:1200;width:44px;height:44px;border-radius:10px;background:var(--smoke-color-1);border:1px solid color-mix(in srgb,var(--secondary) 12%,transparent);box-shadow:0 6px 18px color-mix(in srgb,var(--primary) 12%,transparent);display:flex;align-items:center;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);justify-content:center;cursor:pointer}.sidebar.sidebar--collapsed[_ngcontent-%COMP%] + .mobile-sidebar-toggle[_ngcontent-%COMP%]{display:flex}.sidebar[_ngcontent-%COMP%]:not(.sidebar--collapsed) + .mobile-sidebar-toggle[_ngcontent-%COMP%]{display:none}.sidebar[_ngcontent-%COMP%]   .nav-text[_ngcontent-%COMP%]{display:inline-block}}.sidebar-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:var(--gutter-sm);border-bottom:1px solid color-mix(in srgb,var(--secondary) 15%,transparent);background:color-mix(in srgb,var(--background) 92%,transparent);position:relative;gap:var(--gutter-sm)}.sidebar-header[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-1px;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent 0%,color-mix(in srgb,var(--primary) 30%,transparent) 50%,transparent 100%)}.sidebar-brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--gutter-sm);padding:var(--gutter-sm);border-radius:12px;background:color-mix(in srgb,var(--primary) 8%,transparent);border:1px solid color-mix(in srgb,var(--primary) 15%,transparent)}.sidebar-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:var(--primary);font-size:var(--fs-md);font-weight:800;letter-spacing:-.5px;background:linear-gradient(135deg,var(--primary),var(--secondary));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.sidebar-brand[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{color:var(--primary);font-size:24px;background:color-mix(in srgb,var(--primary) 10%,transparent);padding:6px;border-radius:8px}.sidebar-toggle[_ngcontent-%COMP%]{background:color-mix(in srgb,var(--secondary) 15%,transparent);border-radius:10px;border:1px solid color-mix(in srgb,var(--secondary) 20%,transparent);transition:all .3s ease}.sidebar-toggle[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--primary) 15%,transparent);border-color:var(--primary);transform:scale(1.05) rotate(-5deg)}.sidebar-user[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--gutter-sm);padding:var(--gutter-sm);border-bottom:1px solid color-mix(in srgb,var(--secondary) 10%,transparent);background:color-mix(in srgb,var(--background) 95%,transparent);position:relative}.user-avatar-small[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,var(--primary),var(--accent-warm));display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700;font-size:.9rem;border:2px solid color-mix(in srgb,var(--secondary) 30%,transparent);box-shadow:0 4px 12px color-mix(in srgb,var(--primary) 20%,transparent)}.user-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px;min-width:0}.user-info[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:var(--fs-sm);color:var(--text-color);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:600}.user-role.chip[_ngcontent-%COMP%]{font-size:.7rem;padding:4px 10px;width:fit-content;background:color-mix(in srgb,var(--tertiary) 10%,transparent);color:var(--tertiary);border:1px solid color-mix(in srgb,var(--tertiary) 20%,transparent);border-radius:20px;font-weight:600}.sidebar-nav[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;padding:0;gap:var(--gutter-sm);overflow-y:auto;overflow-x:none!important;background:var(--background)}.nav-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--gutter-md);background:var(--background)}.nav-section-title[_ngcontent-%COMP%]{font-weight:700;color:var(--tertiary);padding:0 var(--gutter-sm);text-transform:uppercase;letter-spacing:1px;opacity:.8;margin-top:var(--gutter-md)}.nav-menu[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:var(--gutter-sm);background:var(--background)}.nav-item[_ngcontent-%COMP%]{width:100%;padding:0 var(--gutter-sm)}.nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--gutter-md);padding:var(--gutter-sm) var(--gutter-md);border-radius:14px;color:var(--text-color);text-decoration:none;transition:all .3s cubic-bezier(.4,0,.2,1);border:1.5px solid transparent;position:relative;width:100%;background:color-mix(in srgb,var(--background) 60%,transparent);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);border:none;cursor:pointer;font-family:inherit;font-size:inherit}.nav-link[_ngcontent-%COMP%]:before{content:"";position:absolute;left:-4px;top:50%;transform:translateY(-50%);width:4px;height:0;background:linear-gradient(180deg,var(--primary),var(--accent-warm));border-radius:0 4px 4px 0;transition:height .3s ease}.nav-link[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--primary) 8%,transparent);border-color:color-mix(in srgb,var(--primary) 25%,transparent);transform:translate(8px);box-shadow:0 4px 16px color-mix(in srgb,var(--primary) 15%,transparent)}.nav-link[_ngcontent-%COMP%]:hover:before{height:60%}.nav-link--active[_ngcontent-%COMP%]{background:color-mix(in srgb,var(--primary) 12%,transparent)!important;border-color:color-mix(in srgb,var(--primary) 30%,transparent)!important;color:var(--primary)!important;font-weight:700;transform:translate(8px);box-shadow:0 6px 20px color-mix(in srgb,var(--primary) 20%,transparent)}.nav-link--active[_ngcontent-%COMP%]:before{height:80%;background:linear-gradient(180deg,var(--primary),var(--accent-warm))}.nav-link--active[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{color:var(--primary)!important;transform:scale(1.1)}.nav-link[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:22px;color:color-mix(in srgb,var(--text-color) 70%,transparent);flex-shrink:0;transition:all .3s ease;background:color-mix(in srgb,var(--background) 80%,transparent);padding:6px;border-radius:10px}.nav-link[_ngcontent-%COMP%]:hover   .material-icons[_ngcontent-%COMP%]{color:var(--primary);background:color-mix(in srgb,var(--primary) 10%,transparent);transform:scale(1.1)}.nav-text[_ngcontent-%COMP%]{font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;transition:all .3s ease;font-size:.9rem;color:inherit}.nav-link--logout[_ngcontent-%COMP%]{color:#dc2626!important;background:color-mix(in srgb,#DC2626 5%,transparent)!important;margin-top:var(--gutter-md);border:1.5px solid color-mix(in srgb,#DC2626 15%,transparent)!important}.nav-link--logout[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,#DC2626 12%,transparent)!important;border-color:color-mix(in srgb,#DC2626 30%,transparent)!important;transform:translate(8px)}.nav-link--logout[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{color:#dc2626!important;background:color-mix(in srgb,#DC2626 8%,transparent)!important}.sidebar-footer[_ngcontent-%COMP%]{padding:var(--gutter-sm);border-top:1px solid color-mix(in srgb,var(--secondary) 15%,transparent);background:color-mix(in srgb,var(--background) 92%,transparent);position:relative}.sidebar-footer[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-1px;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent 0%,color-mix(in srgb,var(--secondary) 40%,transparent) 50%,transparent 100%)}.restaurant-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px;padding:var(--gutter-sm);border-radius:12px;border:1px solid color-mix(in srgb,var(--secondary) 15%,transparent);margin:0;color:var(--primary);font-weight:800;letter-spacing:-.5px;background:linear-gradient(135deg,var(--primary),var(--secondary));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.restaurant-info[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:var(--fs-sm);color:var(--text-color);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:800}.restaurant-info[_ngcontent-%COMP%]   .text-muted[_ngcontent-%COMP%]{color:var(--tertiary);font-style:normal;font-weight:500;opacity:.8}.sidebar--collapsed[_ngcontent-%COMP%]   .sidebar-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .sidebar--collapsed[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%], .sidebar--collapsed[_ngcontent-%COMP%]   .nav-section-title[_ngcontent-%COMP%], .sidebar--collapsed[_ngcontent-%COMP%]   .nav-text[_ngcontent-%COMP%], .sidebar--collapsed[_ngcontent-%COMP%]   .restaurant-info[_ngcontent-%COMP%], .sidebar--collapsed[_ngcontent-%COMP%]   .nav-badge[_ngcontent-%COMP%]{opacity:0;visibility:hidden;width:0;height:0;overflow:hidden}.sidebar--collapsed[_ngcontent-%COMP%]   .sidebar-user[_ngcontent-%COMP%]{justify-content:center;padding:var(--gutter-lg)}.sidebar--collapsed[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{justify-content:center;padding:var(--gutter-md);border-radius:16px}.sidebar--collapsed[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]{padding:0;align-items:center}.sidebar--collapsed[_ngcontent-%COMP%]   .sidebar-footer[_ngcontent-%COMP%]{padding:var(--gutter-md);display:flex;justify-content:center}.sidebar--collapsed[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{display:none}.sidebar--collapsed[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{position:relative}.sidebar--collapsed[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover   .nav-text[_ngcontent-%COMP%]{opacity:1;visibility:visible;position:absolute;left:100%;top:50%;transform:translateY(-50%);background:var(--background);border:1px solid color-mix(in srgb,var(--primary) 20%,transparent);border-radius:12px;padding:var(--gutter-sm) var(--gutter-md);white-space:nowrap;margin-left:var(--gutter-md);box-shadow:0 8px 32px color-mix(in srgb,var(--primary) 20%,transparent);z-index:1000;width:auto;height:auto;font-weight:600;color:var(--text-color);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.sidebar--collapsed[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover   .nav-badge[_ngcontent-%COMP%]{opacity:1;visibility:visible;position:absolute;right:8px;top:8px;width:auto;height:auto}.nav-link[_ngcontent-%COMP%], .sidebar-toggle[_ngcontent-%COMP%], .icon-button[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1)}.nav-link[_ngcontent-%COMP%]:active, .sidebar-toggle[_ngcontent-%COMP%]:active{transform:scale(.95)}.sidebar-nav[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.sidebar-nav[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:color-mix(in srgb,var(--secondary) 5%,transparent);border-radius:10px}.sidebar-nav[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:color-mix(in srgb,var(--primary) 30%,transparent);border-radius:10px}.sidebar-nav[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:color-mix(in srgb,var(--primary) 50%,transparent)}']})};$(O,re).catch(e=>console.error(e));
