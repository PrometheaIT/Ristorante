import{b as G}from"./chunk-G5SBDMQ5.js";import{a as V,b as H}from"./chunk-3IJ3GTW7.js";import{a as B}from"./chunk-SKQHRKMJ.js";import{a as j}from"./chunk-QUWZEZHV.js";import{a as U}from"./chunk-2SB6D73G.js";import{a as N}from"./chunk-OILXJW2J.js";import"./chunk-GO2X6ET2.js";import"./chunk-MTC3TSRZ.js";import{b as z}from"./chunk-PMU7JIES.js";import{c as F,d as $,i as O,l as q}from"./chunk-COP7W333.js";import{Eb as L,Hb as D,Ib as i,J as P,Ja as o,Jb as v,Kb as g,Lb as I,O as T,Sb as A,Za as M,a as R,b as C,ba as S,cb as y,ga as p,h as m,kb as h,lb as a,mb as n,nb as k,yb as x,z as E}from"./chunk-2FS7XGGJ.js";var _=class d extends N{constructor(){super(),this.authService.currentUser$.pipe(P(e=>!!e),T(1)).subscribe(()=>{this.loadData()})}getTableName(){return"reviews"}loadData(e){return m(this,null,function*(){try{this.loadingSubject.next(!0);let t=yield this.getCurrentRestaurantId();if(!t){this.dataSubject.next([]),this.loadingSubject.next(!1);return}let{data:r,error:s}=yield this.supabaseService.getSupabaseClient().from(this.getTableName()).select("*").eq("restaurant_id",t).order("created_at",{ascending:!1});if(s)throw s;console.log("Reviews loaded:",r?.length),this.dataSubject.next(r||[])}catch(t){console.error("Error loading reviews:",t),this.handleError("loadData",t)}finally{this.loadingSubject.next(!1)}})}getAverageRating(){let e=this.dataSubject.value;if(e.length===0)return{average:0,count:0};let r=e.reduce((s,l)=>s+l.rating,0)/e.length;return{average:Math.round(r*10)/10,count:e.length}}loadReviews(){return m(this,null,function*(){return this.loadData()})}static \u0275fac=function(t){return new(t||d)};static \u0275prov=S({token:d,factory:d.\u0275fac,providedIn:"root"})};var w=class d{supabaseService=p(z);getTodayOrders(){return m(this,null,function*(){try{let e=yield this.getCurrentRestaurantId();if(!e)return{count:0,revenue:0};let t=new Date().toISOString().split("T")[0],{data:r,error:s}=yield this.supabaseService.getSupabaseClient().from("order_headers").select("total_amount, status, comande(total_amount)").eq("restaurant_id",e).eq("status","completed").gte("created_at",`${t}T00:00:00`).lte("created_at",`${t}T23:59:59`);if(s)throw s;let l=0,c=r||[];for(let u of c)u.comande&&Array.isArray(u.comande)&&(l+=u.comande.reduce((b,f)=>b+(Number(f.total_amount)||0),0));return{count:c.length,revenue:l}}catch(e){return console.error("Error in getTodayOrders:",e),{count:0,revenue:0}}})}getLast7DaysSales(){return m(this,null,function*(){try{let e=yield this.getCurrentRestaurantId();if(!e)return this.generateEmptySalesData();let t=new Date,r=new Date;r.setDate(r.getDate()-6);let{data:s,error:l}=yield this.supabaseService.getSupabaseClient().from("comande").select("created_at, total_amount, status").eq("restaurant_id",e).eq("status","completed").gte("created_at",r.toISOString()).lte("created_at",t.toISOString());if(l)throw l;return this.groupSalesByDay(s||[],r,t)}catch(e){return console.error("Error in getLast7DaysSales:",e),this.generateEmptySalesData()}})}getTopDishes(e=5){return m(this,null,function*(){try{let t=yield this.getCurrentRestaurantId();if(!t)return[];let{data:r,error:s}=yield this.supabaseService.getSupabaseClient().rpc("get_top_dishes",{p_restaurant_id:t,p_limit:e});return s?yield this.getTopDishesFallback(t,e):r||[]}catch(t){return console.error("Error in getTopDishes:",t),[]}})}getTopDishesFallback(e,t){return m(this,null,function*(){try{let{data:r,error:s}=yield this.supabaseService.getSupabaseClient().from("order_items").select(`
          quantity,
          dish:dish_id (
            id,
            name,
            base_price
          )
        `).eq("restaurant_id",e);if(s)throw s;let l=new Map;return(r||[]).forEach(c=>{if(!c.dish)return;let u=c.dish.id,b=l.get(u),f=c.quantity*(c.dish.base_price||0);b?(b.quantity+=c.quantity,b.revenue+=f):l.set(u,{name:c.dish.name,quantity:c.quantity,revenue:f})}),Array.from(l.entries()).map(([c,u])=>({id:c,name:u.name,quantity:u.quantity,revenue:u.revenue})).sort((c,u)=>u.quantity-c.quantity).slice(0,t)}catch(r){return console.error("Error in getTopDishesFallback:",r),[]}})}getActiveComande(){return m(this,null,function*(){try{let e=yield this.getCurrentRestaurantId();if(!e)return[];let{data:t,error:r}=yield this.supabaseService.getSupabaseClient().from("comande").select(`
          *,
          table:table_id (table_number, table_name),
          order_header:order_header_id (order_number, customer_name),
          order_items (
            id,
            dish_id,
            quantity,
            status
          )
        `).eq("restaurant_id",e).in("status",["ordered","waiting","preparing","ready"]).order("created_at",{ascending:!1}).limit(10);if(r)throw r;return(t||[]).map(s=>C(R({},s),{order_number:s.order_header?.order_number||`CMD-${s.id.slice(-6)}`,total_amount:Number(s.total_amount)||0}))}catch(e){return console.error("Error in getActiveComande:",e),[]}})}getCurrentRestaurantId(){return m(this,null,function*(){try{return localStorage.getItem("currentRestaurantId")}catch{return null}})}generateEmptySalesData(){let e=[];for(let t=6;t>=0;t--){let r=new Date;r.setDate(r.getDate()-t),e.push({day:r.toLocaleDateString("it-IT",{weekday:"short"}),amount:0})}return e}groupSalesByDay(e,t,r){let s=new Map;for(let l=new Date(t);l<=r;l.setDate(l.getDate()+1)){let c=l.toISOString().split("T")[0];s.set(c,0)}return e.forEach(l=>{let c=l.created_at.split("T")[0];s.has(c)&&s.set(c,s.get(c)+(Number(l.total_amount)||0))}),Array.from(s.entries()).map(([l,c])=>({day:new Date(l).toLocaleDateString("it-IT",{weekday:"short"}),amount:c}))}static \u0275fac=function(t){return new(t||d)};static \u0275prov=S({token:d,factory:d.\u0275fac,providedIn:"root"})};function W(d,e){if(d&1&&(a(0,"div",25)(1,"div",26),i(2),n(),k(3,"div",27),a(4,"div",28),i(5),n()()),d&2){let t=e.$implicit,r=x();o(2),g("\u20AC",r.formatNumber(t.amount,"1.0-0")),o(),L("height",t.amount/r.maxSales*100,"%"),o(2),v(t.day)}}function J(d,e){if(d&1&&(a(0,"div",29)(1,"div",30),i(2),n(),a(3,"div",31)(4,"strong"),i(5),n(),a(6,"div",32),i(7),n()(),a(8,"div",33),i(9),n()()),d&2){let t=e.$implicit,r=e.index,s=x();o(2),v(r+1),o(3),v(t.name),o(2),g("",t.orders," ordini"),o(2),g("\u20AC",s.formatNumber(t.revenue,"1.0-0"))}}function Q(d,e){d&1&&(a(0,"div",34)(1,"span",35),i(2,"restaurant_menu"),n(),a(3,"p",5),i(4,"Nessun piatto venduto ancora"),n()())}function X(d,e){if(d&1&&(a(0,"div",36)(1,"div")(2,"strong"),i(3),n(),a(4,"div",5),i(5),n()(),a(6,"div",37)(7,"span",38),i(8),n(),a(9,"div",39),i(10),n()()()),d&2){let t=e.$implicit;o(3),v(t.time),o(2),I(" ",t.customer_name," \u2022 ",t.party_size," persone "),o(2),D(t.status==="confermata"?"bg-emerald-500/20 text-emerald-500":t.status==="in attesa"?"bg-amber-500/20 text-amber-500":"bg-red-500/20 text-red-500"),o(),g(" ",t.status," "),o(2),g("Tavolo ",t.table)}}function Z(d,e){d&1&&(a(0,"div",34)(1,"span",35),i(2,"event_available"),n(),a(3,"p",5),i(4,"Nessuna prenotazione in arrivo"),n()())}function ee(d,e){if(d&1&&(a(0,"div",40)(1,"div",41)(2,"strong"),i(3),n(),a(4,"span",38),i(5),n()(),a(6,"div",5),i(7),n(),a(8,"div",42)(9,"div",43),i(10),n(),a(11,"div",44),i(12),n()()()),d&2){let t=e.$implicit,r=x();o(3),g("#",t.order_number),o(),D(t.status==="preparing"?"preparing":t.status==="pronto"?"bg-emerald-500/20 text-emerald-500":"bg-gray-500/20 text-gray-500"),o(),g(" ",t.status," "),o(2),g("",t.items," articoli"),o(3),g("\u20AC",r.formatNumber(t.total)),o(2),v(t.time)}}function te(d,e){d&1&&(a(0,"div",34)(1,"span",45),i(2,"check_circle"),n(),a(3,"p",5),i(4,"Tutto tranquillo in cucina"),n()())}function re(d,e){if(d&1&&(a(0,"div",46)(1,"div",47)(2,"div")(3,"strong"),i(4),n(),a(5,"div",32),i(6),n()(),a(7,"div",37)(8,"div",43),i(9),n(),a(10,"div",44),i(11),n()()()()),d&2){let t=e.$implicit;o(4),v(t.ingredient_name),o(2),I("Scorta attuale: ",t.current_stock," ",t.unit),o(3),v(t.current_stock),o(2),g("su ",t.minimum_stock," min")}}function ae(d,e){d&1&&(a(0,"div",34)(1,"span",45),i(2,"inventory_2"),n(),a(3,"p",5),i(4,"Tutto in ordine"),n()())}var Y=class d{todayOrders=0;todayRevenue=0;todayReservations=0;upcomingReservations=0;lowStockIngredients=0;averageRating=0;totalReviews=0;salesData=[];topDishes=[];upcomingReservationsList=[];currentOrders=[];inventoryAlerts=[];decimalPipe=p(O);ingredientService=p(j);reservationService=p(U);reviewService=p(_);dishService=p(B);orderHeaderService=p(G);comandaService=p(V);orderItemService=p(H);statisticsService=p(w);ngOnInit(){return m(this,null,function*(){console.log("\u{1F680} Dashboard ngOnInit started"),yield new Promise(e=>setTimeout(e,0)),console.log("\u23F3 Loading service started");try{yield this.loadAllData(),console.log("\u2705 loadAllData completed successfully")}catch(e){console.error("\u274C Error loading dashboard data:",e),this.loadSampleData()}finally{console.log("\u{1F6D1} Finally block reached, stopping loading service"),console.log("\u23F9\uFE0F Loading service stopped")}})}loadAllData(){return m(this,null,function*(){try{console.log("\u{1F504} Loading all dashboard data...");let e=[this.ingredientService.loadData().then(()=>console.log("\u2705 Ingredients loaded")),this.reservationService.loadRestaurantReservations().then(()=>console.log("\u2705 Reservations loaded")),this.reviewService.loadData().then(()=>console.log("\u2705 Reviews loaded")),this.dishService.loadData().then(()=>console.log("\u2705 Dishes loaded"))];yield Promise.all(e),console.log("\u2705 All base data loaded successfully"),console.log("\u2705 Base data loaded, updating dashboard..."),yield this.updateDashboardData()}catch(e){throw console.error("\u274C Error in loadAllData:",e),e}})}updateDashboardData(){return m(this,null,function*(){console.log("\u{1F4CA} Starting dashboard data update");try{console.log("STEP 1: Loading today orders..."),yield this.loadTodayOrders(),console.log("\u2705 STEP 1 COMPLETED"),console.log("STEP 2: Loading today reservations..."),yield this.loadTodayReservations(),console.log("\u2705 STEP 2 COMPLETED"),console.log("STEP 3: Starting parallel load of sales data and top dishes..."),yield Promise.all([this.loadSalesData().then(()=>console.log("\u2705 STEP 3a - Sales data completed")),this.loadTopDishes().then(()=>console.log("\u2705 STEP 3b - Top dishes completed"))]),console.log("\u2705 STEP 3 COMPLETED"),console.log("STEP 4: Starting parallel load of current orders and upcoming reservations..."),yield Promise.all([this.loadCurrentOrders().then(()=>console.log("\u2705 STEP 4a - Current orders completed")),this.loadUpcomingReservationsList().then(()=>console.log("\u2705 STEP 4b - Upcoming reservations completed"))]),console.log("\u2705 STEP 4 COMPLETED"),console.log("STEP 5: Loading sync data..."),this.loadLowStockIngredients(),this.loadAverageRating(),this.loadInventoryAlerts(),console.log("\u2705 STEP 5 COMPLETED"),console.log("\u{1F4CA} Dashboard data updated successfully")}catch(e){throw console.error("\u274C Error in updateDashboardData:",e),e}})}loadTodayOrders(){return m(this,null,function*(){try{console.log("\u{1F4E6} Loading today orders (from order headers)...");let e=yield this.statisticsService.getTodayOrders();this.todayOrders=e.count,this.todayRevenue=e.revenue,console.log(`\u2705 Today order headers: ${this.todayOrders}, Revenue: \u20AC${this.todayRevenue}`)}catch(e){console.error("\u274C Error loading today orders:",e),this.todayOrders=0,this.todayRevenue=0}})}loadTodayReservations(){return m(this,null,function*(){try{console.log("\u{1F4C5} Loading today reservations..."),yield this.reservationService.loadRestaurantReservations();let e=yield E(this.reservationService.restaurantReservations$),t=this.reservationService.getActiveReservations(e),r=this.reservationService.getFutureReservations(e);this.todayReservations=t.length,this.upcomingReservations=r.length,console.log(`\u2705 Today reservations: ${this.todayReservations}, Upcoming: ${this.upcomingReservations}`)}catch(e){console.error("\u274C Error loading today reservations:",e),this.todayReservations=0,this.upcomingReservations=0}})}loadLowStockIngredients(){try{console.log("\u26A0\uFE0F Loading low stock ingredients...");let e=this.ingredientService.getLowStockIngredients();this.lowStockIngredients=e.length,console.log(`\u2705 Low stock ingredients: ${this.lowStockIngredients}`)}catch(e){console.error("\u274C Error loading low stock ingredients:",e),this.lowStockIngredients=0}}loadAverageRating(){try{console.log("\u2B50 Loading average rating...");let e=this.reviewService.getAverageRating();this.averageRating=e.average,this.totalReviews=e.count,console.log(`\u2705 Average rating: ${this.averageRating}/5 (${this.totalReviews} reviews)`)}catch(e){console.error("\u274C Error loading average rating:",e),this.averageRating=0,this.totalReviews=0}}loadSalesData(){return m(this,null,function*(){try{console.log("\u{1F4C8} Loading sales data..."),this.salesData=yield this.statisticsService.getLast7DaysSales(),console.log(`\u2705 Sales data loaded: ${this.salesData.length} days`)}catch(e){console.error("\u274C Error loading sales data:",e),this.salesData=this.generateSampleSalesData()}})}loadTopDishes(){return m(this,null,function*(){try{console.log("\u{1F37D}\uFE0F Loading top dishes..."),this.topDishes=yield this.statisticsService.getTopDishes(5),console.log(`\u2705 Top dishes loaded: ${this.topDishes.length}`)}catch(e){console.error("\u274C Error loading top dishes:",e),this.topDishes=[]}})}loadUpcomingReservationsList(){return m(this,null,function*(){try{console.log("\u{1F552} Loading upcoming reservations list...");let e=yield E(this.reservationService.restaurantReservations$),t=this.reservationService.getFutureReservations(e);this.upcomingReservationsList=t.slice(0,4).map(r=>({time:r.reservation_time.substring(0,5),customer_name:this.getCustomerName(r),party_size:r.party_size,table:this.getTableName(r),status:r.status})),console.log(`\u2705 Upcoming reservations list: ${this.upcomingReservationsList.length}`)}catch(e){console.error("\u274C Error loading upcoming reservations list:",e),this.upcomingReservationsList=[]}})}loadCurrentOrders(){return m(this,null,function*(){try{console.log("\u{1F525} Loading current comande...");let e=yield this.statisticsService.getActiveComande();console.log("\u{1F4CB} Raw current comande:",e);let t=yield Promise.all(e.slice(0,4).map(r=>m(this,null,function*(){try{let s=r.order_items?r.order_items.length:0;return{order_number:r.order_number||`#${r.id?.slice(-6)||"N/A"}`,items:s,total:r.total_amount||0,status:r.status||"pending",time:this.formatTimeSince(r.created_at),customer_name:r.customer_name||r.order_header?.customer_name||"Cliente"}}catch(s){return console.error("\u274C Error processing comanda:",r.id,s),{order_number:r.order_number||`#${r.id?.slice(-6)||"N/A"}`,items:0,total:r.total_amount||0,status:r.status||"pending",time:"N/A",customer_name:"Cliente"}}})));this.currentOrders=t.filter(r=>r!==null),console.log(`\u2705 Current comande processed: ${this.currentOrders.length}`)}catch(e){console.error("\u274C Error loading current comande:",e),this.currentOrders=[]}})}loadInventoryAlerts(){try{console.log("\u{1F6A8} Loading inventory alerts...");let e=this.ingredientService.getLowStockIngredients();this.inventoryAlerts=e.slice(0,4).map(t=>({ingredient_name:t.name,current_stock:t.current_stock,minimum_stock:t.minimum_stock,unit:t.units?.symbol||"pz",priority:t.current_stock<=t.minimum_stock*.5?"high":"medium"})),console.log(`\u2705 Inventory alerts: ${this.inventoryAlerts.length}`)}catch(e){console.error("\u274C Error loading inventory alerts:",e),this.inventoryAlerts=[]}}loadSampleData(){console.warn("\u26A0\uFE0F Using sample data for dashboard"),this.todayOrders=12,this.todayRevenue=450.5,this.todayReservations=8,this.upcomingReservations=15,this.lowStockIngredients=2,this.averageRating=4.5,this.totalReviews=24,this.salesData=this.generateSampleSalesData(),this.topDishes=this.generateSampleTopDishes(),this.upcomingReservationsList=this.generateSampleReservations(),this.currentOrders=this.generateSampleOrders(),this.inventoryAlerts=this.generateSampleAlerts()}generateSampleSalesData(){return["Lun","Mar","Mer","Gio","Ven","Sab","Dom"].map(t=>({day:t,amount:Math.floor(Math.random()*500)+100}))}generateSampleTopDishes(){return[{name:"Pizza Margherita",quantity:45,revenue:675},{name:"Spaghetti Carbonara",quantity:38,revenue:570},{name:"Tagliata di Manzo",quantity:25,revenue:625},{name:"Insalada Cesare",quantity:22,revenue:198},{name:"Tiramis\xF9",quantity:18,revenue:126}]}generateSampleReservations(){return[{time:"20:00",customer_name:"Mario Rossi",party_size:4,status:"confirmed",table:"Tavolo 5"},{time:"20:30",customer_name:"Laura Bianchi",party_size:2,status:"pending",table:"Tavolo 2"},{time:"21:00",customer_name:"Giuseppe Verdi",party_size:6,status:"confirmed",table:"Tavolo 8"}]}generateSampleOrders(){return[{order_number:"#12345",items:3,total:45.5,status:"preparing",time:"15 min"},{order_number:"#12346",items:2,total:28,status:"ready",time:"8 min"}]}generateSampleAlerts(){return[{ingredient_name:"Pomodori San Marzano",current_stock:5,minimum_stock:20,unit:"kg",priority:"high"},{ingredient_name:"Mozzarella di Bufala",current_stock:8,minimum_stock:15,unit:"pz",priority:"medium"}]}getCustomerName(e){return this.reservationService.getCustomerName(e)}getTableName(e){return this.reservationService.getTableInfo(e)}formatTimeSince(e){if(!e)return"Ora";try{let t=new Date,r=new Date(e),s=Math.floor((t.getTime()-r.getTime())/6e4);return s<1?"Ora":s<60?`${s} min`:`${Math.floor(s/60)} h`}catch{return"Ora"}}get maxSales(){if(this.salesData.length===0)return 1;let e=Math.max(...this.salesData.map(t=>t.amount));return e>0?e:1}formatNumber(e,t="1.2-2"){return e==null?"0":this.decimalPipe.transform(e,t)||"0"}getStatusClass(e){return{confirmed:"chip success",pending:"chip warning",cancelled:"chip error",confermata:"chip success","in attesa":"chip warning",cancellata:"chip error"}[e]||"chip"}getOrderStatusClass(e){return{preparing:"preparing",ready:"chip success",completed:"chip inactive",served:"chip inactive",received:"chip warning"}[e]||"chip"}static \u0275fac=function(t){return new(t||d)};static \u0275cmp=M({type:d,selectors:[["app-dashboard"]],features:[A([O])],decls:96,vars:17,consts:[[1,"page-container"],[1,"section-header"],[1,"flex","gap-sm"],[1,"material-icons","fs-lg"],[1,"section-title"],[1,"text-muted"],[1,"grid-cards"],[1,"card"],[1,"flex","items-center","gap-sm","mb-md"],[1,"material-icons","text-primary","text-md"],[1,"card-title"],[1,"text-md","font-bold","text-primary","justify-center","flex"],[1,"card-footer","text-muted"],[1,"rounded-lg","p-lg","bg-gradient-light","shadow-card","mt-lg"],[1,"font-bold","text-md","m-0"],[1,"sales-chart"],[1,"chart-bars"],["class","chart-bar-container",4,"ngFor","ngForOf"],[1,"dashboard-grid"],[1,"flex","flex-col","gap-md"],["class","card-body",4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],["class","flex items-center justify-between p-md rounded border hover:border-primary transition",4,"ngFor","ngForOf"],["class","p-md rounded border hover:border-primary transition",4,"ngFor","ngForOf"],["class","p-md rounded border border-red-500/30 bg-red-500/5",4,"ngFor","ngForOf"],[1,"chart-bar-container"],[1,"bar-amount"],[1,"chart-bar"],[1,"bar-label"],[1,"card-body"],[1,"text-md","font-bold","text-primary","w-10"],[1,"flex-1"],[1,"text-muted","text-sm"],[1,"text-md","font-bold","text-primary"],[1,"empty-state"],[1,"material-icons","text-lg"],[1,"flex","items-center","justify-between","p-md","rounded","border","hover:border-primary","transition"],[1,"text-right"],[1,"chip"],[1,"text-sm","text-muted","mt-1"],[1,"p-md","rounded","border","hover:border-primary","transition"],[1,"flex","justify-between","items-start","mb-sm"],[1,"flex","justify-between","items-end","mt-md"],[1,"font-bold","text-primary"],[1,"text-sm","text-muted"],[1,"material-icons","text-lg","text-primary"],[1,"p-md","rounded","border","border-red-500/30","bg-red-500/5"],[1,"flex","items-center","justify-between"]],template:function(t,r){t&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),i(4,"dashboard"),n(),a(5,"h1",4),i(6,"Dashboard Ristorante"),n()(),a(7,"p",5),i(8,"Panoramica completa delle attivit\xE0 del tuo ristorante"),n()(),a(9,"div",6)(10,"div",7)(11,"div",8)(12,"span",9),i(13,"receipt"),n(),a(14,"h3",10),i(15,"Ordini Oggi"),n()(),a(16,"div",11),i(17),n(),a(18,"div",12),i(19),n()(),a(20,"div",7)(21,"div",8)(22,"span",9),i(23,"event_available"),n(),a(24,"h3",10),i(25,"Prenotazioni Oggi"),n()(),a(26,"div",11),i(27),n(),a(28,"div",12),i(29),n()(),a(30,"div",7)(31,"div",8)(32,"span",9),i(33,"warning"),n(),a(34,"h3",10),i(35,"Scorte Basse"),n()(),a(36,"div",11),i(37),n(),a(38,"div",12),i(39),n()(),a(40,"div",7)(41,"div",8)(42,"span",9),i(43,"star"),n(),a(44,"h3",10),i(45,"Valutazione Media"),n()(),a(46,"div",11),i(47),n(),a(48,"div",12),i(49),n()()(),a(50,"div",13)(51,"div",8)(52,"span",9),i(53,"trending_up"),n(),a(54,"h3",14),i(55,"Andamento Vendite Ultimi 7 Giorni"),n()(),a(56,"div",15)(57,"div",16),y(58,W,6,4,"div",17),n()()(),a(59,"div",18)(60,"div",7)(61,"div",8)(62,"span",9),i(63,"local_fire_department"),n(),a(64,"h3",14),i(65,"Piatti Pi\xF9 Venduti"),n()(),a(66,"div",19),y(67,J,10,4,"div",20)(68,Q,5,0,"div",21),n()(),a(69,"div",7)(70,"div",8)(71,"span",9),i(72,"schedule"),n(),a(73,"h3",14),i(74,"Prossime Prenotazioni"),n()(),a(75,"div",19),y(76,X,11,7,"div",22)(77,Z,5,0,"div",21),n()(),a(78,"div",7)(79,"div",8)(80,"span",9),i(81,"restaurant"),n(),a(82,"h3",14),i(83,"Ordini in Corso"),n()(),a(84,"div",19),y(85,ee,13,7,"div",23)(86,te,5,0,"div",21),n()(),a(87,"div",7)(88,"div",8)(89,"span",9),i(90,"notification_important"),n(),a(91,"h3",14),i(92,"Alert Inventario"),n()(),a(93,"div",19),y(94,re,12,5,"div",24)(95,ae,5,0,"div",21),n()()()()),t&2&&(o(17),v(r.todayOrders),o(2),g("\u20AC",r.formatNumber(r.todayRevenue)),o(8),v(r.todayReservations),o(2),g("",r.upcomingReservations," in arrivo"),o(8),v(r.lowStockIngredients),o(2),g(" ",r.lowStockIngredients>0?"Azione richiesta":"Tutto sotto controllo"," "),o(8),g("",r.averageRating,"/5"),o(2),g("",r.totalReviews," recensioni"),o(9),h("ngForOf",r.salesData),o(9),h("ngForOf",r.topDishes),o(),h("ngIf",r.topDishes.length===0),o(8),h("ngForOf",r.upcomingReservationsList),o(),h("ngIf",r.upcomingReservationsList.length===0),o(8),h("ngForOf",r.currentOrders),o(),h("ngIf",r.currentOrders.length===0),o(8),h("ngForOf",r.inventoryAlerts),o(),h("ngIf",r.inventoryAlerts.length===0))},dependencies:[q,F,$],styles:[".top-dishes[_ngcontent-%COMP%] > *[_ngcontent-%COMP%], .reservations-list[_ngcontent-%COMP%] > *[_ngcontent-%COMP%], .orders-list[_ngcontent-%COMP%] > *[_ngcontent-%COMP%], .alerts-list[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{transition:all .25s ease}.top-dishes[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:hover, .reservations-list[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:hover, .orders-list[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:hover{background:var(--smoke-1);transform:translateY(-2px)}.sales-chart[_ngcontent-%COMP%]{margin-top:var(--gap-lg)}.chart-bars[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:space-between;height:280px;gap:var(--gap-md);padding:var(--gap-md) var(--gap-lg);position:relative}.chart-bar-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:flex-end;position:relative;min-width:50px}.chart-bar[_ngcontent-%COMP%]{width:100%;min-width:40px;max-width:70px;background:var(--gradiente);border-radius:8px 8px 0 0;transition:all .4s cubic-bezier(.2,.9,.2,1);box-shadow:0 4px 12px var(--shadow-1);position:relative;min-height:4px}.bar-amount[_ngcontent-%COMP%]{position:absolute;top:-30px;left:50%;transform:translate(-50%);font-size:var(--fs-sm);font-weight:600;color:var(--text-color);background:var(--background);padding:2px 6px;border-radius:6px;border:1px solid var(--smoke-1);white-space:nowrap;z-index:2}.bar-label[_ngcontent-%COMP%]{margin-top:var(--gap-sm);font-size:var(--fs-sm);font-weight:500;color:var(--text-color);text-align:center}.chart-bar-container[_ngcontent-%COMP%]:hover   .chart-bar[_ngcontent-%COMP%]{transform:scaleY(1.08);box-shadow:0 8px 20px var(--shadow-2)}.chart-bar-container[_ngcontent-%COMP%]:hover   .bar-amount[_ngcontent-%COMP%]{background:var(--primary);color:#fff;border-color:var(--primary)}.chip.preparing[_ngcontent-%COMP%]{background:color-mix(in srgb,#f59e0b 15%,transparent);color:#f59e0b}@media (max-width: 1024px){.chart-bars[_ngcontent-%COMP%]{height:240px;gap:var(--gap-sm)}.bar-amount[_ngcontent-%COMP%]{font-size:.75rem;top:-25px}}@media (max-width: 768px){.chart-bars[_ngcontent-%COMP%]{height:200px;padding:var(--gap-sm)}.chart-bar[_ngcontent-%COMP%]{min-width:35px;max-width:50px}.bar-amount[_ngcontent-%COMP%]{padding:1px 4px;top:-22px}}@media (max-width: 480px){.chart-bars[_ngcontent-%COMP%]{height:180px;gap:8px}.chart-bar[_ngcontent-%COMP%]{min-width:30px}.bar-label[_ngcontent-%COMP%]{font-size:.75rem}}"]})};export{Y as Dashboard};
