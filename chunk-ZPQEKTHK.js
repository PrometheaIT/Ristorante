import{a as I}from"./chunk-EZ43J4Z3.js";import{a as E}from"./chunk-TRP27J4P.js";import"./chunk-CXV4BLDF.js";import{d as h,e as g,k as x}from"./chunk-L5SOXNIK.js";import{$a as f,Db as c,Ka as r,Pb as i,Qb as o,Rb as v,da as u,eb as p,f as m,pb as d,qb as t,rb as e,sb as S}from"./chunk-KZSY5CHT.js";function b(n,a){n&1&&(t(0,"span",13),i(1," In attesa di approvazione "),e())}function y(n,a){n&1&&(t(0,"div",18)(1,"span",2),i(2,"restaurant"),e(),t(3,"h3"),i(4,"Nessun ristorante cliente"),e(),t(5,"p",4),i(6,"I ristoranti appariranno qui quando utilizzeranno i tuoi prodotti"),e()())}function P(n,a){if(n&1&&(t(0,"div",7)(1,"div",8)(2,"span",2),i(3,"business"),e(),t(4,"h3",9),i(5),e()(),t(6,"div",20)(7,"div",21)(8,"span",2),i(9,"email"),e(),t(10,"div",22)(11,"span",23),i(12,"Email"),e(),t(13,"span",24),i(14),e()()(),t(15,"div",21)(16,"span",2),i(17,"phone"),e(),t(18,"div",22)(19,"span",23),i(20,"Telefono"),e(),t(21,"span",24),i(22),e()()(),t(23,"div",21)(24,"span",2),i(25,"location_on"),e(),t(26,"div",22)(27,"span",23),i(28,"Indirizzo"),e(),t(29,"span",24),i(30),e()()()()()),n&2){let l=a.$implicit;r(5),o(l.name),r(9),o(l.email||"N/D"),r(8),o(l.phone||"N/D"),r(8),o(l.address||"N/D")}}function D(n,a){if(n&1&&(t(0,"div",6),p(1,P,31,4,"div",19),e()),n&2){let l=c(2);r(),d("ngForOf",l.restaurants)}}function C(n,a){if(n&1&&(t(0,"div",14)(1,"h2",15)(2,"span",2),i(3,"restaurant"),e(),i(4," Ristoranti Clienti "),e(),p(5,y,7,0,"div",16)(6,D,2,1,"div",17),e()),n&2){let l=c();r(5),d("ngIf",l.restaurants.length===0),r(),d("ngIf",l.restaurants.length>0)}}function w(n,a){n&1&&(t(0,"div",25),S(1,"div",26),t(2,"span"),i(3,"Caricamento dati fornitore..."),e()())}var _=class n{supplierAuthService=u(E);supplierProductsService=u(I);supplierProfile=null;ingredients=[];restaurants=[];products=[];isLoading=!0;ngOnInit(){return m(this,null,function*(){yield this.loadData()})}loadData(){return m(this,null,function*(){this.isLoading=!0;try{yield this.supplierAuthService.loadSupplierProfile(),this.supplierAuthService.supplierProfile$.subscribe(a=>{this.supplierProfile=a}),this.ingredients=yield this.supplierAuthService.getSupplierIngredients(),this.restaurants=yield this.supplierAuthService.getSupplierRestaurants(),yield this.supplierProductsService.loadSupplierProducts(),this.supplierProductsService.products$.subscribe(a=>{this.products=a})}catch(a){console.error("Error loading supplier data:",a)}finally{this.isLoading=!1}})}get totalRestaurants(){return this.restaurants.length}get totalIngredients(){return this.ingredients.length}get totalProducts(){return this.products.length}get activeProducts(){return this.products.filter(a=>a.is_available).length}static \u0275fac=function(l){return new(l||n)};static \u0275cmp=f({type:n,selectors:[["app-supplier-dashboard"]],decls:43,vars:8,consts:[[1,"page-container"],[1,"section-header"],[1,"material-icons"],[1,"section-titles"],[1,"text-muted"],["class","chip warning","style","margin-left: 8px;",4,"ngIf"],[1,"grid-cards"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-number"],["class","form-section",4,"ngIf"],["class","loading-container",4,"ngIf"],[1,"chip","warning",2,"margin-left","8px"],[1,"form-section"],[1,"section-title"],["class","empty-state",4,"ngIf"],["class","grid-cards",4,"ngIf"],[1,"empty-state"],["class","card",4,"ngFor","ngForOf"],[1,"card-content"],[1,"info-item"],[1,"contact-info"],[1,"info-label"],[1,"info-value"],[1,"loading-container"],[1,"loading-spinner"]],template:function(l,s){l&1&&(t(0,"div",0)(1,"div",1)(2,"span",2),i(3,"local_shipping"),e(),t(4,"div",3)(5,"h1"),i(6,"Dashboard Fornitore"),e(),t(7,"p",4),i(8),p(9,b,2,0,"span",5),e()()(),t(10,"div",6)(11,"div",7)(12,"div",8)(13,"span",2),i(14,"restaurant"),e(),t(15,"h3",9),i(16,"Ristoranti Clienti"),e()(),t(17,"div",10),i(18),e(),t(19,"p",4),i(20,"Ristoranti che usano i tuoi prodotti"),e()(),t(21,"div",7)(22,"div",8)(23,"span",2),i(24,"inventory"),e(),t(25,"h3",9),i(26,"Ingredienti Forniti"),e()(),t(27,"div",10),i(28),e(),t(29,"p",4),i(30,"Ingredienti attualmente in uso"),e()(),t(31,"div",7)(32,"div",8)(33,"span",2),i(34,"storefront"),e(),t(35,"h3",9),i(36,"Prodotti Catalogo"),e()(),t(37,"div",10),i(38),e(),t(39,"p",4),i(40),e()()(),p(41,C,7,2,"div",11)(42,w,4,0,"div",12),e()),l&2&&(r(8),v(" Benvenuto, ",(s.supplierProfile==null?null:s.supplierProfile.company_name)||"Fornitore"," "),r(),d("ngIf",!(s.supplierProfile!=null&&s.supplierProfile.is_approved)),r(9),o(s.totalRestaurants),r(10),o(s.totalIngredients),r(10),o(s.totalProducts),r(2),v("",s.activeProducts," prodotti attivi"),r(),d("ngIf",!s.isLoading),r(),d("ngIf",s.isLoading))},dependencies:[x,h,g],encapsulation:2})};export{_ as SupplierDashboard};
