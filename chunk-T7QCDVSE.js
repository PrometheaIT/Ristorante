import{a as ee}from"./chunk-WYCOAMZ2.js";import{a as Z}from"./chunk-ZZI3MHE7.js";import{a as X}from"./chunk-6NJC3OEA.js";import{a as K}from"./chunk-BXEBBZA2.js";import{a as J}from"./chunk-T6RUCNYL.js";import"./chunk-PYCM5Q4Y.js";import{a as H}from"./chunk-2BF7JUZS.js";import"./chunk-CXUZBBYL.js";import{b as A,d as B,h as L,j as q,q as $,r as j,s as Q,t as U,u as G,x as Y}from"./chunk-TFECNMTR.js";import"./chunk-QGVET3VN.js";import{c as O,d as V,i as z,l as W}from"./chunk-WD7KEMNY.js";import{Bb as M,Cb as a,Da as l,Db as E,Eb as u,Fb as N,Gb as k,Ib as x,Jb as v,Kb as b,Qb as R,Sb as F,Ta as D,Ub as P,Ya as h,ba as S,eb as p,fb as r,ga as g,gb as i,ha as _,nb as f,qb as m,sb as c,xb as T}from"./chunk-25TB2OJR.js";import{a as I,b as w,j as C}from"./chunk-4ZZIO3ZI.js";function ie(s,t){if(s&1&&(r(0,"option",33),a(1),i()),s&2){let e=t.$implicit;p("value",e.id),l(),u(" ",e.name," ")}}function ne(s,t){if(s&1&&(r(0,"option",33),a(1),i()),s&2){let e=t.$implicit;p("value",e.id),l(),u(" ",e.name," ")}}function re(s,t){s&1&&(r(0,"span"),a(1," piatto"),i())}function ae(s,t){s&1&&(r(0,"span"),a(1," piatti"),i())}function oe(s,t){if(s&1&&(r(0,"span",34),a(1),i()),s&2){let e=c();l(),u(" di ",e.dishes.length," totali ")}}function se(s,t){if(s&1&&(r(0,"div",45),a(1),i()),s&2){let e=c().$implicit;l(),u(" ",e.description," ")}}function le(s,t){if(s&1&&(r(0,"span",46),a(1),i()),s&2){let e=c().$implicit,n=c();l(),u(" ",n.getCategoryName(e.category_id)," ")}}function de(s,t){s&1&&(r(0,"span",6),a(1," Nessuna categoria "),i())}function ce(s,t){if(s&1&&(r(0,"span",51),a(1),i()),s&2){let e=t.$implicit,n=c(3);l(),k(" ",n.getIngredientName(e)," (",n.getIngredientQuantity(e),"",n.getIngredientUnit(e),") ")}}function pe(s,t){if(s&1&&(r(0,"span",52),a(1),i()),s&2){let e=c(2).$implicit,n=c();l(),u(" +",n.getTotalIngredients(e)-2," altri ")}}function me(s,t){if(s&1&&(r(0,"div")(1,"div",47),a(2),i(),r(3,"div",48),h(4,ce,2,3,"span",49)(5,pe,2,1,"span",50),i()()),s&2){let e=c().$implicit,n=c();l(2),u(" ",n.getTotalIngredients(e)," ingredienti "),l(2),p("ngForOf",e.ingredients_composition==null?null:e.ingredients_composition.slice(0,2)),l(),p("ngIf",n.getTotalIngredients(e)>2)}}function ge(s,t){if(s&1){let e=f();r(0,"div",53)(1,"span",6),a(2,"Nessun ingrediente"),i(),r(3,"button",54),m("click",function(){g(e);let o=c().$implicit,d=c();return _(d.navigateToFoodCostBuilderFromTable(o))}),a(4," Aggiungi ingredienti "),i()()}}function _e(s,t){if(s&1){let e=f();r(0,"tr",35)(1,"td")(2,"div",36)(3,"strong",37),a(4),i(),h(5,se,2,1,"div",38),i()(),r(6,"td"),h(7,le,2,1,"span",39)(8,de,2,0,"span",40),i(),r(9,"td")(10,"span",23),a(11),i()(),r(12,"td")(13,"div",41),h(14,me,6,3,"div",42)(15,ge,5,0,"ng-template",null,0,P),i()(),r(17,"td")(18,"div",43)(19,"span",21),a(20,"schedule"),i(),a(21),i()(),r(22,"td")(23,"div",3)(24,"button",44),m("click",function(){let o=g(e).$implicit,d=c();return _(d.openEditModal(o))}),r(25,"span",21),a(26,"edit_note"),i(),a(27," Ricetta "),i()()()()}if(s&2){let e=t.$implicit,n=T(16),o=c();l(4),E(e.name),l(),p("ngIf",e.description),l(2),p("ngIf",e.category_id),l(),p("ngIf",!e.category_id),l(2),M(o.getStatusColor(e.status)),l(),u(" ",o.getStatusText(e.status)," "),l(3),p("ngIf",o.getTotalIngredients(e)>0)("ngIfElse",n),l(7),u(" ",e.preparation_time||"-"," ")}}function ue(s,t){s&1&&(r(0,"div",55)(1,"span",21),a(2,"restaurant_menu"),i(),r(3,"h3"),a(4,"Nessun piatto trovato"),i(),r(5,"p",6),a(6,"Modifica i filtri di ricerca"),i()())}function he(s,t){if(s&1){let e=f();r(0,"div",76)(1,"span",21),a(2,"info"),i(),r(3,"p"),a(4,"Nessun ingrediente aggiunto al piatto"),i(),r(5,"button",20),m("click",function(){g(e);let o=c(2);return _(o.navigateToFoodCostBuilder())}),r(6,"span",21),a(7,"add_circle"),i(),a(8," Vai al Food Cost Builder "),i()()}}function fe(s,t){if(s&1){let e=f();r(0,"div",87)(1,"label",10),a(2),i(),r(3,"textarea",88),b("ngModelChange",function(o){g(e);let d=c().$implicit,y=c(3);return v(y.ingredientNotes[d.ingredient_id],o)||(y.ingredientNotes[d.ingredient_id]=o),_(o)}),m("input",function(o){g(e);let d=c().$implicit,y=c(3);return _(y.updateIngredientNotes(d.ingredient_id,o.target.value))}),a(4,"                "),i(),r(5,"div",71),a(6," Istruzioni specifiche per la preparazione di questo ingrediente nella ricetta "),i()()}if(s&2){let e=c().$implicit,n=c(3);l(2),u(" Istruzioni specifiche per ",n.getIngredientName(e),": "),l(),x("ngModel",n.ingredientNotes[e.ingredient_id])}}function xe(s,t){if(s&1){let e=f();r(0,"div",79)(1,"div",80)(2,"div",81)(3,"strong"),a(4),i(),r(5,"span",64),a(6),i()(),r(7,"div",82),a(8),R(9,"number"),i()(),r(10,"div",69)(11,"label",83)(12,"input",84),m("change",function(o){let d=g(e).$implicit,y=c(3);return _(y.toggleIngredientNotes(d.ingredient_id,o.target.checked))}),i(),r(13,"span",85)(14,"span",21),a(15,"notes"),i(),a(16),i()()(),h(17,fe,7,2,"div",86),i()}if(s&2){let e=t.$implicit,n=c(3);l(4),E(n.getIngredientName(e)),l(2),N(" ",n.getIngredientQuantity(e)," ",n.getIngredientUnit(e)," "),l(2),u(" Costo: \u20AC",F(9,7,n.getIngredientCost(e),"1.2-2")," "),l(4),p("checked",n.areNotesEnabled(e.ingredient_id)),l(4),u(" Aggiungi note di preparazione per ",n.getIngredientName(e)," "),l(),p("ngIf",n.areNotesEnabled(e.ingredient_id))}}function ve(s,t){if(s&1&&(r(0,"div",77),h(1,xe,18,10,"div",78),i()),s&2){let e=c(2);l(),p("ngForOf",e.selectedDish==null?null:e.selectedDish.ingredients_composition)}}function be(s,t){if(s&1){let e=f();r(0,"div",56),m("click",function(){g(e);let o=c();return _(o.closeEditModal())}),r(1,"div",57),m("click",function(o){return g(e),_(o.stopPropagation())}),r(2,"div",58)(3,"h2",59)(4,"span",21),a(5,"edit_note"),i(),a(6),i(),r(7,"button",60),m("click",function(){g(e);let o=c();return _(o.closeEditModal())}),r(8,"span",21),a(9,"close"),i()()(),r(10,"div",61)(11,"div",62)(12,"h4",63)(13,"span",21),a(14,"list_alt"),i(),a(15," Ingredienti del Piatto "),r(16,"span",64),a(17),i(),a(18," Note di Preparazione "),r(19,"span",64),a(20),i()(),h(21,he,9,0,"div",65)(22,ve,2,1,"div",66),i(),r(23,"div",67)(24,"h4",68)(25,"span",21),a(26,"menu_book"),i(),a(27," Istruzioni Generali di Preparazione "),i(),r(28,"div",69)(29,"label",10),a(30,"Descrizione della Ricetta *"),i(),r(31,"textarea",70),b("ngModelChange",function(o){g(e);let d=c();return v(d.recipeInstructions,o)||(d.recipeInstructions=o),_(o)}),i(),r(32,"div",71),a(33," Descrivi i passaggi generali per preparare il piatto, l'ordine di cottura, i tempi complessivi, ecc. "),i()(),r(34,"div",72)(35,"label",10),a(36,"Tempo di Preparazione (minuti)"),i(),r(37,"input",73),b("ngModelChange",function(o){g(e);let d=c();return v(d.preparationTime,o)||(d.preparationTime=o),_(o)}),i()()()(),r(38,"div",19)(39,"button",74),m("click",function(){g(e);let o=c();return _(o.closeEditModal())}),r(40,"span",21),a(41,"close"),i(),a(42," Annulla "),i(),r(43,"button",75),m("click",function(){g(e);let o=c();return _(o.saveRecipe())}),r(44,"span",21),a(45,"save"),i(),a(46," Salva Ricetta "),i()()()()}if(s&2){let e=c();l(6),u(" Ricetta - ",e.selectedDish==null?null:e.selectedDish.name," "),l(11),u(" ",(e.selectedDish==null||e.selectedDish.ingredients_composition==null?null:e.selectedDish.ingredients_composition.length)||0," "),l(3),u(" ",e.getEnabledNotesCount()," "),l(),p("ngIf",!(!(e.selectedDish==null||e.selectedDish.ingredients_composition==null)&&e.selectedDish.ingredients_composition.length)),l(),p("ngIf",e.selectedDish==null||e.selectedDish.ingredients_composition==null?null:e.selectedDish.ingredients_composition.length),l(9),x("ngModel",e.recipeInstructions),l(6),x("ngModel",e.preparationTime),l(6),p("disabled",!e.canSaveRecipe())}}function Ce(s,t){if(s&1){let e=f();r(0,"div",56),m("click",function(){g(e);let o=c();return _(o.cancelDelete())}),r(1,"div",89),m("click",function(o){return g(e),_(o.stopPropagation())}),r(2,"div",90)(3,"h2",59)(4,"span",21),a(5,"warning"),i(),a(6," Conferma Eliminazione "),i()(),r(7,"div",91)(8,"p"),a(9,"Sei sicuro di voler eliminare tutti gli ingredienti della ricetta per "),r(10,"strong"),a(11),i(),a(12,"?"),i(),r(13,"p",6),a(14,"Questa azione non pu\xF2 essere annullata."),i()(),r(15,"div",19)(16,"div",92)(17,"button",74),m("click",function(){g(e);let o=c();return _(o.cancelDelete())}),a(18,"Annulla"),i(),r(19,"button",93),m("click",function(){g(e);let o=c();return _(o.deleteDish())}),r(20,"span",21),a(21,"delete"),i(),a(22," Elimina Ricetta "),i()()()()()}if(s&2){let e=c();l(11),E(e.dishToDelete==null?null:e.dishToDelete.name)}}var te=class s{dishService=S(K);ingredientService=S(J);loadingService=S(H);categoryService=S(X);menuService=S(ee);menuDishService=S(Z);recipeInstructions="";preparationTime=15;allIngredients=[];dishes=[];filteredDishes=[];categories=[];categoryFilter="all";menus=[];menuFilter="all";menuDishes=[];dishMenuMap=new Map;selectedDish=null;showEditModal=!1;showDeleteConfirm=!1;dishToDelete=null;ingredientNotes={};ingredientNotesEnabled={};searchTerm="";statusFilter="all";ngOnInit(){this.loadIngredients(),this.loadDishes(),this.loadCategories(),this.loadMenusAndAssociations()}loadIngredients(){return C(this,null,function*(){yield this.ingredientService.loadIngredients(),this.ingredientService.data$.subscribe(t=>{this.allIngredients=t})})}loadDishes(){return C(this,null,function*(){this.loadingService.start();try{yield this.dishService.loadDishes(),this.dishService.data$.subscribe(t=>{this.dishes=t,this.applyFilters(),this.loadingService.stop()})}catch(t){this.loadingService.stop(),console.error("Error loading dishes:",t)}})}loadCategories(){return C(this,null,function*(){yield this.categoryService.loadData(),this.categoryService.data$.subscribe(t=>{this.categories=t})})}getCategoryName(t){if(!t)return"Nessuna categoria";let e=this.categories.find(n=>n.id===t);return e?e.name:"Categoria non trovata"}loadMenusAndAssociations(){return C(this,null,function*(){try{yield this.menuService.loadData(),this.menuService.data$.subscribe(t=>{this.menus=t.filter(e=>e.is_active)}),yield this.menuDishService.loadData(),this.menuDishService.data$.subscribe(t=>{this.menuDishes=t.filter(e=>e.is_active),this.buildDishMenuMap()})}catch(t){console.error("Error loading menus:",t)}})}buildDishMenuMap(){let t=new Map;this.menuDishes.forEach(e=>{if(!e.is_active||!e.dish_id)return;let n=e.dish_id;t.has(n)||t.set(n,[]),t.get(n).push(e.menu_id)}),this.dishMenuMap=t}getMenuNamesForDish(t){return(this.dishMenuMap.get(t)||[]).map(n=>{let o=this.menus.find(d=>d.id===n);return o?o.name:"Menu sconosciuto"})}isDishInMenu(t,e){let n=this.dishMenuMap.get(t);return n?n.includes(e):!1}applyFilters(){let t=this.dishes;if(this.statusFilter!=="all"&&(t=t.filter(e=>e.status===this.statusFilter)),this.categoryFilter!=="all"&&(t=t.filter(e=>e.category_id===this.categoryFilter)),this.menuFilter!=="all"&&(this.menuFilter==="no_menu"?t=t.filter(e=>{let n=this.dishMenuMap.get(e.id);return!n||n.length===0}):t=t.filter(e=>this.isDishInMenu(e.id,this.menuFilter))),this.searchTerm){let e=this.searchTerm.toLowerCase();t=t.filter(n=>n.name.toLowerCase().includes(e)||n.description?.toLowerCase().includes(e)||this.hasIngredientWithName(n,e))}this.filteredDishes=t}onMenuFilterChange(){this.applyFilters()}hasIngredientWithName(t,e){return!t||!t.ingredients_composition?!1:t.ingredients_composition.some(n=>this.getIngredientName(n).toLowerCase().includes(e))}onCategoryFilterChange(){this.applyFilters()}onSearchChange(){this.applyFilters()}onStatusFilterChange(){this.applyFilters()}openEditModal(t){this.selectedDish=w(I({},t),{ingredients_composition:t.ingredients_composition?[...t.ingredients_composition]:[]}),this.recipeInstructions=t.recipe_instructions||"",this.preparationTime=t.preparation_time||15,this.initializeIngredientNotes(),this.showEditModal=!0}initializeIngredientNotes(){this.ingredientNotes={},this.ingredientNotesEnabled={},this.selectedDish?.ingredients_composition&&this.selectedDish.ingredients_composition.forEach(t=>{t.ingredient_id&&(this.ingredientNotes[t.ingredient_id]=t.recipe_notes||"",this.ingredientNotesEnabled[t.ingredient_id]=!!t.recipe_notes)})}closeEditModal(){this.selectedDish=null,this.showEditModal=!1,this.ingredientNotes={},this.ingredientNotesEnabled={}}saveRecipe(){return C(this,null,function*(){if(!this.selectedDish||!this.canSaveRecipe()){console.log("Niente da salvare o piatto non selezionato");return}this.loadingService.start();try{let t=this.selectedDish.ingredients_composition?.map(o=>{let d=this.ingredientNotesEnabled[o.ingredient_id]&&this.ingredientNotes[o.ingredient_id]||"";return w(I({},o),{recipe_notes:d})}),e={recipe_instructions:this.recipeInstructions,preparation_time:this.preparationTime,ingredients_composition:t};(yield this.dishService.updateDish(this.selectedDish.id,e))?(yield this.dishService.loadDishes(),this.closeEditModal()):console.error("Error saving recipe")}catch(t){console.error("Error saving recipe:",t)}finally{this.loadingService.stop()}})}updateIngredientNotes(t,e){this.ingredientNotes[t]=e}getIngredientNotes(t){return this.ingredientNotes[t]||""}toggleIngredientNotes(t,e){this.ingredientNotesEnabled[t]=e}areNotesEnabled(t){return this.ingredientNotesEnabled[t]||!1}navigateToFoodCostBuilder(){console.log("Navigate to food cost builder for dish:",this.selectedDish?.id)}navigateToFoodCostBuilderFromTable(t){console.log("Navigate to food cost builder for dish from table:",t.id)}canSaveRecipe(){return this.recipeInstructions&&this.recipeInstructions.trim().length>0?!0:this.selectedDish?.ingredients_composition?this.selectedDish.ingredients_composition.some(t=>this.ingredientNotesEnabled[t.ingredient_id]):!1}cancelDelete(){this.dishToDelete=null,this.showDeleteConfirm=!1}deleteDish(){return C(this,null,function*(){if(this.dishToDelete){this.loadingService.start();try{(yield this.dishService.updateDish(this.dishToDelete.id,{ingredients_composition:[]}))&&(yield this.loadDishes())}catch(t){console.error("Error deleting dish:",t)}finally{this.loadingService.stop(),this.cancelDelete()}}})}getStatusColor(t){return{available:"success",unavailable:"warning",out_of_stock:"danger"}[t]||"secondary"}getStatusText(t){return{available:"Disponibile",unavailable:"Non Disponibile",out_of_stock:"Esaurito"}[t]||t}getTotalIngredients(t){return!t||!t.ingredients_composition?0:t.ingredients_composition.length}getIngredientName(t){return t.ingredient_id?this.allIngredients.find(n=>n.id===t.ingredient_id)?.name||"Ingrediente non trovato":"Ingrediente sconosciuto"}getIngredientQuantity(t){return t.quantity||0}getIngredientUnit(t){return t.unit_symbol||""}getIngredientCost(t){return t.cost||0}getFullIngredient(t){return t.ingredient_id&&this.allIngredients.find(e=>e.id===t.ingredient_id)||null}getSavedIngredientNotes(t){return t.recipe_notes||""}getEnabledNotesCount(){return this.selectedDish?.ingredients_composition?this.selectedDish.ingredients_composition.filter(t=>this.ingredientNotesEnabled[t.ingredient_id]).length:0}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=D({type:s,selectors:[["app-recipe"]],decls:79,vars:16,consts:[["noIngredients",""],[1,"recipe-container","page-container"],[1,"section-header"],[1,"flex","gap-sm"],[1,"material-icons","fs-lg"],[1,"section-title"],[1,"text-muted"],[1,"flex","justify-between","items-end","gap-sm","flex-wrap"],[1,"form-row"],[1,"form-group","mb-md"],[1,"standard-label"],[1,"form-input",3,"ngModelChange","change","ngModel"],["value","all"],["value","available"],["value","unavailable"],["value","out_of_stock"],["value","no_menu"],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Nome piatto, ingrediente...",1,"form-input",3,"ngModelChange","input","ngModel"],[1,"modal-footer"],[1,"promethea-button","primary",3,"click"],[1,"material-icons"],[1,"flex","items-center","gap-sm"],[1,"chip"],[4,"ngIf"],["class","text-muted text-sm",4,"ngIf"],[1,"table-section"],[1,"bg-body","border","rounded-lg","overflow-hidden","shadow-card","backdrop-blur"],[1,"crm-table"],[1,"text-center"],["class","dish-row",4,"ngFor","ngForOf"],["class","empty-state mt-sm mb-md",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[3,"value"],[1,"text-muted","text-sm"],[1,"dish-row"],[1,"dish-info"],[1,"dish-name"],["class","dish-description text-muted",4,"ngIf"],["class","chip categoria",4,"ngIf"],["class","text-muted",4,"ngIf"],[1,"ingredients-preview"],[4,"ngIf","ngIfElse"],[1,"preparation-time"],[1,"promethea-button","primary","small",3,"click"],[1,"dish-description","text-muted"],[1,"chip","categoria"],[1,"ingredient-count","text-muted"],[1,"ingredients-list"],["class","ingredient-tag chip",4,"ngFor","ngForOf"],["class","ingredient-more chip active",4,"ngIf"],[1,"ingredient-tag","chip"],[1,"ingredient-more","chip","active"],[1,"no-ingredients-state"],[1,"promethea-button","link","small",3,"click"],[1,"empty-state","mt-sm","mb-md"],[1,"modal-overlay",3,"click"],[1,"modal-container","modal-lg",3,"click"],[1,"modal-header"],[1,"modal-title"],[1,"icon-button","close-button",3,"click"],[1,"form-card"],[1,"border","rounded-lg","p-lg","bg-gradient-light","shadow-card","my-md"],[1,"flex","items-center","gap-sm","mb-md","font-bold","text-[calc(var(--fs-sm)*1.2)]"],[1,"chip","active"],["class","text-center p-xl opacity-70",4,"ngIf"],["class","grid gap-sm",4,"ngIf"],[1,"border","rounded-lg","p-lg","bg-gradient-light","shadow-card","mt-lg"],[1,"flex","items-center","gap-sm","mb-md","font-bold","text-[calc(var(--fs-sm)*1.2)]",2,"font-size","var(--fs-md)"],[1,"flex","flex-col","gap-1","flex-1","min-w-300"],["name","recipeInstructions","rows","8","placeholder","Descrivi la sequenza generale di preparazione...",1,"form-input","text-area",3,"ngModelChange","ngModel"],[1,"text-muted","mt-sm"],[1,"flex","flex-col","gap-1","flex-1","min-w-300","mt-sm"],["type","number","name","preparationTime","min","1","max","480","placeholder","Es. 15, 30, 45...",1,"form-input",3,"ngModelChange","ngModel"],[1,"promethea-button","secondary",3,"click"],[1,"promethea-button","success",3,"click","disabled"],[1,"text-center","p-xl","opacity-70"],[1,"grid","gap-sm"],["class","border rounded-lg p-md my-md bg-[color-mix(in srgb,var(--background)95%,transparent)] ingredient-card",4,"ngFor","ngForOf"],[1,"border","rounded-lg","p-md","my-md","bg-[color-mix(in","srgb,var(--background)95%,transparent)]","ingredient-card"],[1,"ingredient-header"],[1,"ingredient-main-info"],[1,"ingredient-cost","text-muted"],[1,"flex","items-center","gap-sm","cursor-pointer","p-sm","rounded","transition","hover:bg-[var(--smoke-1)]","large"],["type","checkbox",1,"checkbox-input",3,"change","checked"],[1,"checkbox-text"],["class","flex flex-col gap-1 flex-1 min-w-300 notes-input-container",4,"ngIf"],[1,"flex","flex-col","gap-1","flex-1","min-w-300","notes-input-container"],["rows","3","placeholder","Descrivi come trattare e cucinare questo ingrediente specifico...",1,"form-input","text-area",3,"ngModelChange","input","ngModel"],[1,"modal-container","modal-sm",3,"click"],[1,"p-md","border-t","border-b","border-[var(--smoke-1)]","flex","justify-between","items-center"],[1,"p-lg","flex-1","overflow-y-auto"],[1,"footer-actions"],[1,"promethea-button","danger",3,"click"]],template:function(e,n){e&1&&(r(0,"div",1)(1,"div",2)(2,"div",3)(3,"span",4),a(4,"menu_book"),i(),r(5,"h1",5),a(6,"Ricette"),i()(),r(7,"p",6),a(8,"Gestisci le ricette e gli ingredienti dei piatti"),i()(),r(9,"div",7)(10,"div",8)(11,"div",9)(12,"label",10),a(13,"Stato:"),i(),r(14,"select",11),b("ngModelChange",function(d){return v(n.statusFilter,d)||(n.statusFilter=d),d}),m("change",function(){return n.onStatusFilterChange()}),r(15,"option",12),a(16,"Tutti i piatti"),i(),r(17,"option",13),a(18,"Disponibili"),i(),r(19,"option",14),a(20,"Non Disponibili"),i(),r(21,"option",15),a(22,"Esauriti"),i()()(),r(23,"div",9)(24,"label",10),a(25,"Menu:"),i(),r(26,"select",11),b("ngModelChange",function(d){return v(n.menuFilter,d)||(n.menuFilter=d),d}),m("change",function(){return n.onMenuFilterChange()}),r(27,"option",12),a(28,"Tutti i menu"),i(),r(29,"option",16),a(30,"Senza menu"),i(),h(31,ie,2,2,"option",17),i()()(),r(32,"div",8)(33,"div",9)(34,"label",10),a(35,"Categoria:"),i(),r(36,"select",11),b("ngModelChange",function(d){return v(n.categoryFilter,d)||(n.categoryFilter=d),d}),m("change",function(){return n.onCategoryFilterChange()}),r(37,"option",12),a(38,"Tutte le categorie"),i(),h(39,ne,2,2,"option",17),i()(),r(40,"div",9)(41,"label",10),a(42,"Cerca:"),i(),r(43,"input",18),b("ngModelChange",function(d){return v(n.searchTerm,d)||(n.searchTerm=d),d}),m("input",function(){return n.onSearchChange()}),i()()()(),r(44,"div",19)(45,"button",20),m("click",function(){return n.loadDishes()}),r(46,"span",21),a(47,"refresh"),i(),a(48," Aggiorna "),i(),r(49,"div",22)(50,"span",23)(51,"span",22)(52,"span"),a(53),i(),h(54,re,2,0,"span",24)(55,ae,2,0,"span",24),i()(),h(56,oe,2,1,"span",25),i()(),r(57,"div",26)(58,"div",27)(59,"table",28)(60,"thead")(61,"tr")(62,"th"),a(63,"Piatto"),i(),r(64,"th"),a(65,"Categoria"),i(),r(66,"th"),a(67,"Stato"),i(),r(68,"th"),a(69,"Ingredienti"),i(),r(70,"th"),a(71,"Tempo (min)"),i(),r(72,"th",29),a(73,"Azioni"),i()()(),r(74,"tbody"),h(75,_e,28,10,"tr",30),i()(),h(76,ue,7,0,"div",31),i()(),h(77,be,47,8,"div",32)(78,Ce,23,1,"div",32),i()),e&2&&(l(14),x("ngModel",n.statusFilter),l(12),x("ngModel",n.menuFilter),l(5),p("ngForOf",n.menus),l(5),x("ngModel",n.categoryFilter),l(3),p("ngForOf",n.categories),l(4),x("ngModel",n.searchTerm),l(7),M(n.filteredDishes.length===0?"secondary":"active"),l(3),E(n.filteredDishes.length),l(),p("ngIf",n.filteredDishes.length===1),l(),p("ngIf",n.filteredDishes.length!==1),l(),p("ngIf",n.dishes.length!==n.filteredDishes.length),l(19),p("ngForOf",n.filteredDishes),l(),p("ngIf",n.filteredDishes.length===0),l(),p("ngIf",n.showEditModal),l(),p("ngIf",n.showDeleteConfirm))},dependencies:[W,O,V,Y,j,Q,A,q,$,B,G,U,L,z],styles:[".recipe-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--gap-lg)}.dish-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.dish-name[_ngcontent-%COMP%]{font-size:var(--fs-sm);font-weight:600;color:var(--text-color)}.dish-description[_ngcontent-%COMP%]{font-size:var(--fs-sm);line-height:1.4}.ingredients-preview[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--gap-sm)}.ingredient-count[_ngcontent-%COMP%]{font-size:var(--fs-sm);font-weight:500}.ingredients-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-top:calc(var(--gap-sm) / 2);gap:calc(var(--gap-sm) / 2)}.ingredient-tag[_ngcontent-%COMP%]{background:var(--smoke-1);color:var(--text-color);padding:4px 8px;border-radius:12px;font-size:var(--fs-sm);font-weight:500;border:1px solid var(--smoke-color-2)}.preparation-time[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-weight:500}.preparation-time[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:16px;color:var(--primary)}.no-ingredients-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;align-items:flex-start}.ingredient-card[_ngcontent-%COMP%]{transition:all .3s ease}.ingredient-card[_ngcontent-%COMP%]:hover{border-color:var(--primary);box-shadow:0 2px 8px var(--shadow)}.ingredient-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:var(--gap-sm);flex-wrap:wrap;gap:var(--gap-sm)}.ingredient-main-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--gap-md);flex-wrap:wrap}.ingredient-cost[_ngcontent-%COMP%]{font-size:var(--fs-sm);font-weight:500}.notes-input-container[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-in-out;margin-top:var(--gap-sm)}.categoria[_ngcontent-%COMP%]{background:var(--shadow-2)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-8px)}to{opacity:1;transform:translateY(0)}}.checkbox-label.large[_ngcontent-%COMP%]   .checkbox-text[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--gap-sm);font-weight:600}@media (max-width: 768px){.ingredient-header[_ngcontent-%COMP%], .ingredient-main-info[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:var(--gap-sm)}.action-buttons[_ngcontent-%COMP%]{flex-direction:column}.ingredients-list[_ngcontent-%COMP%]{gap:4px}.ingredient-tag[_ngcontent-%COMP%]{font-size:var(--fs-sm)}}@media print{.filters-section[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%], .modal-overlay[_ngcontent-%COMP%]{display:none!important}.recipe-container[_ngcontent-%COMP%]{gap:var(--gap-md)}.table-container[_ngcontent-%COMP%]{box-shadow:none;border:1px solid #000}}"]})};export{te as Recipe};
