import{b as oe,d as le,h as ce,r as de,s as me,x as pe}from"./chunk-B4OL4BIV.js";import{a as _e,b as A,c as G}from"./chunk-OPZ3YF67.js";import{a as ue}from"./chunk-5PRXFY4R.js";import{a as z}from"./chunk-24HI7PXV.js";import"./chunk-4RQOBPFF.js";import"./chunk-TT5HVSFC.js";import"./chunk-OPNETFGM.js";import"./chunk-L3BVOY7C.js";import{b as te,c as ie,d as ne,f as ae,j as re,m as se}from"./chunk-JKK4MZBS.js";import{B as O,C as M,Cb as q,Db as J,Gb as P,Hb as s,Ib as E,Ja as d,Jb as v,Kb as K,Nb as Q,Ob as X,Pb as Z,Wb as k,Xb as T,Yb as ee,Z as W,Za as U,_b as j,a as B,b as L,ba as R,cb as h,ga as S,h as _,i as H,kb as u,la as x,lb as a,ma as y,mb as n,nb as Y,o as $,sb as C,vb as f,xb as m}from"./chunk-G3XPJWB3.js";var F=class o{orderService=S(G);orderItemService=S(_e);orderStatusService=S(A);dishService=S(z);statusFilter=new $("all");searchTerm=new $("");orderHeadersData$=new $([]);filteredGroups$=M([this.orderHeadersData$.asObservable(),this.statusFilter,this.searchTerm]).pipe(O(([t,e,i])=>this.applyFilters(t,e,i)),W(t=>console.log("\u{1F3AF} Gruppi filtrati:",t.length)));stats$=this.filteredGroups$.pipe(O(t=>this.calculateStats(t)));constructor(){this.loadInitialData(),this.orderItemService.itemStatusChanged$.subscribe(r=>_(this,[r],function*({orderId:t,itemId:e,newStatus:i}){console.log(`\u{1F504} KitchenService: Piatto ${e} cambiato a ${i}`),setTimeout(()=>_(this,null,function*(){yield this.forceRefresh()}),100)})),this.orderService.orderChanged$.subscribe(t=>_(this,null,function*(){console.log(`\u{1F504} KitchenService: Comanda ${t} cambiata, refresh...`),setTimeout(()=>_(this,null,function*(){yield this.forceRefresh()}),100)})),setInterval(()=>_(this,null,function*(){yield this.forceRefresh()}),3e4)}loadInitialData(){return _(this,null,function*(){console.log("\u{1F504} KitchenService: Caricamento dati iniziali...");try{let t=yield this.orderService.loadOrdersForKitchen(),e=this.transformOrdersForKitchen(t);console.log("\u2705 Ordini trasformati:",e.length),this.orderHeadersData$.next(e),yield this.dishService.loadDishes(),console.log("\u2705 KitchenService: Dati caricati completamente")}catch(t){console.error("\u274C KitchenService: Errore caricamento dati:",t)}})}transformOrdersForKitchen(t){if(console.log("\u{1F504} Trasformazione ordini per cucina:",t?.length||0,"ordini"),!t||t.length===0)return console.log("\u274C Nessun ordine ricevuto per la trasformazione"),[];t.forEach((l,p)=>{console.log(`\u{1F4E6} DEBUG Ordine ${p+1}:`,{id:l.id,numero:l.order_number,stato_comanda:l.status,tavolo:l.table?.table_number,comanda_numero:l.comanda_number,piatti_totali:l.order_items?.length||0,piatti_con_stato:l.order_items?.map(g=>({id:g.id,nome:g.dish?.name,stato:g.status,created_at:g.created_at,dish_id:g.dish_id}))}),l.order_items&&l.order_items.length>0&&(console.log(`\u{1F4CA} STATI PIATTI per comanda ${l.comanda_number}:`),l.order_items.forEach((g,b)=>{console.log(`  Piatto ${b+1}: ${g.dish?.name} -> ${g.status}`)}))});let e=0,i=0;t.forEach(l=>{let p=(l.order_items||[]).filter(g=>["ordered","waiting","preparing","ready","out_of_stock"].includes(g.status));e+=p.length,i+=(l.order_items?.length||0)-p.length}),console.log(`\u{1F441}\uFE0F  Piatti visibili: ${e}, nascosti: ${i}`);let r=new Map;t.forEach(l=>{if(!l.order_header_id){console.warn("\u26A0\uFE0F Ordine senza order_header_id:",l.id);return}let p=l.order_header_id;r.has(p)||r.set(p,{order_header_id:p,order_header_number:l.order_number?.split("-")[0]||`Ord-${p.substring(0,8)}`,table_id:l.table_id,table_number:l.table?.table_number||"N/A",created_at:l.created_at,comande:[]});let g=r.get(p),b=l.order_items||[];if(b.length===0){console.log(`\u23ED\uFE0F Comanda ${l.comanda_number} senza piatti, salto`);return}let I=b.length,D=b.filter(w=>["ready","served"].includes(w.status)).length,ve=I>0?Math.round(D/I*100):0,N={id:l.id,order_header_id:l.order_header_id,order_number:l.order_number,comanda_number:l.comanda_number||1,table_id:l.table_id,table_number:l.table?.table_number||"N/A",status:l.status,items:b.map(w=>({id:w.id,dish_id:w.dish_id,dish_name:w.dish?.name||w.dish_name||"Piatto",quantity:w.quantity||1,status:w.status||"waiting",order_id:l.id,order_header_id:l.order_header_id,table_number:l.table?.table_number||"N/A",table_id:l.table_id,comanda_number:l.comanda_number||1,preparation_time:w.dish?.preparation_time||15,notes:w.item_notes||"",created_at:w.created_at||l.created_at})),created_at:l.created_at,total_items:I,completed_items:D,progress_percentage:ve};console.log(`\u2705 Creata comanda ${N.comanda_number} con ${N.items.length} piatti`),g.comande.push(N)}),console.log("\u{1F4CA} Gruppi creati:",r.size);let c=Array.from(r.values()).map(l=>{let p={waiting:0,preparing:0,ready:0,served:0,out_of_stock:0,ordered:0};l.comande.forEach(b=>{b.items.forEach(I=>{let D=I.status;p.hasOwnProperty(D)?p[D]+=I.quantity:p.ordered+=I.quantity})});let g=L(B({},l),{status_summary:p,comande:l.comande.sort((b,I)=>(b.comanda_number||0)-(I.comanda_number||0))});return console.log(`\u{1F4CB} Gruppo ${g.order_header_number}:`,{tavolo:g.table_number,comande:g.comande.length,summary:g.status_summary,totale_piatti:g.comande.reduce((b,I)=>b+I.items.length,0)}),g});return console.log(`\u{1F3AF} Totale gruppi finali: ${c.length}`),c}transformComanda(t){let e=(t.order_items||[]).map(r=>({id:r.id,dish_id:r.dish_id,dish_name:r.dish?.name||r.dish_name||"Piatto",quantity:r.quantity||1,status:r.status||"waiting",order_id:t.id,order_header_id:t.order_header_id,table_number:t.table?.table_number||"N/A",table_id:t.table_id,comanda_number:t.comanda_number||1,preparation_time:r.dish?.preparation_time||15,notes:r.item_notes||"",created_at:r.created_at||t.created_at})),i=this.calculateProgress(e);return{id:t.id,order_header_id:t.order_header_id,order_number:t.order_number,comanda_number:t.comanda_number||1,table_id:t.table_id,table_number:t.table?.table_number||"N/A",status:this.calculateComandaStatus(e),items:e,created_at:t.created_at,total_items:i.total,completed_items:i.completed,progress_percentage:i.percentage}}calculateComandaStatus(t){if(!t||t.length===0)return"waiting";let e=t.filter(r=>["ordered","waiting","preparing","ready","out_of_stock"].includes(r.status));if(e.length===0)return"served";let i=e.map(r=>r.status);return this.orderService.calculateOverallOrderStatus(e)}calculateProgress(t){let e=t.filter(l=>!["out_of_stock","cancelled"].includes(l.status)),i=e.filter(l=>["ready","served"].includes(l.status)).length,r=e.length,c=r>0?Math.round(i/r*100):0;return{completed:i,total:r,percentage:c}}calculateGroupSummary(t){let e={waiting:0,preparing:0,ready:0,served:0,out_of_stock:0};return t.comande.forEach(i=>{i.items.forEach(r=>{let c=r.status;e.hasOwnProperty(c)&&(e[c]+=r.quantity)})}),e}applyFilters(t,e,i){let r=t;if(e!=="all"&&(r=r.filter(c=>c.comande.some(l=>l.items.some(p=>p.status===e)))),i.trim()){let c=i.toLowerCase().trim();r=r.filter(l=>l.table_number.toLowerCase().includes(c)||l.order_header_number.toLowerCase().includes(c)||l.comande.some(p=>`comanda ${p.comanda_number}`.includes(c)||p.items.some(g=>g.dish_name.toLowerCase().includes(c))))}return r.filter(c=>c.comande.some(l=>l.items.some(p=>!["served","out_of_stock","cancelled"].includes(p.status))))}calculateStats(t){let e=0,i=0,r=0;return t.forEach(c=>{c.comande.forEach(l=>{l.items.forEach(p=>{p.status==="waiting"?e+=p.quantity:p.status==="preparing"?i+=p.quantity:p.status==="ready"&&(r+=p.quantity)})})}),{waiting:e,preparing:i,ready:r,totalGroups:t.length}}startItemPreparation(t){return _(this,null,function*(){console.log(`\u{1F373} Cucina inizia preparazione per item ${t}`);let e=yield this.orderItemService.updateOrderItemStatus(t,"preparing");return e&&(yield this.forceRefresh()),e})}markItemAsReady(t){return _(this,null,function*(){console.log(`\u2705 Cucina segnala pronto per item ${t}`);let e=yield this.orderItemService.updateOrderItemStatus(t,"ready");return e&&(yield this.forceRefresh()),e})}markItemAsOutOfStock(t){return _(this,null,function*(){console.log(`\u26D4 Cucina segnala esaurito per item ${t}`);let e=yield this.orderItemService.updateOrderItemStatus(t,"out_of_stock");return e&&(yield this.forceRefresh()),e})}updateItemStatus(t,e){return _(this,null,function*(){return console.log("\u{1F504} KitchenService.updateItemStatus per item:",{itemId:t.id,dishName:t.dish_name,currentStatus:t.status,newStatus:e}),["waiting","preparing","ready","out_of_stock"].includes(e)?this.orderStatusService.canTransitionItem(t.status,e,"kitchen")?this.updateOrderItemStatusInService(t.id,e):(console.error(`\u274C Transizione non consentita per la cucina: ${t.status} \u2192 ${e}`),!1):(console.error(`\u274C La cucina non pu\xF2 impostare lo stato ${e}`),!1)})}updateOrderItemStatusInService(t,e){return _(this,null,function*(){console.log(`\u{1F504} KitchenService.updateOrderItemStatusInService: ${t} -> ${e}`);try{let i=yield this.orderItemService.updateOrderItemStatus(t,e);return console.log(`\u2705 KitchenService.updateOrderItemStatusInService risultato: ${i}`),i&&(yield this.forceRefresh()),i}catch(i){return console.error("\u274C KitchenService.updateOrderItemStatusInService errore:",i),!1}})}markAllItemsAsReady(t){return _(this,null,function*(){console.log(`\u2705 Segnando tutti i piatti della comanda ${t.comanda_number} come pronti...`);for(let e of t.items)(e.status==="waiting"||e.status==="preparing")&&(yield this.orderItemService.updateOrderItemStatus(e.id,"ready"),yield new Promise(i=>setTimeout(i,50)))})}markAllItemsInGroupAsReady(t){return _(this,null,function*(){console.log(`\u2705 Segnando tutti i piatti dell'ordine ${t.order_header_number} come pronti...`);for(let e of t.comande)yield this.markAllItemsAsReady(e)})}setStatusFilter(t){this.statusFilter.next(t)}setSearchTerm(t){this.searchTerm.next(t)}calculateElapsedTime(t){if(!t)return 0;let e=new Date(t),r=Math.floor((new Date().getTime()-e.getTime())/(1e3*60));return Math.max(0,r)}formatTime(t){return t?new Date(t).toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"}):""}forceRefresh(){return _(this,null,function*(){console.log("\u{1F504} KitchenService.forceRefresh() chiamato");try{yield this.orderService.loadData(),yield this.orderItemService.loadData();let t=yield this.orderService.loadOrdersForKitchen();console.log("\u{1F4E6} Ordini raw dalla query:",t.length),t.forEach((i,r)=>{console.log(`  ${r+1}. Ordine ${i.id}:`,{status:i.status,comanda:i.comanda_number,tavolo:i.table?.table_number,piatti:i.order_items?.length||0})});let e=this.transformOrdersForKitchen(t);console.log("\u2705 KitchenService.forceRefresh: Ordini trasformati:",e.length),this.orderHeadersData$.next(e)}catch(t){console.error("\u274C KitchenService.forceRefresh errore:",t)}})}static \u0275fac=function(e){return new(e||o)};static \u0275prov=R({token:o,factory:o.\u0275fac,providedIn:"root"})};var V=class o{dishService=S(z);ingredientService=S(ue);getRecipeDetails(t){let e=this.getDishById(t);if(!e)return{ingredients:[],instructions:"Ricetta non disponibile",preparationTime:15};let i=this.transformIngredientsForDisplay(e.ingredients_composition||[]);return{dishName:e.name,ingredients:i,instructions:e.recipe_instructions||"Nessuna istruzione di preparazione disponibile",preparationTime:e.preparation_time||15}}getDishById(t){let e=null;return this.dishService.data$.pipe(O(i=>i.find(r=>r.id===t))).subscribe(i=>{e=i}),e}getRecipeDetails$(t){return M([this.dishService.data$,this.ingredientService.data$]).pipe(O(([e,i])=>{let r=e.find(l=>l.id===t);if(!r)return{ingredients:[],instructions:"Ricetta non disponibile",preparationTime:15};let c=(r.ingredients_composition||[]).map(l=>{let p=i.find(g=>g.id===l.ingredient_id);return{id:l.ingredient_id,name:p?.name||"Ingrediente sconosciuto",quantity:l.quantity||0,unit:l.unit_symbol||p?.units?.symbol||"pz",notes:l.recipe_notes||"",cost:l.cost||0,description:p?.description}});return{dishName:r.name,ingredients:c,instructions:r.recipe_instructions||"Nessuna istruzione disponibile",preparationTime:r.preparation_time||15}}))}transformIngredientsForDisplay(t){return t.map(e=>({name:e.ingredient_name||"Ingrediente",quantity:e.quantity||0,unit:e.unit_symbol||"pz",notes:e.recipe_notes||"",cost:e.cost||0}))}calculateRecipeCost(t){let e=this.getDishById(t);return!e||!e.ingredients_composition?0:e.ingredients_composition.reduce((i,r)=>i+(r.cost||0),0)}getPreparationTime(t){return this.getDishById(t)?.preparation_time||15}static \u0275fac=function(e){return new(e||o)};static \u0275prov=R({token:o,factory:o.\u0275fac,providedIn:"root"})};function fe(o,t){o&1&&(a(0,"div",33)(1,"span",20),s(2,"restaurant_menu"),n(),a(3,"h3"),s(4,"Nessun ordine attivo"),n(),a(5,"p",7),s(6,"Tutti gli ordini sono stati completati"),n()())}function xe(o,t){if(o&1&&(a(0,"span",49),s(1),n()),o&2){let e=m().$implicit;d(),v(" \u23F3 ",e.status_summary.waiting," in attesa ")}}function ye(o,t){if(o&1&&(a(0,"span",50),s(1),n()),o&2){let e=m().$implicit;d(),v(" \u{1F468}\u200D\u{1F373} ",e.status_summary.preparing," in preparazione ")}}function be(o,t){if(o&1&&(a(0,"span",51),s(1),n()),o&2){let e=m().$implicit;d(),v(" \u2705 ",e.status_summary.ready," pronto ")}}function Se(o,t){if(o&1){let e=C();a(0,"select",63),f("change",function(r){x(e);let c=m().$implicit,l=m(3);return y(l.updateComandaStatus(c,r))}),a(1,"option",23),s(2,"In Attesa"),n(),a(3,"option",24),s(4,"In Preparazione"),n(),a(5,"option",25),s(6,"Pronto"),n(),a(7,"option",64),s(8,"Cancellato"),n()()}if(o&2){let e=m().$implicit;u("value",e.status)}}function Ie(o,t){if(o&1&&(a(0,"span",89),s(1),n()),o&2){let e=m().$implicit,i=m(5);u("ngClass","text-"+i.getTimerColor(e)),d(),v(" (",i.getRemainingTime(e)," min rim.) ")}}function we(o,t){if(o&1&&(a(0,"div",90)(1,"p",91),s(2),n()()),o&2){let e=m().$implicit;d(2),E(e.notes)}}function Ee(o,t){if(o&1){let e=C();a(0,"button",28),f("click",function(){x(e);let r=m().$implicit,c=m(5);return y(c.forceOrderedToWaiting(r))}),a(1,"span",20),s(2,"play_arrow"),n(),s(3," Forza a Waiting (Sala \u2192 Cucina) "),n()}}function Ce(o,t){if(o&1){let e=C();a(0,"button",28),f("click",function(){x(e);let r=m().$implicit,c=m(5);return y(c.startItemPreparation(r))}),a(1,"span",20),s(2,"play_arrow"),n(),s(3," Inizia (\u2192 preparing) "),n()}}function ke(o,t){if(o&1){let e=C();a(0,"button",28),f("click",function(){x(e);let r=m().$implicit,c=m(5);return y(c.markItemAsReady(r))}),a(1,"span",20),s(2,"check"),n(),s(3," Pronto (\u2192 ready) "),n()}}function Te(o,t){o&1&&(a(0,"button",92)(1,"span",20),s(2,"done"),n(),s(3," Pronto (sala deve servire) "),n())}function Oe(o,t){if(o&1){let e=C();a(0,"div",9)(1,"div",67)(2,"div",68)(3,"div",69)(4,"div",70)(5,"span",71),s(6),n(),a(7,"span",57),s(8),n(),a(9,"span",72),s(10),n(),a(11,"span",73),s(12),n()(),a(13,"div",74)(14,"span",75)(15,"span",20),s(16,"schedule"),n(),s(17),n(),h(18,Ie,2,2,"span",76),n()()(),h(19,we,3,1,"div",77),a(20,"div",78)(21,"div",79),h(22,Ee,4,0,"button",80)(23,Ce,4,0,"button",80)(24,ke,4,0,"button",80)(25,Te,4,0,"button",81),a(26,"button",82),f("click",function(){let r=x(e).$implicit,c=m(5);return y(c.markItemAsOutOfStock(r))}),a(27,"span",20),s(28,"block"),n()()(),a(29,"div",83)(30,"select",84),f("change",function(r){let c=x(e).$implicit,l=m(5);return y(l.updateItemStatus(c,r))}),a(31,"option",85),s(32,"Attesa"),n(),a(33,"option",86),s(34,"Preparazione"),n(),a(35,"option",87),s(36,"Pronto"),n(),a(37,"option",88),s(38,"Esaurito"),n()()()()()()}if(o&2){let e=t.$implicit,i=m(5);P("status-"+e.status),d(6),v("",e.quantity,"\xD7"),d(2),E(e.dish_name),d(2),v("Tav.",e.table_number),d(),P(i.getStatusColor(e.status)),d(),v(" ",i.getStatusText(e.status)," "),d(2),u("ngClass","text-"+i.getTimerColor(e)),d(3),K(" ",i.getElapsedTimeCached(e),"/",e.preparation_time||15,"min "),d(),u("ngIf",e.status==="preparing"),d(),u("ngIf",e.notes),d(3),u("ngIf",e.status==="ordered"),d(),u("ngIf",e.status==="waiting"),d(),u("ngIf",e.status==="preparing"),d(),u("ngIf",e.status==="ready"),d(5),u("value",e.status),d(),u("disabled",!i.canTransitionTo(e,"waiting")),d(2),u("disabled",!i.canTransitionTo(e,"preparing")),d(2),u("disabled",!i.canTransitionTo(e,"ready"))}}function Pe(o,t){if(o&1&&(a(0,"div",65)(1,"div",8),h(2,Oe,39,21,"div",66),n()()),o&2){let e=m().$implicit;d(2),u("ngForOf",e.items)}}function De(o,t){if(o&1){let e=C();a(0,"div",55)(1,"div",56),f("click",function(){let r=x(e).index,c=m(2).$implicit,l=m();return y(l.toggleComandaExpansion(c.order_header_id,r))}),a(2,"div",40)(3,"span",20),s(4),n(),a(5,"span",57),s(6),n(),a(7,"span",41),s(8),n(),h(9,Se,9,1,"select",58),n(),a(10,"div",40)(11,"span",59),s(12),n(),a(13,"div",60),Y(14,"div",61),n()()(),h(15,Pe,3,1,"div",62),n()}if(o&2){let e=t.$implicit,i=t.index,r=m(2).$implicit,c=m();d(4),v(" ",c.isComandaExpanded(r.order_header_id,i)?"expand_less":"expand_more"," "),d(2),v("Comanda ",i+1),d(),P(c.getComandaStatusColor(e.status)),d(),v(" ",c.getStatusText(e.status)," "),d(),u("ngIf",c.isComandaEditableByKitchen(e)),d(3),K("",e.completed_items,"/",e.total_items),d(2),P(c.getComandaStatusColor(e.status)+"-bg"),J("width",e.progress_percentage,"%"),d(),u("ngIf",c.isComandaExpanded(r.order_header_id,i))}}function $e(o,t){if(o&1){let e=C();a(0,"div",93)(1,"button",94),f("click",function(){x(e);let r=m(2).$implicit,c=m();return y(c.markAllComandeAsReady(r))}),a(2,"span",20),s(3,"done_all"),n(),s(4," Segna tutto l'ordine come pronto "),n()()}if(o&2){let e=m(2).$implicit,i=m();d(),u("disabled",i.isGroupAllReady(e))}}function Me(o,t){if(o&1&&(a(0,"div",52),h(1,De,16,13,"div",53)(2,$e,5,1,"div",54),n()),o&2){let e=m().$implicit,i=m();d(),u("ngForOf",e.comande),d(),u("ngIf",i.hasItemsInGroup(e))}}function Re(o,t){if(o&1){let e=C();a(0,"div",15)(1,"div",34),f("click",function(){let r=x(e).$implicit,c=m();return y(c.toggleGroupExpansion(r.order_header_id))}),a(2,"div",35)(3,"div",36)(4,"span",37),s(5,"table_restaurant"),n(),a(6,"h2",38),s(7),a(8,"span",39),s(9),n()()(),a(10,"div",40)(11,"span",41),s(12),n(),a(13,"span",42),s(14),n()()(),a(15,"div",43)(16,"span",44)(17,"span",20),s(18,"schedule"),n(),s(19),n(),a(20,"span",44)(21,"span",20),s(22,"list_alt"),n(),s(23),n(),h(24,xe,2,1,"span",45)(25,ye,2,1,"span",46)(26,be,2,1,"span",47),n()(),h(27,Me,3,2,"div",48),n()}if(o&2){let e=t.$implicit,i=m();d(7),v(" Tavolo ",e.table_number," "),d(2),v(" Ordine: ",e.order_header_number),d(2),P(i.getGroupStatusColor(e)),d(),v(" ",i.getGroupStatusText(e)," "),d(2),v(" ",i.isGroupExpanded(e.order_header_id)?"expand_less":"expand_more"," "),d(5),v(" ",i.formatTime(e.created_at)," "),d(4),v(" ",e.comande.length," comanda(e) "),d(),u("ngIf",e.status_summary.waiting>0),d(),u("ngIf",e.status_summary.preparing>0),d(),u("ngIf",e.status_summary.ready>0),d(),u("ngIf",i.isGroupExpanded(e.order_header_id))}}function Ke(o,t){if(o&1&&(a(0,"span",104),s(1),n()),o&2){let e=m(2);d(),v(" ",e.selectedRecipeItem.preparation_time," min ")}}function ze(o,t){if(o&1&&(a(0,"div",116),s(1),k(2,"number"),n()),o&2){let e=m().$implicit;d(),v(" \u20AC",ee(2,1,e.cost,"1.2-2")," ")}}function Ae(o,t){if(o&1&&(a(0,"div",29)(1,"label",19)(2,"span",20),s(3,"notes"),n(),s(4," Note di preparazione: "),n(),a(5,"p",113),s(6),n()()),o&2){let e=m().$implicit;d(6),E(e.notes)}}function Ge(o,t){if(o&1&&(a(0,"div",9)(1,"div",111)(2,"div")(3,"strong",112),s(4),n(),a(5,"div",113),s(6),n()(),h(7,ze,3,4,"div",114),n(),h(8,Ae,7,1,"div",115),n()),o&2){let e=t.$implicit;d(4),E(e.name||"Ingrediente"),d(2),K(" ",e.quantity||0," ",e.unit||""," "),d(),u("ngIf",e.cost>0),d(),u("ngIf",e.notes)}}function Fe(o,t){if(o&1&&(a(0,"div",8),h(1,Ge,9,5,"div",110),n()),o&2){let e=m(3);d(),u("ngForOf",e.getRecipeDetails().ingredients)}}function Ve(o,t){o&1&&(a(0,"div",117)(1,"span",118),s(2,"info"),n(),a(3,"p",7),s(4,"Nessun ingrediente definito per questo piatto"),n()())}function Ne(o,t){if(o&1&&(a(0,"div",9)(1,"div",10)(2,"span",20),s(3,"menu_book"),n(),a(4,"h3",12),s(5,"Istruzioni di Preparazione"),n()(),a(6,"p",7),s(7),n()()),o&2){let e=m(3);d(7),E(e.getRecipeDetails().instructions)}}function qe(o,t){o&1&&(a(0,"div",119)(1,"span",118),s(2,"info"),n(),a(3,"p",7),s(4,"Nessuna istruzione di preparazione disponibile"),n()())}function je(o,t){if(o&1&&(a(0,"div")(1,"div",105)(2,"div",10)(3,"span",20),s(4,"list_alt"),n(),a(5,"h3",12),s(6,"Ingredienti"),n(),a(7,"span",106),s(8),n()(),h(9,Fe,2,1,"div",107)(10,Ve,5,0,"ng-template",null,1,j),n(),h(12,Ne,8,1,"div",108)(13,qe,5,0,"div",109),n()),o&2){let e=q(11),i=m(2);d(8),E(i.getRecipeDetails().ingredients.length||0),d(),u("ngIf",i.getRecipeDetails().ingredients&&i.getRecipeDetails().ingredients.length>0)("ngIfElse",e),d(3),u("ngIf",i.getRecipeDetails().instructions),d(),u("ngIf",!i.getRecipeDetails().instructions)}}function Be(o,t){o&1&&(a(0,"div",120)(1,"span",118),s(2,"info"),n(),a(3,"p",7),s(4,"Nessuna ricetta disponibile per questo piatto"),n()())}function Le(o,t){if(o&1){let e=C();a(0,"div",95),f("click",function(){x(e);let r=m();return y(r.closeRecipeModal())}),a(1,"div",96),f("click",function(r){return x(e),y(r.stopPropagation())}),a(2,"div",97)(3,"h2",98)(4,"span",20),s(5,"menu_book"),n(),s(6),h(7,Ke,2,1,"span",99),n(),a(8,"button",100),f("click",function(){x(e);let r=m();return y(r.closeRecipeModal())}),a(9,"span",20),s(10,"close"),n()()(),a(11,"div",101),h(12,je,14,5,"div",102)(13,Be,5,0,"ng-template",null,0,j),n(),a(15,"div",103)(16,"button",28),f("click",function(){x(e);let r=m();return y(r.closeRecipeModal())}),a(17,"span",20),s(18,"close"),n(),s(19," Chiudi "),n()()()()}if(o&2){let e=q(14),i=m();d(6),v(" Ricetta - ",i.selectedRecipeItem==null?null:i.selectedRecipeItem.dish_name," "),d(),u("ngIf",i.selectedRecipeItem),d(5),u("ngIf",i.selectedRecipeItem)("ngIfElse",e)}}var he=class o{kitchenService=S(F);orderStatusService=S(A);recipeService=S(V);orderService=S(G);elapsedTimeCache=new Map;lastCacheUpdate=new Map;CACHE_TTL=3e4;recipeDetails$;statusFilter="all";searchTerm="";filteredGroups$=this.kitchenService.filteredGroups$;stats$=this.kitchenService.stats$;showRecipeModal=!1;selectedRecipeItem=null;expandedGroups={};expandedComande={};subscriptions=new H;ngOnInit(){return _(this,null,function*(){console.log("\u{1F3C1} KitchenDisplay initialized"),console.log("\u{1F50D} KitchenService stats$:",this.kitchenService.stats$),console.log("\u{1F50D} KitchenService filteredGroups$:",this.kitchenService.filteredGroups$),yield this.forceRefresh(),this.subscriptions.add(this.filteredGroups$.subscribe(t=>{console.log("\u{1F4E6} Kitchen order groups updated:",t?.length||0),t&&t.length>0?(console.log("\u{1F3AF} DETTAGLIO GRUPPI:"),t.forEach((e,i)=>{console.log(`Group ${i+1}:`,{tavolo:e.table_number,order_header:e.order_header_id,comande:e.comande?.length||0,totale_piatti:e.comande?.reduce((r,c)=>r+(c.items?.length||0),0)}),e.comande?.forEach((r,c)=>{console.log(`  Comanda ${c+1}:`,{numero:r.comanda_number,stato:r.status,piatti:r.items?.length||0,piatti_dettaglio:r.items?.map(l=>({nome:l.dish_name,stato:l.status,id:l.id}))})})})):console.log("\u274C Nessun gruppo da mostrare"),t?.forEach(e=>{let i=e.order_header_id;i in this.expandedGroups||(this.expandedGroups[i]=!0),e.comande?.forEach(r=>{let c=`${i}-${r.comanda_number}`;c in this.expandedComande||(this.expandedComande[c]=!0)})})}))})}ngOnDestroy(){this.subscriptions.unsubscribe()}startItemPreparation(t){return _(this,null,function*(){console.log("\u{1F504} startItemPreparation chiamato per:",{id:t.id,dish_name:t.dish_name,status:t.status});try{let e=yield this.kitchenService.startItemPreparation(t.id);console.log("\u2705 startItemPreparation risultato:",e),e?yield this.forceRefresh():alert("Errore durante l'inizio della preparazione")}catch(e){console.error("\u274C Errore nell'inizio preparazione:",e),alert("Errore durante l'inizio della preparazione")}})}markItemAsReady(t){return _(this,null,function*(){console.log("\u2705 markItemAsReady chiamato per:",{id:t.id,dish_name:t.dish_name,status:t.status});try{let e=yield this.kitchenService.markItemAsReady(t.id);console.log("\u2705 markItemAsReady risultato:",e),e?yield this.forceRefresh():alert("Errore durante la segnalazione di pronto")}catch(e){console.error("\u274C Errore nel segnalare pronto:",e),alert("Errore durante la segnalazione di pronto")}})}markItemAsOutOfStock(t){return _(this,null,function*(){console.log("\u26D4 markItemAsOutOfStock chiamato per:",{id:t.id,dish_name:t.dish_name,status:t.status});try{let e=yield this.kitchenService.markItemAsOutOfStock(t.id);console.log("\u2705 markItemAsOutOfStock risultato:",e),e?yield this.forceRefresh():alert("Errore durante la segnalazione di esaurito")}catch(e){console.error("\u274C Errore nel segnalare esaurito:",e),alert("Errore durante la segnalazione di esaurito")}})}updateItemStatus(t,e){return _(this,null,function*(){let r=e.target.value;console.log("\u{1F504} updateItemStatus chiamato:",{id:t.id,dish_name:t.dish_name,oldStatus:t.status,newStatus:r});try{let c=yield this.kitchenService.updateItemStatus(t,r);console.log("\u2705 updateItemStatus risultato:",c),c?yield this.forceRefresh():alert("Errore durante l'aggiornamento dello stato")}catch(c){console.error("\u274C Errore nell'aggiornamento dello stato:",c),alert("Errore durante l'aggiornamento dello stato")}})}markAllComandeAsReady(t){return _(this,null,function*(){try{yield this.kitchenService.markAllItemsInGroupAsReady(t)}catch(e){console.error("\u274C Errore durante la marcatura dell'ordine come pronto:",e),alert("Si \xE8 verificato un errore durante l'operazione")}})}onStatusFilterChange(t){this.statusFilter=t,this.kitchenService.setStatusFilter(t)}onSearchChange(){this.kitchenService.setSearchTerm(this.searchTerm)}toggleGroupExpansion(t){this.expandedGroups[t]=!this.expandedGroups[t]}toggleComandaExpansion(t,e){let i=`${t}-${e}`;this.expandedComande[i]=!this.expandedComande[i]}isGroupExpanded(t){return this.expandedGroups[t]!==!1}isComandaExpanded(t,e){let i=`${t}-${e}`;return this.expandedComande[i]!==!1}openRecipeModal(t){this.selectedRecipeItem=t,this.showRecipeModal=!0,this.recipeDetails$=this.recipeService.getRecipeDetails$(t.dish_id)}closeRecipeModal(){this.selectedRecipeItem=null,this.showRecipeModal=!1}getStatusText(t){return{ordered:"Ordinato",waiting:"In Attesa",preparing:"In Preparazione",ready:"Pronto",served:"Servito",cancelled:"Cancellato",out_of_stock:"Esaurito"}[t]||t}getStatusShortText(t){return{ordered:"Ordinato",waiting:"Attesa",preparing:"Prep.",ready:"Pronto",served:"Servito",out_of_stock:"Esaurito"}[t]||t}getStatusColor(t){return{waiting:"warning",preparing:"primary",ready:"success",served:"secondary",ordered:"info",cancelled:"danger",out_of_stock:"dark"}[t]||"secondary"}getElapsedTime(t){return this.kitchenService.calculateElapsedTime(t.created_at)}formatTime(t){return this.kitchenService.formatTime(t)}forceRefresh(){return _(this,null,function*(){console.log("\u{1F504} Forza refresh kitchen display..."),yield this.kitchenService.forceRefresh()})}getTotalItemsInGroup(t){return t.comande.reduce((e,i)=>e+i.items.length,0)}getGroupStatusColor(t){return t.status_summary.waiting>0?"warning":t.status_summary.preparing>0?"primary":t.status_summary.ready>0?"success":"secondary"}getGroupStatusText(t){return t.status_summary.waiting>0?"In Attesa":t.status_summary.preparing>0?"In Preparazione":t.status_summary.ready>0?"Pronto":"Servito"}hasItemsInGroup(t){return t.comande.some(e=>e.items&&e.items.length>0)}isGroupAllReady(t){return t.comande.every(e=>e.status==="ready"||e.status==="served")}getPreparationTimeColor(t,e){if(e===0)return"secondary";let i=t/e*100;return i<50?"success":i<75?"warning":"danger"}getElapsedTimeCached(t){let e=Date.now(),i=t.id,r=this.lastCacheUpdate.get(i)||0,c=this.elapsedTimeCache.get(i);if(c!==void 0&&e-r<this.CACHE_TTL)return c;let l=this.calculateElapsedTime(t);return this.elapsedTimeCache.set(i,l),this.lastCacheUpdate.set(i,e),l}calculateElapsedTime(t){if(!t?.created_at)return 0;try{let e=new Date(t.created_at),r=new Date().getTime()-e.getTime(),c=Math.floor(r/(1e3*60));return Math.max(0,c)}catch(e){return console.error("\u274C Errore calcolo tempo:",e),0}}getTimerColor(t){let e=this.getElapsedTimeCached(t),i=t.preparation_time||15;if(i===0)return"secondary";let r=e/i*100;return r<50?"success":r<75?"warning":"danger"}getRemainingTime(t){let e=this.getElapsedTimeCached(t),i=t.preparation_time||15;return Math.max(0,i-e)}getRecipeDetails(){return this.selectedRecipeItem?this.recipeService.getRecipeDetails(this.selectedRecipeItem.dish_id):{ingredients:[],instructions:"Nessun piatto selezionato",preparationTime:15}}isComandaEditableByKitchen(t){return["waiting","preparing","ready"].includes(t.status)}updateComandaStatus(t,e){return _(this,null,function*(){let r=e.target.value;console.log("\u{1F504} updateComandaStatus chiamato:",{comandaId:t.id,oldStatus:t.status,newStatus:r});try{(yield this.orderService.changeOrderStatus(t.id,r))?(console.log("\u2705 Stato comanda aggiornato"),yield this.forceRefresh()):alert("Errore durante l'aggiornamento dello stato della comanda")}catch(c){console.error("\u274C Errore aggiornamento stato comanda:",c),alert("Errore durante l'aggiornamento dello stato della comanda")}})}getComandaStatusColor(t){return{ordered:"info",waiting:"warning",preparing:"primary",ready:"success",served:"secondary",cancelled:"danger"}[t]||"secondary"}markAllItemsInComandaAsReady(t){return _(this,null,function*(){console.log(`\u2705 Segnando tutti i piatti della comanda ${t.comanda_number} come pronti...`);try{yield this.kitchenService.markAllItemsAsReady(t),yield this.forceRefresh()}catch(e){console.error("\u274C Errore:",e),alert("Errore durante la marcatura dei piatti come pronti")}})}canTransitionTo(t,e){return e==="out_of_stock"?!0:this.orderStatusService.canTransitionItem(t.status,e,"kitchen")}markItemAsReadyDirectly(t){return _(this,null,function*(){console.log("\u23E9 markItemAsReadyDirectly:",t);try{(yield this.kitchenService.updateItemStatus(t,"ready"))?yield this.forceRefresh():alert("Non puoi saltare direttamente a questo stato")}catch(e){console.error("\u274C Errore:",e),alert("Errore durante l'aggiornamento")}})}forceItemToWaiting(t){return _(this,null,function*(){console.log("\u{1F527} Forzatura piatto a waiting:",t);try{(yield this.kitchenService.updateItemStatus(t,"waiting"))?yield this.forceRefresh():alert("Non puoi forzare questo stato")}catch(e){console.error("\u274C Errore:",e)}})}forceOrderedToWaiting(t){return _(this,null,function*(){console.log("\u{1F504} Forzatura da ordered a waiting:",t);try{(yield this.kitchenService.updateOrderItemStatusInService(t.id,"waiting"))?yield this.forceRefresh():alert("Impossibile forzare lo stato: il piatto potrebbe non essere pi\xF9 modificabile")}catch(e){console.error("\u274C Errore forzatura stato:",e),alert("Errore durante la forzatura dello stato")}})}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=U({type:o,selectors:[["app-kitchen-display"]],decls:88,vars:21,consts:[["noRecipe",""],["noIngredients",""],[1,"page-container"],[1,"section-header"],[1,"flex","gap-sm"],[1,"material-icons","fs-lg"],[1,"section-title"],[1,"text-muted"],[1,"grid-cards"],[1,"card"],[1,"flex","items-center","gap-sm","mb-md"],[1,"material-icons","text-primary","text-md"],[1,"card-title"],[1,"text-md","font-bold","text-primary","justify-center","flex"],[1,"text-muted","card-footer"],[1,"form-card","mt-lg"],[1,"flex","flex-col","md:flex-row","justify-between","items-start","md:items-end","gap-sm"],[1,"form-row"],[1,"form-group"],[1,"standard-label"],[1,"material-icons"],[3,"change","value"],["value","all"],["value","waiting"],["value","preparing"],["value","ready"],["type","text","placeholder","Ordine, tavolo, piatto...",3,"ngModelChange","ngModel"],[1,"modal-footer","p-md0"],[1,"promethea-button",3,"click"],[1,"mt-lg"],["class","empty-state",4,"ngIf"],["class","form-card mt-lg",4,"ngFor","ngForOf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"empty-state"],[1,"flex","flex-col","gap-sm",2,"cursor","pointer",3,"click"],[1,"flex","justify-between","items-center"],[1,"flex","gap-sm","items-center"],[1,"material-icons","text-lg"],[1,"section-title","m-0","flex","items-center","gap-sm"],[1,"chip","ml-md","text-mini",2,"display","none"],[1,"flex","items-center","gap-sm"],[1,"chip"],[1,"material-icons","text-md"],[1,"flex","flex-wrap","gap-sm","mt-sm"],[1,"chip","bg-smoke"],["class","chip warning",4,"ngIf"],["class","chip primary",4,"ngIf"],["class","chip success",4,"ngIf"],["class","mt-md",4,"ngIf"],[1,"chip","warning"],[1,"chip","primary"],[1,"chip","success"],[1,"mt-md"],["class","mb-lg",4,"ngFor","ngForOf"],["class","modal-footer p-md0 mt-lg",4,"ngIf"],[1,"mb-lg"],[1,"flex","justify-between","items-center","m-sm02","p-sm","rounded","bg-smoke","cursor-pointer",3,"click"],[1,"font-semibold"],["class","status-select text-mini","style","min-width: 130px; padding: 4px 8px;",3,"value","change",4,"ngIf"],[1,"text-sm","font-semibold"],[1,"progress-bar",2,"width","100px"],[1,"progress-fill"],["class","mt-sm",4,"ngIf"],[1,"status-select","text-mini",2,"min-width","130px","padding","4px 8px",3,"change","value"],["value","cancelled"],[1,"mt-sm"],["class","card",3,"class",4,"ngFor","ngForOf"],[1,"card-body"],[1,"flex","justify-between","items-start"],[1,"flex-1"],[1,"flex","items-center","gap-sm","mb-sm","text-md"],[1,"font-bold","text-primary"],[1,"chip","text-mini","bg-smoke"],[1,"chip","text-mini"],[1,"flex","items-center","gap-sm","flex-wrap"],[3,"ngClass"],["class","text-mini",3,"ngClass",4,"ngIf"],["class","item-notes mt-sm p-xs rounded bg-smoke",4,"ngIf"],[1,"flex","flex-wrap","justify-between","flex-col"],[1,"flex","gap-sm","p-sm"],["class","promethea-button",3,"click",4,"ngIf"],["class","promethea-button success","disabled","","title","Pronto - in attesa della sala",4,"ngIf"],["title","Esaurito",1,"promethea-button","ghost",3,"click"],[1,"flex","flex-wrap","gap-sm"],[1,"status-select","text-mini",2,"min-width","140px","padding","4px 8px",3,"change","value"],["value","waiting",3,"disabled"],["value","preparing",3,"disabled"],["value","ready",3,"disabled"],["value","out_of_stock"],[1,"text-mini",3,"ngClass"],[1,"item-notes","mt-sm","p-xs","rounded","bg-smoke"],[1,"text-muted","text-mini"],["disabled","","title","Pronto - in attesa della sala",1,"promethea-button","success"],[1,"modal-footer","p-md0","mt-lg"],[1,"promethea-button",3,"click","disabled"],[1,"modal-overlay",3,"click"],[1,"modal-container","modal-lg",3,"click"],[1,"modal-header"],[1,"section-title","m-0"],["class","chip active ml-md",4,"ngIf"],["type","button",1,"icon-button",3,"click"],[1,"modal-content"],[4,"ngIf","ngIfElse"],[1,"modal-footer"],[1,"chip","active","ml-md"],[1,"card","mb-lg"],[1,"chip","active"],["class","grid-cards",4,"ngIf","ngIfElse"],["class","card",4,"ngIf"],["class","card text-center p-md",4,"ngIf"],["class","card",4,"ngFor","ngForOf"],[1,"flex","justify-between","items-start","mb-sm"],[1,"text-md"],[1,"text-muted","text-sm","mt-1"],["class","text-primary font-semibold",4,"ngIf"],["class","mt-lg",4,"ngIf"],[1,"text-primary","font-semibold"],[1,"text-center","p-md"],[1,"material-icons","text-muted"],[1,"card","text-center","p-md"],[1,"card","text-center","p-xl"]],template:function(e,i){if(e&1&&(a(0,"div",2)(1,"div",3)(2,"div",4)(3,"span",5),s(4,"restaurant"),n(),a(5,"h1",6),s(6,"Display Cucina"),n()(),a(7,"p",7),s(8,"Gestisci gli ordini raggruppati per comanda"),n()(),a(9,"div",8)(10,"div",9)(11,"div",10)(12,"span",11),s(13,"schedule"),n(),a(14,"h3",12),s(15,"In Attesa"),n()(),a(16,"div",13),s(17),k(18,"async"),n(),a(19,"span",14),s(20,"Piatti in attesa"),n()(),a(21,"div",9)(22,"div",10)(23,"span",11),s(24,"kitchen"),n(),a(25,"h3",12),s(26,"In Preparazione"),n()(),a(27,"div",13),s(28),k(29,"async"),n(),a(30,"span",14),s(31,"Piatti in preparazione"),n()(),a(32,"div",9)(33,"div",10)(34,"span",11),s(35,"done"),n(),a(36,"h3",12),s(37,"Pronti"),n()(),a(38,"div",13),s(39),k(40,"async"),n(),a(41,"span",14),s(42,"Piatti pronti"),n()(),a(43,"div",9)(44,"div",10)(45,"span",11),s(46,"list_alt"),n(),a(47,"h3",12),s(48,"Ordini Attivi"),n()(),a(49,"div",13),s(50),k(51,"async"),n(),a(52,"span",14),s(53,"Gruppi attivi"),n()()(),a(54,"div",15)(55,"div",16)(56,"div",17)(57,"div",18)(58,"label",19)(59,"span",20),s(60,"filter_list"),n(),s(61," Stato: "),n(),a(62,"select",21),f("change",function(c){return i.onStatusFilterChange(c.target.value)}),a(63,"option",22),s(64,"Tutti gli ordini"),n(),a(65,"option",23),s(66,"In Attesa"),n(),a(67,"option",24),s(68,"In Preparazione"),n(),a(69,"option",25),s(70,"Pronti"),n()()(),a(71,"div",18)(72,"label",19)(73,"span",20),s(74,"search"),n(),s(75," Cerca: "),n(),a(76,"input",26),Z("ngModelChange",function(c){return X(i.searchTerm,c)||(i.searchTerm=c),c}),f("ngModelChange",function(){return i.onSearchChange()}),n()()(),a(77,"div",27)(78,"button",28),f("click",function(){return i.forceRefresh()}),a(79,"span",20),s(80,"refresh"),n(),s(81," Aggiorna "),n()()()(),a(82,"div",29),h(83,fe,7,0,"div",30),k(84,"async"),h(85,Re,28,12,"div",31),k(86,"async"),n()(),h(87,Le,20,4,"div",32)),e&2){let r,c,l,p,g;d(17),E(((r=T(18,9,i.stats$))==null?null:r.waiting)||0),d(11),E(((c=T(29,11,i.stats$))==null?null:c.preparing)||0),d(11),E(((l=T(40,13,i.stats$))==null?null:l.ready)||0),d(11),E(((p=T(51,15,i.stats$))==null?null:p.totalGroups)||0),d(12),u("value",i.statusFilter),d(14),Q("ngModel",i.searchTerm),d(7),u("ngIf",((g=T(84,17,i.filteredGroups$))==null?null:g.length)===0),d(2),u("ngForOf",T(86,19,i.filteredGroups$)),d(2),u("ngIf",i.showRecipeModal)}},dependencies:[se,te,ie,ne,pe,de,me,oe,le,ce,ae,re],styles:[".order-card[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.2,.9,.2,1)}.order-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px var(--shadow-2)}.order-progress[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:var(--gap-sm)}.progress-fill[_ngcontent-%COMP%]{height:100%;border-radius:4px;transition:width .3s ease}.progress-fill.waiting-bg[_ngcontent-%COMP%]{background:var(--secondary)}.progress-fill.preparing-bg[_ngcontent-%COMP%]{background:var(--primary)}.progress-fill.ready-bg[_ngcontent-%COMP%]{background:#10b981}.item-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:var(--gap-sm)}.item-name[_ngcontent-%COMP%]{font-size:var(--fs-md);line-height:1.2;font-weight:700}.item-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;gap:var(--gap-sm);justify-content:space-between}.item-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--gap-sm);padding:var(--gap-sm);min-width:200px}.chip.waiting[_ngcontent-%COMP%]{background:color-mix(in srgb,var(--secondary) 20%,transparent);color:var(--secondary)}.chip.preparing[_ngcontent-%COMP%]{background:color-mix(in srgb,var(--primary) 20%,transparent);color:var(--primary)}.chip.ready[_ngcontent-%COMP%]{background:color-mix(in srgb,#10b981 20%,transparent);color:#10b981}.chip.served[_ngcontent-%COMP%]{background:color-mix(in srgb,#6b7280 20%,transparent);color:#6b7280}.chip.time-normal[_ngcontent-%COMP%]{background:var(--smoke-1)}.chip.time-warning[_ngcontent-%COMP%]{background:color-mix(in srgb,#f59e0b 20%,transparent);color:#f59e0b}.chip.time-critical[_ngcontent-%COMP%]{background:color-mix(in srgb,#ef4444 20%,transparent);color:#ef4444}.promethea-button.small[_ngcontent-%COMP%]{padding:var(--gap-sm) var(--gap-md);font-size:.875rem;min-height:36px}.modal-content[_ngcontent-%COMP%]{max-height:60vh;overflow-y:auto}.modal-lg[_ngcontent-%COMP%]{max-width:800px}@media (max-width: 768px){.item-actions[_ngcontent-%COMP%]{align-items:stretch;min-width:auto}.item-actions[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%]{justify-content:space-between}.order-progress[_ngcontent-%COMP%]{min-width:auto}.modal-lg[_ngcontent-%COMP%]{margin:var(--gap-md);max-width:calc(100vw - 2 * var(--gap-md))}}@media (max-width: 480px){.promethea-button.small[_ngcontent-%COMP%]{padding:8px 12px;font-size:.8rem}.promethea-button.small[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:16px}.grid-cards[_ngcontent-%COMP%]{grid-template-columns:1fr}}.rotate-90[_ngcontent-%COMP%]{transform:rotate(90deg);transition:transform .3s ease}.order-progress[_ngcontent-%COMP%]{min-width:200px}.progress-bar[_ngcontent-%COMP%]{width:100%;height:8px;background:var(--smoke-1);border-radius:4px;overflow:hidden}.progress-fill[_ngcontent-%COMP%]{height:100%;transition:width .3s ease}.warning-bg[_ngcontent-%COMP%]{background:#ff9800}.primary-bg[_ngcontent-%COMP%]{background:#2196f3}.success-bg[_ngcontent-%COMP%]{background:#4caf50}.secondary-bg[_ngcontent-%COMP%]{background:#9c27b0}.card-body[_ngcontent-%COMP%]{justify-content:space-between;flex-wrap:wrap}.card[_ngcontent-%COMP%]{overflow:hidden}"]})};export{he as KitchenDisplay};
