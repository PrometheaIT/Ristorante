import{A as Le,B as Te,C as Ee,D as Ue,E as Fe,F as De,G as Ne,H as Ge,I as N,J as je,K as Be,L as $e,M as He,N as Ve,O as A,a as pe,b as de,c as ue,d as me,e as ve,f as ge,g as he,h as fe,i as _e,j as U,k as be,l as Ce,m as Se,n as F,o as xe,p as Pe,q as ke,r as ye,s as Ae,t as Me,u as Oe,v as we,w as ze,x as Ie,y as D,z as Re}from"./chunk-V4LXY4DM.js";import{a as We}from"./chunk-K7INRJL4.js";import{a as ce}from"./chunk-6ZDC7BRK.js";import{a as le}from"./chunk-47MGUC7F.js";import{a as se}from"./chunk-XQOC7P5M.js";import"./chunk-EPARXXSE.js";import"./chunk-FZWOW4KX.js";import"./chunk-5YKHOGHD.js";import"./chunk-NB5PQKFB.js";import"./chunk-WMN5GW6W.js";import"./chunk-SN2CTCTY.js";import"./chunk-JVDFXZVZ.js";import{a as oe}from"./chunk-NREUF4AQ.js";import"./chunk-PZ6IGEMS.js";import{a as re,b as f}from"./chunk-F35UPSG6.js";import"./chunk-4GBXVLF4.js";import{a as Q,b as X,d as Z,e as h,f as ee,g as te,h as ie,i as ne,j as ae}from"./chunk-37GYPR4T.js";import{j as K,k as z,m as J,s as I}from"./chunk-PWZZTUE6.js";import{$a as m,Eb as k,Fa as B,Ga as i,Gb as H,Hb as c,Ib as V,Jb as y,Qb as W,Vb as q,Wa as w,Wb as Y,Y as S,a as O,ba as v,da as E,gb as d,ha as G,hb as r,ia as j,ib as a,jb as s,kb as l,qb as $,tb as _,vb as p}from"./chunk-DU5L5MFQ.js";import{j as g}from"./chunk-4ZZIO3ZI.js";var C=class e{authService=v(f);router=v(h);canActivate(){return g(this,null,function*(){console.log("\u{1F6E1}\uFE0F AuthGuard: checking authentication");try{(yield Promise.race([this.authService.waitForAuthInit(),new Promise(o=>setTimeout(()=>o(!1),5e3))]))||console.warn("\u{1F6E1}\uFE0F AuthGuard - Auth init timeout, checking current state");let t=this.authService.isAuthenticated();return console.log("\u{1F6E1}\uFE0F AuthGuard - User authenticated:",t),t?(console.log("\u{1F6E1}\uFE0F AuthGuard - Access granted"),!0):(console.log("\u{1F6E1}\uFE0F AuthGuard - Redirecting to login"),this.router.navigate(["/login"]),!1)}catch(n){return console.error("\u{1F6E1}\uFE0F AuthGuard - Error:",n),this.router.navigate(["/login"]),!1}})}static \u0275fac=function(t){return new(t||e)};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})};var u=class e{authService=v(f);permissionService=v(re);router=v(h);canActivate(n){return g(this,null,function*(){if(console.log("\u{1F510} RoleGuard: Checking route:",n.routeConfig?.path),yield this.authService.waitForAuthInit(),!this.authService.currentUserValue)return this.router.navigate(["/login"]),!1;if(this.authService.isRestaurantUser()&&!this.authService.hasAnyPermissions())return n.routeConfig?.path==="no-permission"?(console.log("\u{1F510} RoleGuard - Already on no-permission, allowing access"),!0):(console.log("\u{1F510} RoleGuard - User has no permissions, redirecting to no-permission"),this.router.navigate(["/no-permission"]),!1);let o=n.data.permissions;return!o||o.length===0?(console.log("\u{1F510} RoleGuard - No permissions required, access granted"),!0):this.permissionService.hasAnyPermission(o)?(console.log("\u{1F510} RoleGuard - Access granted"),!0):(console.log("\u{1F510} Permission denied, redirecting to dashboard"),this.redirectToAppropriateDashboard(),!1)})}redirectToAppropriateDashboard(){switch(this.authService.getCurrentContext()){case"staff":this.router.navigate(["/restaurant/dashboard"]);break;case"supplier":this.router.navigate(["/supplier/dashboard"]);break;case"customer":default:this.router.navigate(["/customer"]);break}}static \u0275fac=function(t){return new(t||e)};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})};var P=class e{authService=v(f);router=v(h);canActivate(){return g(this,null,function*(){if(yield this.authService.waitForAuthInit(),!this.authService.isAuthenticated())return this.router.navigate(["/login"]),!1;let n=this.authService.getCurrentContext(),t=this.authService.canBeStaff();return console.log("\u{1F468}\u200D\u{1F4BC} StaffGuard Debug:",{currentContext:n,canBeStaff:t,staffRole:this.authService.getStaffRole()}),n==="staff"||this.authService.isOwner()||t?(n!=="staff"&&(console.log("\u{1F504} Setting context to staff for staff area access"),this.authService.setContext("staff")),!0):(this.redirectToAppropriateDashboard(),!1)})}redirectToAppropriateDashboard(){switch(this.authService.getCurrentContext()){case"supplier":this.router.navigate(["/supplier/dashboard"]);break;case"customer":default:this.router.navigate(["/customer/menu-display"]);break}}static \u0275fac=function(t){return new(t||e)};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})};var R=class e{authService=v(f);router=v(h);canActivate(){return g(this,null,function*(){if(yield this.authService.waitForAuthInit(),!this.authService.isAuthenticated())return this.router.navigate(["/login"]),!1;let n=this.authService.getCurrentContext(),t=this.authService.canBeSupplier();console.log("\u{1F69A} SupplierGuard Debug:",{currentContext:n,canBeSupplier:t,availableContexts:this.authService.getAvailableContexts()});let o=n==="supplier"||t;return console.log("\u{1F510} SupplierGuard - Can access supplier area:",o),o?(n!=="supplier"&&(console.log("\u{1F504} Setting context to supplier for supplier area access"),this.authService.setContext("supplier")),!0):(console.log("\u{1F6AB} User cannot access supplier area, redirecting to customer"),this.authService.setContext("customer"),this.router.navigate(["/customer/menu-display"]),!1)})}static \u0275fac=function(t){return new(t||e)};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})};var qe=[{path:"login",loadComponent:()=>import("./chunk-7QI6YMCF.js").then(e=>e.Login)},{path:"policy",loadComponent:()=>import("./chunk-3X5ZS45A.js").then(e=>e.Policy)},{path:"register",children:[{path:"",loadComponent:()=>import("./chunk-SJY7UGGB.js").then(e=>e.Register)},{path:":role",loadComponent:()=>import("./chunk-SJY7UGGB.js").then(e=>e.Register)}]},{path:"no-permission",loadComponent:()=>import("./chunk-FXG27LXQ.js").then(e=>e.NoPermission),canActivate:[u]},{path:"customer/restaurant/restaurant-list",loadComponent:()=>import("./chunk-CG7XUDUP.js").then(e=>e.RestaurantList),title:"Ristoranti"},{path:"customer/restaurant/:restaurantId/map",loadComponent:()=>import("./chunk-TURRQNZN.js").then(e=>e.RestaurantMapViewer),title:"Mappa Ristorante"},{path:"restaurant",canActivate:[C,P],children:[{path:"dashboard",loadComponent:()=>import("./chunk-KO6ZAM6H.js").then(e=>e.Dashboard),canActivate:[u],data:{permissions:["view_dashboard"]}},{path:"menu",loadComponent:()=>import("./chunk-DZYSYGEI.js").then(e=>e.MenuBuilder),canActivate:[u],data:{permissions:["manage_menu"]}},{path:"alcoholic-beverages",loadComponent:()=>import("./chunk-YYZZG4IC.js").then(e=>e.AlcoholicBeverages),canActivate:[u],data:{permissions:["manage_menu"]}},{path:"orders",loadComponent:()=>import("./chunk-CDNT3SYW.js").then(e=>e.LiveOrders),canActivate:[u],data:{permissions:["manage_orders"]}},{path:"kitchen-display",loadComponent:()=>import("./chunk-LQZJPWVB.js").then(e=>e.KitchenDisplay),canActivate:[u],data:{permissions:["view_kitchen_display"]}},{path:"recipe",loadComponent:()=>import("./chunk-T7YAFWNV.js").then(e=>e.Recipe),canActivate:[u],data:{permissions:["view_ingredients"]}},{path:"expense-management",loadComponent:()=>import("./chunk-HIZ4LYCM.js").then(e=>e.ExpenseManagement),canActivate:[u],data:{permissions:["view_reports"]}},{path:"financial-report",loadComponent:()=>import("./chunk-CGEJA3XZ.js").then(e=>e.FinancialReport),canActivate:[u],data:{permissions:["view_reports"]}},{path:"reservation-manager",loadComponent:()=>import("./chunk-MBZ2EFN3.js").then(e=>e.ReservationManager),canActivate:[u],data:{permissions:["manage_reservations"]}},{path:"table-map",loadComponent:()=>import("./chunk-4MAIY2R6.js").then(e=>e.TableMap),canActivate:[u],data:{permissions:["take_orders"]}},{path:"floor-plan",loadComponent:()=>import("./chunk-6GYWYQQU.js").then(e=>e.FloorPlanEditor),canActivate:[u],data:{permissions:["view_table_map"]}},{path:"calendar-view",loadComponent:()=>import("./chunk-EEB2KRP4.js").then(e=>e.RestaurantCalendar),canActivate:[u],data:{permissions:["manage_reservations"]}},{path:"inventory",loadComponent:()=>import("./chunk-ICWRPV5W.js").then(e=>e.Inventory),canActivate:[u],data:{permissions:["manage_inventory"]}},{path:"suppliers",loadComponent:()=>import("./chunk-VSJDFJYW.js").then(e=>e.SupplierManager),canActivate:[u],data:{permissions:["manage_inventory"]}},{path:"tables",loadComponent:()=>import("./chunk-EAISHHH4.js").then(e=>e.TablemapView),canActivate:[u],data:{permissions:["take_orders"]}},{path:"staff-management",loadComponent:()=>import("./chunk-DRR3RFOS.js").then(e=>e.StaffManagement),canActivate:[u],data:{permissions:["manage_staff"]}},{path:"web-site",loadComponent:()=>import("./chunk-JENIDP2Y.js").then(e=>e.WebSite),canActivate:[u],data:{permissions:["manage_staff"]}},{path:"marketing",loadComponent:()=>import("./chunk-FFH3XTWB.js").then(e=>e.Marketing),canActivate:[u],data:{permissions:["manage_staff"]}},{path:"profile",loadComponent:()=>import("./chunk-555EOPEJ.js").then(e=>e.Profile),canActivate:[u],data:{permissions:["manage_staff"]}},{path:"settings",loadComponent:()=>import("./chunk-AQC7DBFQ.js").then(e=>e.RestaurantSettings),canActivate:[u],data:{permissions:["manage_restaurant_settings"]}},{path:"",redirectTo:"dashboard",pathMatch:"full"}]},{path:"supplier",canActivate:[C,R],data:{roles:["supplier"],context:"supplier"},children:[{path:"dashboard",loadComponent:()=>import("./chunk-GDUURX77.js").then(e=>e.SupplierDashboard)},{path:"settings",loadComponent:()=>import("./chunk-2T2JNXER.js").then(e=>e.SupplierSettings)},{path:"restaurants",loadComponent:()=>import("./chunk-5VF7ZIHH.js").then(e=>e.SupplierRestaurants)},{path:"products",loadComponent:()=>import("./chunk-YKQPOIWF.js").then(e=>e.SupplierIngredients)},{path:"ingredients",loadComponent:()=>import("./chunk-YKQPOIWF.js").then(e=>e.SupplierIngredients)},{path:"",redirectTo:"dashboard",pathMatch:"full"}]},{path:"customer",canActivate:[C,u],data:{roles:["customer"],context:"customer"},children:[{path:"home",loadComponent:()=>import("./chunk-EP6STYWY.js").then(e=>e.Home)},{path:"search",loadComponent:()=>import("./chunk-VQSFZEN7.js").then(e=>e.RestaurantSearch)},{path:"menu/:id",loadComponent:()=>import("./chunk-XUGPWJ3U.js").then(e=>e.MenuDisplay)},{path:"customer/restaurant/:restaurantId/reservation",loadComponent:()=>import("./chunk-IU4M2SLB.js").then(e=>e.ReservationWizard),title:"Prenotazione Tavolo"},{path:"orders",loadComponent:()=>import("./chunk-P2GDYICH.js").then(e=>e.OrderTracker)},{path:"reviews",loadComponent:()=>import("./chunk-XCI4MGBF.js").then(e=>e.ReviewSystem)},{path:"restaurant/:id",loadComponent:()=>import("./chunk-HLTUHS2Q.js").then(e=>e.RestaurantDetail)},{path:"settings",loadComponent:()=>import("./chunk-5PB5TDZH.js").then(e=>e.SettingsCustomer)},{path:"",redirectTo:"menu-display",pathMatch:"full"}]},{path:"food-cost",loadComponent:()=>import("./chunk-YC4U47CY.js").then(e=>e.FoodCostCalculator),canActivate:[C,P],data:{permissions:["view_ingredients"]}},{path:"food-cost-calculator/:id",component:se,canActivate:[C,P],data:{permissions:["view_ingredients"]}},{path:"food-cost/ingredient/new",loadComponent:()=>import("./chunk-YC4U47CY.js").then(e=>e.FoodCostCalculator),canActivate:[C,P],data:{permissions:["view_ingredients"]}},{path:"",pathMatch:"full",redirectTo:"customer/home"},{path:"customer/menu-display",redirectTo:"customer/home",pathMatch:"full"},{path:"**",redirectTo:"customer/home"}];var Ye={providers:[X(),ie(qe,ne()),E(A.pick({Home:U,Search:D,User:N,Menu:F})),E(A.pick({Smartphone:Te,Camera:me,Palette:Me,Target:Ne,PenTool:Oe,Calendars:ue,LayoutDashboard:be,Table2:De,Users:je,UtensilsCrossed:Be,Calendar:de,NotebookText:ke,Utensils:$e,ScrollText:Ie,PiggyBank:we,ChefHat:ge,Package:Ae,Wine:He,Truck:Ge,CreditCard:fe,BarChart3:ve,PackageSearch:ye,Search:D,Home:U,CalendarCheck:pe,ShoppingBag:Le,Star:Ee,Globe:_e,Megaphone:Se,User:N,Settings:Re,LogOut:Ce,Sun:Fe,Store:Ue,Moon:Pe,Menu:F,Minus:xe,Plus:ze,ChevronLeft:he}))]};function Qe(e,n){if(e&1&&(a(0,"option",5),c(1),s()),e&2){let t=n.$implicit,o=p(2);r("value",t)("selected",o.currentContext===t),i(),y(" ",o.getContextLabel(t)," ")}}function Xe(e,n){if(e&1){let t=$();a(0,"div",1)(1,"label",2),c(2,"Visualizzazione:"),s(),a(3,"select",3),_("change",function(b){G(t);let x=p();return j(x.onContextChange(b))}),m(4,Qe,2,3,"option",4),s()()}if(e&2){let t=p();i(3),r("value",t.currentContext)("title",t.getContextTitle(t.currentContext)),i(),r("ngForOf",t.availableContexts)}}var L=class e{authService=v(f);router=v(h);availableContexts=[];currentContext="customer";ngOnInit(){console.log("\u{1F50D} ContextSelector - Auth State:",{currentUser:this.authService.currentUserValue,currentStaff:this.authService.getCurrentStaff(),currentRestaurantId:this.authService.getCurrentRestaurantId(),isOwner:this.authService.isOwner(),canBeStaff:this.authService.canBeStaff(),availableContexts:this.authService.getAvailableContexts(),hasAnyPermissions:this.authService.hasAnyPermissions()}),this.updateContexts(),this.authService.currentContext$.subscribe(n=>{console.log("\u{1F50D} Context changed to:",n),this.currentContext=n,this.updateContexts()})}updateContexts(){this.availableContexts=this.authService.getAvailableContexts()}onContextChange(n){let o=n.target.value;this.switchContext(o)}switchContext(n){return g(this,null,function*(){if(yield this.authService.switchContext(n))switch(n){case"staff":this.router.navigate(["/restaurant/dashboard"]);break;case"supplier":this.router.navigate(["/supplier/dashboard"]);break;case"customer":this.router.navigate(["/customer/menu-display"]);break}})}getContextLabel(n){switch(n){case"staff":return"Ristorante";case"supplier":return"Fornitore";case"customer":return"Cliente";default:return n}}getContextTitle(n){return`Visualizza come ${this.getContextLabel(n).toLowerCase()}`}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=w({type:e,selectors:[["app-context-selector"]],decls:1,vars:1,consts:[["class","context-selector p-sm0",4,"ngIf"],[1,"context-selector","p-sm0"],[1,"context-visualizzazione"],[1,"form-control","tipovisualizzazione",3,"change","value","title"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"]],template:function(t,o){t&1&&m(0,Xe,5,3,"div",0),t&2&&r("ngIf",o.availableContexts.length>1)},dependencies:[I,K,z],encapsulation:2})};function Ze(e,n){e&1&&(a(0,"div",41)(1,"div",42),l(2,"img",43),s(),a(3,"h2",44),c(4,"Platea"),s()())}function et(e,n){e&1&&(a(0,"div",45),c(1,"Gestione Ristorante"),s())}function tt(e,n){e&1&&l(0,"div",46)}function it(e,n){if(e&1&&(a(0,"li",14)(1,"a",47),l(2,"lucide-angular",48),a(3,"span",17),c(4,"Dashboard"),s()()()),e&2){let t=p(2);i(),d("title",t.isSidebarCollapsed?"Dashboard":null),i(),r("size",24)}}function nt(e,n){if(e&1&&(a(0,"li",14)(1,"a",49),l(2,"lucide-angular",50),a(3,"span",17),c(4,"Layout Sala"),s()()()),e&2){let t=p(2);i(),d("title",t.isSidebarCollapsed?"Layout Sala":null),i(),r("size",24)}}function at(e,n){if(e&1&&(a(0,"li",14)(1,"a",51),l(2,"lucide-angular",52),a(3,"span",17),c(4,"Staff"),s()()()),e&2){let t=p(2);i(),d("title",t.isSidebarCollapsed?"Staff":null),i(),r("size",24)}}function rt(e,n){if(e&1&&(a(0,"div",10),m(1,et,2,0,"div",11)(2,tt,1,0,"div",12),a(3,"ul",13),m(4,it,5,2,"li",22)(5,nt,5,2,"li",22)(6,at,5,2,"li",22),s()()),e&2){let t=p();i(),r("ngIf",!t.isSidebarCollapsed),i(),r("ngIf",t.isSidebarCollapsed),i(2),r("ngIf",t.authService.hasPermission("view_dashboard")),i(),r("ngIf",t.authService.hasPermission("view_table_map")),i(),r("ngIf",t.authService.hasPermission("manage_staff"))}}function ot(e,n){e&1&&(a(0,"div",45),c(1,"Prenotazioni"),s())}function st(e,n){e&1&&l(0,"div",46)}function lt(e,n){if(e&1&&(a(0,"li",14)(1,"a",53),l(2,"lucide-angular",54),a(3,"span",17),c(4,"Prenotazioni Tavoli"),s()()()),e&2){let t=p(2);i(),d("title",t.isSidebarCollapsed?"Prenotazioni":null),i(),r("size",24)}}function ct(e,n){if(e&1&&(a(0,"li",14)(1,"a",55),l(2,"lucide-angular",56),a(3,"span",17),c(4,"Calendario"),s()()()),e&2){let t=p(2);i(),d("title",t.isSidebarCollapsed?"Calendario":null),i(),r("size",24)}}function pt(e,n){if(e&1&&(a(0,"li",14)(1,"a",57),l(2,"lucide-angular",58),a(3,"span",17),c(4,"Lista Prenotazioni"),s()()()),e&2){let t=p(2);i(),d("title",t.isSidebarCollapsed?"Calendario":null),i(),r("size",24)}}function dt(e,n){if(e&1&&(a(0,"div",10),m(1,ot,2,0,"div",11)(2,st,1,0,"div",12),a(3,"ul",13),m(4,lt,5,2,"li",22)(5,ct,5,2,"li",22)(6,pt,5,2,"li",22),s()()),e&2){let t=p();i(),r("ngIf",!t.isSidebarCollapsed),i(),r("ngIf",t.isSidebarCollapsed),i(2),r("ngIf",t.authService.hasPermission("manage_reservations")),i(),r("ngIf",t.authService.hasPermission("manage_reservations")),i(),r("ngIf",t.authService.hasPermission("manage_reservations"))}}function ut(e,n){e&1&&(a(0,"div",45),c(1,"Menu & Cucina"),s())}function mt(e,n){e&1&&l(0,"div",46)}function vt(e,n){if(e&1&&(a(0,"li",14)(1,"a",59),l(2,"lucide-angular",60),a(3,"span",17),c(4,"Men\xF9 & Piatti"),s()()()),e&2){let t=p(2);i(),d("title",t.isSidebarCollapsed?"Men\xF9 e Piatti":null),i(),r("size",24)}}function gt(e,n){if(e&1&&(a(0,"li",14)(1,"a",61),l(2,"lucide-angular",62),a(3,"span",17),c(4,"Ricette"),s()()()),e&2){let t=p(2);i(),d("title",t.isSidebarCollapsed?"Ricette":null),i(),r("size",24)}}function ht(e,n){if(e&1&&(a(0,"li",14)(1,"a",63),l(2,"lucide-angular",64),a(3,"span",17),c(4,"Food Cost"),s()()()),e&2){let t=p(2);i(),d("title",t.isSidebarCollapsed?"Food Cost":null),i(),r("size",24)}}function ft(e,n){if(e&1&&(a(0,"li",14)(1,"a",65),l(2,"lucide-angular",66),a(3,"span",17),c(4,"Pannello Cucina"),s()()()),e&2){let t=p(2);i(),d("title",t.isSidebarCollapsed?"Pannello Cucina":null),i(),r("size",24)}}function _t(e,n){if(e&1&&(a(0,"div",10),m(1,ut,2,0,"div",11)(2,mt,1,0,"div",12),a(3,"ul",13),m(4,vt,5,2,"li",22)(5,gt,5,2,"li",22)(6,ht,5,2,"li",22)(7,ft,5,2,"li",22),s()()),e&2){let t=p();i(),r("ngIf",!t.isSidebarCollapsed),i(),r("ngIf",t.isSidebarCollapsed),i(2),r("ngIf",t.authService.hasPermission("manage_menu")),i(),r("ngIf",t.authService.hasPermission("manage_inventory")),i(),r("ngIf",t.authService.hasPermission("manage_inventory")),i(),r("ngIf",t.authService.hasPermission("view_kitchen_display"))}}function bt(e,n){e&1&&(a(0,"div",45),c(1,"Magazzino & Acquisti"),s())}function Ct(e,n){e&1&&l(0,"div",46)}function St(e,n){if(e&1&&(a(0,"li",14)(1,"a",67),l(2,"lucide-angular",68),a(3,"span",17),c(4,"Inventario"),s()()()),e&2){let t=p(2);i(),d("title",t.isSidebarCollapsed?"Inventario":null),i(),r("size",24)}}function xt(e,n){if(e&1&&(a(0,"li",14)(1,"a",69),l(2,"lucide-angular",70),a(3,"span",17),c(4,"Alcolici"),s()()()),e&2){let t=p(2);i(),d("title",t.isSidebarCollapsed?"Alcolici":null),i(),r("size",24)}}function Pt(e,n){if(e&1&&(a(0,"li",14)(1,"a",71),l(2,"lucide-angular",72),a(3,"span",17),c(4,"Fornitori"),s()()()),e&2){let t=p(2);i(),d("title",t.isSidebarCollapsed?"Fornitori":null),i(),r("size",24)}}function kt(e,n){if(e&1&&(a(0,"div",10),m(1,bt,2,0,"div",11)(2,Ct,1,0,"div",12),a(3,"ul",13),m(4,St,5,2,"li",22)(5,xt,5,2,"li",22)(6,Pt,5,2,"li",22),s()()),e&2){let t=p();i(),r("ngIf",!t.isSidebarCollapsed),i(),r("ngIf",t.isSidebarCollapsed),i(2),r("ngIf",t.authService.hasPermission("manage_inventory")),i(),r("ngIf",t.authService.hasPermission("manage_inventory")),i(),r("ngIf",t.authService.hasPermission("manage_inventory"))}}function yt(e,n){e&1&&(a(0,"div",45),c(1,"Finanze"),s())}function At(e,n){e&1&&l(0,"div",46)}function Mt(e,n){if(e&1&&(a(0,"li",14)(1,"a",73),l(2,"lucide-angular",74),a(3,"span",17),c(4,"Gestione Spese"),s()()()),e&2){let t=p(2);i(),d("title",t.isSidebarCollapsed?"Gestione Spese":null),i(),r("size",24)}}function Ot(e,n){if(e&1&&(a(0,"li",14)(1,"a",75),l(2,"lucide-angular",76),a(3,"span",17),c(4,"Report Finanziario"),s()()()),e&2){let t=p(2);i(),d("title",t.isSidebarCollapsed?"Report Finanziario":null),i(),r("size",24)}}function wt(e,n){if(e&1&&(a(0,"div",10),m(1,yt,2,0,"div",11)(2,At,1,0,"div",12),a(3,"ul",13),m(4,Mt,5,2,"li",22)(5,Ot,5,2,"li",22),s()()),e&2){let t=p();i(),r("ngIf",!t.isSidebarCollapsed),i(),r("ngIf",t.isSidebarCollapsed),i(2),r("ngIf",t.authService.hasPermission("view_expenses")),i(),r("ngIf",t.authService.hasPermission("view_reports"))}}function zt(e,n){e&1&&(a(0,"div",45),c(1,"Gestione Fornitore"),s())}function It(e,n){e&1&&l(0,"div",46)}function Rt(e,n){if(e&1&&(a(0,"div",10),m(1,zt,2,0,"div",11)(2,It,1,0,"div",12),a(3,"ul",13)(4,"li",14)(5,"a",77),l(6,"lucide-angular",48),a(7,"span",17),c(8,"Dashboard"),s()()(),a(9,"li",14)(10,"a",78),l(11,"lucide-angular",79),a(12,"span",17),c(13,"Catalogo Prodotti"),s()()()()()),e&2){let t=p();i(),r("ngIf",!t.isSidebarCollapsed),i(),r("ngIf",t.isSidebarCollapsed),i(3),d("title",t.isSidebarCollapsed?"Dashboard":null),i(),r("size",24),i(4),d("title",t.isSidebarCollapsed?"Catalogo Prodotti":null),i(),r("size",24)}}function Lt(e,n){e&1&&(a(0,"div",45),c(1,"Cliente"),s())}function Tt(e,n){e&1&&l(0,"div",46)}function Et(e,n){if(e&1&&(a(0,"div",10),m(1,Lt,2,0,"div",11)(2,Tt,1,0,"div",12),a(3,"ul",13)(4,"li",80)(5,"a",81),l(6,"lucide-angular",82),a(7,"span",17),c(8,"Cerca Ristoranti"),s()()(),a(9,"li",14)(10,"a",83),l(11,"lucide-angular",84),a(12,"span",17),c(13,"Home"),s()()(),a(14,"li",14)(15,"a",85),l(16,"lucide-angular",60),a(17,"span",17),c(18,"Lista Ristoranti"),s()()(),a(19,"li",80)(20,"a",86),l(21,"lucide-angular",87),a(22,"span",17),c(23,"Le mie Prenotazioni"),s()()(),a(24,"li",80)(25,"a",88),l(26,"lucide-angular",89),a(27,"span",17),c(28,"I miei Ordini"),s()()(),a(29,"li",80)(30,"a",90),l(31,"lucide-angular",91),a(32,"span",17),c(33,"Le mie Recensioni"),s()()()()()),e&2){let t=p();i(),r("ngIf",!t.isSidebarCollapsed),i(),r("ngIf",t.isSidebarCollapsed),i(3),d("title",t.isSidebarCollapsed?"Cerca Ristoranti":null),i(),r("size",24),i(4),d("title",t.isSidebarCollapsed?"Home":null),i(),r("size",24),i(4),d("title",t.isSidebarCollapsed?"Lista Ristoranti":null),i(),r("size",24),i(4),d("title",t.isSidebarCollapsed?"Le mie Prenotazioni":null),i(),r("size",24),i(4),d("title",t.isSidebarCollapsed?"I miei Ordini":null),i(),r("size",24),i(4),d("title",t.isSidebarCollapsed?"Le mie Recensioni":null),i(),r("size",24)}}function Ut(e,n){e&1&&(a(0,"div",45),c(1,"Account"),s())}function Ft(e,n){e&1&&l(0,"div",46)}function Dt(e,n){if(e&1&&(a(0,"li",14)(1,"a",92),l(2,"lucide-angular",93),a(3,"span",17),c(4,"Impostazioni"),s()()()),e&2){let t=p();i(),d("title",t.isSidebarCollapsed?"Impostazioni Ristorante":null),i(),r("size",24)}}function Nt(e,n){if(e&1&&(a(0,"li",14)(1,"a",94),l(2,"lucide-angular",93),a(3,"span",17),c(4,"Impostazioni"),s()()()),e&2){let t=p();i(),d("title",t.isSidebarCollapsed?"Impostazioni Fornitore":null),i(),r("size",24)}}function Gt(e,n){if(e&1&&(a(0,"li",14)(1,"a",95),l(2,"lucide-angular",93),a(3,"span",17),c(4,"Impostazioni"),s()()()),e&2){let t=p();i(),d("title",t.isSidebarCollapsed?"Impostazioni Cliente":null),i(),r("size",24)}}function jt(e,n){e&1&&(a(0,"div",96),l(1,"app-context-selector"),s())}function Bt(e,n){if(e&1&&(a(0,"div",101),c(1),s()),e&2){let t=p(2);i(),y(" ",t.getRestaurantName()," ")}}function $t(e,n){if(e&1&&(a(0,"div",101),c(1),s()),e&2){let t=p(2);i(),y(" ",t.getSupplierCompanyName()," ")}}function Ht(e,n){if(e&1&&(a(0,"div",97)(1,"div",98)(2,"span",99),c(3),s()(),m(4,Bt,2,1,"div",100)(5,$t,2,1,"div",100),s()),e&2){let t=p();i(3),V(t.getUserDisplayName()),i(),r("ngIf",t.currentRestaurant&&t.isRestaurantUser()),i(),r("ngIf",t.supplierProfile&&t.isSupplierUser())}}var T=class e{authService=v(f);supplierAuthService=v(We);router=v(h);loadingService=v(oe);themeService=v(le);loading=!1;isLargeText=!1;loadingSubscription;isSidebarCollapsed=!0;currentUser$;currentRestaurant$;currentUser=null;currentRestaurant=null;supplierProfile=null;userSubscription=new O;supplierSubscription=new O;contextSubscription=new O;constructor(){this.currentUser$=this.authService.currentUser$,this.currentRestaurant$=this.authService.currentRestaurant$}ngOnInit(){return g(this,null,function*(){this.themeService.initializeTheme(),this.loadingSubscription=this.loadingService.loading$.subscribe(n=>{this.loading=n}),this.contextSubscription=this.authService.currentContext$.subscribe(()=>{}),this.userSubscription=this.authService.currentUser$.subscribe(n=>{this.currentUser=n,n?(this.authService.loadPermissions(),this.printDebugInfo()):(this.currentRestaurant=null,this.supplierProfile=null)}),this.currentRestaurant$.subscribe(n=>{this.currentRestaurant=n}),this.supplierSubscription=this.supplierAuthService.supplierProfile$.subscribe(n=>{this.supplierProfile=n})})}ngOnDestroy(){this.userSubscription.unsubscribe(),this.supplierSubscription.unsubscribe(),this.loadingSubscription.unsubscribe(),this.contextSubscription.unsubscribe()}printDebugInfo(){console.log("\u{1F50D} DEBUG - App Component State:"),console.log("  - Current Context:",this.authService.getCurrentContext()),console.log("  - isRestaurantUser():",this.isRestaurantUser()),console.log("  - isCustomerUser():",this.isCustomerUser()),console.log("  - isSupplierUser():",this.isSupplierUser()),console.log("  - Current Staff:",this.authService.getCurrentStaff()),console.log("  - Current Restaurant:",this.currentRestaurant),console.log("  - Available Contexts:",this.authService.getAvailableContexts()),console.log("  - Can Be Staff:",this.authService.canBeStaff()),console.log("  - Is Owner:",this.authService.isOwner()),console.log("  - User Role:",this.authService.getUserRole())}isRestaurantUser(){return this.authService.isRestaurantUser()}isCustomerUser(){return this.authService.isCustomerUser()}isSupplierUser(){return this.authService.isSupplierUser()}canBeStaff(){return this.authService.canBeStaff()}getUserDisplayName(){let n=this.currentUser;if(!n)return"";let t=n.first_name||"",o=n.last_name||"";return t&&o?`${t} ${o}`:t||o||n.email||"Utente"}getUserInitial(){let n=this.currentUser;if(!n)return"";let t=n.first_name||"",o=n.last_name||"";return t&&o?`${t.charAt(0)}${o.charAt(0)}`.toUpperCase():t?t.charAt(0).toUpperCase():o?o.charAt(0).toUpperCase():n.email?.charAt(0).toUpperCase()||"U"}getRestaurantName(){return this.currentRestaurant?.name||"Ristorante"}getSupplierCompanyName(){return this.supplierProfile&&this.supplierProfile.company_name||"Fornitore"}logout(){return g(this,null,function*(){yield this.authService.logout()})}toggleSidebar(){this.isSidebarCollapsed=!this.isSidebarCollapsed}onSidebarNavClick(n){if(window.innerWidth>768)return;n.target.closest(".nav-link")&&(this.isSidebarCollapsed=!0)}onDocumentClick(n){let t=n.target;if(window.innerWidth<=768){if(t.closest(".mobile-sidebar-toggle"))return;this.isSidebarCollapsed||!t.closest(".sidebar")&&!t.closest(".sidebar-toggle")&&(this.isSidebarCollapsed=!0)}}getRoleClass(){return`role-${this.authService.getStaffRole()||"guest"}`}getRoleLabel(){switch(this.authService.getStaffRole()||"guest"){case"owner":return"admin_panel_settings";case"manager":return"supervisor_account";case"chef":return"restaurant";case"waiter":return"room_service";case"kitchen_staff":return"kitchen";default:return"person"}}getRoleDisplayName(){let n=this.authService.getStaffRole()||"guest";return{owner:"Proprietario",manager:"Responsabile",chef:"Chef",waiter:"Cameriere",kitchen_staff:"Staff Cucina",guest:"Ospite"}[n]||n}isAuthenticated(){return this.authService.isAuthenticated()}getSettingsRoute(){return this.isRestaurantUser()&&this.authService.hasPermission("manage_restaurant_settings")?"/restaurant/settings":this.isSupplierUser()?"/supplier/settings":"/customer"}navigateBasedOnRole(){this.isRestaurantUser()?this.router.navigate(["/restaurant/dashboard"]):this.isSupplierUser()?this.router.navigate(["/supplier/dashboard"]):this.isCustomerUser()?this.router.navigate(["/customer"]):this.router.navigate(["/login"])}getAvailableContexts(){return this.authService.getAvailableContexts()}shouldShowContextSelector(){return this.authService.getAvailableContexts().length>1}setTheme(n){this.themeService.setTheme(n)}toggleSize(){this.isLargeText=!this.isLargeText}getRoleIcon(){return this.isRestaurantUser()?"store":this.isSupplierUser()?"truck":this.isCustomerUser()?"user":"circle"}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=w({type:e,selectors:[["app-root"]],hostBindings:function(t,o){t&1&&_("click",function(x){return o.onDocumentClick(x)},B)},decls:63,vars:45,consts:[[1,"app-container"],[1,"sidebar",3,"click"],[1,"sidebar-header"],["class","sidebar-brand",4,"ngIf"],[1,"flex","gap-sm","flex-wrap"],[1,"icon-button","bottonetesto",3,"click"],[1,"nav-icon",3,"name","size"],[1,"icon-button",3,"click"],[1,"sidebar-nav"],["class","nav-section",4,"ngIf"],[1,"nav-section"],["class","nav-section-title",4,"ngIf"],["class","section-divider elegant",4,"ngIf"],[1,"nav-menu"],[1,"nav-item"],["routerLink","/restaurant/web-site","routerLinkActive","nav-link--active","data-label","Crea il tuo sito web",1,"nav-link"],["name","globe",1,"nav-icon",3,"size"],[1,"nav-text"],["routerLink","/restaurant/marketing","routerLinkActive","nav-link--active","data-label","Promuovi il ristorante",1,"nav-link"],["name","megaphone",1,"nav-icon",3,"size"],["routerLink","/restaurant/profile","routerLinkActive","nav-link--active","data-label","Profilo",1,"nav-link"],["name","user",1,"nav-icon",3,"size"],["class","nav-item",4,"ngIf"],["data-label","Logout",1,"icon-button","largo",3,"click"],["name","log-out",1,"nav-icon",3,"size"],[1,"sidebar_footer"],["class","context-selector-container",4,"ngIf"],[1,"sidebar-user"],[1,"user-main-info"],["class","user-details",4,"ngIf"],[1,"theme-switch"],["type","checkbox",3,"change","checked"],[1,"theme-switch-slider"],["name","sun",1,"theme-icon","sun-icon",3,"size"],["name","moon",1,"theme-icon","moon-icon",3,"size"],[1,"role-icon"],[3,"name","size"],["aria-label","Apri sidebar",1,"mobile-sidebar-toggle",3,"click"],[1,"material-icons"],[3,"isLoading"],[1,"main-content"],[1,"sidebar-brand"],[1,"logo"],["src","logoristoapp.png",1,"logosidebar"],[1,"gradient-text","text-md"],[1,"nav-section-title"],[1,"section-divider","elegant"],["routerLink","/restaurant/dashboard","routerLinkActive","nav-link--active","data-label","Dashboard",1,"nav-link"],["name","layout-dashboard",1,"nav-icon",3,"size"],["routerLink","/restaurant/floor-plan","routerLinkActive","nav-link--active","data-label","Layout Sala",1,"nav-link"],["name","table-2",1,"nav-icon",3,"size"],["routerLink","/restaurant/staff-management","routerLinkActive","nav-link--active","data-label","Staff",1,"nav-link"],["name","users",1,"nav-icon",3,"size"],["routerLink","/restaurant/table-map","routerLinkActive","nav-link--active","data-label","Prenotazioni",1,"nav-link"],["name","utensils-crossed",1,"nav-icon",3,"size"],["routerLink","/restaurant/calendar-view","routerLinkActive","nav-link--active","data-label","Calendario",1,"nav-link"],["name","calendar",1,"nav-icon",3,"size"],["routerLink","/restaurant/reservation-manager","routerLinkActive","nav-link--active","data-label","Lista Prenotazioni",1,"nav-link"],["name","notebook-text",1,"nav-icon",3,"size"],["routerLink","/restaurant/menu","routerLinkActive","nav-link--active","data-label","Men\xF9 e Piatti",1,"nav-link"],["name","utensils",1,"nav-icon",3,"size"],["routerLink","/restaurant/recipe","routerLinkActive","nav-link--active","data-label","Ricette",1,"nav-link"],["name","scroll-text",1,"nav-icon",3,"size"],["routerLink","/food-cost","routerLinkActive","nav-link--active","data-label","Food Cost",1,"nav-link"],["name","piggy-bank",1,"nav-icon",3,"size"],["routerLink","/restaurant/kitchen-display","routerLinkActive","nav-link--active","data-label","Pannello Cucina",1,"nav-link"],["name","chef-hat",1,"nav-icon",3,"size"],["routerLink","/restaurant/inventory","routerLinkActive","nav-link--active","data-label","Inventario",1,"nav-link"],["name","package",1,"nav-icon",3,"size"],["routerLink","/restaurant/alcoholic-beverages","routerLinkActive","nav-link--active","data-label","Alcolici",1,"nav-link"],["name","wine",1,"nav-icon",3,"size"],["routerLink","/restaurant/suppliers","routerLinkActive","nav-link--active","data-label","Fornitori",1,"nav-link"],["name","truck",1,"nav-icon",3,"size"],["routerLink","/restaurant/expense-management","routerLinkActive","nav-link--active","data-label","Gestione Spese",1,"nav-link"],["name","credit-card",1,"nav-icon",3,"size"],["routerLink","/restaurant/financial-report","routerLinkActive","nav-link--active","data-label","Report Finanziario",1,"nav-link"],["name","bar-chart-3",1,"nav-icon",3,"size"],["routerLink","/supplier/dashboard","routerLinkActive","nav-link--active","data-label","Dashboard",1,"nav-link"],["routerLink","/supplier/products","routerLinkActive","nav-link--active","data-label","Catalogo Prodotti",1,"nav-link"],["name","package-search",1,"nav-icon",3,"size"],[1,"nav-item",2,"display","none"],["routerLink","/customer/search","routerLinkActive","nav-link--active","data-label","Cerca Ristoranti",1,"nav-link"],["name","search",1,"nav-icon",3,"size"],["routerLink","/customer/menu-display","routerLinkActive","nav-link--active","data-label","Home",1,"nav-link"],["name","home",1,"nav-icon",3,"size"],["routerLink","/customer/restaurant/restaurant-list","routerLinkActive","nav-link--active","data-label","Lista Ristoranti",1,"nav-link"],["routerLink","/customer/reservations","routerLinkActive","nav-link--active","data-label","Le mie Prenotazioni",1,"nav-link"],["name","calendar-check",1,"nav-icon",3,"size"],["routerLink","/customer/orders","routerLinkActive","nav-link--active","data-label","I miei Ordini",1,"nav-link"],["name","shopping-bag",1,"nav-icon",3,"size"],["routerLink","/customer/reviews","routerLinkActive","nav-link--active","data-label","Le mie Recensioni",1,"nav-link"],["name","star",1,"nav-icon",3,"size"],["routerLink","/restaurant/settings","routerLinkActive","nav-link--active","data-label","Impostazioni Ristorante",1,"nav-link"],["name","settings",1,"nav-icon",3,"size"],["routerLink","/supplier/settings","routerLinkActive","nav-link--active","data-label","Impostazioni Fornitore",1,"nav-link"],["routerLink","/customer/settings","routerLinkActive","nav-link--active","data-label","Impostazioni Cliente",1,"nav-link"],[1,"context-selector-container"],[1,"user-details"],[1,"user-info"],[1,"user-name"],["class","restaurant-info",4,"ngIf"],[1,"restaurant-info"]],template:function(t,o){t&1&&(a(0,"div",0)(1,"aside",1),_("click",function(x){return o.onSidebarNavClick(x)}),a(2,"div",2),m(3,Ze,5,0,"div",3),a(4,"div",4)(5,"button",5),_("click",function(x){return o.toggleSize(),x.stopPropagation()}),l(6,"lucide-angular",6),s(),a(7,"button",7),_("click",function(){return o.toggleSidebar()}),l(8,"lucide-angular",6),s()()(),a(9,"nav",8),m(10,rt,7,5,"div",9)(11,dt,7,5,"div",9)(12,_t,8,6,"div",9)(13,kt,7,5,"div",9)(14,wt,6,4,"div",9)(15,Rt,14,6,"div",9)(16,Et,34,14,"div",9),a(17,"div",10),m(18,Ut,2,0,"div",11)(19,Ft,1,0,"div",12),a(20,"ul",13)(21,"li",14)(22,"a",15),l(23,"lucide-angular",16),a(24,"span",17),c(25,"Crea il tuo sito web"),s()()(),a(26,"li",14)(27,"a",18),l(28,"lucide-angular",19),a(29,"span",17),c(30,"Promuovi il ristorante"),s()()(),a(31,"li",14)(32,"a",20),l(33,"lucide-angular",21),a(34,"span",17),c(35,"Profilo"),s()()(),m(36,Dt,5,2,"li",22)(37,Nt,5,2,"li",22)(38,Gt,5,2,"li",22),a(39,"li",14)(40,"button",23),_("click",function(){return o.logout()}),l(41,"lucide-angular",24),a(42,"span",17),c(43,"Logout"),s()()()()()(),a(44,"div",25),m(45,jt,2,0,"div",26),a(46,"div",27)(47,"div",28),m(48,Ht,6,3,"div",29),s(),a(49,"label",30)(50,"input",31),q(51,"async"),_("change",function(){return o.themeService.toggleTheme()}),s(),a(52,"span",32),l(53,"lucide-angular",33)(54,"lucide-angular",34),s()(),a(55,"label",35),l(56,"lucide-angular",36),s()()()(),a(57,"button",37),_("click",function(){return o.toggleSidebar()}),a(58,"span",38),c(59,"menu"),s()(),l(60,"app-loader",39),a(61,"main",40),l(62,"router-outlet"),s()()),t&2&&(i(),k("sidebar--collapsed",o.isSidebarCollapsed),i(2),r("ngIf",!o.isSidebarCollapsed),i(3),r("name",o.isLargeText?"minus":"plus")("size",24),i(2),r("name",o.isSidebarCollapsed?"menu":"chevron-left")("size",24),i(),k("text-large",o.isLargeText),i(),r("ngIf",o.isRestaurantUser()),i(),r("ngIf",o.isRestaurantUser()&&(o.authService.hasPermission("manage_reservations")||o.authService.hasPermission("take_orders"))),i(),r("ngIf",o.isRestaurantUser()&&(o.authService.hasPermission("manage_menu")||o.authService.hasPermission("view_kitchen_display"))),i(),r("ngIf",o.isRestaurantUser()&&(o.authService.hasPermission("manage_inventory")||o.authService.hasPermission("view_expenses"))),i(),r("ngIf",o.isRestaurantUser()&&o.authService.hasPermission("view_reports")),i(),r("ngIf",o.isSupplierUser()),i(),r("ngIf",o.isCustomerUser()),i(2),r("ngIf",!o.isSidebarCollapsed),i(),r("ngIf",o.isSidebarCollapsed),i(3),d("title",o.isSidebarCollapsed?"Crea il tuo sito web":null),i(),r("size",24),i(4),d("title",o.isSidebarCollapsed?"Promuovi il ristorante":null),i(),r("size",24),i(4),d("title",o.isSidebarCollapsed?"Profilo":null),i(),r("size",24),i(3),r("ngIf",o.isRestaurantUser()&&o.authService.hasPermission("manage_restaurant_settings")),i(),r("ngIf",o.isSupplierUser()),i(),r("ngIf",o.isCustomerUser()),i(3),r("size",24),i(4),r("ngIf",o.shouldShowContextSelector()),i(3),r("ngIf",!o.isSidebarCollapsed),i(2),r("checked",Y(51,43,o.themeService.currentTheme$)==="dark"),i(3),r("size",16),i(),r("size",16),i(2),H(W("role-icon ",o.getRoleClass())),r("name",o.getRoleIcon())("size",24),i(),k("mobile-hidden",!o.isSidebarCollapsed),i(3),r("isLoading",o.loading),i(),k("main-content--expanded",o.isSidebarCollapsed))},dependencies:[I,z,Z,ae,ee,te,ce,L,A,Ve,J],styles:['[_ngcontent-%COMP%]:root{--transition-timing: cubic-bezier(.4, 0, .2, 1);--transition-duration: .3s;--transition-duration-slow: .8s}ul[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{list-style:none}.app-container[_ngcontent-%COMP%]{display:flex;min-height:100dvh;background:var(--background);color:var(--text-color)}.sidebar[_ngcontent-%COMP%]{position:fixed;inset:0 auto 0 0;width:var(--sidebar-width);height:100dvh;-webkit-backdrop-filter:blur(25px);backdrop-filter:blur(25px);background:linear-gradient(110deg,var(--background),var(--shadow-1));display:flex;flex-direction:column;z-index:10;transition:width var(--transition-duration-slow) var(--transition-timing),transform var(--transition-duration) var(--transition-timing),box-shadow var(--transition-duration) var(--transition-timing);overflow:hidden;box-shadow:0 5px 20px var(--smoke-1);will-change:transform,width}.sidebar--collapsed[_ngcontent-%COMP%]{width:var(--sidebar--collapsed-width)}.sidebar-header[_ngcontent-%COMP%], .sidebar_footer[_ngcontent-%COMP%]{padding:var(--gap-sm)}.sidebar_footer[_ngcontent-%COMP%]{padding:var(--gap-sm);box-shadow:0 -2px 15px var(--shadow-1)}.sidebar-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:var(--gap-md);transition:padding var(--transition-duration) var(--transition-timing)}.sidebar--collapsed[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{padding:var(--gap-sm);justify-content:center}.sidebar-brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--gap-sm);font-weight:800;color:var(--primary);padding:var(--gap-sm);border-radius:14px}.nav-section-title[_ngcontent-%COMP%]{margin-bottom:var(--gap-sm);color:var(--secondary);font-weight:800}.sidebar-nav.text-large[_ngcontent-%COMP%]   .nav-section-title[_ngcontent-%COMP%]{font-size:var(--fs-md);line-height:1.1}.sidebar-nav[_ngcontent-%COMP%]{flex:1;overflow-y:auto;overflow-x:hidden;padding:var(--gap-sm);display:flex;flex-direction:column;gap:var(--gap-lg);transition:padding var(--transition-duration) var(--transition-timing)}.sidebar--collapsed[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]{padding:var(--gap-sm);gap:0}.sidebar--collapsed[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{align-items:center;display:flex;padding:var(--gap-sm);position:relative}.sidebar--collapsed[_ngcontent-%COMP%]   .nav-menu[_ngcontent-%COMP%]{align-items:center;flex-direction:column;display:flex;gap:0}.sidebar--collapsed[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:var(--fs-md)}.nav-menu[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:calc(var(--gap-sm) / 1.8)}.largo[_ngcontent-%COMP%]{width:100%;justify-content:flex-start;padding:var(--gap-sm);display:flex;gap:var(--gap-sm);border-radius:14px;font-weight:500}.largo[_ngcontent-%COMP%]:hover{transform:translate(4px)}.nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--gap-md);padding:calc(var(--gap-sm) / 1.8);color:var(--text-color);border-radius:14px;text-decoration:none;transition:all .3s ease;position:relative}.nav-link[_ngcontent-%COMP%]:hover{background:var(--smoke-1);transform:translateY(-4px)}.nav-link--active[_ngcontent-%COMP%]{background:var(--shadow-1);color:var(--tertiary);font-weight:800;box-shadow:0 3px 10px var(--shadow-1)}.nav-link--active[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:50%;transform:translateY(-50%);width:3px;height:80%;background:var(--gradiente);border-radius:0 4px 4px 0}.sidebar--collapsed[_ngcontent-%COMP%]   .nav-link--active[_ngcontent-%COMP%]:before{display:none}.sidebar--collapsed[_ngcontent-%COMP%]   .nav-text[_ngcontent-%COMP%], .sidebar--collapsed[_ngcontent-%COMP%]   .nav-section-title[_ngcontent-%COMP%], .sidebar--collapsed[_ngcontent-%COMP%]   .sidebar-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .sidebar--collapsed[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%], .sidebar--collapsed[_ngcontent-%COMP%]   .restaurant-info[_ngcontent-%COMP%], .sidebar--collapsed[_ngcontent-%COMP%]   .context-selector-container[_ngcontent-%COMP%]{opacity:0;width:0;overflow:hidden;pointer-events:none;display:none}.nav-text[_ngcontent-%COMP%]{font-size:var(--fs-sm);font-weight:600}.nav-text.text-large[_ngcontent-%COMP%]{font-size:var(--fs-md)}.sidebar-nav.text-large[_ngcontent-%COMP%]   .nav-text[_ngcontent-%COMP%], .sidebar-nav.text-large[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:var(--fs-md);line-height:1.1}.sidebar-nav.text-large[_ngcontent-%COMP%]   .nav-text[_ngcontent-%COMP%]{padding:var(--gap-sm)}.sidebar-nav.text-large[_ngcontent-%COMP%]   .nav-menu[_ngcontent-%COMP%]{gap:var(--gap-sm)}.sidebar--collapsed[_ngcontent-%COMP%]   .icon-button.largo[_ngcontent-%COMP%]{padding:var(--gap-sm)}.sidebar--collapsed[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{justify-content:center;align-items:center;display:flex;padding:var(--gap-sm);gap:0;height:auto;position:relative}.sidebar--collapsed[_ngcontent-%COMP%]   .sidebar_footer[_ngcontent-%COMP%]{padding:0;align-items:center;display:flex;flex-direction:column}.sidebar--collapsed[_ngcontent-%COMP%]   .sidebar-user[_ngcontent-%COMP%]{padding:var(--gap-sm);gap:var(--gap-sm);display:flex;flex-direction:column}.sidebar-user[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:var(--gap-sm);border-top:2px solid var(--shadow-1);padding:var(--gap-sm) 0 0 0}.user-main-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--gap-sm);flex:1}.user-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px;flex:1}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--gap-sm)}.user-name[_ngcontent-%COMP%]{font-weight:600;font-size:var(--fs-sm);line-height:1.2}.role-badge[_ngcontent-%COMP%]{padding:var(--gap-md);border-radius:12px;font-size:calc(var(--fs-sm) / 2);font-weight:600;background:var(--smoke-1);border:1px solid var(--smoke-1);line-height:1}.sidebar--collapsed[_ngcontent-%COMP%]   .role-badge[_ngcontent-%COMP%]{display:none}.restaurant-info[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-muted)}.main-content[_ngcontent-%COMP%]{margin-left:var(--sidebar-width);flex:1;min-height:100dvh;transition:margin-left var(--transition-duration-slow) var(--transition-timing),filter var(--transition-duration) var(--transition-timing);overflow-y:auto;overflow-x:hidden;background:linear-gradient(135deg,var(--background),var(--background2));position:relative;z-index:1}.main-content[_ngcontent-%COMP%]:has(.modal-overlay){z-index:10001}.mobile-sidebar-toggle[_ngcontent-%COMP%]{display:none;position:fixed;top:16px;left:16px;z-index:1200;width:48px;height:48px;border-radius:16px;background:var(--smoke-2);border:1px solid var(--shadow-1);box-shadow:0 8px 15px var(--shadow-1);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);color:var(--text-color);align-items:center;justify-content:center}.mobile-sidebar-toggle.mobile-hidden[_ngcontent-%COMP%]{display:none}@media (max-width: 768px){.sidebar--collapsed[_ngcontent-%COMP%] ~ .main-content[_ngcontent-%COMP%], .main-content--expanded[_ngcontent-%COMP%]{margin-left:0!important}.sidebar[_ngcontent-%COMP%]{transform:translate(-100%);width:100%;z-index:1000}.largo[_ngcontent-%COMP%]{padding:var(--gap-lg)}.largo[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:var(--fs-lg)}.sidebar-brand[_ngcontent-%COMP%]{font-size:var(--fs-lg);padding:var(--gap-md)}.sidebar-header[_ngcontent-%COMP%]{padding:var(--gap-md);margin-bottom:var(--gap-lg);box-shadow:0 1px 8px var(--shadow-1)}.nav-section-title[_ngcontent-%COMP%]{margin-left:var(--gap-lg)}.sidebar-nav.text-large[_ngcontent-%COMP%]   .nav-section-title[_ngcontent-%COMP%]{font-size:var(--fs-lg);line-height:1.1}.sidebar-nav.text-large[_ngcontent-%COMP%]   .nav-menu[_ngcontent-%COMP%]{gap:var(--gap-md)}.sidebar-nav.text-large[_ngcontent-%COMP%]   .nav-text[_ngcontent-%COMP%], .sidebar-nav.text-large[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:var(--fs-lg);line-height:1.1}.sidebar-user[_ngcontent-%COMP%]{padding:var(--gap-sm)}.sidebar[_ngcontent-%COMP%]:not(.sidebar--collapsed){transform:translate(0)}.main-content[_ngcontent-%COMP%]{margin-left:0!important}.mobile-sidebar-toggle[_ngcontent-%COMP%]{display:flex}.mobile-sidebar-toggle[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:var(--fs-md)}.sidebar[_ngcontent-%COMP%]:not(.sidebar--collapsed) ~ .main-content[_ngcontent-%COMP%]:after{content:"";position:fixed;inset:0;background:#00000080;z-index:999;pointer-events:auto}.role-icon[_ngcontent-%COMP%]{width:calc(var(--fs-lg) * 2)!important;height:calc(var(--fs-lg) * 2)!important;justify-content:center;align-items:center;display:flex}.role-icon[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:var(--fs-lg)!important}}.theme-switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:52px;height:28px;cursor:pointer;border-radius:34px;background-color:#e0e0e0;transition:background-color .3s ease;box-shadow:inset 0 1px 3px #0000001a}.theme-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0;position:absolute}.theme-switch-slider[_ngcontent-%COMP%]{position:absolute;top:2px;left:2px;width:24px;height:24px;border-radius:50%;background-color:var(--background2);transition:transform .3s ease;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 4px #0003}.theme-icon[_ngcontent-%COMP%]{position:absolute;transition:opacity .2s ease}.sun-icon[_ngcontent-%COMP%]{opacity:1;color:#f39c12}.moon-icon[_ngcontent-%COMP%]{opacity:0;color:#f1c40f}.theme-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .theme-switch-slider[_ngcontent-%COMP%]{transform:translate(24px)}.theme-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .theme-switch-slider[_ngcontent-%COMP%]   .sun-icon[_ngcontent-%COMP%]{opacity:0}.theme-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .theme-switch-slider[_ngcontent-%COMP%]   .moon-icon[_ngcontent-%COMP%]{opacity:1}.theme-switch[_ngcontent-%COMP%]:has(input:checked){background-color:var(--shadow-2)}.theme-switch.dark-bg[_ngcontent-%COMP%]{background-color:#2c3e50}.sidebar--collapsed[_ngcontent-%COMP%] ~ .main-content[_ngcontent-%COMP%], .main-content--expanded[_ngcontent-%COMP%]{margin-left:var(--sidebar--collapsed-width);transition:margin-left var(--transition-duration-slow) var(--transition-timing),filter var(--transition-duration) var(--transition-timing)}.role-icon[_ngcontent-%COMP%]{font-size:var(--fs-sm);padding:var(--gap-sm);border-radius:50%;background:var(--smoke-1);transition:all .3s ease}.role-owner[_ngcontent-%COMP%]   .role-icon[_ngcontent-%COMP%]{color:#ff6b35;background:color-mix(in srgb,#ff6b35 15%,transparent)}.role-manager[_ngcontent-%COMP%]   .role-icon[_ngcontent-%COMP%]{color:#4a90e2;background:color-mix(in srgb,#4a90e2 15%,transparent)}.role-chef[_ngcontent-%COMP%]   .role-icon[_ngcontent-%COMP%]{color:#e74c3c;background:color-mix(in srgb,#e74c3c 15%,transparent)}.role-waiter[_ngcontent-%COMP%]   .role-icon[_ngcontent-%COMP%]{color:#27ae60;background:color-mix(in srgb,#27ae60 15%,transparent)}.role-kitchen_staff[_ngcontent-%COMP%]   .role-icon[_ngcontent-%COMP%]{color:#9b59b6;background:color-mix(in srgb,#9b59b6 15%,transparent)}.role-guest[_ngcontent-%COMP%]   .role-icon[_ngcontent-%COMP%]{color:var(--text-muted);background:var(--smoke-1)}.sidebar--collapsed[_ngcontent-%COMP%]   .role-icon[_ngcontent-%COMP%], .sidebar--collapsed[_ngcontent-%COMP%]   .bottonetesto[_ngcontent-%COMP%]{display:none}.sidebar--collapsed[_ngcontent-%COMP%]   .section-divider[_ngcontent-%COMP%]{display:block}.sidebar[_ngcontent-%COMP%]:not(.sidebar--collapsed)   .section-divider[_ngcontent-%COMP%]{display:none}.section-divider.elegant[_ngcontent-%COMP%]{width:100%;height:3px;background:linear-gradient(90deg,transparent,var(--secondary),transparent);margin:0;border-radius:50%;transition:all .3s ease}.logosidebar[_ngcontent-%COMP%]{height:var(--fs-lg);width:auto}']})};Q(T,Ye).catch(e=>console.error(e));
