import{a as ne}from"./chunk-MTUNCQGY.js";import{a as Z}from"./chunk-UIPRZRTF.js";import{a as ee}from"./chunk-4A6HAWIO.js";import{a as K}from"./chunk-4T2IFDDX.js";import{a as X}from"./chunk-OQD3SUNZ.js";import"./chunk-CLUFVB5A.js";import{a as J}from"./chunk-BRXADSFW.js";import{$a as ie,_a as te}from"./chunk-GKVEDNPF.js";import{b as L,d as B,h as q,j as $,q as j,r as Q,s as U,t as Y,u as G,x as H}from"./chunk-QAJQXQTD.js";import"./chunk-Z644G36S.js";import"./chunk-XYJRESY4.js";import{j as O,k as z,r as W,u as A}from"./chunk-6ELNIGGB.js";import{Ab as c,Ha as l,Hb as N,Lb as D,Mb as a,Nb as I,Ob as u,Pb as R,Qb as k,Sb as x,Tb as v,Ub as C,Xa as T,_b as F,ab as h,ac as V,ca as b,cc as P,ia as g,ja as _,mb as p,nb as r,ob as i,pb as M,vb as f,yb as m}from"./chunk-DE3VKQQR.js";import{a as E,b as w,j as S}from"./chunk-4ZZIO3ZI.js";function ae(s,t){if(s&1&&(r(0,"option",29),a(1),i()),s&2){let e=t.$implicit;p("value",e.id),l(),u(" ",e.name," ")}}function oe(s,t){if(s&1&&(r(0,"option",29),a(1),i()),s&2){let e=t.$implicit;p("value",e.id),l(),u(" ",e.name," ")}}function se(s,t){s&1&&(r(0,"span"),a(1," piatto"),i())}function le(s,t){s&1&&(r(0,"span"),a(1," piatti"),i())}function de(s,t){if(s&1&&(r(0,"span",30),a(1),i()),s&2){let e=c();l(),u(" di ",e.dishes.length," totali ")}}function ce(s,t){if(s&1&&(r(0,"div",43),a(1),i()),s&2){let e=c().$implicit;l(),u(" ",e.description," ")}}function pe(s,t){if(s&1&&(r(0,"span",37),a(1),i()),s&2){let e=c().$implicit,n=c();l(),u(" ",n.getCategoryName(e.category_id)," ")}}function me(s,t){s&1&&(r(0,"span",44),a(1," Nessuna categoria "),i())}function ge(s,t){if(s&1&&(r(0,"span",49),a(1),i()),s&2){let e=t.$implicit,n=c(3);l(),k(" ",n.getIngredientName(e)," (",n.getIngredientQuantity(e),"",n.getIngredientUnit(e),") ")}}function _e(s,t){if(s&1&&(r(0,"span",50),a(1),i()),s&2){let e=c(2).$implicit,n=c();l(),u(" +",n.getTotalIngredients(e)-2," altri ")}}function ue(s,t){if(s&1&&(r(0,"div")(1,"div",45),a(2),i(),r(3,"div",46),h(4,ge,2,3,"span",47)(5,_e,2,1,"span",48),i()()),s&2){let e=c().$implicit,n=c();l(2),u(" ",n.getTotalIngredients(e)," ingredienti "),l(2),p("ngForOf",e.ingredients_composition==null?null:e.ingredients_composition.slice(0,2)),l(),p("ngIf",n.getTotalIngredients(e)>2)}}function he(s,t){if(s&1){let e=f();r(0,"div",51)(1,"span",44),a(2,"Nessun ingrediente"),i(),r(3,"button",52),m("click",function(){g(e);let o=c().$implicit,d=c();return _(d.navigateToFoodCostBuilderFromTable(o))}),a(4," Aggiungi ingredienti "),i()()}}function fe(s,t){if(s&1){let e=f();r(0,"tr",31)(1,"td")(2,"div",32)(3,"strong",33),a(4),i(),h(5,ce,2,1,"div",34),i()(),r(6,"td"),h(7,pe,2,1,"span",35)(8,me,2,0,"span",36),i(),r(9,"td")(10,"span",37),a(11),i()(),r(12,"td")(13,"div",38),h(14,ue,6,3,"div",39)(15,he,5,0,"ng-template",null,0,P),i()(),r(17,"td")(18,"div",40)(19,"span",17),a(20,"schedule"),i(),a(21),i()(),r(22,"td")(23,"div",41)(24,"button",42),m("click",function(){let o=g(e).$implicit,d=c();return _(d.openEditModal(o))}),r(25,"span",17),a(26,"edit_note"),i(),a(27," Ricetta "),i()()()()}if(s&2){let e=t.$implicit,n=N(16),o=c();l(4),I(e.name),l(),p("ngIf",e.description),l(2),p("ngIf",e.category_id),l(),p("ngIf",!e.category_id),l(2),D(o.getStatusColor(e.status)),l(),u(" ",o.getStatusText(e.status)," "),l(3),p("ngIf",o.getTotalIngredients(e)>0)("ngIfElse",n),l(7),u(" ",e.preparation_time||"-"," ")}}function xe(s,t){s&1&&(r(0,"div",53)(1,"span",17),a(2,"restaurant_menu"),i(),r(3,"h3"),a(4,"Nessun piatto trovato"),i(),r(5,"p",44),a(6,"Modifica i filtri di ricerca"),i()())}function ve(s,t){if(s&1){let e=f();r(0,"div",73),M(1,"lucide-angular",74),r(2,"p"),a(3,"Nessun ingrediente aggiunto al piatto"),i(),r(4,"button",16),m("click",function(){g(e);let o=c(2);return _(o.navigateToFoodCostBuilder())}),r(5,"span",17),a(6,"add_circle"),i(),a(7," Vai al Food Cost Builder "),i()()}}function Ce(s,t){if(s&1){let e=f();r(0,"div",85)(1,"label",6),a(2),i(),r(3,"textarea",86),C("ngModelChange",function(o){g(e);let d=c().$implicit,y=c(3);return v(y.ingredientNotes[d.ingredient_id],o)||(y.ingredientNotes[d.ingredient_id]=o),_(o)}),m("input",function(o){g(e);let d=c().$implicit,y=c(3);return _(y.updateIngredientNotes(d.ingredient_id,o.target.value))}),a(4,"                "),i(),r(5,"div",68),a(6," Istruzioni specifiche per la preparazione di questo ingrediente nella ricetta "),i()()}if(s&2){let e=c().$implicit,n=c(3);l(2),u(" Istruzioni specifiche per ",n.getIngredientName(e),": "),l(),x("ngModel",n.ingredientNotes[e.ingredient_id])}}function Se(s,t){if(s&1){let e=f();r(0,"div",77)(1,"div",78)(2,"div",79)(3,"strong"),a(4),i(),r(5,"span",61),a(6),i()(),r(7,"div",80),a(8),F(9,"number"),i()(),r(10,"div",66)(11,"label",81)(12,"input",82),m("change",function(o){let d=g(e).$implicit,y=c(3);return _(y.toggleIngredientNotes(d.ingredient_id,o.target.checked))}),i(),r(13,"span",83)(14,"span",17),a(15,"notes"),i(),a(16),i()()(),h(17,Ce,7,2,"div",84),i()}if(s&2){let e=t.$implicit,n=c(3);l(4),I(n.getIngredientName(e)),l(2),R(" ",n.getIngredientQuantity(e)," ",n.getIngredientUnit(e)," "),l(2),u(" Costo: \u20AC",V(9,7,n.getIngredientCost(e),"1.2-2")," "),l(4),p("checked",n.areNotesEnabled(e.ingredient_id)),l(4),u(" Aggiungi note di preparazione per ",n.getIngredientName(e)," "),l(),p("ngIf",n.areNotesEnabled(e.ingredient_id))}}function be(s,t){if(s&1&&(r(0,"div",75),h(1,Se,18,10,"div",76),i()),s&2){let e=c(2);l(),p("ngForOf",e.selectedDish==null?null:e.selectedDish.ingredients_composition)}}function ye(s,t){if(s&1){let e=f();r(0,"div",54),m("click",function(){g(e);let o=c();return _(o.closeEditModal())}),r(1,"div",55),m("click",function(o){return g(e),_(o.stopPropagation())}),r(2,"div",56)(3,"h2",57)(4,"span",17),a(5,"edit_note"),i(),a(6),i(),r(7,"button",58),m("click",function(){g(e);let o=c();return _(o.closeEditModal())}),r(8,"span",17),a(9,"close"),i()()(),r(10,"div",2)(11,"div",59)(12,"h4",60)(13,"span",17),a(14,"list_alt"),i(),a(15," Ingredienti del Piatto "),r(16,"span",61),a(17),i(),a(18," Note di Preparazione "),r(19,"span",61),a(20),i()(),h(21,ve,8,0,"div",62)(22,be,2,1,"div",63),i(),r(23,"div",64)(24,"h4",65)(25,"span",17),a(26,"menu_book"),i(),a(27," Istruzioni Generali di Preparazione "),i(),r(28,"div",66)(29,"label",6),a(30,"Descrizione della Ricetta *"),i(),r(31,"textarea",67),C("ngModelChange",function(o){g(e);let d=c();return v(d.recipeInstructions,o)||(d.recipeInstructions=o),_(o)}),i(),r(32,"div",68),a(33," Descrivi i passaggi generali per preparare il piatto, l'ordine di cottura, i tempi complessivi, ecc. "),i()(),r(34,"div",69)(35,"label",6),a(36,"Tempo di Preparazione (minuti)"),i(),r(37,"input",70),C("ngModelChange",function(o){g(e);let d=c();return v(d.preparationTime,o)||(d.preparationTime=o),_(o)}),i()()()(),r(38,"div",15)(39,"button",71),m("click",function(){g(e);let o=c();return _(o.closeEditModal())}),r(40,"span",17),a(41,"close"),i(),a(42," Annulla "),i(),r(43,"button",72),m("click",function(){g(e);let o=c();return _(o.saveRecipe())}),r(44,"span",17),a(45,"save"),i(),a(46," Salva Ricetta "),i()()()()}if(s&2){let e=c();l(6),u(" Ricetta - ",e.selectedDish==null?null:e.selectedDish.name," "),l(11),u(" ",(e.selectedDish==null||e.selectedDish.ingredients_composition==null?null:e.selectedDish.ingredients_composition.length)||0," "),l(3),u(" ",e.getEnabledNotesCount()," "),l(),p("ngIf",!(!(e.selectedDish==null||e.selectedDish.ingredients_composition==null)&&e.selectedDish.ingredients_composition.length)),l(),p("ngIf",e.selectedDish==null||e.selectedDish.ingredients_composition==null?null:e.selectedDish.ingredients_composition.length),l(9),x("ngModel",e.recipeInstructions),l(6),x("ngModel",e.preparationTime),l(6),p("disabled",!e.canSaveRecipe())}}function Ie(s,t){if(s&1){let e=f();r(0,"div",54),m("click",function(){g(e);let o=c();return _(o.cancelDelete())}),r(1,"div",87),m("click",function(o){return g(e),_(o.stopPropagation())}),r(2,"div",88)(3,"h2",57)(4,"span",17),a(5,"warning"),i(),a(6," Conferma Eliminazione "),i()(),r(7,"div",89)(8,"p"),a(9,"Sei sicuro di voler eliminare tutti gli ingredienti della ricetta per "),r(10,"strong"),a(11),i(),a(12,"?"),i(),r(13,"p",44),a(14,"Questa azione non pu\xF2 essere annullata."),i()(),r(15,"div",15)(16,"div",90)(17,"button",71),m("click",function(){g(e);let o=c();return _(o.cancelDelete())}),a(18,"Annulla"),i(),r(19,"button",91),m("click",function(){g(e);let o=c();return _(o.deleteDish())}),M(20,"lucide-angular",92),a(21," Elimina Ricetta "),i()()()()()}if(s&2){let e=c();l(11),I(e.dishToDelete==null?null:e.dishToDelete.name),l(9),p("size",20)}}var re=class s{dishService=b(X);ingredientService=b(K);loadingService=b(J);categoryService=b(Z);menuService=b(ne);menuDishService=b(ee);recipeInstructions="";preparationTime=15;allIngredients=[];dishes=[];filteredDishes=[];categories=[];categoryFilter="all";menus=[];menuFilter="all";menuDishes=[];dishMenuMap=new Map;selectedDish=null;showEditModal=!1;showDeleteConfirm=!1;dishToDelete=null;ingredientNotes={};ingredientNotesEnabled={};searchTerm="";statusFilter="all";ngOnInit(){this.loadIngredients(),this.loadDishes(),this.loadCategories(),this.loadMenusAndAssociations()}loadIngredients(){return S(this,null,function*(){yield this.ingredientService.loadIngredients(),this.ingredientService.data$.subscribe(t=>{this.allIngredients=t})})}loadDishes(){return S(this,null,function*(){this.loadingService.start();try{yield this.dishService.loadDishes(),this.dishService.data$.subscribe(t=>{this.dishes=t,this.applyFilters(),this.loadingService.stop()})}catch(t){this.loadingService.stop(),console.error("Error loading dishes:",t)}})}loadCategories(){return S(this,null,function*(){yield this.categoryService.loadData(),this.categoryService.data$.subscribe(t=>{this.categories=t})})}getCategoryName(t){if(!t)return"Nessuna categoria";let e=this.categories.find(n=>n.id===t);return e?e.name:"Categoria non trovata"}loadMenusAndAssociations(){return S(this,null,function*(){try{yield this.menuService.loadData(),this.menuService.data$.subscribe(t=>{this.menus=t.filter(e=>e.is_active)}),yield this.menuDishService.loadData(),this.menuDishService.data$.subscribe(t=>{this.menuDishes=t.filter(e=>e.is_active),this.buildDishMenuMap()})}catch(t){console.error("Error loading menus:",t)}})}buildDishMenuMap(){let t=new Map;this.menuDishes.forEach(e=>{if(!e.is_active||!e.dish_id)return;let n=e.dish_id;t.has(n)||t.set(n,[]),t.get(n).push(e.menu_id)}),this.dishMenuMap=t}getMenuNamesForDish(t){return(this.dishMenuMap.get(t)||[]).map(n=>{let o=this.menus.find(d=>d.id===n);return o?o.name:"Menu sconosciuto"})}isDishInMenu(t,e){let n=this.dishMenuMap.get(t);return n?n.includes(e):!1}applyFilters(){let t=this.dishes;if(this.statusFilter!=="all"&&(t=t.filter(e=>e.status===this.statusFilter)),this.categoryFilter!=="all"&&(t=t.filter(e=>e.category_id===this.categoryFilter)),this.menuFilter!=="all"&&(this.menuFilter==="no_menu"?t=t.filter(e=>{let n=this.dishMenuMap.get(e.id);return!n||n.length===0}):t=t.filter(e=>this.isDishInMenu(e.id,this.menuFilter))),this.searchTerm){let e=this.searchTerm.toLowerCase();t=t.filter(n=>n.name.toLowerCase().includes(e)||n.description?.toLowerCase().includes(e)||this.hasIngredientWithName(n,e))}this.filteredDishes=t}onMenuFilterChange(){this.applyFilters()}hasIngredientWithName(t,e){return!t||!t.ingredients_composition?!1:t.ingredients_composition.some(n=>this.getIngredientName(n).toLowerCase().includes(e))}onCategoryFilterChange(){this.applyFilters()}onSearchChange(){this.applyFilters()}onStatusFilterChange(){this.applyFilters()}openEditModal(t){this.selectedDish=w(E({},t),{ingredients_composition:t.ingredients_composition?[...t.ingredients_composition]:[]}),this.recipeInstructions=t.recipe_instructions||"",this.preparationTime=t.preparation_time||15,this.initializeIngredientNotes(),this.showEditModal=!0}initializeIngredientNotes(){this.ingredientNotes={},this.ingredientNotesEnabled={},this.selectedDish?.ingredients_composition&&this.selectedDish.ingredients_composition.forEach(t=>{t.ingredient_id&&(this.ingredientNotes[t.ingredient_id]=t.recipe_notes||"",this.ingredientNotesEnabled[t.ingredient_id]=!!t.recipe_notes)})}closeEditModal(){this.selectedDish=null,this.showEditModal=!1,this.ingredientNotes={},this.ingredientNotesEnabled={}}saveRecipe(){return S(this,null,function*(){if(!this.selectedDish||!this.canSaveRecipe()){console.log("Niente da salvare o piatto non selezionato");return}this.loadingService.start();try{let t=this.selectedDish.ingredients_composition?.map(o=>{let d=this.ingredientNotesEnabled[o.ingredient_id]&&this.ingredientNotes[o.ingredient_id]||"";return w(E({},o),{recipe_notes:d})}),e={recipe_instructions:this.recipeInstructions,preparation_time:this.preparationTime,ingredients_composition:t};(yield this.dishService.updateDish(this.selectedDish.id,e))?(yield this.dishService.loadDishes(),this.closeEditModal()):console.error("Error saving recipe")}catch(t){console.error("Error saving recipe:",t)}finally{this.loadingService.stop()}})}updateIngredientNotes(t,e){this.ingredientNotes[t]=e}getIngredientNotes(t){return this.ingredientNotes[t]||""}toggleIngredientNotes(t,e){this.ingredientNotesEnabled[t]=e}areNotesEnabled(t){return this.ingredientNotesEnabled[t]||!1}navigateToFoodCostBuilder(){console.log("Navigate to food cost builder for dish:",this.selectedDish?.id)}navigateToFoodCostBuilderFromTable(t){console.log("Navigate to food cost builder for dish from table:",t.id)}canSaveRecipe(){return this.recipeInstructions&&this.recipeInstructions.trim().length>0?!0:this.selectedDish?.ingredients_composition?this.selectedDish.ingredients_composition.some(t=>this.ingredientNotesEnabled[t.ingredient_id]):!1}cancelDelete(){this.dishToDelete=null,this.showDeleteConfirm=!1}deleteDish(){return S(this,null,function*(){if(this.dishToDelete){this.loadingService.start();try{(yield this.dishService.updateDish(this.dishToDelete.id,{ingredients_composition:[]}))&&(yield this.loadDishes())}catch(t){console.error("Error deleting dish:",t)}finally{this.loadingService.stop(),this.cancelDelete()}}})}getStatusColor(t){return{available:"success",unavailable:"warning",out_of_stock:"danger"}[t]||"secondary"}getStatusText(t){return{available:"Disponibile",unavailable:"Non Disponibile",out_of_stock:"Esaurito"}[t]||t}getTotalIngredients(t){return!t||!t.ingredients_composition?0:t.ingredients_composition.length}getIngredientName(t){return t.ingredient_id?this.allIngredients.find(n=>n.id===t.ingredient_id)?.name||"Ingrediente non trovato":"Ingrediente sconosciuto"}getIngredientQuantity(t){return t.quantity||0}getIngredientUnit(t){return t.unit_symbol||""}getIngredientCost(t){return t.cost||0}getFullIngredient(t){return t.ingredient_id&&this.allIngredients.find(e=>e.id===t.ingredient_id)||null}getSavedIngredientNotes(t){return t.recipe_notes||""}getEnabledNotesCount(){return this.selectedDish?.ingredients_composition?this.selectedDish.ingredients_composition.filter(t=>this.ingredientNotesEnabled[t.ingredient_id]).length:0}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=T({type:s,selectors:[["app-recipe"]],decls:71,vars:16,consts:[["noIngredients",""],[1,"page-container"],[1,"form-card"],[1,"flex","justify-between","items-end","gap-sm","flex-wrap"],[1,"form-row"],[1,"form-group","mb-md"],[1,"standard-label"],[1,"form-input",3,"ngModelChange","change","ngModel"],["value","all"],["value","available"],["value","unavailable"],["value","out_of_stock"],["value","no_menu"],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Nome piatto, ingrediente...",1,"form-input",3,"ngModelChange","input","ngModel"],[1,"modal-footer"],[1,"promethea-button","primary",3,"click"],[1,"material-icons"],[1,"flex","justify-center","gap-sm"],[1,"chip","text-md"],[1,"flex","items-center","gap-sm"],[4,"ngIf"],["class","text-muted text-sm",4,"ngIf"],[1,"table-section","mt-lg","p-sm"],[1,"crm-table"],[1,"text-center"],["class","dish-row",4,"ngFor","ngForOf"],["class","empty-state mt-sm mb-md",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[3,"value"],[1,"text-muted","text-sm"],[1,"dish-row"],[1,"dish-info"],[1,"dish-name"],["class","text-mini",4,"ngIf"],["class","chip",4,"ngIf"],["class","text-muted",4,"ngIf"],[1,"chip"],[1,"ingredients-preview"],[4,"ngIf","ngIfElse"],[1,"preparation-time"],[1,"flex","gap-sm"],[1,"promethea-button","primary","small",3,"click"],[1,"text-mini"],[1,"text-muted"],[1,"font-semibold"],[1,"ingredients-list"],["class","chip-mini",4,"ngFor","ngForOf"],["class","chip-mini active",4,"ngIf"],[1,"chip-mini"],[1,"chip-mini","active"],[1,"no-ingredients-state"],[1,"promethea-button","link","small",3,"click"],[1,"empty-state","mt-sm","mb-md"],[1,"modal-overlay",3,"click"],[1,"modal-container","modal-lg",3,"click"],[1,"modal-header"],[1,"modal-title"],[1,"icon-button","close-button",3,"click"],[1,"border","rounded-lg","p-lg","bg-gradient-light","shadow-card","my-md"],[1,"flex","items-center","gap-sm","mb-md","font-bold","text-[calc(var(--fs-sm)*1.2)]"],[1,"chip","active"],["class","text-center p-xl opacity-70",4,"ngIf"],["class","grid gap-sm",4,"ngIf"],[1,"border","rounded-lg","p-lg","bg-gradient-light","shadow-card","mt-lg"],[1,"flex","items-center","gap-sm","mb-md","font-bold","text-[calc(var(--fs-sm)*1.2)]",2,"font-size","var(--fs-md)"],[1,"flex","flex-col","gap-1","flex-1","min-w-300"],["name","recipeInstructions","rows","8","placeholder","Descrivi la sequenza generale di preparazione...",1,"form-input","text-area",3,"ngModelChange","ngModel"],[1,"text-muted","mt-sm"],[1,"flex","flex-col","gap-1","flex-1","min-w-300","mt-sm"],["type","number","name","preparationTime","min","1","max","480","placeholder","Es. 15, 30, 45...",1,"form-input",3,"ngModelChange","ngModel"],[1,"promethea-button","secondary",3,"click"],[1,"promethea-button","success",3,"click","disabled"],[1,"text-center","p-xl","opacity-70"],["name","info"],[1,"grid","gap-sm"],["class","border rounded-lg p-md my-md bg-[color-mix(in srgb,var(--background)95%,transparent)] ingredient-card",4,"ngFor","ngForOf"],[1,"border","rounded-lg","p-md","my-md","bg-[color-mix(in","srgb,var(--background)95%,transparent)]","ingredient-card"],[1,"ingredient-header"],[1,"ingredient-main-info"],[1,"ingredient-cost","text-muted"],[1,"flex","items-center","gap-sm","cursor-pointer","p-sm","rounded","transition","hover:bg-[var(--smoke-1)]","large"],["type","checkbox",1,"checkbox-input",3,"change","checked"],[1,"checkbox-text"],["class","flex flex-col gap-1 flex-1 min-w-300 notes-input-container",4,"ngIf"],[1,"flex","flex-col","gap-1","flex-1","min-w-300","notes-input-container"],["rows","3","placeholder","Descrivi come trattare e cucinare questo ingrediente specifico...",1,"form-input","text-area",3,"ngModelChange","input","ngModel"],[1,"modal-container","modal-sm",3,"click"],[1,"p-md","border-t","border-b","border-[var(--smoke-1)]","flex","justify-between","items-center"],[1,"p-lg","flex-1","overflow-y-auto"],[1,"footer-actions"],[1,"promethea-button","danger",3,"click"],["name","trash-2",3,"size"]],template:function(e,n){e&1&&(r(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"label",6),a(6,"Stato:"),i(),r(7,"select",7),C("ngModelChange",function(d){return v(n.statusFilter,d)||(n.statusFilter=d),d}),m("change",function(){return n.onStatusFilterChange()}),r(8,"option",8),a(9,"Tutti i piatti"),i(),r(10,"option",9),a(11,"Disponibili"),i(),r(12,"option",10),a(13,"Non Disponibili"),i(),r(14,"option",11),a(15,"Esauriti"),i()()(),r(16,"div",5)(17,"label",6),a(18,"Menu:"),i(),r(19,"select",7),C("ngModelChange",function(d){return v(n.menuFilter,d)||(n.menuFilter=d),d}),m("change",function(){return n.onMenuFilterChange()}),r(20,"option",8),a(21,"Tutti i menu"),i(),r(22,"option",12),a(23,"Senza menu"),i(),h(24,ae,2,2,"option",13),i()()(),r(25,"div",4)(26,"div",5)(27,"label",6),a(28,"Categoria:"),i(),r(29,"select",7),C("ngModelChange",function(d){return v(n.categoryFilter,d)||(n.categoryFilter=d),d}),m("change",function(){return n.onCategoryFilterChange()}),r(30,"option",8),a(31,"Tutte le categorie"),i(),h(32,oe,2,2,"option",13),i()(),r(33,"div",5)(34,"label",6),a(35,"Cerca:"),i(),r(36,"input",14),C("ngModelChange",function(d){return v(n.searchTerm,d)||(n.searchTerm=d),d}),m("input",function(){return n.onSearchChange()}),i()()()(),r(37,"div",15)(38,"button",16),m("click",function(){return n.loadDishes()}),r(39,"span",17),a(40,"refresh"),i(),a(41," Aggiorna "),i(),r(42,"div",18)(43,"span",19)(44,"span",20)(45,"span"),a(46),i(),h(47,se,2,0,"span",21)(48,le,2,0,"span",21),i()(),h(49,de,2,1,"span",22),i()()(),r(50,"div",23)(51,"table",24)(52,"thead")(53,"tr")(54,"th"),a(55,"Piatto"),i(),r(56,"th"),a(57,"Categoria"),i(),r(58,"th"),a(59,"Stato"),i(),r(60,"th"),a(61,"Ingredienti"),i(),r(62,"th"),a(63,"Tempo (min)"),i(),r(64,"th",25),a(65,"Azioni"),i()()(),r(66,"tbody"),h(67,fe,28,10,"tr",26),i()(),h(68,xe,7,0,"div",27),i(),h(69,ye,47,8,"div",28)(70,Ie,22,2,"div",28),i()),e&2&&(l(7),x("ngModel",n.statusFilter),l(12),x("ngModel",n.menuFilter),l(5),p("ngForOf",n.menus),l(5),x("ngModel",n.categoryFilter),l(3),p("ngForOf",n.categories),l(4),x("ngModel",n.searchTerm),l(7),D(n.filteredDishes.length===0?"secondary":""),l(3),I(n.filteredDishes.length),l(),p("ngIf",n.filteredDishes.length===1),l(),p("ngIf",n.filteredDishes.length!==1),l(),p("ngIf",n.dishes.length!==n.filteredDishes.length),l(18),p("ngForOf",n.filteredDishes),l(),p("ngIf",n.filteredDishes.length===0),l(),p("ngIf",n.showEditModal),l(),p("ngIf",n.showDeleteConfirm))},dependencies:[A,O,z,H,Q,U,L,$,j,B,G,Y,q,ie,te,W],styles:[".dish-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.dish-name[_ngcontent-%COMP%]{font-size:var(--fs-sm);font-weight:600;color:var(--text-color)}.ingredients-preview[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--gap-sm)}.ingredients-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-top:calc(var(--gap-sm) / 2);gap:calc(var(--gap-sm) / 2)}.preparation-time[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-weight:500}.preparation-time[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:16px;color:var(--primary)}.no-ingredients-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;align-items:flex-start}.ingredient-card[_ngcontent-%COMP%]{transition:all .3s ease}.ingredient-card[_ngcontent-%COMP%]:hover{border-color:var(--primary);box-shadow:0 2px 8px var(--shadow)}.ingredient-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:var(--gap-sm);flex-wrap:wrap;gap:var(--gap-sm)}.ingredient-main-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--gap-md);flex-wrap:wrap}.ingredient-cost[_ngcontent-%COMP%]{font-size:var(--fs-sm);font-weight:500}.notes-input-container[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-in-out;margin-top:var(--gap-sm)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-8px)}to{opacity:1;transform:translateY(0)}}.checkbox-label.large[_ngcontent-%COMP%]   .checkbox-text[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--gap-sm);font-weight:600}@media (max-width: 768px){.ingredient-header[_ngcontent-%COMP%], .ingredient-main-info[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:var(--gap-sm)}.action-buttons[_ngcontent-%COMP%]{flex-direction:column}.ingredients-list[_ngcontent-%COMP%]{gap:4px}.ingredient-tag[_ngcontent-%COMP%]{font-size:var(--fs-sm)}}@media print{.filters-section[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%], .modal-overlay[_ngcontent-%COMP%]{display:none!important}.table-container[_ngcontent-%COMP%]{box-shadow:none;border:1px solid #000}}"]})};export{re as Recipe};
