import{a as J}from"./chunk-YAJJDNHB.js";import{a as j}from"./chunk-NU4D4K4W.js";import{a as P,b as z,d as O,h as N,q as G,r as B,s as L,v as A,x as q}from"./chunk-V2Z2AUIN.js";import{a as H}from"./chunk-FYDQVOFN.js";import"./chunk-MMFTZZDS.js";import"./chunk-IJR26JUT.js";import"./chunk-L36FCDRV.js";import"./chunk-JJFJLBC4.js";import{c as k,d as V,m as W}from"./chunk-QY7CV2FB.js";import{$a as u,Bb as E,Eb as r,Fb as y,Ga as c,Gb as M,Hb as S,Jb as v,Kb as f,Lb as h,Ob as F,Wa as I,da as C,g as x,h as T,hb as _,ia as m,ib as t,ja as g,jb as n,nb as w,ob as R,pb as b,sb as p,ub as d,zb as D}from"./chunk-PX5DELEN.js";var U=()=>[1,2,3,4,5,6,7,8,9,10];function X(o,a){if(o&1){let e=b();t(0,"div",35)(1,"span",5),r(2,"error"),n(),r(3),t(4,"button",36),p("click",function(){m(e);let l=d();return g(l.error=null)}),t(5,"span",5),r(6,"close"),n()()()}if(o&2){let e=d();c(3),M(" ",e.error," ")}}function Y(o,a){o&1&&(t(0,"div",37)(1,"span",6),r(2,"Caricamento prenotazioni..."),n()())}function Z(o,a){if(o&1&&(t(0,"div",51),r(1),n()),o&2){let e=d().$implicit;c(),M(" ",e.customer_email," ")}}function $(o,a){if(o&1&&(t(0,"option",61),r(1),n()),o&2){let e=a.$implicit,i=d(6).$implicit;_("value",e.id)("disabled",e.capacity<i.party_size)("title","Capacit\xE0: "+e.capacity+" posti"),c(),S(" ",e.table_name||"Tavolo "+e.table_number," (",e.capacity," posti) ")}}function ee(o,a){if(o&1&&(t(0,"optgroup",59),u(1,$,2,5,"option",60),n()),o&2){let e=d().$implicit;_("label",e.floorPlan.name),c(),_("ngForOf",e.tables)}}function te(o,a){if(o&1&&(w(0),u(1,ee,2,2,"optgroup",58),R()),o&2){let e=a.$implicit;c(),_("ngIf",e.tables&&e.tables.length>0)}}function ne(o,a){if(o&1&&(w(0),u(1,te,2,1,"ng-container",42),R()),o&2){let e=d(6);c(),_("ngForOf",e.tableGroups)}}function ie(o,a){if(o&1&&(t(0,"option",63),r(1),n()),o&2){let e=a.$implicit,i=d(4).$implicit;_("value",e.id)("disabled",e.capacity<i.party_size),c(),S(" ",e.table_name||"Tavolo "+e.table_number," (",e.capacity," posti) ")}}function ae(o,a){if(o&1&&(w(0),u(1,ie,2,4,"option",62),R()),o&2){let e=d(6);c(),_("ngForOf",e.tables)}}function re(o,a){o&1&&(t(0,"option",64),r(1," Nessun tavolo disponibile "),n())}function oe(o,a){if(o&1){let e=b();t(0,"select",54,0),p("change",function(){m(e);let l=D(1),s=d(2).$implicit,Q=d(3);return g(Q.assignTable(s.id,l.value))}),t(2,"option",55),r(3,"Assegna tavolo..."),n(),u(4,ne,2,1,"ng-container",56)(5,ae,2,1,"ng-container",56)(6,re,2,0,"option",57),n()}if(o&2){let e=d(5);c(4),_("ngIf",e.tableGroups&&e.tableGroups.length>0),c(),_("ngIf",(!e.tableGroups||e.tableGroups.length===0)&&e.tables.length>0),c(),_("ngIf",e.tables.length===0&&e.tableGroups.length===0)}}function le(o,a){if(o&1){let e=b();t(0,"button",65),p("click",function(){m(e);let l=d(2).$implicit,s=d(3);return g(s.unassignTable(l.id))}),t(1,"span",5),r(2,"close"),n()()}}function se(o,a){if(o&1&&(t(0,"div",28),u(1,oe,7,3,"select",52)(2,le,3,0,"button",53),n()),o&2){let e=d().$implicit;c(),_("ngIf",!e.table_id),c(),_("ngIf",e.table_id)}}function ce(o,a){o&1&&(t(0,"span",51),r(1," Nessun tavolo "),n())}function de(o,a){if(o&1){let e=b();t(0,"button",66),p("click",function(){m(e);let l=d().$implicit,s=d(3);return g(s.updateStatus(l.id,"confirmed"))}),t(1,"span",5),r(2,"check"),n()()}}function _e(o,a){if(o&1){let e=b();t(0,"button",67),p("click",function(){m(e);let l=d().$implicit,s=d(3);return g(s.updateStatus(l.id,"cancelled"))}),t(1,"span",5),r(2,"cancel"),n()()}}function me(o,a){if(o&1){let e=b();t(0,"button",68),p("click",function(){m(e);let l=d().$implicit,s=d(3);return g(s.updateStatus(l.id,"pending"))}),t(1,"span",5),r(2,"schedule"),n()()}}function ge(o,a){if(o&1){let e=b();t(0,"tr")(1,"td"),r(2),n(),t(3,"td"),r(4),n(),t(5,"td")(6,"div")(7,"strong"),r(8),n(),u(9,Z,2,1,"div",43),n()(),t(10,"td"),r(11),n(),t(12,"td"),r(13),n(),t(14,"td")(15,"div",44)(16,"span"),r(17),n(),u(18,se,3,2,"div",45)(19,ce,2,0,"span",43),n()(),t(20,"td")(21,"span",46),r(22),n()(),t(23,"td")(24,"span",46),r(25),n()(),t(26,"td")(27,"div",28),u(28,de,3,0,"button",47)(29,_e,3,0,"button",48)(30,me,3,0,"button",49),t(31,"button",50),p("click",function(){let l=m(e).$implicit,s=d(3);return g(s.deleteReservation(l.id))}),t(32,"span",5),r(33,"delete"),n()()()()()}if(o&2){let e=a.$implicit,i=d(3);c(2),y(e.reservation_date),c(2),y(i.formatTime(e.reservation_time)),c(4),y(i.getCustomerName(e)),c(),_("ngIf",e.customer_email),c(2),y(i.getCustomerContact(e)),c(2),y(e.party_size),c(4),y(i.getTableName(e)),c(),_("ngIf",i.tables.length>0||i.tableGroups.length>0),c(),_("ngIf",i.tables.length===0&&i.tableGroups.length===0),c(2),E("active",i.getStatusColor(e.status)),c(),M(" ",i.getStatusText(e.status)," "),c(2),E("active",e.customer_id),c(),M(" ",e.customer_id?"Cliente Registrato":"Nuovo Cliente"," "),c(3),_("ngIf",e.status!=="confirmed"),c(),_("ngIf",e.status!=="cancelled"),c(),_("ngIf",e.status!=="pending")}}function pe(o,a){if(o&1&&(t(0,"table",41)(1,"thead")(2,"tr")(3,"th"),r(4,"Data"),n(),t(5,"th"),r(6,"Ora"),n(),t(7,"th"),r(8,"Cliente"),n(),t(9,"th"),r(10,"Contatto"),n(),t(11,"th"),r(12,"Persone"),n(),t(13,"th"),r(14,"Tavolo"),n(),t(15,"th"),r(16,"Stato"),n(),t(17,"th"),r(18,"Tipo"),n(),t(19,"th"),r(20,"Azioni"),n()()(),t(21,"tbody"),u(22,ge,34,18,"tr",42),n()()),o&2){let e=d(2);c(22),_("ngForOf",e.filteredReservations)}}function ue(o,a){if(o&1){let e=b();t(0,"div",69)(1,"span",5),r(2,"event_busy"),n(),t(3,"p",6),r(4,"Nessuna prenotazione trovata con i filtri selezionati"),n(),t(5,"button",70),p("click",function(){m(e);let l=d(2);return g(l.openCreateModal())}),r(6," Crea la prima prenotazione "),n()()}}function ve(o,a){if(o&1&&(t(0,"div",38),u(1,pe,23,1,"table",39)(2,ue,7,0,"div",40),n()),o&2){let e=d();c(),_("ngIf",e.filteredReservations.length>0),c(),_("ngIf",e.filteredReservations.length===0)}}function fe(o,a){if(o&1&&(t(0,"option",84),r(1),n()),o&2){let e=a.$implicit;_("value",e),c(),M(" ",e," ")}}function he(o,a){if(o&1&&(t(0,"option",84),r(1),n()),o&2){let e=a.$implicit;_("value",e),c(),S(" ",e," ",e===1?"persona":"persone"," ")}}function be(o,a){if(o&1&&(t(0,"option",63),r(1),n()),o&2){let e=a.$implicit,i=d(2);_("value",e.id)("disabled",e.capacity<i.newReservation.party_size),c(),S(" ",e.table_name," (",e.capacity," posti) ")}}function xe(o,a){if(o&1&&(t(0,"small",6),r(1),n()),o&2){let e=d(2);c(),M(" Capacit\xE0 tavolo: ",e.getSelectedTableCapacity()," posti ")}}function ye(o,a){o&1&&(t(0,"span",5),r(1,"refresh"),n())}function Me(o,a){if(o&1){let e=b();t(0,"div",71)(1,"div",72)(2,"div",73)(3,"h2",3)(4,"span",5),r(5,"add_circle"),n(),r(6," Nuova Prenotazione Ristorante "),n(),t(7,"button",74),p("click",function(){m(e);let l=d();return g(l.closeCreateModal())}),t(8,"span",5),r(9,"close"),n()()(),t(10,"div",75)(11,"div",35)(12,"span",5),r(13,"info"),n(),t(14,"span"),r(15,"Stai creando una prenotazione per un cliente (registrato o nuovo)"),n()(),t(16,"div",76)(17,"div",9)(18,"label",10),r(19,"Nome Cliente *"),n(),t(20,"input",77),h("ngModelChange",function(l){m(e);let s=d();return f(s.newReservation.customer_name,l)||(s.newReservation.customer_name=l),g(l)}),n()(),t(21,"div",9)(22,"label",10),r(23,"Telefono *"),n(),t(24,"input",78),h("ngModelChange",function(l){m(e);let s=d();return f(s.newReservation.customer_phone,l)||(s.newReservation.customer_phone=l),g(l)}),n()()(),t(25,"div",76)(26,"div",9)(27,"label",10),r(28,"Email (opzionale)"),n(),t(29,"input",79),h("ngModelChange",function(l){m(e);let s=d();return f(s.newReservation.customer_email,l)||(s.newReservation.customer_email=l),g(l)}),n()(),t(30,"div",9)(31,"label",10),r(32,"Data *"),n(),t(33,"input",80),h("ngModelChange",function(l){m(e);let s=d();return f(s.newReservation.reservation_date,l)||(s.newReservation.reservation_date=l),g(l)}),n()()(),t(34,"div",76)(35,"div",9)(36,"label",10),r(37,"Ora *"),n(),t(38,"select",81),h("ngModelChange",function(l){m(e);let s=d();return f(s.newReservation.reservation_time,l)||(s.newReservation.reservation_time=l),g(l)}),u(39,fe,2,2,"option",82),n()(),t(40,"div",9)(41,"label",10),r(42,"Numero Persone *"),n(),t(43,"select",81),h("ngModelChange",function(l){m(e);let s=d();return f(s.newReservation.party_size,l)||(s.newReservation.party_size=l),g(l)}),u(44,he,2,3,"option",82),n()(),t(45,"div",9)(46,"label",10),r(47,"Stato"),n(),t(48,"select",83),h("ngModelChange",function(l){m(e);let s=d();return f(s.newReservation.status,l)||(s.newReservation.status=l),g(l)}),t(49,"option",24),r(50,"Confermata"),n(),t(51,"option",25),r(52,"In attesa"),n()()()(),t(53,"div",76)(54,"div",9)(55,"label",10),r(56,"Tavolo (opzionale)"),n(),t(57,"select",83),h("ngModelChange",function(l){m(e);let s=d();return f(s.newReservation.table_id,l)||(s.newReservation.table_id=l),g(l)}),t(58,"option",84),r(59,"Nessun tavolo assegnato"),n(),u(60,be,2,4,"option",62),n(),u(61,xe,2,1,"small",85),n()(),t(62,"div",8)(63,"div",9)(64,"label",10),r(65,"Richieste Speciali"),n(),t(66,"textarea",86),h("ngModelChange",function(l){m(e);let s=d();return f(s.newReservation.special_requests,l)||(s.newReservation.special_requests=l),g(l)}),n()()()(),t(67,"div",87)(68,"button",70),p("click",function(){m(e);let l=d();return g(l.closeCreateModal())}),r(69," Annulla "),n(),t(70,"button",88),p("click",function(){m(e);let l=d();return g(l.createReservation())}),u(71,ye,2,0,"span",89),r(72," Crea Prenotazione "),n()()()()}if(o&2){let e=d();c(20),v("ngModel",e.newReservation.customer_name),c(4),v("ngModel",e.newReservation.customer_phone),c(5),v("ngModel",e.newReservation.customer_email),c(4),v("ngModel",e.newReservation.reservation_date),c(5),v("ngModel",e.newReservation.reservation_time),c(),_("ngForOf",e.getAvailableTimes()),c(4),v("ngModel",e.newReservation.party_size),c(),_("ngForOf",F(16,U)),c(4),v("ngModel",e.newReservation.status),c(9),v("ngModel",e.newReservation.table_id),c(),_("value",void 0),c(2),_("ngForOf",e.tables),c(),_("ngIf",e.newReservation.table_id),c(5),v("ngModel",e.newReservation.special_requests),c(4),_("disabled",!e.isFormValid()||e.loading),c(),_("ngIf",e.loading)}}var K=class o{reservationService=C(H);tableService=C(j);floorManagementService=C(J);subscriptions=new T;allRestaurantReservations=[];filteredReservations=[];tables=[];tableGroups=[];loading=!1;error=null;showCreateModal=!1;newReservation={restaurant_id:"",customer_name:"",customer_phone:"",customer_email:"",reservation_date:"",reservation_time:"19:00",party_size:2,special_requests:"",table_id:void 0,status:"confirmed"};selectedDate=null;startDate=null;endDate=null;statusFilter="all";viewMode="future";useDateFilter=!1;useDateRangeFilter=!1;ngOnInit(){this.loadData(),this.subscriptions.add(this.reservationService.restaurantReservations$.subscribe(a=>{this.allRestaurantReservations=a,this.filterReservations()})),this.subscriptions.add(this.tableService.data$.subscribe(a=>{this.tables=a,console.log("Tavoli caricati:",a.length)}))}ngOnDestroy(){this.subscriptions.unsubscribe()}loadData(){return x(this,null,function*(){this.loading=!0;try{yield this.reservationService.loadRestaurantReservations(),yield this.tableService.loadData(),yield this.loadTablesGroupedByFloorPlan()}catch(a){console.error("Error loading data:",a),this.error="Errore nel caricamento dei dati"}finally{this.loading=!1}})}filterReservations(){let a=this.allRestaurantReservations,e=new Date().toISOString().split("T")[0];switch(this.viewMode){case"today":a=this.reservationService.getActiveReservations(a);break;case"future":a=this.reservationService.getFutureReservations(a);break;case"all":break}this.useDateFilter&&this.selectedDate&&(a=a.filter(i=>i.reservation_date===this.selectedDate)),this.useDateRangeFilter&&this.startDate&&this.endDate&&(a=a.filter(i=>i.reservation_date>=this.startDate&&i.reservation_date<=this.endDate)),this.statusFilter!=="all"&&(a=a.filter(i=>i.status===this.statusFilter)),this.filteredReservations=a}onDateFilterToggle(){this.useDateFilter&&(this.useDateRangeFilter=!1),this.filterReservations()}onDateRangeFilterToggle(){this.useDateRangeFilter&&(this.useDateFilter=!1),this.filterReservations()}openCreateModal(){this.newReservation={restaurant_id:"",customer_name:"",customer_phone:"",customer_email:"",reservation_date:this.selectedDate||new Date().toISOString().split("T")[0],reservation_time:"19:00",party_size:2,special_requests:"",table_id:void 0,status:"confirmed"},this.showCreateModal=!0}closeCreateModal(){this.showCreateModal=!1}createReservation(){return x(this,null,function*(){if(this.isFormValid()){this.loading=!0;try{(yield this.reservationService.createRestaurantReservation(this.newReservation))?(this.closeCreateModal(),this.error=null):this.error="Errore nella creazione della prenotazione"}catch(a){console.error("Error creating reservation:",a),this.error=a.message||"Errore nella creazione della prenotazione"}finally{this.loading=!1}}})}isFormValid(){return!!(this.newReservation.customer_name&&this.newReservation.customer_phone&&this.newReservation.reservation_date&&this.newReservation.reservation_time&&this.newReservation.party_size)}assignTable(a,e){return x(this,null,function*(){if(e){this.loading=!0;try{(yield this.reservationService.assignTableToReservation(a,e))||(this.error="Errore nell'assegnazione del tavolo")}catch(i){console.error("Error assigning table:",i),this.error="Errore nell'assegnazione del tavolo"}finally{this.loading=!1}}})}unassignTable(a){return x(this,null,function*(){this.loading=!0;try{(yield this.reservationService.removeTableFromReservation(a))||(this.error="Errore nella rimozione del tavolo")}catch(e){console.error("Error unassigning table:",e),this.error="Errore nella rimozione del tavolo"}finally{this.loading=!1}})}updateStatus(a,e){return x(this,null,function*(){this.loading=!0;try{(yield this.reservationService.updateReservationStatus(a,e))||(this.error="Errore nell'aggiornamento dello stato")}catch(i){console.error("Error updating status:",i),this.error="Errore nell'aggiornamento dello stato"}finally{this.loading=!1}})}deleteReservation(a){return x(this,null,function*(){if(confirm("Sei sicuro di voler eliminare questa prenotazione?")){this.loading=!0;try{(yield this.reservationService.deleteReservation(a))||(this.error="Errore nell'eliminazione della prenotazione")}catch(e){console.error("Error deleting reservation:",e),this.error="Errore nell'eliminazione della prenotazione"}finally{this.loading=!1}}})}getSelectedTableCapacity(){if(!this.newReservation.table_id)return 0;for(let a of this.tableGroups){let e=a.tables.find(i=>i.id===this.newReservation.table_id);if(e)return e.capacity}return 0}formatTime(a){return a.substring(0,5)}getCustomerName(a){return this.reservationService.getCustomerName(a)}getCustomerContact(a){return this.reservationService.getCustomerContact(a)}getTableName(a){return this.reservationService.getTableInfo(a)}getStatusColor(a){switch(a){case"confirmed":return"active";case"pending":return"";case"cancelled":return"";default:return""}}getStatusText(a){switch(a){case"confirmed":return"Confermata";case"pending":return"In attesa";case"cancelled":return"Cancellata";default:return a}}getAvailableTimes(){return["12:00","12:30","13:00","13:30","14:00","19:00","19:30","20:00","20:30","21:00","21:30"]}onDateChange(){this.filterReservations()}onStatusFilterChange(){this.filterReservations()}onViewModeChange(){this.filterReservations()}refreshData(){this.loadData()}loadTablesGroupedByFloorPlan(){return x(this,null,function*(){try{this.tableGroups=yield this.floorManagementService.getAllTablesGroupedByFloorPlan(),console.log("Table groups:",this.tableGroups),(!this.tableGroups||this.tableGroups.length===0)&&(yield this.groupTablesManually())}catch(a){console.error("Error loading tables grouped by floor plan:",a),yield this.groupTablesManually()}})}groupTablesManually(){return x(this,null,function*(){console.log("\u26A0\uFE0F Raggruppamento manuale dei tavoli...");let a={};this.tables.forEach(e=>{let i=e.floor_plan_id||"no-floor-plan";a[i]||(a[i]={floorPlan:{id:i,name:`Mappa ${i==="no-floor-plan"?"senza nome":i}`},tables:[]}),a[i].tables.push(e)}),this.tableGroups=Object.values(a),console.log("\u2705 Tavoli raggruppati manualmente:",this.tableGroups)})}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=I({type:o,selectors:[["app-reservation-manager"]],decls:63,vars:14,consts:[["tableSelect",""],[1,"page-container"],[1,"section-header"],[1,"section-title"],[1,"header-icon"],[1,"material-icons"],[1,"text-muted"],[1,"form-card","mb-lg"],[1,"form-row"],[1,"form-group"],[1,"standard-label"],[1,"p-sm",3,"ngModelChange","change","ngModel"],["value","today"],["value","future"],["value","all"],[1,"flex","align-center","gap-sm"],["type","checkbox","id","dateFilter",3,"ngModelChange","change","ngModel"],["for","dateFilter",1,"standard-label"],["type","date",1,"p-sm","mt-xs",3,"ngModelChange","change","ngModel","disabled"],["type","checkbox","id","dateRangeFilter",3,"ngModelChange","change","ngModel"],["for","dateRangeFilter",1,"standard-label"],[1,"flex","gap-sm","mt-xs"],["type","date","placeholder","Da",1,"p-sm",3,"ngModelChange","change","ngModel","disabled"],["type","date","placeholder","A",1,"p-sm",3,"ngModelChange","change","ngModel","disabled"],["value","confirmed"],["value","pending"],["value","cancelled"],[1,"modal-footer","p-md0"],[1,"flex","gap-sm"],["title","Aggiorna",1,"icon-button",3,"click"],[1,"promethea-button",3,"click"],["class","info-message mb-lg",4,"ngIf"],["class","flex items-center justify-center p-lg",4,"ngIf"],["class","table-section",4,"ngIf"],["class","modal-overlay",4,"ngIf"],[1,"info-message","mb-lg"],[1,"icon-button","x-small",3,"click"],[1,"flex","items-center","justify-center","p-lg"],[1,"table-section"],["class","crm-table",4,"ngIf"],["class","empty-state p-lg",4,"ngIf"],[1,"crm-table"],[4,"ngFor","ngForOf"],["class","text-mini text-muted",4,"ngIf"],[1,"flex","items-center","gap-sm"],["class","flex gap-sm",4,"ngIf"],[1,"chip"],["class","icon-button x-small","title","Conferma",3,"click",4,"ngIf"],["class","icon-button x-small","title","Cancella",3,"click",4,"ngIf"],["class","icon-button x-small","title","Metti in attesa",3,"click",4,"ngIf"],["title","Elimina",1,"icon-button","x-small",3,"click"],[1,"text-mini","text-muted"],["class","text-mini x-small",3,"change",4,"ngIf"],["class","icon-button x-small","title","Rimuovi tavolo",3,"click",4,"ngIf"],[1,"text-mini","x-small",3,"change"],["value",""],[4,"ngIf"],["disabled","",4,"ngIf"],[3,"label",4,"ngIf"],[3,"label"],[3,"value","disabled","title",4,"ngFor","ngForOf"],[3,"value","disabled","title"],[3,"value","disabled",4,"ngFor","ngForOf"],[3,"value","disabled"],["disabled",""],["title","Rimuovi tavolo",1,"icon-button","x-small",3,"click"],["title","Conferma",1,"icon-button","x-small",3,"click"],["title","Cancella",1,"icon-button","x-small",3,"click"],["title","Metti in attesa",1,"icon-button","x-small",3,"click"],[1,"empty-state","p-lg"],[1,"promethea-button","ghost",3,"click"],[1,"modal-overlay"],[1,"modal-container","modal-lg"],[1,"modal-header"],[1,"icon-button",3,"click"],[1,"form-card"],[1,"form-row","mb-md"],["type","text","placeholder","Inserisci nome cliente","required","",1,"p-sm",3,"ngModelChange","ngModel"],["type","tel","placeholder","Inserisci telefono","required","",1,"p-sm",3,"ngModelChange","ngModel"],["type","email","placeholder","Inserisci email",1,"p-sm",3,"ngModelChange","ngModel"],["type","date","required","",1,"p-sm",3,"ngModelChange","ngModel"],["required","",1,"p-sm",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"p-sm",3,"ngModelChange","ngModel"],[3,"value"],["class","text-muted",4,"ngIf"],["placeholder","Note o richieste speciali del cliente...","rows","3",1,"p-sm",3,"ngModelChange","ngModel"],[1,"modal-footer"],[1,"promethea-button",3,"click","disabled"],["class","material-icons",4,"ngIf"]],template:function(e,i){e&1&&(t(0,"div",1)(1,"div",2)(2,"h1",3)(3,"span",4)(4,"span",5),r(5,"event_available"),n()(),r(6," Gestione Prenotazioni "),n(),t(7,"p",6),r(8,"Gestisci le prenotazioni del ristorante - Clienti registrati e nuovi clienti"),n()(),t(9,"div",7)(10,"div",8)(11,"div",9)(12,"label",10),r(13,"Visualizza"),n(),t(14,"select",11),h("ngModelChange",function(s){return f(i.viewMode,s)||(i.viewMode=s),s}),p("change",function(){return i.filterReservations()}),t(15,"option",12),r(16,"Oggi"),n(),t(17,"option",13),r(18,"Prenotazioni Future"),n(),t(19,"option",14),r(20,"Tutte le Prenotazioni"),n()()(),t(21,"div",9)(22,"div",15)(23,"input",16),h("ngModelChange",function(s){return f(i.useDateFilter,s)||(i.useDateFilter=s),s}),p("change",function(){return i.onDateFilterToggle()}),n(),t(24,"label",17),r(25,"Data specifica"),n()(),t(26,"input",18),h("ngModelChange",function(s){return f(i.selectedDate,s)||(i.selectedDate=s),s}),p("change",function(){return i.filterReservations()}),n()(),t(27,"div",9)(28,"div",15)(29,"input",19),h("ngModelChange",function(s){return f(i.useDateRangeFilter,s)||(i.useDateRangeFilter=s),s}),p("change",function(){return i.onDateRangeFilterToggle()}),n(),t(30,"label",20),r(31,"Intervallo date"),n()(),t(32,"div",21)(33,"input",22),h("ngModelChange",function(s){return f(i.startDate,s)||(i.startDate=s),s}),p("change",function(){return i.filterReservations()}),n(),t(34,"input",23),h("ngModelChange",function(s){return f(i.endDate,s)||(i.endDate=s),s}),p("change",function(){return i.filterReservations()}),n()()()(),t(35,"div",8)(36,"div",9)(37,"label",10),r(38,"Stato"),n(),t(39,"select",11),h("ngModelChange",function(s){return f(i.statusFilter,s)||(i.statusFilter=s),s}),p("change",function(){return i.filterReservations()}),t(40,"option",14),r(41,"Tutti"),n(),t(42,"option",24),r(43,"Confermate"),n(),t(44,"option",25),r(45,"In attesa"),n(),t(46,"option",26),r(47,"Cancellate"),n()()(),t(48,"div",27)(49,"label",10),r(50,"\xA0"),n(),t(51,"div",28)(52,"button",29),p("click",function(){return i.refreshData()}),t(53,"span",5),r(54,"refresh"),n()(),t(55,"button",30),p("click",function(){return i.openCreateModal()}),t(56,"span",5),r(57,"add"),n(),r(58," Nuova Prenotazione "),n()()()()(),u(59,X,7,1,"div",31)(60,Y,3,0,"div",32)(61,ve,3,2,"div",33)(62,Me,73,17,"div",34),n()),e&2&&(c(14),v("ngModel",i.viewMode),c(9),v("ngModel",i.useDateFilter),c(3),v("ngModel",i.selectedDate),_("disabled",!i.useDateFilter),c(3),v("ngModel",i.useDateRangeFilter),c(4),v("ngModel",i.startDate),_("disabled",!i.useDateRangeFilter),c(),v("ngModel",i.endDate),_("disabled",!i.useDateRangeFilter),c(5),v("ngModel",i.statusFilter),c(20),_("ngIf",i.error),c(),_("ngIf",i.loading),c(),_("ngIf",!i.loading),c(),_("ngIf",i.showCreateModal))},dependencies:[W,k,V,q,B,L,z,P,G,O,A,N],styles:["select[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-weight:600;background-color:var(--smoke-1);padding:var(--gap-sm);border-bottom:1px solid var(--smoke-2)}select[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{font-weight:400;padding-left:var(--gap-sm);background-color:var(--background)}select[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:hover{background-color:var(--smoke-1)}select[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:disabled{font-style:italic;background-color:var(--smoke-1)}select[_ngcontent-%COMP%]:focus   optgroup[_ngcontent-%COMP%]{background-color:var(--smoke-1)}"]})};export{K as ReservationManager};
