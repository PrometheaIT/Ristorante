import{a as ie}from"./chunk-DJ6AUBQX.js";import{b as L}from"./chunk-6NWDY4DP.js";import{a as B,b as q,d as H,e as Y,i as W,m as J,p as K,q as Q,r as X,s as Z,w as ee,y as te}from"./chunk-2WQQ3H4M.js";import{b as G}from"./chunk-PJAEBTL6.js";import{c as V,d as j,g as A,l as D,r as $}from"./chunk-JA3GOP6I.js";import{Ab as k,Ba as I,Cb as z,Db as n,Ea as l,Eb as F,Fb as v,Pa as x,Rb as T,Sb as N,T as M,Ua as R,Za as u,ba as b,bc as U,f as O,fb as c,ga as S,gb as r,ha as C,hb as e,ib as p,ob as y,rb as f,tb as g}from"./chunk-HZF257L5.js";import{a as E,b as w,j as d}from"./chunk-4ZZIO3ZI.js";function re(o,t){if(o&1&&(r(0,"option",41),n(1),e()),o&2){let i=t.$implicit;c("value",i),l(),v(" ",i," ")}}function ae(o,t){if(o&1&&(r(0,"option",41),n(1),e()),o&2){let i=t.$implicit;c("value",i.code),l(),v(" ",i.name," ")}}function oe(o,t){o&1&&(r(0,"div",42)(1,"span",14),n(2,"info"),e(),n(3," Nessuna provincia disponibile per questa regione "),e())}function se(o,t){o&1&&(r(0,"div",43)(1,"span",14),n(2,"info"),e(),n(3," Seleziona prima una regione "),e())}function le(o,t){o&1&&(r(0,"div",59)(1,"span",14),n(2,"restaurant"),e()())}function ce(o,t){if(o&1&&(r(0,"p",43)(1,"span",60),n(2,"location_on"),e(),n(3),e()),o&2){let i=g().$implicit;l(3),v(" ",i.address," ")}}function me(o,t){if(o&1&&(r(0,"p",16)(1,"span",60),n(2,"restaurant_menu"),e(),n(3),e()),o&2){let i=g().$implicit;l(3),v(" ",i.cuisine_type," ")}}function de(o,t){if(o&1){let i=y();r(0,"button",61),f("click",function(){S(i);let s=g().$implicit,m=g(2);return C(m.switchToRestaurant(s))}),r(1,"span",14),n(2,"swap_horiz"),e(),n(3," Lavora qui "),e()}if(o&2){let i=g(3);c("disabled",i.loading)}}function pe(o,t){o&1&&(r(0,"div",62)(1,"span",14),n(2,"check_circle"),e(),n(3," Attuale "),e())}function ue(o,t){if(o&1){let i=y();r(0,"div",46)(1,"div",47)(2,"div",48)(3,"img",49),f("error",function(){let s=S(i).$implicit;return C(s.logo_url=null)}),e(),u(4,le,3,0,"div",50),e(),r(5,"div",51)(6,"h3",52),n(7),e(),r(8,"div",53)(9,"span",54),p(10,"i"),n(11),T(12,"titlecase"),e(),r(13,"span",54),n(14),e()(),u(15,ce,4,1,"p",24)(16,me,4,1,"p",55),e(),r(17,"div",56),u(18,de,4,1,"button",57)(19,pe,4,0,"div",58),e()()()}if(o&2){let i=t.$implicit,a=g(2);l(3),c("src",i.logo_url||"/assets/default-restaurant.webp",I)("alt",i.name),l(),c("ngIf",!i.logo_url),l(3),F(i.name),l(3),z(a.getRoleLabel(i.staff_role)),l(),v(" ",N(12,14,i.staff_role)," "),l(2),k("active",i.is_active),l(),v(" ",i.is_active?"Attivo":"Inattivo"," "),l(),c("ngIf",i.address),l(),c("ngIf",i.cuisine_type),l(2),c("ngIf",!a.isCurrentRestaurant(i.id)),l(),c("ngIf",a.isCurrentRestaurant(i.id))}}function ge(o,t){if(o&1&&(r(0,"div",7)(1,"div",8)(2,"span",9),n(3,"business"),e(),r(4,"h2",10),n(5,"Ristoranti in cui lavori"),e()(),r(6,"div",44),u(7,ue,20,16,"div",45),e()()),o&2){let i=g();l(7),c("ngForOf",i.staffRestaurants)}}function fe(o,t){o&1&&(r(0,"div",63)(1,"span",3),n(2,"business_center"),e(),r(3,"h3",64),n(4,"Non lavori in nessun ristorante"),e(),r(5,"p",5),n(6,"Sei stato invitato a far parte dello staff di un ristorante? Accetta l'invito per vedere i ristoranti qui."),e()())}function ve(o,t){o&1&&(r(0,"span",14),n(1,"sync"),e())}function he(o,t){o&1&&(r(0,"span",14),n(1,"save"),e())}function _e(o,t){o&1&&(r(0,"span"),n(1,"Salvataggio..."),e())}function xe(o,t){o&1&&(r(0,"span"),n(1,"Salva Impostazioni"),e())}var ne=class o{constructor(t,i,a,s){this.fb=t;this.supabaseService=i;this.authService=a;this.geographyService=s;this.supabaseClient=this.supabaseService.getSupabaseClient()}settingsForm;loading=!1;avatarPreview;userProfile;staffRestaurants=[];provinces=[];regions=[];filteredProvinces=[];selectedProvinceName="";destroy$=new O;supabaseClient;authSubscription;staffRecordsSubscription;router=b($);cdRef=b(U);ngOnInit(){return d(this,null,function*(){this.initForm(),yield this.loadUserProfile(),this.setupStaffRestaurantsSubscription(),this.loadProvinces()})}ngOnDestroy(){this.authSubscription&&this.authSubscription.unsubscribe(),this.staffRecordsSubscription&&this.staffRecordsSubscription.unsubscribe()}loadProvinces(){return d(this,null,function*(){return new Promise((t,i)=>{this.geographyService.getFilteredProvinces().pipe(M(this.destroy$)).subscribe({next:a=>{this.provinces=a,this.regions=[...new Set(a.map(m=>m.region))].filter(m=>m!=="Tutte").sort();let s=this.settingsForm.get("region")?.value;s&&this.filterProvincesByRegion(s),t()},error:i})})})}filterProvincesByRegion(t){this.filteredProvinces=t?this.provinces.filter(i=>i.region===t):[],t||this.settingsForm.patchValue({province:""})}initForm(){this.settingsForm=this.fb.group({phone:[""],address:[""],province:[""],email_notifications:[!0],sms_notifications:[!0],newsletter:[!0],is_active:[!0]})}loadUserProfile(){return d(this,null,function*(){this.loading=!0;try{let t=this.authService.currentUserValue;if(!t)throw new Error("Utente non loggato");let{data:i,error:a}=yield this.supabaseClient.from("users").select("*").eq("id",t.id).single();if(a){if(a.code==="PGRST116"){yield this.createUserProfile(t.id);return}throw a}i&&(this.userProfile=i,this.avatarPreview=i.avatar_url||void 0,this.patchForm(i))}catch(t){console.error("Errore caricamento dati utente:",t),t.message?.includes("PGRST116")||alert("Errore nel caricamento dei dati: "+(t.message||"Errore sconosciuto"))}finally{this.loading=!1,this.cdRef.detectChanges()}})}createUserProfile(t){return d(this,null,function*(){let i=this.authService.currentUserValue;if(!i)return;let a={id:t,email:i.email,first_name:i.user_metadata?.first_name||"",last_name:i.user_metadata?.last_name||"",phone:null,address:null,avatar_url:null,preferences:{email_notifications:!0,sms_notifications:!0,newsletter:!0},is_active:!0,role:"customer",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{data:s,error:m}=yield this.supabaseClient.from("users").insert(a).select().single();if(m){console.error("Errore creazione profilo utente:",m);return}s&&(this.userProfile=s,this.patchForm(s))})}patchForm(t){this.settingsForm.patchValue({phone:t.phone||"",address:t.address||"",province:t.province||"",email_notifications:t.preferences?.email_notifications??!0,sms_notifications:t.preferences?.sms_notifications??!0,newsletter:t.preferences?.newsletter??!0,is_active:t.is_active})}onProvinceChange(t){let a=t.target.value,s=this.provinces.find(m=>m.code===a);this.selectedProvinceName=s?s.name:""}onRegionChange(t){let a=t.target.value;this.filterProvincesByRegion(a)}setupStaffRestaurantsSubscription(){this.staffRecordsSubscription=this.authService.allStaffRecords$.subscribe(t=>d(this,null,function*(){t&&t.length>0?yield this.loadStaffRestaurants(t):this.staffRestaurants=[]}))}loadStaffRestaurants(t){return d(this,null,function*(){this.loading=!0;try{let i=t.map(s=>d(this,null,function*(){let{data:m,error:h}=yield this.supabaseClient.from("restaurants").select("*").eq("id",s.restaurant_id).single();return h?(console.error("Error loading restaurant:",h),null):w(E({},m),{staff_role:s.role,staff_permissions:s.permissions,staff_invitation_status:s.invitation_status})})),a=yield Promise.all(i);this.staffRestaurants=a.filter(s=>s!==null)}catch(i){console.error("Error loading staff restaurants:",i),this.staffRestaurants=[]}finally{this.loading=!1,this.cdRef.detectChanges()}})}isCurrentRestaurant(t){return this.authService.getCurrentRestaurant()?.id===t}getRoleClass(t){return{manager:"role-manager",chef:"role-chef",waiter:"role-waiter",kitchen_staff:"role-kitchen-staff"}[t]||"role-default"}getRoleLabel(t){return{manager:"Manager",chef:"Chef",waiter:"Cameriere",kitchen_staff:"Staff Cucina"}[t]||t}switchToRestaurant(t){return d(this,null,function*(){this.loading=!0;try{console.log("\u{1F504} Switching to restaurant:",t.id);let a=this.authService.allStaffRecordsSubject.getValue().find(s=>s.restaurant_id===t.id);if(!a)throw new Error("Record staff non trovato");this.authService.currentStaffSubject.next(a),this.authService.currentRestaurantSubject.next(t),this.authService.setContext("staff"),yield this.authService.loadPermissions(),console.log("\u2705 Successfully switched to restaurant:",t.name),setTimeout(()=>{this.router.navigate(["/restaurant/dashboard"])},500)}catch(i){console.error("\u274C Error switching restaurant:",i),alert("Errore durante il cambio ristorante: "+i.message)}finally{this.loading=!1,this.cdRef.detectChanges()}})}onFileSelect(t){return d(this,null,function*(){let i=t.target,a=this.authService.currentUserValue;if(!i.files?.length||!a)return;let s=i.files[0],m=5*1024*1024;if(s.size>m){alert("Immagine troppo grande (max 5MB)");return}if(!s.type.startsWith("image/")){alert("Seleziona solo file immagine");return}let h=`users/${a.id}/avatar/${Date.now()}_${s.name}`;this.loading=!0;try{let{error:_}=yield this.supabaseClient.storage.from("user-avatars").upload(h,s,{upsert:!0});if(_)throw _;let{data:{publicUrl:P}}=this.supabaseClient.storage.from("user-avatars").getPublicUrl(h);this.avatarPreview=P,yield this.saveAvatarUrl(P),alert("Immagine profilo aggiornata con successo!")}catch(_){console.error("Errore upload:",_),alert("Errore durante il caricamento: "+(_.message||"Errore sconosciuto"))}finally{this.loading=!1,this.cdRef.detectChanges()}})}saveAvatarUrl(t){return d(this,null,function*(){let i=this.authService.currentUserValue;if(!i)return;let{error:a}=yield this.supabaseClient.from("users").update({avatar_url:t,updated_at:new Date().toISOString()}).eq("id",i.id);if(a)throw a})}onSubmit(){return d(this,null,function*(){if(!this.settingsForm.invalid){this.loading=!0;try{let t=this.authService.currentUserValue;if(!t)throw new Error("Utente non loggato");let i=this.settingsForm.value,a={phone:i.phone||null,address:i.address||null,province:i.province||null,preferences:{email_notifications:i.email_notifications,sms_notifications:i.sms_notifications,newsletter:i.newsletter},is_active:i.is_active,updated_at:new Date().toISOString()},{error:s}=yield this.supabaseClient.from("users").update(a).eq("id",t.id);if(s)throw s;alert("Impostazioni salvate con successo!")}catch(t){console.error("Errore salvataggio:",t),alert("Errore durante il salvataggio: "+(t.message||"Errore sconosciuto"))}finally{this.loading=!1,this.cdRef.detectChanges()}}})}resetForm(){this.loadUserProfile()}static \u0275fac=function(i){return new(i||o)(x(ee),x(G),x(L),x(ie))};static \u0275cmp=R({type:o,selectors:[["app-settings-customer"]],decls:138,vars:17,consts:[[1,"page-container"],[1,"section-header"],[1,"flex","gap-sm"],[1,"material-icons","fs-lg"],[1,"section-title"],[1,"text-muted"],[1,"flex","flex-col","gap-lg",3,"ngSubmit","formGroup"],[1,"form-card"],[1,"flex","items-center","gap-sm","mb-md"],[1,"material-icons","text-md"],[1,"text-md","font-semibold","m-0"],[1,"form-row"],[1,"form-group"],[1,"standard-label"],[1,"material-icons"],["type","text","disabled","",1,"disabled-input",3,"value"],[1,"text-muted","text-mini"],["type","email","disabled","",1,"disabled-input",3,"value"],[1,"form-row","mt-sm"],["formControlName","region",1,"standard-select",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","province",1,"standard-select",3,"change","disabled"],["class","text-warning text-mini mt-sm",4,"ngIf"],["class","text-muted text-mini mt-sm",4,"ngIf"],["type","tel","formControlName","phone","placeholder","+39 123 456 7890"],["type","text","formControlName","address","placeholder","Via Roma 123, Milano"],[1,"flex","flex-col","gap-md"],[1,"checkbox-label"],["type","checkbox","formControlName","email_notifications"],[1,"checkbox-content"],["type","checkbox","formControlName","sms_notifications"],["type","checkbox","formControlName","newsletter"],["type","checkbox","formControlName","is_active"],["class","form-card",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"flex","justify-between","items-center","gap-md","mt-lg","pt-md","border-t"],["type","button",1,"promethea-button","ghost",3,"click","disabled"],["type","submit",1,"promethea-button",3,"disabled"],["class","material-icons",4,"ngIf"],[4,"ngIf"],[3,"value"],[1,"text-warning","text-mini","mt-sm"],[1,"text-muted","text-mini","mt-sm"],[1,"grid-cards"],["class","card p-md hover-lift transition",4,"ngFor","ngForOf"],[1,"card","p-md","hover-lift","transition"],[1,"flex","gap-md","items-start"],[1,"flex-shrink-0"],[1,"rounded-full",2,"width","56px","height","56px","object-fit","cover",3,"error","src","alt"],["class","rounded-full bg-smoke flex items-center justify-center","style","width: 56px; height: 56px;",4,"ngIf"],[1,"flex-1"],[1,"card-title"],[1,"flex","gap-sm","flex-wrap","mt-sm"],[1,"chip"],["class","text-muted text-mini",4,"ngIf"],[1,"flex","flex-col","gap-sm","justify-center"],["type","button","class","promethea-button ghost x-small",3,"disabled","click",4,"ngIf"],["class","chip active",4,"ngIf"],[1,"rounded-full","bg-smoke","flex","items-center","justify-center",2,"width","56px","height","56px"],[1,"material-icons","text-mini"],["type","button",1,"promethea-button","ghost","x-small",3,"click","disabled"],[1,"chip","active"],[1,"empty-state"],[1,"text-md","font-semibold","mt-sm"]],template:function(i,a){if(i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),n(4,"person"),e(),r(5,"h1",4),n(6,"Impostazioni Account"),e()(),r(7,"p",5),n(8,"Gestisci le tue informazioni personali e preferenze"),e()(),r(9,"form",6),f("ngSubmit",function(){return a.onSubmit()}),r(10,"div",7)(11,"div",8)(12,"span",9),n(13,"badge"),e(),r(14,"h2",10),n(15,"Informazioni Account"),e()(),r(16,"div",11)(17,"div",12)(18,"label",13)(19,"span",14),n(20,"person"),e(),n(21," Nome "),e(),p(22,"input",15),r(23,"div",16),n(24,"Il nome non pu\xF2 essere modificato"),e()(),r(25,"div",12)(26,"label",13)(27,"span",14),n(28,"person"),e(),n(29," Cognome "),e(),p(30,"input",15),r(31,"div",16),n(32,"Il cognome non pu\xF2 essere modificato"),e()()(),r(33,"div",12)(34,"label",13)(35,"span",14),n(36,"email"),e(),n(37," Email "),e(),p(38,"input",17),r(39,"div",16),n(40,"L'email non pu\xF2 essere modificata"),e()()(),r(41,"div",7)(42,"div",8)(43,"span",9),n(44,"contact_phone"),e(),r(45,"h2",10),n(46,"Informazioni di Contatto"),e()(),r(47,"div",18)(48,"div",12)(49,"label",13)(50,"span",14),n(51,"public"),e(),n(52," Regione "),e(),r(53,"select",19),f("change",function(m){return a.onRegionChange(m)}),r(54,"option",20),n(55,"Seleziona Regione"),e(),u(56,re,2,2,"option",21),e()(),r(57,"div",12)(58,"label",13)(59,"span",14),n(60,"map"),e(),n(61," Provincia "),e(),r(62,"select",22),f("change",function(m){return a.onProvinceChange(m)}),r(63,"option",20),n(64,"Seleziona Provincia"),e(),u(65,ae,2,2,"option",21),e(),u(66,oe,4,0,"div",23)(67,se,4,0,"div",24),e()(),r(68,"div",11)(69,"div",12)(70,"label",13)(71,"span",14),n(72,"phone"),e(),n(73," Telefono "),e(),p(74,"input",25),r(75,"div",16),n(76,"Numero per le notifiche e prenotazioni"),e()(),r(77,"div",12)(78,"label",13)(79,"span",14),n(80,"location_on"),e(),n(81," Indirizzo "),e(),p(82,"input",26),r(83,"div",16),n(84,"Indirizzo per consegne a domicilio"),e()()()(),r(85,"div",7)(86,"div",8)(87,"span",9),n(88,"settings"),e(),r(89,"h2",10),n(90,"Preferenze"),e()(),r(91,"div",27)(92,"label",28),p(93,"input",29),r(94,"div",30)(95,"strong"),n(96,"Notifiche Email"),e(),r(97,"div",5),n(98,"Ricevi aggiornamenti e promozioni via email"),e()()(),r(99,"label",28),p(100,"input",31),r(101,"div",30)(102,"strong"),n(103,"Notifiche SMS"),e(),r(104,"div",5),n(105,"Ricevi notifiche importanti via SMS"),e()()(),r(106,"label",28),p(107,"input",32),r(108,"div",30)(109,"strong"),n(110,"Newsletter"),e(),r(111,"div",5),n(112,"Ricevi le ultime novit\xE0 e offerte speciali"),e()()()()(),r(113,"div",7)(114,"div",8)(115,"span",9),n(116,"visibility"),e(),r(117,"h2",10),n(118,"Stato Account"),e()(),r(119,"label",28),p(120,"input",33),r(121,"div",30)(122,"strong"),n(123,"Account attivo"),e(),r(124,"div",5),n(125,"Ricevi notifiche e puoi effettuare prenotazioni"),e()()()(),u(126,ge,8,1,"div",34)(127,fe,7,0,"div",35),r(128,"div",36)(129,"button",37),f("click",function(){return a.resetForm()}),r(130,"span",14),n(131,"refresh"),e(),n(132," Annulla Modifiche "),e(),r(133,"button",38),u(134,ve,2,0,"span",39)(135,he,2,0,"span",39)(136,_e,2,0,"span",40)(137,xe,2,0,"span",40),e()()()()),i&2){let s,m;l(9),c("formGroup",a.settingsForm),l(13),c("value",a.userProfile==null?null:a.userProfile.first_name),l(8),c("value",a.userProfile==null?null:a.userProfile.last_name),l(8),c("value",a.userProfile==null?null:a.userProfile.email),l(18),c("ngForOf",a.regions),l(6),c("disabled",!a.filteredProvinces.length),l(3),c("ngForOf",a.filteredProvinces),l(),c("ngIf",!a.filteredProvinces.length&&((s=a.settingsForm.get("region"))==null?null:s.value)),l(),c("ngIf",!((m=a.settingsForm.get("region"))!=null&&m.value)),l(59),c("ngIf",a.staffRestaurants.length>0),l(),c("ngIf",a.staffRestaurants.length===0),l(2),c("disabled",a.loading),l(4),c("disabled",a.loading||a.settingsForm.invalid),l(),c("ngIf",a.loading),l(),c("ngIf",!a.loading),l(),c("ngIf",a.loading),l(),c("ngIf",!a.loading)}},dependencies:[D,V,j,te,W,X,Z,q,B,Q,H,Y,J,K,A],styles:[".disabled-input[_ngcontent-%COMP%]{background-color:color-mix(in srgb,var(--background) 80%,transparent);border-color:color-mix(in srgb,var(--text-color) 20%,transparent);color:color-mix(in srgb,var(--text-color) 60%,transparent);cursor:not-allowed;opacity:.7}.field-note[_ngcontent-%COMP%]{font-size:.75rem;color:color-mix(in srgb,var(--text-color) 60%,transparent);margin-top:4px;font-style:italic}.avatar-upload-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:var(--gap-md);padding:var(--gap-md);border:2px dashed var(--smoke-1);border-radius:16px;background:color-mix(in srgb,var(--background) 95%,transparent);transition:all .3s ease}.avatar-upload-container[_ngcontent-%COMP%]:hover{border-color:var(--primary);background:color-mix(in srgb,var(--primary) 5%,transparent)}.avatar-preview[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;overflow:hidden;border:3px solid var(--primary);box-shadow:0 4px 12px color-mix(in srgb,var(--primary) 20%,transparent)}.avatar-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.avatar-placeholder[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;background:var(--gradiente);display:flex;align-items:center;justify-content:center;border:3px solid var(--smoke-1)}.avatar-placeholder[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:48px;color:#fff}.file-input[_ngcontent-%COMP%]{display:none}.upload-button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:var(--gap-sm);padding:var(--gap-sm) var(--gap-md);background:var(--primary);color:#fff;border-radius:8px;cursor:pointer;transition:all .3s ease;font-weight:600;text-decoration:none}.upload-button[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--primary) 80%,transparent);transform:translateY(-2px);box-shadow:0 4px 12px color-mix(in srgb,var(--primary) 30%,transparent)}.upload-note[_ngcontent-%COMP%]{font-size:.8rem;color:color-mix(in srgb,var(--text-color) 60%,transparent);text-align:center}@media (max-width: 768px){.avatar-preview[_ngcontent-%COMP%], .avatar-placeholder[_ngcontent-%COMP%]{width:100px;height:100px}.avatar-placeholder[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:36px}.form-actions[_ngcontent-%COMP%]{flex-direction:column}.form-actions[_ngcontent-%COMP%]   .promethea-button[_ngcontent-%COMP%]{width:100%}}.staff-restaurants-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--gap-md)}.staff-restaurant-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--gap-md);padding:var(--gap-md);border:1px solid var(--smoke-1);border-radius:16px;background:var(--background);transition:all .3s ease;position:relative}.staff-restaurant-item[_ngcontent-%COMP%]:hover{border-color:var(--primary);transform:translateY(-2px);box-shadow:0 4px 20px color-mix(in srgb,var(--primary) 15%,transparent)}.staff-restaurant-item.current-restaurant[_ngcontent-%COMP%]{border-color:var(--primary);background:color-mix(in srgb,var(--primary) 8%,transparent)}.restaurant-avatar[_ngcontent-%COMP%]{flex-shrink:0;width:60px;height:60px;border-radius:12px;overflow:hidden;border:2px solid var(--smoke-1)}.restaurant-logo[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.restaurant-avatar-fallback[_ngcontent-%COMP%]{width:100%;height:100%;background:var(--gradiente);display:flex;align-items:center;justify-content:center;color:#fff}.restaurant-avatar-fallback[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:24px}.restaurant-details[_ngcontent-%COMP%]{flex:1;min-width:0}.restaurant-name[_ngcontent-%COMP%]{margin:0 0 8px;font-weight:700;color:var(--text-color);font-size:var(--fs-sm);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.restaurant-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--gap-sm);margin-bottom:8px;flex-wrap:wrap}.restaurant-role[_ngcontent-%COMP%]{padding:4px 10px;border-radius:12px;font-size:.75rem;font-weight:600;text-transform:capitalize}.role-manager[_ngcontent-%COMP%]{background:color-mix(in srgb,var(--primary) 20%,transparent);color:var(--primary)}.role-chef[_ngcontent-%COMP%]{background:color-mix(in srgb,#f59e0b 20%,transparent);color:#f59e0b}.role-waiter[_ngcontent-%COMP%]{background:color-mix(in srgb,#10b981 20%,transparent);color:#10b981}.role-kitchen-staff[_ngcontent-%COMP%]{background:color-mix(in srgb,#8b5cf6 20%,transparent);color:#8b5cf6}.role-default[_ngcontent-%COMP%]{background:var(--smoke-1);color:var(--text-color)}.restaurant-status[_ngcontent-%COMP%]{padding:4px 8px;border-radius:8px;font-size:.7rem;font-weight:600}.restaurant-status.active[_ngcontent-%COMP%]{background:color-mix(in srgb,#10b981 20%,transparent);color:#10b981}.restaurant-status.inactive[_ngcontent-%COMP%]{background:color-mix(in srgb,#6b7280 20%,transparent);color:#6b7280}.restaurant-address[_ngcontent-%COMP%], .restaurant-cuisine[_ngcontent-%COMP%]{margin:4px 0 0;font-size:.8rem;color:var(--text-muted);display:flex;align-items:center;gap:4px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.restaurant-address[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%], .restaurant-cuisine[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:14px;opacity:.7}.restaurant-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;gap:var(--gap-sm);flex-shrink:0}.promethea-button.small[_ngcontent-%COMP%]{padding:6px 12px;font-size:.8rem;min-height:32px}.promethea-button.small[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:16px}.current-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;padding:6px 12px;background:color-mix(in srgb,var(--primary) 15%,transparent);color:var(--primary);border-radius:8px;font-size:.8rem;font-weight:600}.current-badge[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:16px}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:var(--gutter-xl);color:var(--text-muted)}.empty-state[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:48px;margin-bottom:var(--gap-md);opacity:.5}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 var(--gap-sm) 0;font-weight:600}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;line-height:1.5}@media (max-width: 768px){.staff-restaurant-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;text-align:left}.restaurant-avatar[_ngcontent-%COMP%]{align-self:flex-start}.restaurant-actions[_ngcontent-%COMP%]{align-self:stretch;align-items:stretch}.restaurant-actions[_ngcontent-%COMP%]   .promethea-button[_ngcontent-%COMP%]{width:100%;justify-content:center}.restaurant-info[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:4px}}.staff-restaurant-item.loading[_ngcontent-%COMP%]{opacity:.6;pointer-events:none}"]})};export{ne as SettingsCustomer};
