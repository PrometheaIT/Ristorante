import{a as te}from"./chunk-BHA4RY6H.js";import{a as B,b as L,d as q,e as H,i as Y,m as W,p as J,q as K,r as Q,s as X,w as Z,y as ee}from"./chunk-PZ6IGEMS.js";import{b as G}from"./chunk-F35UPSG6.js";import{b as $}from"./chunk-4GBXVLF4.js";import{e as A}from"./chunk-37GYPR4T.js";import{j as U,k as V,n as j,s as D}from"./chunk-PWZZTUE6.js";import{$a as u,Da as R,Eb as E,Ga as l,Hb as n,Ib as z,Jb as f,Ra as x,T as I,Vb as F,Wa as k,Wb as T,ba as C,f as M,fc as N,ha as y,hb as c,ia as w,ib as r,jb as i,kb as g,qb as P,tb as v,vb as p}from"./chunk-DU5L5MFQ.js";import{a as b,b as S,j as d}from"./chunk-4ZZIO3ZI.js";function ne(o,t){if(o&1&&(r(0,"option",41),n(1),i()),o&2){let e=t.$implicit;c("value",e),l(),f(" ",e," ")}}function re(o,t){if(o&1&&(r(0,"option",41),n(1),i()),o&2){let e=t.$implicit;c("value",e.code),l(),f(" ",e.name," ")}}function ae(o,t){o&1&&(r(0,"div",42)(1,"span",14),n(2,"info"),i(),n(3," Nessuna provincia disponibile per questa regione "),i())}function oe(o,t){o&1&&(r(0,"div",43)(1,"span",14),n(2,"info"),i(),n(3," Seleziona prima una regione "),i())}function se(o,t){if(o&1){let e=P();r(0,"img",60),v("error",function(){y(e);let s=p().$implicit;return w(s.logo_url=null)}),i()}if(o&2){let e=p().$implicit;c("src",e.logo_url,R)("alt",e.name)}}function le(o,t){o&1&&(r(0,"div",61)(1,"span",14),n(2,"restaurant"),i()())}function ce(o,t){if(o&1&&(r(0,"p",43)(1,"span",55),n(2,"location_on"),i(),n(3),i()),o&2){let e=p().$implicit;l(3),f(" ",e.address," ")}}function me(o,t){if(o&1&&(r(0,"p",16)(1,"span",55),n(2,"restaurant_menu"),i(),n(3),i()),o&2){let e=p().$implicit;l(3),f(" ",e.cuisine_type," ")}}function de(o,t){if(o&1){let e=P();r(0,"button",62),v("click",function(){y(e);let s=p().$implicit,m=p(2);return w(m.switchToRestaurant(s))}),r(1,"span",14),n(2,"swap_horiz"),i(),n(3),i()}if(o&2){let e=p().$implicit,a=p(2);c("disabled",a.loading),l(3),f(" ",e.is_owner?"Gestisci":"Lavora qui"," ")}}function pe(o,t){o&1&&(r(0,"div",63)(1,"span",14),n(2,"check_circle"),i(),n(3," Attuale "),i())}function ue(o,t){if(o&1&&(r(0,"div",46)(1,"div",47)(2,"div",48),u(3,se,1,2,"img",49)(4,le,3,0,"div",50),i(),r(5,"div",51)(6,"h3",52),n(7),i(),r(8,"div",53)(9,"span",54)(10,"span",55),n(11),i(),n(12),F(13,"titlecase"),i(),r(14,"span",54),n(15),i()(),u(16,ce,4,1,"p",24)(17,me,4,1,"p",56),i(),r(18,"div",57),u(19,de,4,2,"button",58)(20,pe,4,0,"div",59),i()()()),o&2){let e=t.$implicit,a=p(2);l(3),c("ngIf",e.logo_url),l(),c("ngIf",!e.logo_url),l(3),z(e.name),l(2),E("chip-owner",e.is_owner),l(2),f(" ",e.is_owner?"star":"badge"," "),l(),f(" ",e.is_owner?"Proprietario":T(13,14,e.staff_role)," "),l(2),E("active",e.is_active),l(),f(" ",e.is_active?"Attivo":"Inattivo"," "),l(),c("ngIf",e.address),l(),c("ngIf",e.cuisine_type),l(2),c("ngIf",!a.isCurrentRestaurant(e.id)),l(),c("ngIf",a.isCurrentRestaurant(e.id))}}function ge(o,t){if(o&1&&(r(0,"div",7)(1,"div",8)(2,"span",9),n(3,"business"),i(),r(4,"h2",10),n(5,"I Tuoi Ristoranti"),i()(),r(6,"div",44),u(7,ue,21,16,"div",45),i()()),o&2){let e=p();l(7),c("ngForOf",e.allRestaurants)}}function fe(o,t){o&1&&(r(0,"div",64)(1,"span",3),n(2,"business_center"),i(),r(3,"h3",65),n(4,"Nessun ristorante associato"),i(),r(5,"p",5),n(6," Non sei proprietario di nessun ristorante e non fai parte di nessuno staff. "),i()())}function ve(o,t){o&1&&(r(0,"span",14),n(1,"sync"),i())}function he(o,t){o&1&&(r(0,"span",14),n(1,"save"),i())}function _e(o,t){o&1&&(r(0,"span"),n(1,"Salvataggio..."),i())}function xe(o,t){o&1&&(r(0,"span"),n(1,"Salva Impostazioni"),i())}var ie=class o{constructor(t,e,a,s){this.fb=t;this.supabaseService=e;this.authService=a;this.geographyService=s;this.supabaseClient=this.supabaseService.getSupabaseClient()}settingsForm;loading=!1;avatarPreview;userProfile;staffRestaurants=[];ownedRestaurants=[];provinces=[];regions=[];filteredProvinces=[];selectedProvinceName="";destroy$=new M;supabaseClient;authSubscription;staffRecordsSubscription;router=C(A);cdRef=C(N);ngOnInit(){return d(this,null,function*(){this.initForm(),this.setupStaffRestaurantsSubscription(),this.loadProvinces(),yield this.loadUserProfile(),yield this.loadOwnedRestaurants()})}ngOnDestroy(){this.authSubscription&&this.authSubscription.unsubscribe(),this.staffRecordsSubscription&&this.staffRecordsSubscription.unsubscribe()}loadProvinces(){return d(this,null,function*(){return new Promise((t,e)=>{this.geographyService.getFilteredProvinces().pipe(I(this.destroy$)).subscribe({next:a=>{this.provinces=a,this.regions=[...new Set(a.map(m=>m.region))].filter(m=>m!=="Tutte").sort();let s=this.settingsForm.get("region")?.value;s&&this.filterProvincesByRegion(s),t()},error:e})})})}filterProvincesByRegion(t){this.filteredProvinces=t?this.provinces.filter(e=>e.region===t):[],t||this.settingsForm.patchValue({province:""})}initForm(){this.settingsForm=this.fb.group({phone:[""],address:[""],region:[""],province:[""],email_notifications:[!0],sms_notifications:[!0],newsletter:[!0],is_active:[!0]})}loadUserProfile(){return d(this,null,function*(){this.loading=!0;try{let t=this.authService.currentUserValue;if(!t)throw new Error("Utente non loggato");let{data:e,error:a}=yield this.supabaseClient.from("users").select("*").eq("id",t.id).single();if(a){if(a.code==="PGRST116"){yield this.createUserProfile(t.id);return}throw a}e&&(this.userProfile=e,this.avatarPreview=e.avatar_url||void 0,this.patchForm(e))}catch(t){console.error("Errore caricamento dati utente:",t),t.message?.includes("PGRST116")||alert("Errore nel caricamento dei dati: "+(t.message||"Errore sconosciuto"))}finally{this.loading=!1,this.cdRef.detectChanges()}})}createUserProfile(t){return d(this,null,function*(){let e=this.authService.currentUserValue;if(!e)return;let a={id:t,email:e.email,first_name:e.first_name||"",last_name:e.last_name||"",phone:null,address:null,avatar_url:null,preferences:{email_notifications:!0,sms_notifications:!0,newsletter:!0},is_active:!0,role:"customer",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{data:s,error:m}=yield this.supabaseClient.from("users").insert(a).select().single();if(m){console.error("Errore creazione profilo utente:",m);return}s&&(this.userProfile=s,this.patchForm(s))})}patchForm(t){let e="";if(t.province){let a=this.provinces.find(s=>s.code===t.province);a&&(e=a.region,this.filterProvincesByRegion(e))}this.settingsForm.patchValue({region:e,phone:t.phone||"",address:t.address||"",province:t.province||"",email_notifications:t.preferences?.email_notifications??!0,sms_notifications:t.preferences?.sms_notifications??!0,newsletter:t.preferences?.newsletter??!0,is_active:t.is_active})}onProvinceChange(t){let a=t.target.value,s=this.provinces.find(m=>m.code===a);this.selectedProvinceName=s?s.name:""}onRegionChange(t){let a=t.target.value;this.filterProvincesByRegion(a)}setupStaffRestaurantsSubscription(){this.staffRecordsSubscription=this.authService.allStaffRecords$.subscribe(t=>d(this,null,function*(){t&&t.length>0?yield this.loadStaffRestaurants(t):this.staffRestaurants=[]}))}loadStaffRestaurants(t){return d(this,null,function*(){this.loading=!0;try{let e=t.map(s=>d(this,null,function*(){let{data:m,error:h}=yield this.supabaseClient.from("restaurants").select("*").eq("id",s.restaurant_id).single();return h?(console.error("Error loading restaurant:",h),null):S(b({},m),{staff_role:s.role,staff_permissions:s.permissions,staff_invitation_status:s.invitation_status})})),a=yield Promise.all(e);this.staffRestaurants=a.filter(s=>s!==null)}catch(e){console.error("Error loading staff restaurants:",e),this.staffRestaurants=[]}finally{this.loading=!1,this.cdRef.detectChanges()}})}isCurrentRestaurant(t){return this.authService.getCurrentRestaurantId()===t}getRoleClass(t){return{manager:"role-manager",chef:"role-chef",waiter:"role-waiter",kitchen_staff:"role-kitchen-staff"}[t]||"role-default"}getRoleLabel(t){return{manager:"Manager",chef:"Chef",waiter:"Cameriere",kitchen_staff:"Staff Cucina"}[t]||t}switchToRestaurant(t){return d(this,null,function*(){this.loading=!0;try{if(console.log("\u{1F504} Switching to restaurant:",t.id),!(yield this.authService.switchRestaurant(t.id)))throw new Error("Impossibile cambiare ristorante");console.log("\u2705 Successfully switched to restaurant:",t.name),setTimeout(()=>{this.router.navigate(["/restaurant/dashboard"])},500)}catch(e){console.error("\u274C Error switching restaurant:",e),alert("Errore durante il cambio ristorante: "+e.message)}finally{this.loading=!1,this.cdRef.detectChanges()}})}onFileSelect(t){return d(this,null,function*(){let e=t.target,a=this.authService.currentUserValue;if(!e.files?.length||!a)return;let s=e.files[0],m=5*1024*1024;if(s.size>m){alert("Immagine troppo grande (max 5MB)");return}if(!s.type.startsWith("image/")){alert("Seleziona solo file immagine");return}let h=`users/${a.id}/avatar/${Date.now()}_${s.name}`;this.loading=!0;try{let{error:_}=yield this.supabaseClient.storage.from("user-avatars").upload(h,s,{upsert:!0});if(_)throw _;let{data:{publicUrl:O}}=this.supabaseClient.storage.from("user-avatars").getPublicUrl(h);this.avatarPreview=O,yield this.saveAvatarUrl(O),alert("Immagine profilo aggiornata con successo!")}catch(_){console.error("Errore upload:",_),alert("Errore durante il caricamento: "+(_.message||"Errore sconosciuto"))}finally{this.loading=!1,this.cdRef.detectChanges()}})}saveAvatarUrl(t){return d(this,null,function*(){let e=this.authService.currentUserValue;if(!e)return;let{error:a}=yield this.supabaseClient.from("users").update({avatar_url:t,updated_at:new Date().toISOString()}).eq("id",e.id);if(a)throw a})}onSubmit(){return d(this,null,function*(){if(!this.settingsForm.invalid){this.loading=!0;try{let t=this.authService.currentUserValue;if(!t)throw new Error("Utente non loggato");let e=this.settingsForm.value,a={phone:e.phone||null,address:e.address||null,province:e.province||null,preferences:{email_notifications:e.email_notifications,sms_notifications:e.sms_notifications,newsletter:e.newsletter},is_active:e.is_active,updated_at:new Date().toISOString()},{error:s}=yield this.supabaseClient.from("users").update(a).eq("id",t.id);if(s)throw s;alert("Impostazioni salvate con successo!")}catch(t){console.error("Errore salvataggio:",t),alert("Errore durante il salvataggio: "+(t.message||"Errore sconosciuto"))}finally{this.loading=!1,this.cdRef.detectChanges()}}})}resetForm(){this.loadUserProfile()}loadOwnedRestaurants(){return d(this,null,function*(){let t=this.authService.currentUserValue;if(t)try{let{data:e,error:a}=yield this.supabaseClient.from("restaurants").select("*").eq("owner_id",t.id);if(a){console.error("Error loading owned restaurants:",a),this.ownedRestaurants=[];return}this.ownedRestaurants=(e||[]).map(s=>S(b({},s),{staff_role:"owner",is_owner:!0})),console.log("\u2705 Owned restaurants loaded:",this.ownedRestaurants)}catch(e){console.error("Error in loadOwnedRestaurants:",e),this.ownedRestaurants=[]}})}get allRestaurants(){return[...this.ownedRestaurants,...this.staffRestaurants]}static \u0275fac=function(e){return new(e||o)(x(Z),x($),x(G),x(te))};static \u0275cmp=k({type:o,selectors:[["app-settings-customer"]],decls:138,vars:17,consts:[[1,"page-container"],[1,"section-header"],[1,"flex","gap-sm"],[1,"material-icons","fs-lg"],[1,"section-title"],[1,"text-muted"],[1,"flex","flex-col","gap-lg",3,"ngSubmit","formGroup"],[1,"form-card"],[1,"flex","items-center","gap-sm","mb-md"],[1,"material-icons","text-md"],[1,"text-md","font-semibold","m-0"],[1,"form-row"],[1,"form-group"],[1,"standard-label"],[1,"material-icons"],["type","text","disabled","",1,"disabled-input",3,"value"],[1,"text-muted","text-mini"],["type","email","disabled","",1,"disabled-input",3,"value"],[1,"form-row","mt-sm"],["formControlName","region",1,"standard-select",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","province",1,"standard-select",3,"change","disabled"],["class","text-warning text-mini mt-sm",4,"ngIf"],["class","text-muted text-mini mt-sm",4,"ngIf"],["type","tel","formControlName","phone","placeholder","+39 123 456 7890"],["type","text","formControlName","address","placeholder","Via Roma 123, Milano"],[1,"flex","flex-col","gap-md"],[1,"checkbox-label"],["type","checkbox","formControlName","email_notifications"],[1,"checkbox-content"],["type","checkbox","formControlName","sms_notifications"],["type","checkbox","formControlName","newsletter"],["type","checkbox","formControlName","is_active"],["class","form-card",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"flex","justify-between","items-center","gap-md","mt-lg","pt-md","border-t"],["type","button",1,"promethea-button","ghost",3,"click","disabled"],["type","submit",1,"promethea-button",3,"disabled"],["class","material-icons",4,"ngIf"],[4,"ngIf"],[3,"value"],[1,"text-warning","text-mini","mt-sm"],[1,"text-muted","text-mini","mt-sm"],[1,"grid-cards"],["class","card p-md hover-lift transition",4,"ngFor","ngForOf"],[1,"card","p-md","hover-lift","transition"],[1,"flex","gap-md","items-start"],[1,"flex-shrink-0"],["class","rounded-full","style","width: 56px; height: 56px; object-fit: cover;",3,"src","alt","error",4,"ngIf"],["class","rounded-full bg-smoke flex items-center justify-center","style","width: 56px; height: 56px;",4,"ngIf"],[1,"flex-1"],[1,"card-title"],[1,"flex","gap-sm","flex-wrap","mt-sm"],[1,"chip"],[1,"material-icons","text-mini"],["class","text-muted text-mini",4,"ngIf"],[1,"flex","flex-col","gap-sm","justify-center"],["type","button","class","promethea-button ghost x-small",3,"disabled","click",4,"ngIf"],["class","chip active",4,"ngIf"],[1,"rounded-full",2,"width","56px","height","56px","object-fit","cover",3,"error","src","alt"],[1,"rounded-full","bg-smoke","flex","items-center","justify-center",2,"width","56px","height","56px"],["type","button",1,"promethea-button","ghost","x-small",3,"click","disabled"],[1,"chip","active"],[1,"empty-state"],[1,"text-md","font-semibold","mt-sm"]],template:function(e,a){if(e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),n(4,"person"),i(),r(5,"h1",4),n(6,"Impostazioni Account"),i()(),r(7,"p",5),n(8,"Gestisci le tue informazioni personali e preferenze"),i()(),r(9,"form",6),v("ngSubmit",function(){return a.onSubmit()}),r(10,"div",7)(11,"div",8)(12,"span",9),n(13,"badge"),i(),r(14,"h2",10),n(15,"Informazioni Account"),i()(),r(16,"div",11)(17,"div",12)(18,"label",13)(19,"span",14),n(20,"person"),i(),n(21," Nome "),i(),g(22,"input",15),r(23,"div",16),n(24,"Il nome non pu\xF2 essere modificato"),i()(),r(25,"div",12)(26,"label",13)(27,"span",14),n(28,"person"),i(),n(29," Cognome "),i(),g(30,"input",15),r(31,"div",16),n(32,"Il cognome non pu\xF2 essere modificato"),i()()(),r(33,"div",12)(34,"label",13)(35,"span",14),n(36,"email"),i(),n(37," Email "),i(),g(38,"input",17),r(39,"div",16),n(40,"L'email non pu\xF2 essere modificata"),i()()(),r(41,"div",7)(42,"div",8)(43,"span",9),n(44,"contact_phone"),i(),r(45,"h2",10),n(46,"Informazioni di Contatto"),i()(),r(47,"div",18)(48,"div",12)(49,"label",13)(50,"span",14),n(51,"public"),i(),n(52," Regione "),i(),r(53,"select",19),v("change",function(m){return a.onRegionChange(m)}),r(54,"option",20),n(55,"Seleziona Regione"),i(),u(56,ne,2,2,"option",21),i()(),r(57,"div",12)(58,"label",13)(59,"span",14),n(60,"map"),i(),n(61," Provincia "),i(),r(62,"select",22),v("change",function(m){return a.onProvinceChange(m)}),r(63,"option",20),n(64,"Seleziona Provincia"),i(),u(65,re,2,2,"option",21),i(),u(66,ae,4,0,"div",23)(67,oe,4,0,"div",24),i()(),r(68,"div",11)(69,"div",12)(70,"label",13)(71,"span",14),n(72,"phone"),i(),n(73," Telefono "),i(),g(74,"input",25),r(75,"div",16),n(76,"Numero per le notifiche e prenotazioni"),i()(),r(77,"div",12)(78,"label",13)(79,"span",14),n(80,"location_on"),i(),n(81," Indirizzo "),i(),g(82,"input",26),r(83,"div",16),n(84,"Indirizzo per consegne a domicilio"),i()()()(),r(85,"div",7)(86,"div",8)(87,"span",9),n(88,"settings"),i(),r(89,"h2",10),n(90,"Preferenze"),i()(),r(91,"div",27)(92,"label",28),g(93,"input",29),r(94,"div",30)(95,"strong"),n(96,"Notifiche Email"),i(),r(97,"div",5),n(98,"Ricevi aggiornamenti e promozioni via email"),i()()(),r(99,"label",28),g(100,"input",31),r(101,"div",30)(102,"strong"),n(103,"Notifiche SMS"),i(),r(104,"div",5),n(105,"Ricevi notifiche importanti via SMS"),i()()(),r(106,"label",28),g(107,"input",32),r(108,"div",30)(109,"strong"),n(110,"Newsletter"),i(),r(111,"div",5),n(112,"Ricevi le ultime novit\xE0 e offerte speciali"),i()()()()(),r(113,"div",7)(114,"div",8)(115,"span",9),n(116,"visibility"),i(),r(117,"h2",10),n(118,"Stato Account"),i()(),r(119,"label",28),g(120,"input",33),r(121,"div",30)(122,"strong"),n(123,"Account attivo"),i(),r(124,"div",5),n(125,"Ricevi notifiche e puoi effettuare prenotazioni"),i()()()(),u(126,ge,8,1,"div",34)(127,fe,7,0,"div",35),r(128,"div",36)(129,"button",37),v("click",function(){return a.resetForm()}),r(130,"span",14),n(131,"refresh"),i(),n(132," Annulla Modifiche "),i(),r(133,"button",38),u(134,ve,2,0,"span",39)(135,he,2,0,"span",39)(136,_e,2,0,"span",40)(137,xe,2,0,"span",40),i()()()()),e&2){let s,m;l(9),c("formGroup",a.settingsForm),l(13),c("value",a.userProfile==null?null:a.userProfile.first_name),l(8),c("value",a.userProfile==null?null:a.userProfile.last_name),l(8),c("value",a.userProfile==null?null:a.userProfile.email),l(18),c("ngForOf",a.regions),l(6),c("disabled",!a.filteredProvinces.length),l(3),c("ngForOf",a.filteredProvinces),l(),c("ngIf",!a.filteredProvinces.length&&((s=a.settingsForm.get("region"))==null?null:s.value)),l(),c("ngIf",!((m=a.settingsForm.get("region"))!=null&&m.value)),l(59),c("ngIf",a.allRestaurants.length>0),l(),c("ngIf",a.allRestaurants.length===0),l(2),c("disabled",a.loading),l(4),c("disabled",a.loading||a.settingsForm.invalid),l(),c("ngIf",a.loading),l(),c("ngIf",!a.loading),l(),c("ngIf",a.loading),l(),c("ngIf",!a.loading)}},dependencies:[D,U,V,ee,Y,Q,X,L,B,K,q,H,W,J,j],styles:[".disabled-input[_ngcontent-%COMP%]{background-color:color-mix(in srgb,var(--background) 80%,transparent);border-color:color-mix(in srgb,var(--text-color) 20%,transparent);color:color-mix(in srgb,var(--text-color) 60%,transparent);cursor:not-allowed;opacity:.7}.field-note[_ngcontent-%COMP%]{font-size:.75rem;color:color-mix(in srgb,var(--text-color) 60%,transparent);margin-top:4px;font-style:italic}.avatar-upload-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:var(--gap-md);padding:var(--gap-md);border:2px dashed var(--smoke-1);border-radius:16px;background:color-mix(in srgb,var(--background) 95%,transparent);transition:all .3s ease}.avatar-upload-container[_ngcontent-%COMP%]:hover{border-color:var(--primary);background:color-mix(in srgb,var(--primary) 5%,transparent)}.avatar-preview[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;overflow:hidden;border:3px solid var(--primary);box-shadow:0 4px 12px color-mix(in srgb,var(--primary) 20%,transparent)}.avatar-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.avatar-placeholder[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;background:var(--gradiente);display:flex;align-items:center;justify-content:center;border:3px solid var(--smoke-1)}.avatar-placeholder[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:48px;color:#fff}.file-input[_ngcontent-%COMP%]{display:none}.upload-button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:var(--gap-sm);padding:var(--gap-sm) var(--gap-md);background:var(--primary);color:#fff;border-radius:8px;cursor:pointer;transition:all .3s ease;font-weight:600;text-decoration:none}.upload-button[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--primary) 80%,transparent);transform:translateY(-2px);box-shadow:0 4px 12px color-mix(in srgb,var(--primary) 30%,transparent)}.upload-note[_ngcontent-%COMP%]{font-size:.8rem;color:color-mix(in srgb,var(--text-color) 60%,transparent);text-align:center}@media (max-width: 768px){.avatar-preview[_ngcontent-%COMP%], .avatar-placeholder[_ngcontent-%COMP%]{width:100px;height:100px}.avatar-placeholder[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:36px}.form-actions[_ngcontent-%COMP%]{flex-direction:column}.form-actions[_ngcontent-%COMP%]   .promethea-button[_ngcontent-%COMP%]{width:100%}}.staff-restaurants-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--gap-md)}.staff-restaurant-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--gap-md);padding:var(--gap-md);border:1px solid var(--smoke-1);border-radius:16px;background:var(--background);transition:all .3s ease;position:relative}.staff-restaurant-item[_ngcontent-%COMP%]:hover{border-color:var(--primary);transform:translateY(-2px);box-shadow:0 4px 20px color-mix(in srgb,var(--primary) 15%,transparent)}.staff-restaurant-item.current-restaurant[_ngcontent-%COMP%]{border-color:var(--primary);background:color-mix(in srgb,var(--primary) 8%,transparent)}.restaurant-avatar[_ngcontent-%COMP%]{flex-shrink:0;width:60px;height:60px;border-radius:12px;overflow:hidden;border:2px solid var(--smoke-1)}.restaurant-logo[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.restaurant-avatar-fallback[_ngcontent-%COMP%]{width:100%;height:100%;background:var(--gradiente);display:flex;align-items:center;justify-content:center;color:#fff}.restaurant-avatar-fallback[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:24px}.restaurant-details[_ngcontent-%COMP%]{flex:1;min-width:0}.restaurant-name[_ngcontent-%COMP%]{margin:0 0 8px;font-weight:700;color:var(--text-color);font-size:var(--fs-sm);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.restaurant-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--gap-sm);margin-bottom:8px;flex-wrap:wrap}.restaurant-role[_ngcontent-%COMP%]{padding:4px 10px;border-radius:12px;font-size:.75rem;font-weight:600;text-transform:capitalize}.role-manager[_ngcontent-%COMP%]{background:color-mix(in srgb,var(--primary) 20%,transparent);color:var(--primary)}.role-chef[_ngcontent-%COMP%]{background:color-mix(in srgb,#f59e0b 20%,transparent);color:#f59e0b}.role-waiter[_ngcontent-%COMP%]{background:color-mix(in srgb,#10b981 20%,transparent);color:#10b981}.role-kitchen-staff[_ngcontent-%COMP%]{background:color-mix(in srgb,#8b5cf6 20%,transparent);color:#8b5cf6}.role-default[_ngcontent-%COMP%]{background:var(--smoke-1);color:var(--text-color)}.restaurant-status[_ngcontent-%COMP%]{padding:4px 8px;border-radius:8px;font-size:.7rem;font-weight:600}.restaurant-status.active[_ngcontent-%COMP%]{background:color-mix(in srgb,#10b981 20%,transparent);color:#10b981}.restaurant-status.inactive[_ngcontent-%COMP%]{background:color-mix(in srgb,#6b7280 20%,transparent);color:#6b7280}.restaurant-address[_ngcontent-%COMP%], .restaurant-cuisine[_ngcontent-%COMP%]{margin:4px 0 0;font-size:.8rem;color:var(--text-muted);display:flex;align-items:center;gap:4px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.restaurant-address[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%], .restaurant-cuisine[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:14px;opacity:.7}.restaurant-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;gap:var(--gap-sm);flex-shrink:0}.promethea-button.small[_ngcontent-%COMP%]{padding:6px 12px;font-size:.8rem;min-height:32px}.promethea-button.small[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:16px}.current-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;padding:6px 12px;background:color-mix(in srgb,var(--primary) 15%,transparent);color:var(--primary);border-radius:8px;font-size:.8rem;font-weight:600}.current-badge[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:16px}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:var(--gutter-xl);color:var(--text-muted)}.empty-state[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:48px;margin-bottom:var(--gap-md);opacity:.5}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 var(--gap-sm) 0;font-weight:600}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;line-height:1.5}@media (max-width: 768px){.staff-restaurant-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;text-align:left}.restaurant-avatar[_ngcontent-%COMP%]{align-self:flex-start}.restaurant-actions[_ngcontent-%COMP%]{align-self:stretch;align-items:stretch}.restaurant-actions[_ngcontent-%COMP%]   .promethea-button[_ngcontent-%COMP%]{width:100%;justify-content:center}.restaurant-info[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:4px}}.staff-restaurant-item.loading[_ngcontent-%COMP%]{opacity:.6;pointer-events:none}"]})};export{ie as SettingsCustomer};
