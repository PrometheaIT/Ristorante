import{a as Ks}from"./chunk-FZMDL6LW.js";import{a as Ot}from"./chunk-FK6H3RFT.js";import{a as Jh}from"./chunk-UYUBO6H2.js";import{a as vc,b as Kh}from"./chunk-JZM5GRUM.js";import{b as mc}from"./chunk-FEI4XXIJ.js";import{a as Ys}from"./chunk-RCSQXT4B.js";import{a as $h}from"./chunk-522RPWXK.js";import{a as $s}from"./chunk-MFFZLARR.js";import{a as Zs}from"./chunk-AQZTEF65.js";import{a as Gh}from"./chunk-QUTFIOET.js";import"./chunk-SVYAZSVR.js";import{qb as Zh,rb as Yh}from"./chunk-7ARAJ5DM.js";import{a as Xh}from"./chunk-FM7IHZ3K.js";import{A as Hh,a as Th,b as Bh,d as Oh,i as Rh,k as zh,m as jh,s as Uh,t as qh,u as Vh,w as Wh}from"./chunk-YO2SNT5L.js";import{b as Ih,d as Fh}from"./chunk-MEEOFM4U.js";import{e as Ph}from"./chunk-RD7WPZ3N.js";import"./chunk-JDHQCX3C.js";import{j as Ch,k as Mh,l as kh,r as Nh,s as Lh,u as Dh,v as Eh}from"./chunk-RJWLMJIA.js";import{Eb as wh,Fb as xh,Gb as Sh,Ia as yh,Ib as z,Jb as Dn,Kb as rt,La as V,Lb as fa,Ob as jt,Pb as Ut,Qb as qt,Tb as Hs,Va as bh,Vb as ri,Xb as Si,Y as Rr,Yb as Gs,_a as Xe,ca as Zt,dc as Ah,g as vh,gb as ue,ib as Ci,kb as To,la as Me,ma as ke,na as _h,qb as D,r as gc,rb as E,sb as Yt,tb as Yi,ub as Ki,vb as Jt,yb as Ie,zb as se}from"./chunk-KIAVC6JW.js";import{a as Fo,b as Ws,g as tt}from"./chunk-RA2WU32H.js";var zr=class i extends Gh{getTableName(){return"ingredient_groups"}loadData(){return tt(this,null,function*(){try{this.loadingSubject.next(!0);let{data:t,error:e}=yield this.supabaseService.getSupabaseClient().from(this.getTableName()).select("*").order("sort_order",{ascending:!0}).order("name");if(e)throw e;this.dataSubject.next(t??[])}catch(t){this.handleError("loadData",t),this.dataSubject.next([])}finally{this.loadingSubject.next(!1)}})}getCurrentRestaurantId(){return tt(this,null,function*(){return null})}drinkGroupIds=["2fe735fb-5e1f-4dd6-8ec6-5e4e4d79d03d","bb2e6dc6-2932-4c03-abb7-bd0c5877625d","8fe1a885-1755-4baf-8c66-1603d4378909"];drinkGroupNames=["Analcolici","Caff\xE8 e T\xE8","Vini e Alcolici"];ensureDrinkGroupsExist(){return tt(this,null,function*(){console.log("Gruppi bevande verificati:",this.drinkGroupNames)})}getDrinkGroupIds(){return tt(this,null,function*(){return this.drinkGroupIds})}getDrinkGroupDetails(){return tt(this,null,function*(){return[{id:"2fe735fb-5e1f-4dd6-8ec6-5e4e4d79d03d",name:"Analcolici"},{id:"bb2e6dc6-2932-4c03-abb7-bd0c5877625d",name:"Caff\xE8 e T\xE8"},{id:"8fe1a885-1755-4baf-8c66-1603d4378909",name:"Vini e Alcolici"}]})}getDrinkTypeFromGroup(t){return{"2fe735fb-5e1f-4dd6-8ec6-5e4e4d79d03d":"non_alcoholic","bb2e6dc6-2932-4c03-abb7-bd0c5877625d":"non_alcoholic","8fe1a885-1755-4baf-8c66-1603d4378909":"alcoholic"}[t]||"non_alcoholic"}getGroupName(t){return{"2fe735fb-5e1f-4dd6-8ec6-5e4e4d79d03d":"Analcolici","bb2e6dc6-2932-4c03-abb7-bd0c5877625d":"Caff\xE8 e T\xE8","8fe1a885-1755-4baf-8c66-1603d4378909":"Vini e Alcolici"}[t]||"Sconosciuto"}static \u0275fac=(()=>{let t;return function(n){return(t||(t=_h(i)))(n||i)}})();static \u0275prov=Rr({token:i,factory:i.\u0275fac,providedIn:"root"})};var za=class i{drinkIngredientsSubject=new vh([]);drinkIngredients$=this.drinkIngredientsSubject.asObservable();drinkGroupIds=[];ingredientService=Zt($s);drinkGroupService=Zt(zr);supabaseService=Zt(Ih);initialize(){return tt(this,null,function*(){yield this.drinkGroupService.ensureDrinkGroupsExist(),this.drinkGroupIds=yield this.drinkGroupService.getDrinkGroupIds(),this.ingredientService.data$.subscribe(t=>{let e=t.filter(n=>n.group_id&&this.drinkGroupIds.includes(n.group_id));this.drinkIngredientsSubject.next(e)})})}getDrinkIngredients(){return this.drinkIngredientsSubject.value}markAsDrink(t,e){return tt(this,null,function*(){try{let n=this.supabaseService.getSupabaseClient();if(!this.drinkGroupIds.includes(e))return console.error(`Gruppo di bevanda non valido: ${e}`),!1;let{error:r}=yield n.from("ingredients").update({group_id:e}).eq("id",t);return r?(console.error("Errore nell'aggiornamento dell'ingrediente:",r),!1):(yield this.ingredientService.loadData(),!0)}catch(n){return console.error("Errore nel contrassegnare come bevanda:",n),!1}})}getDrinkIngredientsByType(){let t=this.getDrinkIngredients(),e={alcoholic:[],non_alcoholic:[]};return t.forEach(n=>{this.drinkGroupService.getDrinkTypeFromGroup(n.group_id)==="alcoholic"?e.alcoholic.push(n):e.non_alcoholic.push(n)}),e}getGroupNameForIngredient(t){return this.drinkGroupService.getGroupName(t.group_id)}static \u0275fac=function(e){return new(e||i)};static \u0275prov=Rr({token:i,factory:i.\u0275fac,providedIn:"root"})};var Js=class i{dishService=Zt(Zs);categoryService=Zt(Ys);menuService=Zt(Ks);drinkIngredientService=Zt(za);drinkGroupService=Zt(zr);createBeverageFromIngredient(t,e,n){return tt(this,null,function*(){let r=this.drinkIngredientService.getDrinkIngredients().find(d=>d.id===t);if(!r)throw new Error("Ingrediente non trovato");let a=this.drinkGroupService.getGroupName(r.group_id),l="Bevande";a==="Vini e Alcolici"&&(l="Alcolici");let s=yield this.findOrCreateCategory(l),h=this.drinkGroupService.getDrinkTypeFromGroup(r.group_id),u=yield this.dishService.createDish({name:`[Bev] ${r.name}`,description:`${a} - Prodotto confezionato`,base_price:e,food_cost:r.cost_per_unit||0,category_id:s.id,status:"available",preparation_time:0,extended_data:{type:"beverage",drink_type:h,beverage_group:a,group_id:r.group_id,volume:r.volume||null}});return u&&n&&(yield this.menuService.addDishToMenu(n,u.id,s.id,0)),u})}findOrCreateCategory(t){return tt(this,null,function*(){try{let n=(yield gc(this.categoryService.data$)).find(r=>r.name===t);if(!n){let r=yield this.categoryService.createCategory({name:t,description:`Categoria per ${t.toLowerCase()}`});r?n=r:(console.warn(`Impossibile creare la categoria "${t}", creo una temporanea`),n={id:`temp-${Date.now()}`,restaurant_id:(yield gc(this.categoryService.getRestaurantId$()))||"",name:t,description:`Categoria per ${t.toLowerCase()}`,order_index:999,is_default:!1,created_at:new Date().toISOString()})}return n}catch(e){return console.error(`Errore nel trovare/creare la categoria "${t}":`,e),{id:`error-${Date.now()}`,restaurant_id:"",name:t,description:`Categoria per ${t.toLowerCase()}`,order_index:999,is_default:!1,created_at:new Date().toISOString()}}})}createAlcoholicBeverage(t,e){return tt(this,null,function*(){let n="";switch(t.type){case"vino":n="Vini";break;case"birra":n="Birre";break;case"superalcolico":n="Superalcolici";break;case"cocktail":n="Cocktail";break}let r=yield this.findOrCreateCategory(n),a=yield this.dishService.createDish({name:t.name,description:t.description||`${t.type} - ${t.grapeVariety||""} ${t.vintageYear||""}`.trim(),base_price:t.price,food_cost:t.cost,category_id:r.id,status:"available",preparation_time:t.type==="cocktail"?5:0,extended_data:{type:"alcoholic_beverage",beverage_type:t.type,volume:t.volume,alcohol_content:t.alcoholContent,vintage_year:t.vintageYear,grape_variety:t.grapeVariety}});return a&&e&&(yield this.menuService.addDishToMenu(e,a.id,r.id,0)),a})}static \u0275fac=function(e){return new(e||i)};static \u0275prov=Rr({token:i,factory:i.\u0275fac,providedIn:"root"})};var En=Uint8Array,ln=Uint16Array,xc=Int32Array,Sc=new En([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Ac=new En([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Qh=new En([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),rf=function(i,t){for(var e=new ln(31),n=0;n<31;++n)e[n]=t+=1<<i[n-1];for(var r=new xc(e[30]),n=1;n<30;++n)for(var a=e[n];a<e[n+1];++a)r[a]=a-e[n]<<5|n;return{b:e,r}},af=rf(Sc,2),P1=af.b,yc=af.r;P1[28]=258,yc[258]=28;var of=rf(Ac,0),l_=of.b,ef=of.r,bc=new ln(32768);for(Dt=0;Dt<32768;++Dt)gr=(Dt&43690)>>1|(Dt&21845)<<1,gr=(gr&52428)>>2|(gr&13107)<<2,gr=(gr&61680)>>4|(gr&3855)<<4,bc[Dt]=((gr&65280)>>8|(gr&255)<<8)>>1;var gr,Dt,Ro=function(i,t,e){for(var n=i.length,r=0,a=new ln(t);r<n;++r)i[r]&&++a[i[r]-1];var l=new ln(t);for(r=1;r<t;++r)l[r]=l[r-1]+a[r-1]<<1;var s;if(e){s=new ln(1<<t);var h=15-t;for(r=0;r<n;++r)if(i[r])for(var u=r<<4|i[r],d=t-i[r],v=l[i[r]-1]++<<d,y=v|(1<<d)-1;v<=y;++v)s[bc[v]>>h]=u}else for(s=new ln(n),r=0;r<n;++r)i[r]&&(s[r]=bc[l[i[r]-1]++]>>15-i[r]);return s},da=new En(288);for(Dt=0;Dt<144;++Dt)da[Dt]=8;var Dt;for(Dt=144;Dt<256;++Dt)da[Dt]=9;var Dt;for(Dt=256;Dt<280;++Dt)da[Dt]=7;var Dt;for(Dt=280;Dt<288;++Dt)da[Dt]=8;var Dt,Qs=new En(32);for(Dt=0;Dt<32;++Dt)Qs[Dt]=5;var Dt,I1=Ro(da,9,0);var F1=Ro(Qs,5,0);var sf=function(i){return(i+7)/8|0},T1=function(i,t,e){return(t==null||t<0)&&(t=0),(e==null||e>i.length)&&(e=i.length),new En(i.subarray(t,e))};var mr=function(i,t,e){e<<=t&7;var n=t/8|0;i[n]|=e,i[n+1]|=e>>8},Bo=function(i,t,e){e<<=t&7;var n=t/8|0;i[n]|=e,i[n+1]|=e>>8,i[n+2]|=e>>16},_c=function(i,t){for(var e=[],n=0;n<i.length;++n)i[n]&&e.push({s:n,f:i[n]});var r=e.length,a=e.slice();if(!r)return{t:cf,l:0};if(r==1){var l=new En(e[0].s+1);return l[e[0].s]=1,{t:l,l:1}}e.sort(function(le,we){return le.f-we.f}),e.push({s:-1,f:25001});var s=e[0],h=e[1],u=0,d=1,v=2;for(e[0]={s:-1,f:s.f+h.f,l:s,r:h};d!=r-1;)s=e[e[u].f<e[v].f?u++:v++],h=e[u!=d&&e[u].f<e[v].f?u++:v++],e[d++]={s:-1,f:s.f+h.f,l:s,r:h};for(var y=a[0].s,n=1;n<r;++n)a[n].s>y&&(y=a[n].s);var p=new ln(y+1),A=wc(e[d-1],p,0);if(A>t){var n=0,N=0,I=A-t,C=1<<I;for(a.sort(function(we,pe){return p[pe.s]-p[we.s]||we.f-pe.f});n<r;++n){var Z=a[n].s;if(p[Z]>t)N+=C-(1<<A-p[Z]),p[Z]=t;else break}for(N>>=I;N>0;){var W=a[n].s;p[W]<t?N-=1<<t-p[W]++-1:++n}for(;n>=0&&N;--n){var U=a[n].s;p[U]==t&&(--p[U],++N)}A=t}return{t:new En(p),l:A}},wc=function(i,t,e){return i.s==-1?Math.max(wc(i.l,t,e+1),wc(i.r,t,e+1)):t[i.s]=e},tf=function(i){for(var t=i.length;t&&!i[--t];);for(var e=new ln(++t),n=0,r=i[0],a=1,l=function(h){e[n++]=h},s=1;s<=t;++s)if(i[s]==r&&s!=t)++a;else{if(!r&&a>2){for(;a>138;a-=138)l(32754);a>2&&(l(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(l(r),--a;a>6;a-=6)l(8304);a>2&&(l(a-3<<5|8208),a=0)}for(;a--;)l(r);a=1,r=i[s]}return{c:e.subarray(0,n),n:t}},Oo=function(i,t){for(var e=0,n=0;n<t.length;++n)e+=i[n]*t[n];return e},lf=function(i,t,e){var n=e.length,r=sf(t+2);i[r]=n&255,i[r+1]=n>>8,i[r+2]=i[r]^255,i[r+3]=i[r+1]^255;for(var a=0;a<n;++a)i[r+a+4]=e[a];return(r+4+n)*8},nf=function(i,t,e,n,r,a,l,s,h,u,d){mr(t,d++,e),++r[256];for(var v=_c(r,15),y=v.t,p=v.l,A=_c(a,15),N=A.t,I=A.l,C=tf(y),Z=C.c,W=C.n,U=tf(N),le=U.c,we=U.n,pe=new ln(19),X=0;X<Z.length;++X)++pe[Z[X]&31];for(var X=0;X<le.length;++X)++pe[le[X]&31];for(var j=_c(pe,7),ie=j.t,k=j.l,F=19;F>4&&!ie[Qh[F-1]];--F);var $=u+5<<3,H=Oo(r,da)+Oo(a,Qs)+l,ce=Oo(r,y)+Oo(a,N)+l+14+3*F+Oo(pe,ie)+2*pe[16]+3*pe[17]+7*pe[18];if(h>=0&&$<=H&&$<=ce)return lf(t,d,i.subarray(h,h+u));var de,me,oe,_e;if(mr(t,d,1+(ce<H)),d+=2,ce<H){de=Ro(y,p,0),me=y,oe=Ro(N,I,0),_e=N;var Ee=Ro(ie,k,0);mr(t,d,W-257),mr(t,d+5,we-1),mr(t,d+10,F-4),d+=14;for(var X=0;X<F;++X)mr(t,d+3*X,ie[Qh[X]]);d+=3*F;for(var Ce=[Z,le],S=0;S<2;++S)for(var R=Ce[S],X=0;X<R.length;++X){var q=R[X]&31;mr(t,d,Ee[q]),d+=ie[q],q>15&&(mr(t,d,R[X]>>5&127),d+=R[X]>>12)}}else de=I1,me=da,oe=F1,_e=Qs;for(var X=0;X<s;++X){var Y=n[X];if(Y>255){var q=Y>>18&31;Bo(t,d,de[q+257]),d+=me[q+257],q>7&&(mr(t,d,Y>>23&31),d+=Sc[q]);var Q=Y&31;Bo(t,d,oe[Q]),d+=_e[Q],Q>3&&(Bo(t,d,Y>>5&8191),d+=Ac[Q])}else Bo(t,d,de[Y]),d+=me[Y]}return Bo(t,d,de[256]),d+me[256]},B1=new xc([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),cf=new En(0),O1=function(i,t,e,n,r,a){var l=a.z||i.length,s=new En(n+l+5*(1+Math.ceil(l/7e3))+r),h=s.subarray(n,s.length-r),u=a.l,d=(a.r||0)&7;if(t){d&&(h[0]=a.r>>3);for(var v=B1[t-1],y=v>>13,p=v&8191,A=(1<<e)-1,N=a.p||new ln(32768),I=a.h||new ln(A+1),C=Math.ceil(e/3),Z=2*C,W=function(Ze){return(i[Ze]^i[Ze+1]<<C^i[Ze+2]<<Z)&A},U=new xc(25e3),le=new ln(288),we=new ln(32),pe=0,X=0,j=a.i||0,ie=0,k=a.w||0,F=0;j+2<l;++j){var $=W(j),H=j&32767,ce=I[$];if(N[H]=ce,I[$]=H,k<=j){var de=l-j;if((pe>7e3||ie>24576)&&(de>423||!u)){d=nf(i,h,0,U,le,we,X,ie,F,j-F,d),ie=pe=X=0,F=j;for(var me=0;me<286;++me)le[me]=0;for(var me=0;me<30;++me)we[me]=0}var oe=2,_e=0,Ee=p,Ce=H-ce&32767;if(de>2&&$==W(j-Ce))for(var S=Math.min(y,de)-1,R=Math.min(32767,j),q=Math.min(258,de);Ce<=R&&--Ee&&H!=ce;){if(i[j+oe]==i[j+oe-Ce]){for(var Y=0;Y<q&&i[j+Y]==i[j+Y-Ce];++Y);if(Y>oe){if(oe=Y,_e=Ce,Y>S)break;for(var Q=Math.min(Ce,Y-2),ne=0,me=0;me<Q;++me){var he=j-Ce+me&32767,fe=N[he],xe=he-fe&32767;xe>ne&&(ne=xe,ce=he)}}}H=ce,ce=N[H],Ce+=H-ce&32767}if(_e){U[ie++]=268435456|yc[oe]<<18|ef[_e];var De=yc[oe]&31,Be=ef[_e]&31;X+=Sc[De]+Ac[Be],++le[257+De],++we[Be],k=j+oe,++pe}else U[ie++]=i[j],++le[i[j]]}}for(j=Math.max(j,k);j<l;++j)U[ie++]=i[j],++le[i[j]];d=nf(i,h,u,U,le,we,X,ie,F,j-F,d),u||(a.r=d&7|h[d/8|0]<<3,d-=7,a.h=I,a.p=N,a.i=j,a.w=k)}else{for(var j=a.w||0;j<l+u;j+=65535){var Te=j+65535;Te>=l&&(h[d/8|0]=u,Te=l),d=lf(h,d+1,i.subarray(j,Te))}a.i=l}return T1(s,0,n+sf(d)+r)};var uf=function(){var i=1,t=0;return{p:function(e){for(var n=i,r=t,a=e.length|0,l=0;l!=a;){for(var s=Math.min(l+2655,a);l<s;++l)r+=n+=e[l];n=(n&65535)+15*(n>>16),r=(r&65535)+15*(r>>16)}i=n,t=r},d:function(){return i%=65521,t%=65521,(i&255)<<24|(i&65280)<<8|(t&255)<<8|t>>8}}},R1=function(i,t,e,n,r){if(!r&&(r={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),l=new En(a.length+i.length);l.set(a),l.set(i,a.length),i=l,r.w=a.length}return O1(i,t.level==null?6:t.level,t.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(i.length)))*1.5):20:12+t.mem,e,n,r)};var hf=function(i,t,e){for(;e;++t)i[t]=e,e>>>=8};var z1=function(i,t){var e=t.level,n=e==0?0:e<6?1:e==9?3:2;if(i[0]=120,i[1]=n<<6|(t.dictionary&&32),i[1]|=31-(i[0]<<8|i[1])%31,t.dictionary){var r=uf();r.p(t.dictionary),hf(i,2,r.d())}};function el(i,t){t||(t={});var e=uf();e.p(i);var n=R1(i,t,t.dictionary?6:2,4);return z1(n,t),hf(n,n.length-4,e.d()),n}var j1=typeof TextDecoder<"u"&&new TextDecoder,U1=0;try{j1.decode(cf,{stream:!0}),U1=1}catch{}function ff(i){if(Array.isArray(i))return i}function df(i,t){var e=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(e!=null){var n,r,a,l,s=[],h=!0,u=!1;try{if(a=(e=e.call(i)).next,t===0){if(Object(e)!==e)return;h=!1}else for(;!(h=(n=a.call(e)).done)&&(s.push(n.value),s.length!==t);h=!0);}catch(d){u=!0,r=d}finally{try{if(!h&&e.return!=null&&(l=e.return(),Object(l)!==l))return}finally{if(u)throw r}}return s}}function Cc(i,t){(t==null||t>i.length)&&(t=i.length);for(var e=0,n=Array(t);e<t;e++)n[e]=i[e];return n}function pf(i,t){if(i){if(typeof i=="string")return Cc(i,t);var e={}.toString.call(i).slice(8,-1);return e==="Object"&&i.constructor&&(e=i.constructor.name),e==="Map"||e==="Set"?Array.from(i):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?Cc(i,t):void 0}}function gf(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mc(i,t){return ff(i)||df(i,t)||pf(i,t)||gf()}function kc(i,t="utf8"){return new TextDecoder(t).decode(i)}var q1=new TextEncoder;function mf(i){return q1.encode(i)}var V1=1024*8,W1=(()=>{let i=new Uint8Array(4),t=new Uint32Array(i.buffer);return!((t[0]=1)&i[0])})(),Nc={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array},zo=class i{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=V1,e={}){let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);let r=e.offset?e.offset>>>0:0,a=t.byteLength-r,l=r;(ArrayBuffer.isView(t)||t instanceof i)&&(t.byteLength!==t.buffer.byteLength&&(l=t.byteOffset+r),t=t.buffer),n?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=t,this.length=a,this.byteLength=a,this.byteOffset=l,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,l,a),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){let t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){let n=(this.offset+t)*2,r=new Uint8Array(n);r.set(new Uint8Array(this.buffer)),this.buffer=r.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,e){let n=Nc[e].BYTES_PER_ELEMENT*t,r=this.byteOffset+this.offset,a=this.buffer.slice(r,r+n);if(this.littleEndian===W1&&e!=="uint8"&&e!=="int8"){let s=new Uint8Array(this.buffer.slice(r,r+n));s.reverse();let h=new Nc[e](s.buffer);return this.offset+=n,h.reverse(),h}let l=new Nc[e](a);return this.offset+=n,l}readInt16(){let t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){let t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){let t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){let t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){let t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){let t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){let t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){let t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let e="";for(let n=0;n<t;n++)e+=this.readChar();return e}readUtf8(t=1){return kc(this.readBytes(t))}decodeText(t=1,e="utf8"){return kc(this.readBytes(t),e)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let e=0;e<t.length;e++)this._data.setUint8(this.offset++,t[e]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let e=0;e<t.length;e++)this.writeUint8(t.charCodeAt(e));return this}writeUtf8(t){return this.writeBytes(mf(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}};function Ha(i){let t=i.length;for(;--t>=0;)i[t]=0}var H1=0,td=1,G1=2,$1=3,Z1=258,Jc=29,es=256,Go=es+1+Jc,qa=30,Qc=19,id=2*Go+1,pa=15,Lc=16,Y1=7,eu=256,nd=16,rd=17,ad=18,Vc=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),ol=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),K1=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),od=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),X1=512,_r=new Array((Go+2)*2);Ha(_r);var Vo=new Array(qa*2);Ha(Vo);var $o=new Array(X1);Ha($o);var Zo=new Array(Z1-$1+1);Ha(Zo);var tu=new Array(Jc);Ha(tu);var sl=new Array(qa);Ha(sl);function Dc(i,t,e,n,r){this.static_tree=i,this.extra_bits=t,this.extra_base=e,this.elems=n,this.max_length=r,this.has_stree=i&&i.length}var sd,ld,cd;function Ec(i,t){this.dyn_tree=i,this.max_code=0,this.stat_desc=t}var ud=i=>i<256?$o[i]:$o[256+(i>>>7)],Yo=(i,t)=>{i.pending_buf[i.pending++]=t&255,i.pending_buf[i.pending++]=t>>>8&255},Xi=(i,t,e)=>{i.bi_valid>Lc-e?(i.bi_buf|=t<<i.bi_valid&65535,Yo(i,i.bi_buf),i.bi_buf=t>>Lc-i.bi_valid,i.bi_valid+=e-Lc):(i.bi_buf|=t<<i.bi_valid&65535,i.bi_valid+=e)},Hn=(i,t,e)=>{Xi(i,e[t*2],e[t*2+1])},hd=(i,t)=>{let e=0;do e|=i&1,i>>>=1,e<<=1;while(--t>0);return e>>>1},J1=i=>{i.bi_valid===16?(Yo(i,i.bi_buf),i.bi_buf=0,i.bi_valid=0):i.bi_valid>=8&&(i.pending_buf[i.pending++]=i.bi_buf&255,i.bi_buf>>=8,i.bi_valid-=8)},Q1=(i,t)=>{let e=t.dyn_tree,n=t.max_code,r=t.stat_desc.static_tree,a=t.stat_desc.has_stree,l=t.stat_desc.extra_bits,s=t.stat_desc.extra_base,h=t.stat_desc.max_length,u,d,v,y,p,A,N=0;for(y=0;y<=pa;y++)i.bl_count[y]=0;for(e[i.heap[i.heap_max]*2+1]=0,u=i.heap_max+1;u<id;u++)d=i.heap[u],y=e[e[d*2+1]*2+1]+1,y>h&&(y=h,N++),e[d*2+1]=y,!(d>n)&&(i.bl_count[y]++,p=0,d>=s&&(p=l[d-s]),A=e[d*2],i.opt_len+=A*(y+p),a&&(i.static_len+=A*(r[d*2+1]+p)));if(N!==0){do{for(y=h-1;i.bl_count[y]===0;)y--;i.bl_count[y]--,i.bl_count[y+1]+=2,i.bl_count[h]--,N-=2}while(N>0);for(y=h;y!==0;y--)for(d=i.bl_count[y];d!==0;)v=i.heap[--u],!(v>n)&&(e[v*2+1]!==y&&(i.opt_len+=(y-e[v*2+1])*e[v*2],e[v*2+1]=y),d--)}},fd=(i,t,e)=>{let n=new Array(pa+1),r=0,a,l;for(a=1;a<=pa;a++)r=r+e[a-1]<<1,n[a]=r;for(l=0;l<=t;l++){let s=i[l*2+1];s!==0&&(i[l*2]=hd(n[s]++,s))}},ep=()=>{let i,t,e,n,r,a=new Array(pa+1);for(e=0,n=0;n<Jc-1;n++)for(tu[n]=e,i=0;i<1<<Vc[n];i++)Zo[e++]=n;for(Zo[e-1]=n,r=0,n=0;n<16;n++)for(sl[n]=r,i=0;i<1<<ol[n];i++)$o[r++]=n;for(r>>=7;n<qa;n++)for(sl[n]=r<<7,i=0;i<1<<ol[n]-7;i++)$o[256+r++]=n;for(t=0;t<=pa;t++)a[t]=0;for(i=0;i<=143;)_r[i*2+1]=8,i++,a[8]++;for(;i<=255;)_r[i*2+1]=9,i++,a[9]++;for(;i<=279;)_r[i*2+1]=7,i++,a[7]++;for(;i<=287;)_r[i*2+1]=8,i++,a[8]++;for(fd(_r,Go+1,a),i=0;i<qa;i++)Vo[i*2+1]=5,Vo[i*2]=hd(i,5);sd=new Dc(_r,Vc,es+1,Go,pa),ld=new Dc(Vo,ol,0,qa,pa),cd=new Dc(new Array(0),K1,0,Qc,Y1)},dd=i=>{let t;for(t=0;t<Go;t++)i.dyn_ltree[t*2]=0;for(t=0;t<qa;t++)i.dyn_dtree[t*2]=0;for(t=0;t<Qc;t++)i.bl_tree[t*2]=0;i.dyn_ltree[eu*2]=1,i.opt_len=i.static_len=0,i.sym_next=i.matches=0},pd=i=>{i.bi_valid>8?Yo(i,i.bi_buf):i.bi_valid>0&&(i.pending_buf[i.pending++]=i.bi_buf),i.bi_buf=0,i.bi_valid=0},vf=(i,t,e,n)=>{let r=t*2,a=e*2;return i[r]<i[a]||i[r]===i[a]&&n[t]<=n[e]},Pc=(i,t,e)=>{let n=i.heap[e],r=e<<1;for(;r<=i.heap_len&&(r<i.heap_len&&vf(t,i.heap[r+1],i.heap[r],i.depth)&&r++,!vf(t,n,i.heap[r],i.depth));)i.heap[e]=i.heap[r],e=r,r<<=1;i.heap[e]=n},_f=(i,t,e)=>{let n,r,a=0,l,s;if(i.sym_next!==0)do n=i.pending_buf[i.sym_buf+a++]&255,n+=(i.pending_buf[i.sym_buf+a++]&255)<<8,r=i.pending_buf[i.sym_buf+a++],n===0?Hn(i,r,t):(l=Zo[r],Hn(i,l+es+1,t),s=Vc[l],s!==0&&(r-=tu[l],Xi(i,r,s)),n--,l=ud(n),Hn(i,l,e),s=ol[l],s!==0&&(n-=sl[l],Xi(i,n,s)));while(a<i.sym_next);Hn(i,eu,t)},Wc=(i,t)=>{let e=t.dyn_tree,n=t.stat_desc.static_tree,r=t.stat_desc.has_stree,a=t.stat_desc.elems,l,s,h=-1,u;for(i.heap_len=0,i.heap_max=id,l=0;l<a;l++)e[l*2]!==0?(i.heap[++i.heap_len]=h=l,i.depth[l]=0):e[l*2+1]=0;for(;i.heap_len<2;)u=i.heap[++i.heap_len]=h<2?++h:0,e[u*2]=1,i.depth[u]=0,i.opt_len--,r&&(i.static_len-=n[u*2+1]);for(t.max_code=h,l=i.heap_len>>1;l>=1;l--)Pc(i,e,l);u=a;do l=i.heap[1],i.heap[1]=i.heap[i.heap_len--],Pc(i,e,1),s=i.heap[1],i.heap[--i.heap_max]=l,i.heap[--i.heap_max]=s,e[u*2]=e[l*2]+e[s*2],i.depth[u]=(i.depth[l]>=i.depth[s]?i.depth[l]:i.depth[s])+1,e[l*2+1]=e[s*2+1]=u,i.heap[1]=u++,Pc(i,e,1);while(i.heap_len>=2);i.heap[--i.heap_max]=i.heap[1],Q1(i,t),fd(e,h,i.bl_count)},yf=(i,t,e)=>{let n,r=-1,a,l=t[0*2+1],s=0,h=7,u=4;for(l===0&&(h=138,u=3),t[(e+1)*2+1]=65535,n=0;n<=e;n++)a=l,l=t[(n+1)*2+1],!(++s<h&&a===l)&&(s<u?i.bl_tree[a*2]+=s:a!==0?(a!==r&&i.bl_tree[a*2]++,i.bl_tree[nd*2]++):s<=10?i.bl_tree[rd*2]++:i.bl_tree[ad*2]++,s=0,r=a,l===0?(h=138,u=3):a===l?(h=6,u=3):(h=7,u=4))},bf=(i,t,e)=>{let n,r=-1,a,l=t[0*2+1],s=0,h=7,u=4;for(l===0&&(h=138,u=3),n=0;n<=e;n++)if(a=l,l=t[(n+1)*2+1],!(++s<h&&a===l)){if(s<u)do Hn(i,a,i.bl_tree);while(--s!==0);else a!==0?(a!==r&&(Hn(i,a,i.bl_tree),s--),Hn(i,nd,i.bl_tree),Xi(i,s-3,2)):s<=10?(Hn(i,rd,i.bl_tree),Xi(i,s-3,3)):(Hn(i,ad,i.bl_tree),Xi(i,s-11,7));s=0,r=a,l===0?(h=138,u=3):a===l?(h=6,u=3):(h=7,u=4)}},tp=i=>{let t;for(yf(i,i.dyn_ltree,i.l_desc.max_code),yf(i,i.dyn_dtree,i.d_desc.max_code),Wc(i,i.bl_desc),t=Qc-1;t>=3&&i.bl_tree[od[t]*2+1]===0;t--);return i.opt_len+=3*(t+1)+5+5+4,t},ip=(i,t,e,n)=>{let r;for(Xi(i,t-257,5),Xi(i,e-1,5),Xi(i,n-4,4),r=0;r<n;r++)Xi(i,i.bl_tree[od[r]*2+1],3);bf(i,i.dyn_ltree,t-1),bf(i,i.dyn_dtree,e-1)},np=i=>{let t=4093624447,e;for(e=0;e<=31;e++,t>>>=1)if(t&1&&i.dyn_ltree[e*2]!==0)return 0;if(i.dyn_ltree[9*2]!==0||i.dyn_ltree[10*2]!==0||i.dyn_ltree[13*2]!==0)return 1;for(e=32;e<es;e++)if(i.dyn_ltree[e*2]!==0)return 1;return 0},wf=!1,rp=i=>{wf||(ep(),wf=!0),i.l_desc=new Ec(i.dyn_ltree,sd),i.d_desc=new Ec(i.dyn_dtree,ld),i.bl_desc=new Ec(i.bl_tree,cd),i.bi_buf=0,i.bi_valid=0,dd(i)},gd=(i,t,e,n)=>{Xi(i,(H1<<1)+(n?1:0),3),pd(i),Yo(i,e),Yo(i,~e),e&&i.pending_buf.set(i.window.subarray(t,t+e),i.pending),i.pending+=e},ap=i=>{Xi(i,td<<1,3),Hn(i,eu,_r),J1(i)},op=(i,t,e,n)=>{let r,a,l=0;i.level>0?(i.strm.data_type===2&&(i.strm.data_type=np(i)),Wc(i,i.l_desc),Wc(i,i.d_desc),l=tp(i),r=i.opt_len+3+7>>>3,a=i.static_len+3+7>>>3,a<=r&&(r=a)):r=a=e+5,e+4<=r&&t!==-1?gd(i,t,e,n):i.strategy===4||a===r?(Xi(i,(td<<1)+(n?1:0),3),_f(i,_r,Vo)):(Xi(i,(G1<<1)+(n?1:0),3),ip(i,i.l_desc.max_code+1,i.d_desc.max_code+1,l+1),_f(i,i.dyn_ltree,i.dyn_dtree)),dd(i),n&&pd(i)},sp=(i,t,e)=>(i.pending_buf[i.sym_buf+i.sym_next++]=t,i.pending_buf[i.sym_buf+i.sym_next++]=t>>8,i.pending_buf[i.sym_buf+i.sym_next++]=e,t===0?i.dyn_ltree[e*2]++:(i.matches++,t--,i.dyn_ltree[(Zo[e]+es+1)*2]++,i.dyn_dtree[ud(t)*2]++),i.sym_next===i.sym_end),lp=rp,cp=gd,up=op,hp=sp,fp=ap,dp={_tr_init:lp,_tr_stored_block:cp,_tr_flush_block:up,_tr_tally:hp,_tr_align:fp},pp=(i,t,e,n)=>{let r=i&65535|0,a=i>>>16&65535|0,l=0;for(;e!==0;){l=e>2e3?2e3:e,e-=l;do r=r+t[n++]|0,a=a+r|0;while(--l);r%=65521,a%=65521}return r|a<<16|0},Ko=pp,gp=()=>{let i,t=[];for(var e=0;e<256;e++){i=e;for(var n=0;n<8;n++)i=i&1?3988292384^i>>>1:i>>>1;t[e]=i}return t},mp=new Uint32Array(gp()),vp=(i,t,e,n)=>{let r=mp,a=n+e;i^=-1;for(let l=n;l<a;l++)i=i>>>8^r[(i^t[l])&255];return i^-1},Mi=vp,va={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Ga={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:_p,_tr_stored_block:Hc,_tr_flush_block:yp,_tr_tally:qr,_tr_align:bp}=dp,{Z_NO_FLUSH:Vr,Z_PARTIAL_FLUSH:wp,Z_FULL_FLUSH:xp,Z_FINISH:bn,Z_BLOCK:xf,Z_OK:Fi,Z_STREAM_END:Sf,Z_STREAM_ERROR:Gn,Z_DATA_ERROR:Sp,Z_BUF_ERROR:Ic,Z_DEFAULT_COMPRESSION:Ap,Z_FILTERED:Cp,Z_HUFFMAN_ONLY:tl,Z_RLE:Mp,Z_FIXED:kp,Z_DEFAULT_STRATEGY:Np,Z_UNKNOWN:Lp,Z_DEFLATED:ul}=Ga,Dp=9,Ep=15,Pp=8,Ip=29,Fp=256,Gc=Fp+1+Ip,Tp=30,Bp=19,Op=2*Gc+1,Rp=15,Ct=3,Ur=258,$n=Ur+Ct+1,zp=32,Va=42,iu=57,$c=69,Zc=73,Yc=91,Kc=103,ga=113,Uo=666,Hi=1,$a=2,_a=3,Za=4,jp=3,ma=(i,t)=>(i.msg=va[t],t),Af=i=>i*2-(i>4?9:0),jr=i=>{let t=i.length;for(;--t>=0;)i[t]=0},Up=i=>{let t,e,n,r=i.w_size;t=i.hash_size,n=t;do e=i.head[--n],i.head[n]=e>=r?e-r:0;while(--t);t=r,n=t;do e=i.prev[--n],i.prev[n]=e>=r?e-r:0;while(--t)},qp=(i,t,e)=>(t<<i.hash_shift^e)&i.hash_mask,Wr=qp,cn=i=>{let t=i.state,e=t.pending;e>i.avail_out&&(e=i.avail_out),e!==0&&(i.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+e),i.next_out),i.next_out+=e,t.pending_out+=e,i.total_out+=e,i.avail_out-=e,t.pending-=e,t.pending===0&&(t.pending_out=0))},un=(i,t)=>{yp(i,i.block_start>=0?i.block_start:-1,i.strstart-i.block_start,t),i.block_start=i.strstart,cn(i.strm)},Et=(i,t)=>{i.pending_buf[i.pending++]=t},jo=(i,t)=>{i.pending_buf[i.pending++]=t>>>8&255,i.pending_buf[i.pending++]=t&255},Xc=(i,t,e,n)=>{let r=i.avail_in;return r>n&&(r=n),r===0?0:(i.avail_in-=r,t.set(i.input.subarray(i.next_in,i.next_in+r),e),i.state.wrap===1?i.adler=Ko(i.adler,t,r,e):i.state.wrap===2&&(i.adler=Mi(i.adler,t,r,e)),i.next_in+=r,i.total_in+=r,r)},md=(i,t)=>{let e=i.max_chain_length,n=i.strstart,r,a,l=i.prev_length,s=i.nice_match,h=i.strstart>i.w_size-$n?i.strstart-(i.w_size-$n):0,u=i.window,d=i.w_mask,v=i.prev,y=i.strstart+Ur,p=u[n+l-1],A=u[n+l];i.prev_length>=i.good_match&&(e>>=2),s>i.lookahead&&(s=i.lookahead);do if(r=t,!(u[r+l]!==A||u[r+l-1]!==p||u[r]!==u[n]||u[++r]!==u[n+1])){n+=2,r++;do;while(u[++n]===u[++r]&&u[++n]===u[++r]&&u[++n]===u[++r]&&u[++n]===u[++r]&&u[++n]===u[++r]&&u[++n]===u[++r]&&u[++n]===u[++r]&&u[++n]===u[++r]&&n<y);if(a=Ur-(y-n),n=y-Ur,a>l){if(i.match_start=t,l=a,a>=s)break;p=u[n+l-1],A=u[n+l]}}while((t=v[t&d])>h&&--e!==0);return l<=i.lookahead?l:i.lookahead},Wa=i=>{let t=i.w_size,e,n,r;do{if(n=i.window_size-i.lookahead-i.strstart,i.strstart>=t+(t-$n)&&(i.window.set(i.window.subarray(t,t+t-n),0),i.match_start-=t,i.strstart-=t,i.block_start-=t,i.insert>i.strstart&&(i.insert=i.strstart),Up(i),n+=t),i.strm.avail_in===0)break;if(e=Xc(i.strm,i.window,i.strstart+i.lookahead,n),i.lookahead+=e,i.lookahead+i.insert>=Ct)for(r=i.strstart-i.insert,i.ins_h=i.window[r],i.ins_h=Wr(i,i.ins_h,i.window[r+1]);i.insert&&(i.ins_h=Wr(i,i.ins_h,i.window[r+Ct-1]),i.prev[r&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=r,r++,i.insert--,!(i.lookahead+i.insert<Ct)););}while(i.lookahead<$n&&i.strm.avail_in!==0)},vd=(i,t)=>{let e=i.pending_buf_size-5>i.w_size?i.w_size:i.pending_buf_size-5,n,r,a,l=0,s=i.strm.avail_in;do{if(n=65535,a=i.bi_valid+42>>3,i.strm.avail_out<a||(a=i.strm.avail_out-a,r=i.strstart-i.block_start,n>r+i.strm.avail_in&&(n=r+i.strm.avail_in),n>a&&(n=a),n<e&&(n===0&&t!==bn||t===Vr||n!==r+i.strm.avail_in)))break;l=t===bn&&n===r+i.strm.avail_in?1:0,Hc(i,0,0,l),i.pending_buf[i.pending-4]=n,i.pending_buf[i.pending-3]=n>>8,i.pending_buf[i.pending-2]=~n,i.pending_buf[i.pending-1]=~n>>8,cn(i.strm),r&&(r>n&&(r=n),i.strm.output.set(i.window.subarray(i.block_start,i.block_start+r),i.strm.next_out),i.strm.next_out+=r,i.strm.avail_out-=r,i.strm.total_out+=r,i.block_start+=r,n-=r),n&&(Xc(i.strm,i.strm.output,i.strm.next_out,n),i.strm.next_out+=n,i.strm.avail_out-=n,i.strm.total_out+=n)}while(l===0);return s-=i.strm.avail_in,s&&(s>=i.w_size?(i.matches=2,i.window.set(i.strm.input.subarray(i.strm.next_in-i.w_size,i.strm.next_in),0),i.strstart=i.w_size,i.insert=i.strstart):(i.window_size-i.strstart<=s&&(i.strstart-=i.w_size,i.window.set(i.window.subarray(i.w_size,i.w_size+i.strstart),0),i.matches<2&&i.matches++,i.insert>i.strstart&&(i.insert=i.strstart)),i.window.set(i.strm.input.subarray(i.strm.next_in-s,i.strm.next_in),i.strstart),i.strstart+=s,i.insert+=s>i.w_size-i.insert?i.w_size-i.insert:s),i.block_start=i.strstart),i.high_water<i.strstart&&(i.high_water=i.strstart),l?Za:t!==Vr&&t!==bn&&i.strm.avail_in===0&&i.strstart===i.block_start?$a:(a=i.window_size-i.strstart,i.strm.avail_in>a&&i.block_start>=i.w_size&&(i.block_start-=i.w_size,i.strstart-=i.w_size,i.window.set(i.window.subarray(i.w_size,i.w_size+i.strstart),0),i.matches<2&&i.matches++,a+=i.w_size,i.insert>i.strstart&&(i.insert=i.strstart)),a>i.strm.avail_in&&(a=i.strm.avail_in),a&&(Xc(i.strm,i.window,i.strstart,a),i.strstart+=a,i.insert+=a>i.w_size-i.insert?i.w_size-i.insert:a),i.high_water<i.strstart&&(i.high_water=i.strstart),a=i.bi_valid+42>>3,a=i.pending_buf_size-a>65535?65535:i.pending_buf_size-a,e=a>i.w_size?i.w_size:a,r=i.strstart-i.block_start,(r>=e||(r||t===bn)&&t!==Vr&&i.strm.avail_in===0&&r<=a)&&(n=r>a?a:r,l=t===bn&&i.strm.avail_in===0&&n===r?1:0,Hc(i,i.block_start,n,l),i.block_start+=n,cn(i.strm)),l?_a:Hi)},Fc=(i,t)=>{let e,n;for(;;){if(i.lookahead<$n){if(Wa(i),i.lookahead<$n&&t===Vr)return Hi;if(i.lookahead===0)break}if(e=0,i.lookahead>=Ct&&(i.ins_h=Wr(i,i.ins_h,i.window[i.strstart+Ct-1]),e=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),e!==0&&i.strstart-e<=i.w_size-$n&&(i.match_length=md(i,e)),i.match_length>=Ct)if(n=qr(i,i.strstart-i.match_start,i.match_length-Ct),i.lookahead-=i.match_length,i.match_length<=i.max_lazy_match&&i.lookahead>=Ct){i.match_length--;do i.strstart++,i.ins_h=Wr(i,i.ins_h,i.window[i.strstart+Ct-1]),e=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart;while(--i.match_length!==0);i.strstart++}else i.strstart+=i.match_length,i.match_length=0,i.ins_h=i.window[i.strstart],i.ins_h=Wr(i,i.ins_h,i.window[i.strstart+1]);else n=qr(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++;if(n&&(un(i,!1),i.strm.avail_out===0))return Hi}return i.insert=i.strstart<Ct-1?i.strstart:Ct-1,t===bn?(un(i,!0),i.strm.avail_out===0?_a:Za):i.sym_next&&(un(i,!1),i.strm.avail_out===0)?Hi:$a},ja=(i,t)=>{let e,n,r;for(;;){if(i.lookahead<$n){if(Wa(i),i.lookahead<$n&&t===Vr)return Hi;if(i.lookahead===0)break}if(e=0,i.lookahead>=Ct&&(i.ins_h=Wr(i,i.ins_h,i.window[i.strstart+Ct-1]),e=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),i.prev_length=i.match_length,i.prev_match=i.match_start,i.match_length=Ct-1,e!==0&&i.prev_length<i.max_lazy_match&&i.strstart-e<=i.w_size-$n&&(i.match_length=md(i,e),i.match_length<=5&&(i.strategy===Cp||i.match_length===Ct&&i.strstart-i.match_start>4096)&&(i.match_length=Ct-1)),i.prev_length>=Ct&&i.match_length<=i.prev_length){r=i.strstart+i.lookahead-Ct,n=qr(i,i.strstart-1-i.prev_match,i.prev_length-Ct),i.lookahead-=i.prev_length-1,i.prev_length-=2;do++i.strstart<=r&&(i.ins_h=Wr(i,i.ins_h,i.window[i.strstart+Ct-1]),e=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart);while(--i.prev_length!==0);if(i.match_available=0,i.match_length=Ct-1,i.strstart++,n&&(un(i,!1),i.strm.avail_out===0))return Hi}else if(i.match_available){if(n=qr(i,0,i.window[i.strstart-1]),n&&un(i,!1),i.strstart++,i.lookahead--,i.strm.avail_out===0)return Hi}else i.match_available=1,i.strstart++,i.lookahead--}return i.match_available&&(n=qr(i,0,i.window[i.strstart-1]),i.match_available=0),i.insert=i.strstart<Ct-1?i.strstart:Ct-1,t===bn?(un(i,!0),i.strm.avail_out===0?_a:Za):i.sym_next&&(un(i,!1),i.strm.avail_out===0)?Hi:$a},Vp=(i,t)=>{let e,n,r,a,l=i.window;for(;;){if(i.lookahead<=Ur){if(Wa(i),i.lookahead<=Ur&&t===Vr)return Hi;if(i.lookahead===0)break}if(i.match_length=0,i.lookahead>=Ct&&i.strstart>0&&(r=i.strstart-1,n=l[r],n===l[++r]&&n===l[++r]&&n===l[++r])){a=i.strstart+Ur;do;while(n===l[++r]&&n===l[++r]&&n===l[++r]&&n===l[++r]&&n===l[++r]&&n===l[++r]&&n===l[++r]&&n===l[++r]&&r<a);i.match_length=Ur-(a-r),i.match_length>i.lookahead&&(i.match_length=i.lookahead)}if(i.match_length>=Ct?(e=qr(i,1,i.match_length-Ct),i.lookahead-=i.match_length,i.strstart+=i.match_length,i.match_length=0):(e=qr(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++),e&&(un(i,!1),i.strm.avail_out===0))return Hi}return i.insert=0,t===bn?(un(i,!0),i.strm.avail_out===0?_a:Za):i.sym_next&&(un(i,!1),i.strm.avail_out===0)?Hi:$a},Wp=(i,t)=>{let e;for(;;){if(i.lookahead===0&&(Wa(i),i.lookahead===0)){if(t===Vr)return Hi;break}if(i.match_length=0,e=qr(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++,e&&(un(i,!1),i.strm.avail_out===0))return Hi}return i.insert=0,t===bn?(un(i,!0),i.strm.avail_out===0?_a:Za):i.sym_next&&(un(i,!1),i.strm.avail_out===0)?Hi:$a};function Wn(i,t,e,n,r){this.good_length=i,this.max_lazy=t,this.nice_length=e,this.max_chain=n,this.func=r}var qo=[new Wn(0,0,0,0,vd),new Wn(4,4,8,4,Fc),new Wn(4,5,16,8,Fc),new Wn(4,6,32,32,Fc),new Wn(4,4,16,16,ja),new Wn(8,16,32,32,ja),new Wn(8,16,128,128,ja),new Wn(8,32,128,256,ja),new Wn(32,128,258,1024,ja),new Wn(32,258,258,4096,ja)],Hp=i=>{i.window_size=2*i.w_size,jr(i.head),i.max_lazy_match=qo[i.level].max_lazy,i.good_match=qo[i.level].good_length,i.nice_match=qo[i.level].nice_length,i.max_chain_length=qo[i.level].max_chain,i.strstart=0,i.block_start=0,i.lookahead=0,i.insert=0,i.match_length=i.prev_length=Ct-1,i.match_available=0,i.ins_h=0};function Gp(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ul,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Op*2),this.dyn_dtree=new Uint16Array((2*Tp+1)*2),this.bl_tree=new Uint16Array((2*Bp+1)*2),jr(this.dyn_ltree),jr(this.dyn_dtree),jr(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Rp+1),this.heap=new Uint16Array(2*Gc+1),jr(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Gc+1),jr(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var ts=i=>{if(!i)return 1;let t=i.state;return!t||t.strm!==i||t.status!==Va&&t.status!==iu&&t.status!==$c&&t.status!==Zc&&t.status!==Yc&&t.status!==Kc&&t.status!==ga&&t.status!==Uo?1:0},_d=i=>{if(ts(i))return ma(i,Gn);i.total_in=i.total_out=0,i.data_type=Lp;let t=i.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?iu:t.wrap?Va:ga,i.adler=t.wrap===2?0:1,t.last_flush=-2,_p(t),Fi},yd=i=>{let t=_d(i);return t===Fi&&Hp(i.state),t},$p=(i,t)=>ts(i)||i.state.wrap!==2?Gn:(i.state.gzhead=t,Fi),bd=(i,t,e,n,r,a)=>{if(!i)return Gn;let l=1;if(t===Ap&&(t=6),n<0?(l=0,n=-n):n>15&&(l=2,n-=16),r<1||r>Dp||e!==ul||n<8||n>15||t<0||t>9||a<0||a>kp||n===8&&l!==1)return ma(i,Gn);n===8&&(n=9);let s=new Gp;return i.state=s,s.strm=i,s.status=Va,s.wrap=l,s.gzhead=null,s.w_bits=n,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=r+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+Ct-1)/Ct),s.window=new Uint8Array(s.w_size*2),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<r+6,s.pending_buf_size=s.lit_bufsize*4,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=(s.lit_bufsize-1)*3,s.level=t,s.strategy=a,s.method=e,yd(i)},Zp=(i,t)=>bd(i,t,ul,Ep,Pp,Np),Yp=(i,t)=>{if(ts(i)||t>xf||t<0)return i?ma(i,Gn):Gn;let e=i.state;if(!i.output||i.avail_in!==0&&!i.input||e.status===Uo&&t!==bn)return ma(i,i.avail_out===0?Ic:Gn);let n=e.last_flush;if(e.last_flush=t,e.pending!==0){if(cn(i),i.avail_out===0)return e.last_flush=-1,Fi}else if(i.avail_in===0&&Af(t)<=Af(n)&&t!==bn)return ma(i,Ic);if(e.status===Uo&&i.avail_in!==0)return ma(i,Ic);if(e.status===Va&&e.wrap===0&&(e.status=ga),e.status===Va){let r=ul+(e.w_bits-8<<4)<<8,a=-1;if(e.strategy>=tl||e.level<2?a=0:e.level<6?a=1:e.level===6?a=2:a=3,r|=a<<6,e.strstart!==0&&(r|=zp),r+=31-r%31,jo(e,r),e.strstart!==0&&(jo(e,i.adler>>>16),jo(e,i.adler&65535)),i.adler=1,e.status=ga,cn(i),e.pending!==0)return e.last_flush=-1,Fi}if(e.status===iu){if(i.adler=0,Et(e,31),Et(e,139),Et(e,8),e.gzhead)Et(e,(e.gzhead.text?1:0)+(e.gzhead.hcrc?2:0)+(e.gzhead.extra?4:0)+(e.gzhead.name?8:0)+(e.gzhead.comment?16:0)),Et(e,e.gzhead.time&255),Et(e,e.gzhead.time>>8&255),Et(e,e.gzhead.time>>16&255),Et(e,e.gzhead.time>>24&255),Et(e,e.level===9?2:e.strategy>=tl||e.level<2?4:0),Et(e,e.gzhead.os&255),e.gzhead.extra&&e.gzhead.extra.length&&(Et(e,e.gzhead.extra.length&255),Et(e,e.gzhead.extra.length>>8&255)),e.gzhead.hcrc&&(i.adler=Mi(i.adler,e.pending_buf,e.pending,0)),e.gzindex=0,e.status=$c;else if(Et(e,0),Et(e,0),Et(e,0),Et(e,0),Et(e,0),Et(e,e.level===9?2:e.strategy>=tl||e.level<2?4:0),Et(e,jp),e.status=ga,cn(i),e.pending!==0)return e.last_flush=-1,Fi}if(e.status===$c){if(e.gzhead.extra){let r=e.pending,a=(e.gzhead.extra.length&65535)-e.gzindex;for(;e.pending+a>e.pending_buf_size;){let s=e.pending_buf_size-e.pending;if(e.pending_buf.set(e.gzhead.extra.subarray(e.gzindex,e.gzindex+s),e.pending),e.pending=e.pending_buf_size,e.gzhead.hcrc&&e.pending>r&&(i.adler=Mi(i.adler,e.pending_buf,e.pending-r,r)),e.gzindex+=s,cn(i),e.pending!==0)return e.last_flush=-1,Fi;r=0,a-=s}let l=new Uint8Array(e.gzhead.extra);e.pending_buf.set(l.subarray(e.gzindex,e.gzindex+a),e.pending),e.pending+=a,e.gzhead.hcrc&&e.pending>r&&(i.adler=Mi(i.adler,e.pending_buf,e.pending-r,r)),e.gzindex=0}e.status=Zc}if(e.status===Zc){if(e.gzhead.name){let r=e.pending,a;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>r&&(i.adler=Mi(i.adler,e.pending_buf,e.pending-r,r)),cn(i),e.pending!==0)return e.last_flush=-1,Fi;r=0}e.gzindex<e.gzhead.name.length?a=e.gzhead.name.charCodeAt(e.gzindex++)&255:a=0,Et(e,a)}while(a!==0);e.gzhead.hcrc&&e.pending>r&&(i.adler=Mi(i.adler,e.pending_buf,e.pending-r,r)),e.gzindex=0}e.status=Yc}if(e.status===Yc){if(e.gzhead.comment){let r=e.pending,a;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>r&&(i.adler=Mi(i.adler,e.pending_buf,e.pending-r,r)),cn(i),e.pending!==0)return e.last_flush=-1,Fi;r=0}e.gzindex<e.gzhead.comment.length?a=e.gzhead.comment.charCodeAt(e.gzindex++)&255:a=0,Et(e,a)}while(a!==0);e.gzhead.hcrc&&e.pending>r&&(i.adler=Mi(i.adler,e.pending_buf,e.pending-r,r))}e.status=Kc}if(e.status===Kc){if(e.gzhead.hcrc){if(e.pending+2>e.pending_buf_size&&(cn(i),e.pending!==0))return e.last_flush=-1,Fi;Et(e,i.adler&255),Et(e,i.adler>>8&255),i.adler=0}if(e.status=ga,cn(i),e.pending!==0)return e.last_flush=-1,Fi}if(i.avail_in!==0||e.lookahead!==0||t!==Vr&&e.status!==Uo){let r=e.level===0?vd(e,t):e.strategy===tl?Wp(e,t):e.strategy===Mp?Vp(e,t):qo[e.level].func(e,t);if((r===_a||r===Za)&&(e.status=Uo),r===Hi||r===_a)return i.avail_out===0&&(e.last_flush=-1),Fi;if(r===$a&&(t===wp?bp(e):t!==xf&&(Hc(e,0,0,!1),t===xp&&(jr(e.head),e.lookahead===0&&(e.strstart=0,e.block_start=0,e.insert=0))),cn(i),i.avail_out===0))return e.last_flush=-1,Fi}return t!==bn?Fi:e.wrap<=0?Sf:(e.wrap===2?(Et(e,i.adler&255),Et(e,i.adler>>8&255),Et(e,i.adler>>16&255),Et(e,i.adler>>24&255),Et(e,i.total_in&255),Et(e,i.total_in>>8&255),Et(e,i.total_in>>16&255),Et(e,i.total_in>>24&255)):(jo(e,i.adler>>>16),jo(e,i.adler&65535)),cn(i),e.wrap>0&&(e.wrap=-e.wrap),e.pending!==0?Fi:Sf)},Kp=i=>{if(ts(i))return Gn;let t=i.state.status;return i.state=null,t===ga?ma(i,Sp):Fi},Xp=(i,t)=>{let e=t.length;if(ts(i))return Gn;let n=i.state,r=n.wrap;if(r===2||r===1&&n.status!==Va||n.lookahead)return Gn;if(r===1&&(i.adler=Ko(i.adler,t,e,0)),n.wrap=0,e>=n.w_size){r===0&&(jr(n.head),n.strstart=0,n.block_start=0,n.insert=0);let h=new Uint8Array(n.w_size);h.set(t.subarray(e-n.w_size,e),0),t=h,e=n.w_size}let a=i.avail_in,l=i.next_in,s=i.input;for(i.avail_in=e,i.next_in=0,i.input=t,Wa(n);n.lookahead>=Ct;){let h=n.strstart,u=n.lookahead-(Ct-1);do n.ins_h=Wr(n,n.ins_h,n.window[h+Ct-1]),n.prev[h&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=h,h++;while(--u);n.strstart=h,n.lookahead=Ct-1,Wa(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=Ct-1,n.match_available=0,i.next_in=l,i.input=s,i.avail_in=a,n.wrap=r,Fi},Jp=Zp,Qp=bd,e2=yd,t2=_d,i2=$p,n2=Yp,r2=Kp,a2=Xp,o2="pako deflate (from Nodeca project)",Wo={deflateInit:Jp,deflateInit2:Qp,deflateReset:e2,deflateResetKeep:t2,deflateSetHeader:i2,deflate:n2,deflateEnd:r2,deflateSetDictionary:a2,deflateInfo:o2},s2=(i,t)=>Object.prototype.hasOwnProperty.call(i,t),l2=function(i){let t=Array.prototype.slice.call(arguments,1);for(;t.length;){let e=t.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(let n in e)s2(e,n)&&(i[n]=e[n])}}return i},c2=i=>{let t=0;for(let n=0,r=i.length;n<r;n++)t+=i[n].length;let e=new Uint8Array(t);for(let n=0,r=0,a=i.length;n<a;n++){let l=i[n];e.set(l,r),r+=l.length}return e},hl={assign:l2,flattenChunks:c2},wd=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{wd=!1}var Xo=new Uint8Array(256);for(let i=0;i<256;i++)Xo[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;Xo[254]=Xo[254]=1;var u2=i=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(i);let t,e,n,r,a,l=i.length,s=0;for(r=0;r<l;r++)e=i.charCodeAt(r),(e&64512)===55296&&r+1<l&&(n=i.charCodeAt(r+1),(n&64512)===56320&&(e=65536+(e-55296<<10)+(n-56320),r++)),s+=e<128?1:e<2048?2:e<65536?3:4;for(t=new Uint8Array(s),a=0,r=0;a<s;r++)e=i.charCodeAt(r),(e&64512)===55296&&r+1<l&&(n=i.charCodeAt(r+1),(n&64512)===56320&&(e=65536+(e-55296<<10)+(n-56320),r++)),e<128?t[a++]=e:e<2048?(t[a++]=192|e>>>6,t[a++]=128|e&63):e<65536?(t[a++]=224|e>>>12,t[a++]=128|e>>>6&63,t[a++]=128|e&63):(t[a++]=240|e>>>18,t[a++]=128|e>>>12&63,t[a++]=128|e>>>6&63,t[a++]=128|e&63);return t},h2=(i,t)=>{if(t<65534&&i.subarray&&wd)return String.fromCharCode.apply(null,i.length===t?i:i.subarray(0,t));let e="";for(let n=0;n<t;n++)e+=String.fromCharCode(i[n]);return e},f2=(i,t)=>{let e=t||i.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(i.subarray(0,t));let n,r,a=new Array(e*2);for(r=0,n=0;n<e;){let l=i[n++];if(l<128){a[r++]=l;continue}let s=Xo[l];if(s>4){a[r++]=65533,n+=s-1;continue}for(l&=s===2?31:s===3?15:7;s>1&&n<e;)l=l<<6|i[n++]&63,s--;if(s>1){a[r++]=65533;continue}l<65536?a[r++]=l:(l-=65536,a[r++]=55296|l>>10&1023,a[r++]=56320|l&1023)}return h2(a,r)},d2=(i,t)=>{t=t||i.length,t>i.length&&(t=i.length);let e=t-1;for(;e>=0&&(i[e]&192)===128;)e--;return e<0||e===0?t:e+Xo[i[e]]>t?e:t},Jo={string2buf:u2,buf2string:f2,utf8border:d2};function p2(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var xd=p2,Sd=Object.prototype.toString,{Z_NO_FLUSH:g2,Z_SYNC_FLUSH:m2,Z_FULL_FLUSH:v2,Z_FINISH:_2,Z_OK:ll,Z_STREAM_END:y2,Z_DEFAULT_COMPRESSION:b2,Z_DEFAULT_STRATEGY:w2,Z_DEFLATED:x2}=Ga;function is(i){this.options=hl.assign({level:b2,method:x2,chunkSize:16384,windowBits:15,memLevel:8,strategy:w2},i||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new xd,this.strm.avail_out=0;let e=Wo.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(e!==ll)throw new Error(va[e]);if(t.header&&Wo.deflateSetHeader(this.strm,t.header),t.dictionary){let n;if(typeof t.dictionary=="string"?n=Jo.string2buf(t.dictionary):Sd.call(t.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(t.dictionary):n=t.dictionary,e=Wo.deflateSetDictionary(this.strm,n),e!==ll)throw new Error(va[e]);this._dict_set=!0}}is.prototype.push=function(i,t){let e=this.strm,n=this.options.chunkSize,r,a;if(this.ended)return!1;for(t===~~t?a=t:a=t===!0?_2:g2,typeof i=="string"?e.input=Jo.string2buf(i):Sd.call(i)==="[object ArrayBuffer]"?e.input=new Uint8Array(i):e.input=i,e.next_in=0,e.avail_in=e.input.length;;){if(e.avail_out===0&&(e.output=new Uint8Array(n),e.next_out=0,e.avail_out=n),(a===m2||a===v2)&&e.avail_out<=6){this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;continue}if(r=Wo.deflate(e,a),r===y2)return e.next_out>0&&this.onData(e.output.subarray(0,e.next_out)),r=Wo.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===ll;if(e.avail_out===0){this.onData(e.output);continue}if(a>0&&e.next_out>0){this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;continue}if(e.avail_in===0)break}return!0};is.prototype.onData=function(i){this.chunks.push(i)};is.prototype.onEnd=function(i){i===ll&&(this.result=hl.flattenChunks(this.chunks)),this.chunks=[],this.err=i,this.msg=this.strm.msg};function nu(i,t){let e=new is(t);if(e.push(i,!0),e.err)throw e.msg||va[e.err];return e.result}function S2(i,t){return t=t||{},t.raw=!0,nu(i,t)}function A2(i,t){return t=t||{},t.gzip=!0,nu(i,t)}var C2=is,M2=nu,k2=S2,N2=A2,L2=Ga,D2={Deflate:C2,deflate:M2,deflateRaw:k2,gzip:N2,constants:L2},il=16209,E2=16191,P2=function(t,e){let n,r,a,l,s,h,u,d,v,y,p,A,N,I,C,Z,W,U,le,we,pe,X,j,ie,k=t.state;n=t.next_in,j=t.input,r=n+(t.avail_in-5),a=t.next_out,ie=t.output,l=a-(e-t.avail_out),s=a+(t.avail_out-257),h=k.dmax,u=k.wsize,d=k.whave,v=k.wnext,y=k.window,p=k.hold,A=k.bits,N=k.lencode,I=k.distcode,C=(1<<k.lenbits)-1,Z=(1<<k.distbits)-1;e:do{A<15&&(p+=j[n++]<<A,A+=8,p+=j[n++]<<A,A+=8),W=N[p&C];t:for(;;){if(U=W>>>24,p>>>=U,A-=U,U=W>>>16&255,U===0)ie[a++]=W&65535;else if(U&16){le=W&65535,U&=15,U&&(A<U&&(p+=j[n++]<<A,A+=8),le+=p&(1<<U)-1,p>>>=U,A-=U),A<15&&(p+=j[n++]<<A,A+=8,p+=j[n++]<<A,A+=8),W=I[p&Z];i:for(;;){if(U=W>>>24,p>>>=U,A-=U,U=W>>>16&255,U&16){if(we=W&65535,U&=15,A<U&&(p+=j[n++]<<A,A+=8,A<U&&(p+=j[n++]<<A,A+=8)),we+=p&(1<<U)-1,we>h){t.msg="invalid distance too far back",k.mode=il;break e}if(p>>>=U,A-=U,U=a-l,we>U){if(U=we-U,U>d&&k.sane){t.msg="invalid distance too far back",k.mode=il;break e}if(pe=0,X=y,v===0){if(pe+=u-U,U<le){le-=U;do ie[a++]=y[pe++];while(--U);pe=a-we,X=ie}}else if(v<U){if(pe+=u+v-U,U-=v,U<le){le-=U;do ie[a++]=y[pe++];while(--U);if(pe=0,v<le){U=v,le-=U;do ie[a++]=y[pe++];while(--U);pe=a-we,X=ie}}}else if(pe+=v-U,U<le){le-=U;do ie[a++]=y[pe++];while(--U);pe=a-we,X=ie}for(;le>2;)ie[a++]=X[pe++],ie[a++]=X[pe++],ie[a++]=X[pe++],le-=3;le&&(ie[a++]=X[pe++],le>1&&(ie[a++]=X[pe++]))}else{pe=a-we;do ie[a++]=ie[pe++],ie[a++]=ie[pe++],ie[a++]=ie[pe++],le-=3;while(le>2);le&&(ie[a++]=ie[pe++],le>1&&(ie[a++]=ie[pe++]))}}else if((U&64)===0){W=I[(W&65535)+(p&(1<<U)-1)];continue i}else{t.msg="invalid distance code",k.mode=il;break e}break}}else if((U&64)===0){W=N[(W&65535)+(p&(1<<U)-1)];continue t}else if(U&32){k.mode=E2;break e}else{t.msg="invalid literal/length code",k.mode=il;break e}break}}while(n<r&&a<s);le=A>>3,n-=le,A-=le<<3,p&=(1<<A)-1,t.next_in=n,t.next_out=a,t.avail_in=n<r?5+(r-n):5-(n-r),t.avail_out=a<s?257+(s-a):257-(a-s),k.hold=p,k.bits=A},Ua=15,Cf=852,Mf=592,kf=0,Tc=1,Nf=2,I2=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),F2=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),T2=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),B2=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),O2=(i,t,e,n,r,a,l,s)=>{let h=s.bits,u=0,d=0,v=0,y=0,p=0,A=0,N=0,I=0,C=0,Z=0,W,U,le,we,pe,X=null,j,ie=new Uint16Array(Ua+1),k=new Uint16Array(Ua+1),F=null,$,H,ce;for(u=0;u<=Ua;u++)ie[u]=0;for(d=0;d<n;d++)ie[t[e+d]]++;for(p=h,y=Ua;y>=1&&ie[y]===0;y--);if(p>y&&(p=y),y===0)return r[a++]=1<<24|64<<16|0,r[a++]=1<<24|64<<16|0,s.bits=1,0;for(v=1;v<y&&ie[v]===0;v++);for(p<v&&(p=v),I=1,u=1;u<=Ua;u++)if(I<<=1,I-=ie[u],I<0)return-1;if(I>0&&(i===kf||y!==1))return-1;for(k[1]=0,u=1;u<Ua;u++)k[u+1]=k[u]+ie[u];for(d=0;d<n;d++)t[e+d]!==0&&(l[k[t[e+d]]++]=d);if(i===kf?(X=F=l,j=20):i===Tc?(X=I2,F=F2,j=257):(X=T2,F=B2,j=0),Z=0,d=0,u=v,pe=a,A=p,N=0,le=-1,C=1<<p,we=C-1,i===Tc&&C>Cf||i===Nf&&C>Mf)return 1;for(;;){$=u-N,l[d]+1<j?(H=0,ce=l[d]):l[d]>=j?(H=F[l[d]-j],ce=X[l[d]-j]):(H=96,ce=0),W=1<<u-N,U=1<<A,v=U;do U-=W,r[pe+(Z>>N)+U]=$<<24|H<<16|ce|0;while(U!==0);for(W=1<<u-1;Z&W;)W>>=1;if(W!==0?(Z&=W-1,Z+=W):Z=0,d++,--ie[u]===0){if(u===y)break;u=t[e+l[d]]}if(u>p&&(Z&we)!==le){for(N===0&&(N=p),pe+=v,A=u-N,I=1<<A;A+N<y&&(I-=ie[A+N],!(I<=0));)A++,I<<=1;if(C+=1<<A,i===Tc&&C>Cf||i===Nf&&C>Mf)return 1;le=Z&we,r[le]=p<<24|A<<16|pe-a|0}}return Z!==0&&(r[pe+Z]=u-N<<24|64<<16|0),s.bits=p,0},Ho=O2,R2=0,Ad=1,Cd=2,{Z_FINISH:Lf,Z_BLOCK:z2,Z_TREES:nl,Z_OK:ya,Z_STREAM_END:j2,Z_NEED_DICT:U2,Z_STREAM_ERROR:wn,Z_DATA_ERROR:Md,Z_MEM_ERROR:kd,Z_BUF_ERROR:q2,Z_DEFLATED:Df}=Ga,fl=16180,Ef=16181,Pf=16182,If=16183,Ff=16184,Tf=16185,Bf=16186,Of=16187,Rf=16188,zf=16189,cl=16190,vr=16191,Bc=16192,jf=16193,Oc=16194,Uf=16195,qf=16196,Vf=16197,Wf=16198,rl=16199,al=16200,Hf=16201,Gf=16202,$f=16203,Zf=16204,Yf=16205,Rc=16206,Kf=16207,Xf=16208,Qt=16209,Nd=16210,Ld=16211,V2=852,W2=592,H2=15,G2=H2,Jf=i=>(i>>>24&255)+(i>>>8&65280)+((i&65280)<<8)+((i&255)<<24);function $2(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var ba=i=>{if(!i)return 1;let t=i.state;return!t||t.strm!==i||t.mode<fl||t.mode>Ld?1:0},Dd=i=>{if(ba(i))return wn;let t=i.state;return i.total_in=i.total_out=t.total=0,i.msg="",t.wrap&&(i.adler=t.wrap&1),t.mode=fl,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(V2),t.distcode=t.distdyn=new Int32Array(W2),t.sane=1,t.back=-1,ya},Ed=i=>{if(ba(i))return wn;let t=i.state;return t.wsize=0,t.whave=0,t.wnext=0,Dd(i)},Pd=(i,t)=>{let e;if(ba(i))return wn;let n=i.state;return t<0?(e=0,t=-t):(e=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?wn:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=e,n.wbits=t,Ed(i))},Id=(i,t)=>{if(!i)return wn;let e=new $2;i.state=e,e.strm=i,e.window=null,e.mode=fl;let n=Pd(i,t);return n!==ya&&(i.state=null),n},Z2=i=>Id(i,G2),Qf=!0,zc,jc,Y2=i=>{if(Qf){zc=new Int32Array(512),jc=new Int32Array(32);let t=0;for(;t<144;)i.lens[t++]=8;for(;t<256;)i.lens[t++]=9;for(;t<280;)i.lens[t++]=7;for(;t<288;)i.lens[t++]=8;for(Ho(Ad,i.lens,0,288,zc,0,i.work,{bits:9}),t=0;t<32;)i.lens[t++]=5;Ho(Cd,i.lens,0,32,jc,0,i.work,{bits:5}),Qf=!1}i.lencode=zc,i.lenbits=9,i.distcode=jc,i.distbits=5},Fd=(i,t,e,n)=>{let r,a=i.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(t.subarray(e-a.wsize,e),0),a.wnext=0,a.whave=a.wsize):(r=a.wsize-a.wnext,r>n&&(r=n),a.window.set(t.subarray(e-n,e-n+r),a.wnext),n-=r,n?(a.window.set(t.subarray(e-n,e),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=r,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=r))),0},K2=(i,t)=>{let e,n,r,a,l,s,h,u,d,v,y,p,A,N,I=0,C,Z,W,U,le,we,pe,X,j=new Uint8Array(4),ie,k,F=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ba(i)||!i.output||!i.input&&i.avail_in!==0)return wn;e=i.state,e.mode===vr&&(e.mode=Bc),l=i.next_out,r=i.output,h=i.avail_out,a=i.next_in,n=i.input,s=i.avail_in,u=e.hold,d=e.bits,v=s,y=h,X=ya;e:for(;;)switch(e.mode){case fl:if(e.wrap===0){e.mode=Bc;break}for(;d<16;){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}if(e.wrap&2&&u===35615){e.wbits===0&&(e.wbits=15),e.check=0,j[0]=u&255,j[1]=u>>>8&255,e.check=Mi(e.check,j,2,0),u=0,d=0,e.mode=Ef;break}if(e.head&&(e.head.done=!1),!(e.wrap&1)||(((u&255)<<8)+(u>>8))%31){i.msg="incorrect header check",e.mode=Qt;break}if((u&15)!==Df){i.msg="unknown compression method",e.mode=Qt;break}if(u>>>=4,d-=4,pe=(u&15)+8,e.wbits===0&&(e.wbits=pe),pe>15||pe>e.wbits){i.msg="invalid window size",e.mode=Qt;break}e.dmax=1<<e.wbits,e.flags=0,i.adler=e.check=1,e.mode=u&512?zf:vr,u=0,d=0;break;case Ef:for(;d<16;){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}if(e.flags=u,(e.flags&255)!==Df){i.msg="unknown compression method",e.mode=Qt;break}if(e.flags&57344){i.msg="unknown header flags set",e.mode=Qt;break}e.head&&(e.head.text=u>>8&1),e.flags&512&&e.wrap&4&&(j[0]=u&255,j[1]=u>>>8&255,e.check=Mi(e.check,j,2,0)),u=0,d=0,e.mode=Pf;case Pf:for(;d<32;){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}e.head&&(e.head.time=u),e.flags&512&&e.wrap&4&&(j[0]=u&255,j[1]=u>>>8&255,j[2]=u>>>16&255,j[3]=u>>>24&255,e.check=Mi(e.check,j,4,0)),u=0,d=0,e.mode=If;case If:for(;d<16;){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}e.head&&(e.head.xflags=u&255,e.head.os=u>>8),e.flags&512&&e.wrap&4&&(j[0]=u&255,j[1]=u>>>8&255,e.check=Mi(e.check,j,2,0)),u=0,d=0,e.mode=Ff;case Ff:if(e.flags&1024){for(;d<16;){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}e.length=u,e.head&&(e.head.extra_len=u),e.flags&512&&e.wrap&4&&(j[0]=u&255,j[1]=u>>>8&255,e.check=Mi(e.check,j,2,0)),u=0,d=0}else e.head&&(e.head.extra=null);e.mode=Tf;case Tf:if(e.flags&1024&&(p=e.length,p>s&&(p=s),p&&(e.head&&(pe=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(n.subarray(a,a+p),pe)),e.flags&512&&e.wrap&4&&(e.check=Mi(e.check,n,p,a)),s-=p,a+=p,e.length-=p),e.length))break e;e.length=0,e.mode=Bf;case Bf:if(e.flags&2048){if(s===0)break e;p=0;do pe=n[a+p++],e.head&&pe&&e.length<65536&&(e.head.name+=String.fromCharCode(pe));while(pe&&p<s);if(e.flags&512&&e.wrap&4&&(e.check=Mi(e.check,n,p,a)),s-=p,a+=p,pe)break e}else e.head&&(e.head.name=null);e.length=0,e.mode=Of;case Of:if(e.flags&4096){if(s===0)break e;p=0;do pe=n[a+p++],e.head&&pe&&e.length<65536&&(e.head.comment+=String.fromCharCode(pe));while(pe&&p<s);if(e.flags&512&&e.wrap&4&&(e.check=Mi(e.check,n,p,a)),s-=p,a+=p,pe)break e}else e.head&&(e.head.comment=null);e.mode=Rf;case Rf:if(e.flags&512){for(;d<16;){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}if(e.wrap&4&&u!==(e.check&65535)){i.msg="header crc mismatch",e.mode=Qt;break}u=0,d=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),i.adler=e.check=0,e.mode=vr;break;case zf:for(;d<32;){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}i.adler=e.check=Jf(u),u=0,d=0,e.mode=cl;case cl:if(e.havedict===0)return i.next_out=l,i.avail_out=h,i.next_in=a,i.avail_in=s,e.hold=u,e.bits=d,U2;i.adler=e.check=1,e.mode=vr;case vr:if(t===z2||t===nl)break e;case Bc:if(e.last){u>>>=d&7,d-=d&7,e.mode=Rc;break}for(;d<3;){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}switch(e.last=u&1,u>>>=1,d-=1,u&3){case 0:e.mode=jf;break;case 1:if(Y2(e),e.mode=rl,t===nl){u>>>=2,d-=2;break e}break;case 2:e.mode=qf;break;case 3:i.msg="invalid block type",e.mode=Qt}u>>>=2,d-=2;break;case jf:for(u>>>=d&7,d-=d&7;d<32;){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){i.msg="invalid stored block lengths",e.mode=Qt;break}if(e.length=u&65535,u=0,d=0,e.mode=Oc,t===nl)break e;case Oc:e.mode=Uf;case Uf:if(p=e.length,p){if(p>s&&(p=s),p>h&&(p=h),p===0)break e;r.set(n.subarray(a,a+p),l),s-=p,a+=p,h-=p,l+=p,e.length-=p;break}e.mode=vr;break;case qf:for(;d<14;){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}if(e.nlen=(u&31)+257,u>>>=5,d-=5,e.ndist=(u&31)+1,u>>>=5,d-=5,e.ncode=(u&15)+4,u>>>=4,d-=4,e.nlen>286||e.ndist>30){i.msg="too many length or distance symbols",e.mode=Qt;break}e.have=0,e.mode=Vf;case Vf:for(;e.have<e.ncode;){for(;d<3;){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}e.lens[F[e.have++]]=u&7,u>>>=3,d-=3}for(;e.have<19;)e.lens[F[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,ie={bits:e.lenbits},X=Ho(R2,e.lens,0,19,e.lencode,0,e.work,ie),e.lenbits=ie.bits,X){i.msg="invalid code lengths set",e.mode=Qt;break}e.have=0,e.mode=Wf;case Wf:for(;e.have<e.nlen+e.ndist;){for(;I=e.lencode[u&(1<<e.lenbits)-1],C=I>>>24,Z=I>>>16&255,W=I&65535,!(C<=d);){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}if(W<16)u>>>=C,d-=C,e.lens[e.have++]=W;else{if(W===16){for(k=C+2;d<k;){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}if(u>>>=C,d-=C,e.have===0){i.msg="invalid bit length repeat",e.mode=Qt;break}pe=e.lens[e.have-1],p=3+(u&3),u>>>=2,d-=2}else if(W===17){for(k=C+3;d<k;){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}u>>>=C,d-=C,pe=0,p=3+(u&7),u>>>=3,d-=3}else{for(k=C+7;d<k;){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}u>>>=C,d-=C,pe=0,p=11+(u&127),u>>>=7,d-=7}if(e.have+p>e.nlen+e.ndist){i.msg="invalid bit length repeat",e.mode=Qt;break}for(;p--;)e.lens[e.have++]=pe}}if(e.mode===Qt)break;if(e.lens[256]===0){i.msg="invalid code -- missing end-of-block",e.mode=Qt;break}if(e.lenbits=9,ie={bits:e.lenbits},X=Ho(Ad,e.lens,0,e.nlen,e.lencode,0,e.work,ie),e.lenbits=ie.bits,X){i.msg="invalid literal/lengths set",e.mode=Qt;break}if(e.distbits=6,e.distcode=e.distdyn,ie={bits:e.distbits},X=Ho(Cd,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,ie),e.distbits=ie.bits,X){i.msg="invalid distances set",e.mode=Qt;break}if(e.mode=rl,t===nl)break e;case rl:e.mode=al;case al:if(s>=6&&h>=258){i.next_out=l,i.avail_out=h,i.next_in=a,i.avail_in=s,e.hold=u,e.bits=d,P2(i,y),l=i.next_out,r=i.output,h=i.avail_out,a=i.next_in,n=i.input,s=i.avail_in,u=e.hold,d=e.bits,e.mode===vr&&(e.back=-1);break}for(e.back=0;I=e.lencode[u&(1<<e.lenbits)-1],C=I>>>24,Z=I>>>16&255,W=I&65535,!(C<=d);){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}if(Z&&(Z&240)===0){for(U=C,le=Z,we=W;I=e.lencode[we+((u&(1<<U+le)-1)>>U)],C=I>>>24,Z=I>>>16&255,W=I&65535,!(U+C<=d);){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}u>>>=U,d-=U,e.back+=U}if(u>>>=C,d-=C,e.back+=C,e.length=W,Z===0){e.mode=Yf;break}if(Z&32){e.back=-1,e.mode=vr;break}if(Z&64){i.msg="invalid literal/length code",e.mode=Qt;break}e.extra=Z&15,e.mode=Hf;case Hf:if(e.extra){for(k=e.extra;d<k;){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}e.length+=u&(1<<e.extra)-1,u>>>=e.extra,d-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=Gf;case Gf:for(;I=e.distcode[u&(1<<e.distbits)-1],C=I>>>24,Z=I>>>16&255,W=I&65535,!(C<=d);){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}if((Z&240)===0){for(U=C,le=Z,we=W;I=e.distcode[we+((u&(1<<U+le)-1)>>U)],C=I>>>24,Z=I>>>16&255,W=I&65535,!(U+C<=d);){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}u>>>=U,d-=U,e.back+=U}if(u>>>=C,d-=C,e.back+=C,Z&64){i.msg="invalid distance code",e.mode=Qt;break}e.offset=W,e.extra=Z&15,e.mode=$f;case $f:if(e.extra){for(k=e.extra;d<k;){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}e.offset+=u&(1<<e.extra)-1,u>>>=e.extra,d-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){i.msg="invalid distance too far back",e.mode=Qt;break}e.mode=Zf;case Zf:if(h===0)break e;if(p=y-h,e.offset>p){if(p=e.offset-p,p>e.whave&&e.sane){i.msg="invalid distance too far back",e.mode=Qt;break}p>e.wnext?(p-=e.wnext,A=e.wsize-p):A=e.wnext-p,p>e.length&&(p=e.length),N=e.window}else N=r,A=l-e.offset,p=e.length;p>h&&(p=h),h-=p,e.length-=p;do r[l++]=N[A++];while(--p);e.length===0&&(e.mode=al);break;case Yf:if(h===0)break e;r[l++]=e.length,h--,e.mode=al;break;case Rc:if(e.wrap){for(;d<32;){if(s===0)break e;s--,u|=n[a++]<<d,d+=8}if(y-=h,i.total_out+=y,e.total+=y,e.wrap&4&&y&&(i.adler=e.check=e.flags?Mi(e.check,r,y,l-y):Ko(e.check,r,y,l-y)),y=h,e.wrap&4&&(e.flags?u:Jf(u))!==e.check){i.msg="incorrect data check",e.mode=Qt;break}u=0,d=0}e.mode=Kf;case Kf:if(e.wrap&&e.flags){for(;d<32;){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}if(e.wrap&4&&u!==(e.total&4294967295)){i.msg="incorrect length check",e.mode=Qt;break}u=0,d=0}e.mode=Xf;case Xf:X=j2;break e;case Qt:X=Md;break e;case Nd:return kd;case Ld:default:return wn}return i.next_out=l,i.avail_out=h,i.next_in=a,i.avail_in=s,e.hold=u,e.bits=d,(e.wsize||y!==i.avail_out&&e.mode<Qt&&(e.mode<Rc||t!==Lf))&&Fd(i,i.output,i.next_out,y-i.avail_out),v-=i.avail_in,y-=i.avail_out,i.total_in+=v,i.total_out+=y,e.total+=y,e.wrap&4&&y&&(i.adler=e.check=e.flags?Mi(e.check,r,y,i.next_out-y):Ko(e.check,r,y,i.next_out-y)),i.data_type=e.bits+(e.last?64:0)+(e.mode===vr?128:0)+(e.mode===rl||e.mode===Oc?256:0),(v===0&&y===0||t===Lf)&&X===ya&&(X=q2),X},X2=i=>{if(ba(i))return wn;let t=i.state;return t.window&&(t.window=null),i.state=null,ya},J2=(i,t)=>{if(ba(i))return wn;let e=i.state;return(e.wrap&2)===0?wn:(e.head=t,t.done=!1,ya)},Q2=(i,t)=>{let e=t.length,n,r,a;return ba(i)||(n=i.state,n.wrap!==0&&n.mode!==cl)?wn:n.mode===cl&&(r=1,r=Ko(r,t,e,0),r!==n.check)?Md:(a=Fd(i,t,e,e),a?(n.mode=Nd,kd):(n.havedict=1,ya))},eg=Ed,tg=Pd,ig=Dd,ng=Z2,rg=Id,ag=K2,og=X2,sg=J2,lg=Q2,cg="pako inflate (from Nodeca project)",yr={inflateReset:eg,inflateReset2:tg,inflateResetKeep:ig,inflateInit:ng,inflateInit2:rg,inflate:ag,inflateEnd:og,inflateGetHeader:sg,inflateSetDictionary:lg,inflateInfo:cg};function ug(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var hg=ug,Td=Object.prototype.toString,{Z_NO_FLUSH:fg,Z_FINISH:dg,Z_OK:Qo,Z_STREAM_END:Uc,Z_NEED_DICT:qc,Z_STREAM_ERROR:pg,Z_DATA_ERROR:ed,Z_MEM_ERROR:gg}=Ga;function ns(i){this.options=hl.assign({chunkSize:1024*64,windowBits:15,to:""},i||{});let t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(i&&i.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new xd,this.strm.avail_out=0;let e=yr.inflateInit2(this.strm,t.windowBits);if(e!==Qo)throw new Error(va[e]);if(this.header=new hg,yr.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Jo.string2buf(t.dictionary):Td.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=yr.inflateSetDictionary(this.strm,t.dictionary),e!==Qo)))throw new Error(va[e])}ns.prototype.push=function(i,t){let e=this.strm,n=this.options.chunkSize,r=this.options.dictionary,a,l,s;if(this.ended)return!1;for(t===~~t?l=t:l=t===!0?dg:fg,Td.call(i)==="[object ArrayBuffer]"?e.input=new Uint8Array(i):e.input=i,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(n),e.next_out=0,e.avail_out=n),a=yr.inflate(e,l),a===qc&&r&&(a=yr.inflateSetDictionary(e,r),a===Qo?a=yr.inflate(e,l):a===ed&&(a=qc));e.avail_in>0&&a===Uc&&e.state.wrap>0&&i[e.next_in]!==0;)yr.inflateReset(e),a=yr.inflate(e,l);switch(a){case pg:case ed:case qc:case gg:return this.onEnd(a),this.ended=!0,!1}if(s=e.avail_out,e.next_out&&(e.avail_out===0||a===Uc))if(this.options.to==="string"){let h=Jo.utf8border(e.output,e.next_out),u=e.next_out-h,d=Jo.buf2string(e.output,h);e.next_out=u,e.avail_out=n-u,u&&e.output.set(e.output.subarray(h,h+u),0),this.onData(d)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(!(a===Qo&&s===0)){if(a===Uc)return a=yr.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(e.avail_in===0)break}}return!0};ns.prototype.onData=function(i){this.chunks.push(i)};ns.prototype.onEnd=function(i){i===Qo&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=hl.flattenChunks(this.chunks)),this.chunks=[],this.err=i,this.msg=this.strm.msg};function ru(i,t){let e=new ns(t);if(e.push(i),e.err)throw e.msg||va[e.err];return e.result}function mg(i,t){return t=t||{},t.raw=!0,ru(i,t)}var vg=ns,_g=ru,yg=mg,bg=ru,wg=Ga,xg={Inflate:vg,inflate:_g,inflateRaw:yg,ungzip:bg,constants:wg},{Deflate:A_,deflate:C_,deflateRaw:M_,gzip:k_}=D2,{Inflate:Sg,inflate:Ag,inflateRaw:N_,ungzip:L_}=xg;var au=Sg,Bd=Ag;var Rd=[];for(let i=0;i<256;i++){let t=i;for(let e=0;e<8;e++)t&1?t=3988292384^t>>>1:t=t>>>1;Rd[i]=t}var Od=4294967295;function Cg(i,t,e){let n=i;for(let r=0;r<e;r++)n=Rd[(n^t[r])&255]^n>>>8;return n}function Mg(i,t){return(Cg(Od,i,t)^Od)>>>0}function ou(i,t,e){let n=i.readUint32(),r=Mg(new Uint8Array(i.buffer,i.byteOffset+i.offset-t-4,t),t);if(r!==n)throw new Error(`CRC mismatch for chunk ${e}. Expected ${n}, found ${r}`)}function dl(i,t,e){for(let n=0;n<e;n++)t[n]=i[n]}function pl(i,t,e,n){let r=0;for(;r<n;r++)t[r]=i[r];for(;r<e;r++)t[r]=i[r]+t[r-n]&255}function gl(i,t,e,n){let r=0;if(e.length===0)for(;r<n;r++)t[r]=i[r];else for(;r<n;r++)t[r]=i[r]+e[r]&255}function ml(i,t,e,n,r){let a=0;if(e.length===0){for(;a<r;a++)t[a]=i[a];for(;a<n;a++)t[a]=i[a]+(t[a-r]>>1)&255}else{for(;a<r;a++)t[a]=i[a]+(e[a]>>1)&255;for(;a<n;a++)t[a]=i[a]+(t[a-r]+e[a]>>1)&255}}function vl(i,t,e,n,r){let a=0;if(e.length===0){for(;a<r;a++)t[a]=i[a];for(;a<n;a++)t[a]=i[a]+t[a-r]&255}else{for(;a<r;a++)t[a]=i[a]+e[a]&255;for(;a<n;a++)t[a]=i[a]+kg(t[a-r],e[a],e[a-r])&255}}function kg(i,t,e){let n=i+t-e,r=Math.abs(n-i),a=Math.abs(n-t),l=Math.abs(n-e);return r<=a&&r<=l?i:a<=l?t:e}function zd(i,t,e,n,r,a){switch(i){case 0:dl(t,e,r);break;case 1:pl(t,e,r,a);break;case 2:gl(t,e,n,r);break;case 3:ml(t,e,n,r,a);break;case 4:vl(t,e,n,r,a);break;default:throw new Error(`Unsupported filter: ${i}`)}}var Ng=new Uint16Array([255]),Lg=new Uint8Array(Ng.buffer),Dg=Lg[0]===255;function jd(i){let{data:t,width:e,height:n,channels:r,depth:a}=i,l=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],s=Math.ceil(a/8)*r,h=new Uint8Array(n*e*s),u=0;for(let d=0;d<7;d++){let v=l[d],y=Math.ceil((e-v.x)/v.xStep),p=Math.ceil((n-v.y)/v.yStep);if(y<=0||p<=0)continue;let A=y*s,N=new Uint8Array(A);for(let I=0;I<p;I++){let C=t[u++],Z=t.subarray(u,u+A);u+=A;let W=new Uint8Array(A);zd(C,Z,W,N,A,s),N.set(W);for(let U=0;U<y;U++){let le=v.x+U*v.xStep,we=v.y+I*v.yStep;if(!(le>=e||we>=n))for(let pe=0;pe<s;pe++)h[(we*e+le)*s+pe]=W[U*s+pe]}}}if(a===16){let d=new Uint16Array(h.buffer);if(Dg)for(let v=0;v<d.length;v++)d[v]=Eg(d[v]);return d}else return h}function Eg(i){return(i&255)<<8|i>>8&255}var Pg=new Uint16Array([255]),Ig=new Uint8Array(Pg.buffer),Fg=Ig[0]===255,Tg=new Uint8Array(0);function su(i){let{data:t,width:e,height:n,channels:r,depth:a}=i,l=Math.ceil(a/8)*r,s=Math.ceil(a/8*r*e),h=new Uint8Array(n*s),u=Tg,d=0,v,y;for(let p=0;p<n;p++){switch(v=t.subarray(d+1,d+1+s),y=h.subarray(p*s,(p+1)*s),t[d]){case 0:dl(v,y,s);break;case 1:pl(v,y,s,l);break;case 2:gl(v,y,u,s);break;case 3:ml(v,y,u,s,l);break;case 4:vl(v,y,u,s,l);break;default:throw new Error(`Unsupported filter: ${t[d]}`)}u=y,d+=s+1}if(a===16){let p=new Uint16Array(h.buffer);if(Fg)for(let A=0;A<p.length;A++)p[A]=Bg(p[A]);return p}else return h}function Bg(i){return(i&255)<<8|i>>8&255}var _l=Uint8Array.of(137,80,78,71,13,10,26,10);function lu(i){if(!Ud(i.readBytes(_l.length)))throw new Error("wrong PNG signature")}function Ud(i){if(i.length<_l.length)return!1;for(let t=0;t<_l.length;t++)if(i[t]!==_l[t])return!1;return!0}var qd="tEXt",Rg=0,Vd=new TextDecoder("latin1");function zg(i){if(Ug(i),i.length===0||i.length>79)throw new Error("keyword length must be between 1 and 79")}var jg=/^[\u0000-\u00FF]*$/;function Ug(i){if(!jg.test(i))throw new Error("invalid latin1 text")}function Wd(i,t,e){let n=cu(t);i[n]=qg(t,e-n.length-1)}function cu(i){for(i.mark();i.readByte()!==Rg;);let t=i.offset;i.reset();let e=Vd.decode(i.readBytes(t-i.offset-1));return i.skip(1),zg(e),e}function qg(i,t){return Vd.decode(i.readBytes(t))}var Gi={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},rs={UNKNOWN:-1,DEFLATE:0},yl={UNKNOWN:-1,ADAPTIVE:0},as={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},os={NONE:0,BACKGROUND:1,PREVIOUS:2},bl={SOURCE:0,OVER:1};var wl=class extends zo{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,e={}){super(t);let{checkCrc:n=!1}=e;this._checkCrc=n,this._inflator=new au,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=rs.UNKNOWN,this._filterMethod=yl.UNKNOWN,this._interlaceMethod=as.UNKNOWN,this._colorType=Gi.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(lu(this);!this._end;){let t=this.readUint32(),e=this.readChars(4);this.decodeChunk(t,e)}return this.decodeImage(),this._png}decodeApng(){for(lu(this);!this._end;){let t=this.readUint32(),e=this.readChars(4);this.decodeApngChunk(t,e)}return this.decodeApngImage(),this._apng}decodeChunk(t,e){let n=this.offset;switch(e){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case qd:Wd(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-n!==t)throw new Error(`Length mismatch while decoding chunk ${e}`);this._checkCrc?ou(this,t+4,e):this.skip(4)}decodeApngChunk(t,e){let n=this.offset;switch(e!=="fdAT"&&e!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),e){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,e),this.offset=n+t;break}if(this.offset-n!==t)throw new Error(`Length mismatch while decoding chunk ${e}`);this._checkCrc?ou(this,t+4,e):this.skip(4)}decodeIHDR(){let t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=Vg(this.readUint8());let e=this.readUint8();this._colorType=e;let n;switch(e){case Gi.GREYSCALE:n=1;break;case Gi.TRUECOLOUR:n=3;break;case Gi.INDEXED_COLOUR:n=1;break;case Gi.GREYSCALE_ALPHA:n=2;break;case Gi.TRUECOLOUR_ALPHA:n=4;break;case Gi.UNKNOWN:default:throw new Error(`Unknown color type: ${e}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==rs.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){let t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);let e=t/3;this._hasPalette=!0;let n=[];this._palette=n;for(let r=0;r<e;r++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;let e=t,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,e)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let e=t,n=this.offset+this.byteOffset;if(n+=4,e-=4,this._inflator.push(new Uint8Array(this.buffer,n,e)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case Gi.GREYSCALE:case Gi.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let e=0;e<t/2;e++)this._transparency[e]=this.readUint16();break}case Gi.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let e=0;for(;e<t;e++){let n=this.readByte();this._palette[e].push(n)}for(;e<this._palette.length;e++)this._palette[e].push(255);break}case Gi.UNKNOWN:case Gi.GREYSCALE_ALPHA:case Gi.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){let e=cu(this),n=this.readUint8();if(n!==rs.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);let r=this.readBytes(t-e.length-2);this._png.iccEmbeddedProfile={name:e,profile:Bd(r)}}decodepHYs(){let t=this.readUint32(),e=this.readUint32(),n=this.readByte();this._png.resolution={x:t,y:e,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){let e={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(t);if(n){if(n.data=su({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)e.data=n.data;else{let r=this._apng.frames.at(t-1);this.disposeFrame(n,r,e),this.addFrameDataToCanvas(e,n)}this._apng.frames.push(e)}}return this._apng}disposeFrame(t,e,n){switch(t.disposeOp){case os.NONE:break;case os.BACKGROUND:for(let r=0;r<this._png.height;r++)for(let a=0;a<this._png.width;a++){let l=(r*t.width+a)*this._png.channels;for(let s=0;s<this._png.channels;s++)n.data[l+s]=0}break;case os.PREVIOUS:n.data.set(e.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,e){let n=1<<this._png.depth,r=(a,l)=>{let s=((a+e.yOffset)*this._png.width+e.xOffset+l)*this._png.channels,h=(a*e.width+l)*this._png.channels;return{index:s,frameIndex:h}};switch(e.blendOp){case bl.SOURCE:for(let a=0;a<e.height;a++)for(let l=0;l<e.width;l++){let{index:s,frameIndex:h}=r(a,l);for(let u=0;u<this._png.channels;u++)t.data[s+u]=e.data[h+u]}break;case bl.OVER:for(let a=0;a<e.height;a++)for(let l=0;l<e.width;l++){let{index:s,frameIndex:h}=r(a,l);for(let u=0;u<this._png.channels;u++){let d=e.data[h+this._png.channels-1]/n,v=u%(this._png.channels-1)===0?1:e.data[h+u],y=Math.floor(d*v+(1-d)*t.data[s+u]);t.data[s+u]+=y}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);let t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==yl.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===as.NO_INTERLACE)this._png.data=su({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===as.ADAM7)this._png.data=jd({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){let t=this._inflator.result,e=this._frames.at(-1);e?e.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:os.NONE,blendOp:bl.SOURCE,data:t}),this._inflator=new au,this._writingDataChunks=!1}};function Vg(i){if(i!==1&&i!==2&&i!==4&&i!==8&&i!==16)throw new Error(`invalid bit depth: ${i}`);return i}function Hd(i,t){return new wl(i,t).decode()}var ot=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function uu(){ot.console&&typeof ot.console.log=="function"&&ot.console.log.apply(ot.console,arguments)}var Vt={log:uu,warn:function(i){ot.console&&(typeof ot.console.warn=="function"?ot.console.warn.apply(ot.console,arguments):uu.call(null,arguments))},error:function(i){ot.console&&(typeof ot.console.error=="function"?ot.console.error.apply(ot.console,arguments):uu(i))}};function hu(i,t,e){var n=new XMLHttpRequest;n.open("GET",i),n.responseType="blob",n.onload=function(){wa(n.response,t,e)},n.onerror=function(){Vt.error("could not download file")},n.send()}function Gd(i){var t=new XMLHttpRequest;t.open("HEAD",i,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function xl(i){try{i.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),i.dispatchEvent(t)}}var wa=ot.saveAs||((typeof window>"u"?"undefined":Ot(window))!=="object"||window!==ot?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(i,t,e){var n=ot.URL||ot.webkitURL,r=document.createElement("a");t=t||i.name||"download",r.download=t,r.rel="noopener",typeof i=="string"?(r.href=i,r.origin!==location.origin?Gd(r.href)?hu(i,t,e):xl(r,r.target="_blank"):xl(r)):(r.href=n.createObjectURL(i),setTimeout(function(){n.revokeObjectURL(r.href)},4e4),setTimeout(function(){xl(r)},0))}:"msSaveOrOpenBlob"in navigator?function(i,t,e){if(t=t||i.name||"download",typeof i=="string")if(Gd(i))hu(i,t,e);else{var n=document.createElement("a");n.href=i,n.target="_blank",setTimeout(function(){xl(n)})}else navigator.msSaveOrOpenBlob(function(r,a){return a===void 0?a={autoBom:!1}:Ot(a)!=="object"&&(Vt.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r}(i,e),t)}:function(i,t,e,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof i=="string")return hu(i,t,e);var r=i.type==="application/octet-stream",a=/constructor/i.test(ot.HTMLElement)||ot.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||r&&a)&&(typeof FileReader>"u"?"undefined":Ot(FileReader))==="object"){var s=new FileReader;s.onloadend=function(){var d=s.result;d=l?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},s.readAsDataURL(i)}else{var h=ot.URL||ot.webkitURL,u=h.createObjectURL(i);n?n.location=u:location.href=u,n=null,setTimeout(function(){h.revokeObjectURL(u)},4e4)}});function p0(i){var t;i=i||"",this.ok=!1,i.charAt(0)=="#"&&(i=i.substr(1,6)),i={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[i=(i=i.replace(/ /g,"")).toLowerCase()]||i;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(s){return[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(s){return[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(s){return[parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16)]}}],n=0;n<e.length;n++){var r=e[n].re,a=e[n].process,l=r.exec(i);l&&(t=a(l),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var s=this.r.toString(16),h=this.g.toString(16),u=this.b.toString(16);return s.length==1&&(s="0"+s),h.length==1&&(h="0"+h),u.length==1&&(u="0"+u),"#"+s+h+u}}var Cl=ot.atob.bind(ot),$d=ot.btoa.bind(ot);function fu(i,t){var e=i[0],n=i[1],r=i[2],a=i[3];e=Oi(e,n,r,a,t[0],7,-680876936),a=Oi(a,e,n,r,t[1],12,-389564586),r=Oi(r,a,e,n,t[2],17,606105819),n=Oi(n,r,a,e,t[3],22,-1044525330),e=Oi(e,n,r,a,t[4],7,-176418897),a=Oi(a,e,n,r,t[5],12,1200080426),r=Oi(r,a,e,n,t[6],17,-1473231341),n=Oi(n,r,a,e,t[7],22,-45705983),e=Oi(e,n,r,a,t[8],7,1770035416),a=Oi(a,e,n,r,t[9],12,-1958414417),r=Oi(r,a,e,n,t[10],17,-42063),n=Oi(n,r,a,e,t[11],22,-1990404162),e=Oi(e,n,r,a,t[12],7,1804603682),a=Oi(a,e,n,r,t[13],12,-40341101),r=Oi(r,a,e,n,t[14],17,-1502002290),e=Ri(e,n=Oi(n,r,a,e,t[15],22,1236535329),r,a,t[1],5,-165796510),a=Ri(a,e,n,r,t[6],9,-1069501632),r=Ri(r,a,e,n,t[11],14,643717713),n=Ri(n,r,a,e,t[0],20,-373897302),e=Ri(e,n,r,a,t[5],5,-701558691),a=Ri(a,e,n,r,t[10],9,38016083),r=Ri(r,a,e,n,t[15],14,-660478335),n=Ri(n,r,a,e,t[4],20,-405537848),e=Ri(e,n,r,a,t[9],5,568446438),a=Ri(a,e,n,r,t[14],9,-1019803690),r=Ri(r,a,e,n,t[3],14,-187363961),n=Ri(n,r,a,e,t[8],20,1163531501),e=Ri(e,n,r,a,t[13],5,-1444681467),a=Ri(a,e,n,r,t[2],9,-51403784),r=Ri(r,a,e,n,t[7],14,1735328473),e=zi(e,n=Ri(n,r,a,e,t[12],20,-1926607734),r,a,t[5],4,-378558),a=zi(a,e,n,r,t[8],11,-2022574463),r=zi(r,a,e,n,t[11],16,1839030562),n=zi(n,r,a,e,t[14],23,-35309556),e=zi(e,n,r,a,t[1],4,-1530992060),a=zi(a,e,n,r,t[4],11,1272893353),r=zi(r,a,e,n,t[7],16,-155497632),n=zi(n,r,a,e,t[10],23,-1094730640),e=zi(e,n,r,a,t[13],4,681279174),a=zi(a,e,n,r,t[0],11,-358537222),r=zi(r,a,e,n,t[3],16,-722521979),n=zi(n,r,a,e,t[6],23,76029189),e=zi(e,n,r,a,t[9],4,-640364487),a=zi(a,e,n,r,t[12],11,-421815835),r=zi(r,a,e,n,t[15],16,530742520),e=ji(e,n=zi(n,r,a,e,t[2],23,-995338651),r,a,t[0],6,-198630844),a=ji(a,e,n,r,t[7],10,1126891415),r=ji(r,a,e,n,t[14],15,-1416354905),n=ji(n,r,a,e,t[5],21,-57434055),e=ji(e,n,r,a,t[12],6,1700485571),a=ji(a,e,n,r,t[3],10,-1894986606),r=ji(r,a,e,n,t[10],15,-1051523),n=ji(n,r,a,e,t[1],21,-2054922799),e=ji(e,n,r,a,t[8],6,1873313359),a=ji(a,e,n,r,t[15],10,-30611744),r=ji(r,a,e,n,t[6],15,-1560198380),n=ji(n,r,a,e,t[13],21,1309151649),e=ji(e,n,r,a,t[4],6,-145523070),a=ji(a,e,n,r,t[11],10,-1120210379),r=ji(r,a,e,n,t[2],15,718787259),n=ji(n,r,a,e,t[9],21,-343485551),i[0]=Gr(e,i[0]),i[1]=Gr(n,i[1]),i[2]=Gr(r,i[2]),i[3]=Gr(a,i[3])}function Pl(i,t,e,n,r,a){return t=Gr(Gr(t,i),Gr(n,a)),Gr(t<<r|t>>>32-r,e)}function Oi(i,t,e,n,r,a,l){return Pl(t&e|~t&n,i,t,r,a,l)}function Ri(i,t,e,n,r,a,l){return Pl(t&n|e&~n,i,t,r,a,l)}function zi(i,t,e,n,r,a,l){return Pl(t^e^n,i,t,r,a,l)}function ji(i,t,e,n,r,a,l){return Pl(e^(t|~n),i,t,r,a,l)}function g0(i){var t,e=i.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=i.length;t+=64)fu(n,Wg(i.substring(t-64,t)));i=i.substring(t-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i.length;t++)r[t>>2]|=i.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(fu(n,r),t=0;t<16;t++)r[t]=0;return r[14]=8*e,fu(n,r),n}function Wg(i){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=i.charCodeAt(t)+(i.charCodeAt(t+1)<<8)+(i.charCodeAt(t+2)<<16)+(i.charCodeAt(t+3)<<24);return e}var Zd="0123456789abcdef".split("");function Hg(i){for(var t="",e=0;e<4;e++)t+=Zd[i>>8*e+4&15]+Zd[i>>8*e&15];return t}function Gg(i){return String.fromCharCode(255&i,(65280&i)>>8,(16711680&i)>>16,(4278190080&i)>>24)}function _u(i){return g0(i).map(Gg).join("")}var $g=function(i){for(var t=0;t<i.length;t++)i[t]=Hg(i[t]);return i.join("")}(g0("hello"))!="5d41402abc4b2a76b9719d911017c592";function Gr(i,t){if($g){var e=(65535&i)+(65535&t);return(i>>16)+(t>>16)+(e>>16)<<16|65535&e}return i+t&4294967295}function yu(i,t){var e,n,r,a;if(i!==e){for(var l=(r=i,a=1+(256/i.length|0),new Array(a+1).join(r)),s=[],h=0;h<256;h++)s[h]=h;var u=0;for(h=0;h<256;h++){var d=s[h];u=(u+d+l.charCodeAt(h))%256,s[h]=s[u],s[u]=d}e=i,n=s}else s=n;var v=t.length,y=0,p=0,A="";for(h=0;h<v;h++)p=(p+(d=s[y=(y+1)%256]))%256,s[y]=s[p],s[p]=d,l=s[(s[y]+s[p])%256],A+=String.fromCharCode(t.charCodeAt(h)^l);return A}var Yd={print:4,modify:8,copy:16,"annot-forms":32};function Xa(i,t,e,n){this.v=1,this.r=2;var r=192;i.forEach(function(s){if(Yd.perm!==void 0)throw new Error("Invalid permission: "+s);r+=Yd[s]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var a=(t+this.padding).substr(0,32),l=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,l),this.P=-(1+(255^r)),this.encryptionKey=_u(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=yu(this.encryptionKey,this.padding)}function Ja(i){if(/[^\u0000-\u00ff]/.test(i))throw new Error("Invalid PDF Name Object: "+i+", Only accept ASCII characters.");for(var t="",e=i.length,n=0;n<e;n++){var r=i.charCodeAt(n);t+=r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?"#"+("0"+r.toString(16)).slice(-2):i[n]}return t}function Kd(i){if(Ot(i)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,n,r){if(r=r||!1,typeof e!="string"||typeof n!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var a=Math.random().toString(35);return t[e][a]=[n,!!r],a},this.unsubscribe=function(e){for(var n in t)if(t[n][e])return delete t[n][e],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var n=Array.prototype.slice.call(arguments,1),r=[];for(var a in t[e]){var l=t[e][a];try{l[0].apply(i,n)}catch(s){ot.console&&Vt.error("jsPDF PubSub Error",s.message,s)}l[1]&&r.push(a)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Dl(i){if(!(this instanceof Dl))return new Dl(i);var t="opacity,stroke-opacity".split(",");for(var e in i)i.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=i[e]);this.id="",this.objectNumber=-1}function m0(i,t){this.gState=i,this.matrix=t,this.id="",this.objectNumber=-1}function xa(i,t,e,n,r){if(!(this instanceof xa))return new xa(i,t,e,n,r);this.type=i==="axial"?2:3,this.coords=t,this.colors=e,m0.call(this,n,r)}function Qa(i,t,e,n,r){if(!(this instanceof Qa))return new Qa(i,t,e,n,r);this.boundingBox=i,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,m0.call(this,n,r)}function Ue(i){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],r=arguments[2],a=arguments[3],l=[],s=1,h=16,u="S",d=null;Ot(i=i||{})==="object"&&(e=i.orientation,n=i.unit||n,r=i.format||r,a=i.compress||i.compressPdf||a,(d=i.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),s=typeof i.userUnit=="number"?Math.abs(i.userUnit):1,i.precision!==void 0&&(t=i.precision),i.floatPrecision!==void 0&&(h=i.floatPrecision),u=i.defaultPathOperation||"S"),l=i.filters||(a===!0?["FlateEncode"]:l),n=n||"mm",e=(""+(e||"P")).toLowerCase();var v=i.putOnlyUsedFonts||!1,y={},p={internal:{},__private__:{}};p.__private__.PubSub=Kd;var A="1.3",N=p.__private__.getPdfVersion=function(){return A};p.__private__.setPdfVersion=function(f){A=f};var I={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return I};var C=p.__private__.getPageFormat=function(f){return I[f]};r=r||"a4";var Z="compat",W="advanced",U=Z;function le(){this.saveGraphicsState(),P(new nt(dt,0,0,-dt,0,ia()*dt).toString()+" cm"),this.setFontSize(this.getFontSize()/dt),u="n",U=W}function we(){this.restoreGraphicsState(),u="S",U=Z}var pe=p.__private__.combineFontStyleAndFontWeight=function(f,_){if(f=="bold"&&_=="normal"||f=="bold"&&_==400||f=="normal"&&_=="italic"||f=="bold"&&_=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return _&&(f=_==400||_==="normal"?f==="italic"?"italic":"normal":_!=700&&_!=="bold"||f!=="normal"?(_==700?"bold":_)+""+f:"bold"),f};p.advancedAPI=function(f){var _=U===Z;return _&&le.call(this),typeof f!="function"||(f(this),_&&we.call(this)),this},p.compatAPI=function(f){var _=U===W;return _&&we.call(this),typeof f!="function"||(f(this),_&&le.call(this)),this},p.isAdvancedAPI=function(){return U===W};var X,j=function(f){if(U!==W)throw new Error(f+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ie=p.roundToPrecision=p.__private__.roundToPrecision=function(f,_){var O=t||_;if(isNaN(f)||isNaN(O))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return f.toFixed(O).replace(/0+$/,"")};X=p.hpf=p.__private__.hpf=typeof h=="number"?function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.hpf");return ie(f,h)}:h==="smart"?function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.hpf");return ie(f,f>-1&&f<1?16:5)}:function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.hpf");return ie(f,16)};var k=p.f2=p.__private__.f2=function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.f2");return ie(f,2)},F=p.__private__.f3=function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.f3");return ie(f,3)},$=p.scale=p.__private__.scale=function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.scale");return U===Z?f*dt:U===W?f:void 0},H=function(f){return $(function(_){return U===Z?ia()-_:U===W?_:void 0}(f))};p.__private__.setPrecision=p.setPrecision=function(f){typeof parseInt(f,10)=="number"&&(t=parseInt(f,10))};var ce,de="00000000000000000000000000000000",me=p.__private__.getFileId=function(){return de},oe=p.__private__.setFileId=function(f){return de=f!==void 0&&/^[a-fA-F0-9]{32}$/.test(f)?f.toUpperCase():de.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(vi=new Xa(d.userPermissions,d.userPassword,d.ownerPassword,de)),de};p.setFileId=function(f){return oe(f),this},p.getFileId=function(){return me()};var _e=p.__private__.convertDateToPDFDate=function(f){var _=f.getTimezoneOffset(),O=_<0?"+":"-",G=Math.floor(Math.abs(_/60)),ee=Math.abs(_%60),ye=[O,q(G),"'",q(ee),"'"].join("");return["D:",f.getFullYear(),q(f.getMonth()+1),q(f.getDate()),q(f.getHours()),q(f.getMinutes()),q(f.getSeconds()),ye].join("")},Ee=p.__private__.convertPDFDateToDate=function(f){var _=parseInt(f.substr(2,4),10),O=parseInt(f.substr(6,2),10)-1,G=parseInt(f.substr(8,2),10),ee=parseInt(f.substr(10,2),10),ye=parseInt(f.substr(12,2),10),Se=parseInt(f.substr(14,2),10);return new Date(_,O,G,ee,ye,Se,0)},Ce=p.__private__.setCreationDate=function(f){var _;if(f===void 0&&(f=new Date),f instanceof Date)_=_e(f);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(f))throw new Error("Invalid argument passed to jsPDF.setCreationDate");_=f}return ce=_},S=p.__private__.getCreationDate=function(f){var _=ce;return f==="jsDate"&&(_=Ee(ce)),_};p.setCreationDate=function(f){return Ce(f),this},p.getCreationDate=function(f){return S(f)};var R,q=p.__private__.padd2=function(f){return("0"+parseInt(f)).slice(-2)},Y=p.__private__.padd2Hex=function(f){return("00"+(f=f.toString())).substr(f.length)},Q=0,ne=[],he=[],fe=0,xe=[],De=[],Be=!1,Te=he;p.__private__.setCustomOutputDestination=function(f){Be=!0,Te=f};var Ze=function(f){Be||(Te=f)};p.__private__.resetCustomOutputDestination=function(){Be=!1,Te=he};var P=p.__private__.out=function(f){return f=f.toString(),fe+=f.length+1,Te.push(f),Te},Fe=p.__private__.write=function(f){return P(arguments.length===1?f.toString():Array.prototype.join.call(arguments," "))},vt=p.__private__.getArrayBuffer=function(f){for(var _=f.length,O=new ArrayBuffer(_),G=new Uint8Array(O);_--;)G[_]=f.charCodeAt(_);return O},Qe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Qe};var Ne=i.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(f){return Ne=U===W?f/dt:f,this};var et,Re=p.__private__.getFontSize=p.getFontSize=function(){return U===Z?Ne:Ne*dt},Je=i.R2L||!1;p.__private__.setR2L=p.setR2L=function(f){return Je=f,this},p.__private__.getR2L=p.getR2L=function(){return Je};var Ye,Pt=p.__private__.setZoomMode=function(f){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(f))et=f;else if(isNaN(f)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(f)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+f+'" is not recognized.');et=f}else et=parseInt(f,10)};p.__private__.getZoomMode=function(){return et};var wt,ut=p.__private__.setPageMode=function(f){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(f)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+f+'" is not recognized.');Ye=f};p.__private__.getPageMode=function(){return Ye};var St=p.__private__.setLayoutMode=function(f){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(f)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+f+'" is not recognized.');wt=f};p.__private__.getLayoutMode=function(){return wt},p.__private__.setDisplayMode=p.setDisplayMode=function(f,_,O){return Pt(f),St(_),ut(O),this};var xt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(f){if(Object.keys(xt).indexOf(f)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return xt[f]},p.__private__.getDocumentProperties=function(){return xt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(f){for(var _ in xt)xt.hasOwnProperty(_)&&f[_]&&(xt[_]=f[_]);return this},p.__private__.setDocumentProperty=function(f,_){if(Object.keys(xt).indexOf(f)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return xt[f]=_};var We,dt,$e,oi,kt,_t={},yt={},Kt=[],Ke={},Wt={},at={},ht={},Xt=null,bt=0,it=[],It=new Kd(p),Zr=i.hotfixes||[],Ti={},Xn={},Tn=[],nt=function f(_,O,G,ee,ye,Se){if(!(this instanceof f))return new f(_,O,G,ee,ye,Se);isNaN(_)&&(_=1),isNaN(O)&&(O=0),isNaN(G)&&(G=0),isNaN(ee)&&(ee=1),isNaN(ye)&&(ye=0),isNaN(Se)&&(Se=0),this._matrix=[_,O,G,ee,ye,Se]};Object.defineProperty(nt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(f){this._matrix[0]=f}}),Object.defineProperty(nt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(f){this._matrix[1]=f}}),Object.defineProperty(nt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(f){this._matrix[2]=f}}),Object.defineProperty(nt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(f){this._matrix[3]=f}}),Object.defineProperty(nt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(f){this._matrix[4]=f}}),Object.defineProperty(nt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(f){this._matrix[5]=f}}),Object.defineProperty(nt.prototype,"a",{get:function(){return this._matrix[0]},set:function(f){this._matrix[0]=f}}),Object.defineProperty(nt.prototype,"b",{get:function(){return this._matrix[1]},set:function(f){this._matrix[1]=f}}),Object.defineProperty(nt.prototype,"c",{get:function(){return this._matrix[2]},set:function(f){this._matrix[2]=f}}),Object.defineProperty(nt.prototype,"d",{get:function(){return this._matrix[3]},set:function(f){this._matrix[3]=f}}),Object.defineProperty(nt.prototype,"e",{get:function(){return this._matrix[4]},set:function(f){this._matrix[4]=f}}),Object.defineProperty(nt.prototype,"f",{get:function(){return this._matrix[5]},set:function(f){this._matrix[5]=f}}),Object.defineProperty(nt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(nt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(nt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(nt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),nt.prototype.join=function(f){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(X).join(f)},nt.prototype.multiply=function(f){var _=f.sx*this.sx+f.shy*this.shx,O=f.sx*this.shy+f.shy*this.sy,G=f.shx*this.sx+f.sy*this.shx,ee=f.shx*this.shy+f.sy*this.sy,ye=f.tx*this.sx+f.ty*this.shx+this.tx,Se=f.tx*this.shy+f.ty*this.sy+this.ty;return new nt(_,O,G,ee,ye,Se)},nt.prototype.decompose=function(){var f=this.sx,_=this.shy,O=this.shx,G=this.sy,ee=this.tx,ye=this.ty,Se=Math.sqrt(f*f+_*_),je=(f/=Se)*O+(_/=Se)*G;O-=f*je,G-=_*je;var He=Math.sqrt(O*O+G*G);return je/=He,f*(G/=He)<_*(O/=He)&&(f=-f,_=-_,je=-je,Se=-Se),{scale:new nt(Se,0,0,He,0,0),translate:new nt(1,0,0,1,ee,ye),rotate:new nt(f,_,-_,f,0,0),skew:new nt(1,0,je,1,0,0)}},nt.prototype.toString=function(f){return this.join(" ")},nt.prototype.inversed=function(){var f=this.sx,_=this.shy,O=this.shx,G=this.sy,ee=this.tx,ye=this.ty,Se=1/(f*G-_*O),je=G*Se,He=-_*Se,st=-O*Se,pt=f*Se;return new nt(je,He,st,pt,-je*ee-st*ye,-He*ee-pt*ye)},nt.prototype.applyToPoint=function(f){var _=f.x*this.sx+f.y*this.shx+this.tx,O=f.x*this.shy+f.y*this.sy+this.ty;return new rr(_,O)},nt.prototype.applyToRectangle=function(f){var _=this.applyToPoint(f),O=this.applyToPoint(new rr(f.x+f.w,f.y+f.h));return new po(_.x,_.y,O.x-_.x,O.y-_.y)},nt.prototype.clone=function(){var f=this.sx,_=this.shy,O=this.shx,G=this.sy,ee=this.tx,ye=this.ty;return new nt(f,_,O,G,ee,ye)},p.Matrix=nt;var Jn=p.matrixMult=function(f,_){return _.multiply(f)},Qn=new nt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Qn;var hn=function(f,_){if(!Wt[f]){var O=(_ instanceof xa?"Sh":"P")+(Object.keys(Ke).length+1).toString(10);_.id=O,Wt[f]=O,Ke[O]=_,It.publish("addPattern",_)}};p.ShadingPattern=xa,p.TilingPattern=Qa,p.addShadingPattern=function(f,_){return j("addShadingPattern()"),hn(f,_),this},p.beginTilingPattern=function(f){j("beginTilingPattern()"),go(f.boundingBox[0],f.boundingBox[1],f.boundingBox[2]-f.boundingBox[0],f.boundingBox[3]-f.boundingBox[1],f.matrix)},p.endTilingPattern=function(f,_){j("endTilingPattern()"),_.stream=De[R].join(`
`),hn(f,_),It.publish("endTilingPattern",_),Tn.pop().restore()};var fn,ti=p.__private__.newObject=function(){var f=Ai();return Ni(f,!0),f},Ai=p.__private__.newObjectDeferred=function(){return Q++,ne[Q]=function(){return fe},Q},Ni=function(f,_){return _=typeof _=="boolean"&&_,ne[f]=fe,_&&P(f+" 0 obj"),f},Yr=p.__private__.newAdditionalObject=function(){var f={objId:Ai(),content:""};return xe.push(f),f},xr=Ai(),xn=Ai(),Bn=p.__private__.decodeColorString=function(f){var _=f.split(" ");if(_.length!==2||_[1]!=="g"&&_[1]!=="G")_.length!==5||_[4]!=="k"&&_[4]!=="K"||(_=[(1-_[0])*(1-_[3]),(1-_[1])*(1-_[3]),(1-_[2])*(1-_[3]),"r"]);else{var O=parseFloat(_[0]);_=[O,O,O,"r"]}for(var G="#",ee=0;ee<3;ee++)G+=("0"+Math.floor(255*parseFloat(_[ee])).toString(16)).slice(-2);return G},Sn=p.__private__.encodeColorString=function(f){var _;typeof f=="string"&&(f={ch1:f});var O=f.ch1,G=f.ch2,ee=f.ch3,ye=f.ch4,Se=f.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof O=="string"&&O.charAt(0)!=="#"){var je=new p0(O);if(je.ok)O=je.toHex();else if(!/^\d*\.?\d*$/.test(O))throw new Error('Invalid color "'+O+'" passed to jsPDF.encodeColorString.')}if(typeof O=="string"&&/^#[0-9A-Fa-f]{3}$/.test(O)&&(O="#"+O[1]+O[1]+O[2]+O[2]+O[3]+O[3]),typeof O=="string"&&/^#[0-9A-Fa-f]{6}$/.test(O)){var He=parseInt(O.substr(1),16);O=He>>16&255,G=He>>8&255,ee=255&He}if(G===void 0||ye===void 0&&O===G&&G===ee)_=typeof O=="string"?O+" "+Se[0]:f.precision===2?k(O/255)+" "+Se[0]:F(O/255)+" "+Se[0];else if(ye===void 0||Ot(ye)==="object"){if(ye&&!isNaN(ye.a)&&ye.a===0)return["1.","1.","1.",Se[1]].join(" ");_=typeof O=="string"?[O,G,ee,Se[1]].join(" "):f.precision===2?[k(O/255),k(G/255),k(ee/255),Se[1]].join(" "):[F(O/255),F(G/255),F(ee/255),Se[1]].join(" ")}else _=typeof O=="string"?[O,G,ee,ye,Se[2]].join(" "):f.precision===2?[k(O),k(G),k(ee),k(ye),Se[2]].join(" "):[F(O),F(G),F(ee),F(ye),Se[2]].join(" ");return _},An=p.__private__.getFilters=function(){return l},dn=p.__private__.putStream=function(f){var _=(f=f||{}).data||"",O=f.filters||An(),G=f.alreadyAppliedFilters||[],ee=f.addLength1||!1,ye=_.length,Se=f.objectId,je=function(_i){return _i};if(d!==null&&Se===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(je=vi.encryptor(Se,0));var He={};O===!0&&(O=["FlateEncode"]);var st=f.additionalKeyValues||[],pt=(He=Ue.API.processDataByFilters!==void 0?Ue.API.processDataByFilters(_,O):{data:_,reverseChain:[]}).reverseChain+(Array.isArray(G)?G.join(" "):G.toString());if(He.data.length!==0&&(st.push({key:"Length",value:He.data.length}),ee===!0&&st.push({key:"Length1",value:ye})),pt.length!=0)if(pt.split("/").length-1==1)st.push({key:"Filter",value:pt});else{st.push({key:"Filter",value:"["+pt+"]"});for(var Nt=0;Nt<st.length;Nt+=1)if(st[Nt].key==="DecodeParms"){for(var ei=[],gi=0;gi<He.reverseChain.split("/").length-1;gi+=1)ei.push("null");ei.push(st[Nt].value),st[Nt].value="["+ei.join(" ")+"]"}}P("<<");for(var Ht=0;Ht<st.length;Ht++)P("/"+st[Ht].key+" "+st[Ht].value);P(">>"),He.data.length!==0&&(P("stream"),P(je(He.data)),P("endstream"))},Kr=p.__private__.putPage=function(f){var _=f.number,O=f.data,G=f.objId,ee=f.contentsObjId;Ni(G,!0),P("<</Type /Page"),P("/Parent "+f.rootDictionaryObjId+" 0 R"),P("/Resources "+f.resourceDictionaryObjId+" 0 R"),P("/MediaBox ["+parseFloat(X(f.mediaBox.bottomLeftX))+" "+parseFloat(X(f.mediaBox.bottomLeftY))+" "+X(f.mediaBox.topRightX)+" "+X(f.mediaBox.topRightY)+"]"),f.cropBox!==null&&P("/CropBox ["+X(f.cropBox.bottomLeftX)+" "+X(f.cropBox.bottomLeftY)+" "+X(f.cropBox.topRightX)+" "+X(f.cropBox.topRightY)+"]"),f.bleedBox!==null&&P("/BleedBox ["+X(f.bleedBox.bottomLeftX)+" "+X(f.bleedBox.bottomLeftY)+" "+X(f.bleedBox.topRightX)+" "+X(f.bleedBox.topRightY)+"]"),f.trimBox!==null&&P("/TrimBox ["+X(f.trimBox.bottomLeftX)+" "+X(f.trimBox.bottomLeftY)+" "+X(f.trimBox.topRightX)+" "+X(f.trimBox.topRightY)+"]"),f.artBox!==null&&P("/ArtBox ["+X(f.artBox.bottomLeftX)+" "+X(f.artBox.bottomLeftY)+" "+X(f.artBox.topRightX)+" "+X(f.artBox.topRightY)+"]"),typeof f.userUnit=="number"&&f.userUnit!==1&&P("/UserUnit "+f.userUnit),It.publish("putPage",{objId:G,pageContext:it[_],pageNumber:_,page:O}),P("/Contents "+ee+" 0 R"),P(">>"),P("endobj");var ye=O.join(`
`);return U===W&&(ye+=`
Q`),Ni(ee,!0),dn({data:ye,filters:An(),objectId:ee}),P("endobj"),G},On=p.__private__.putPages=function(){var f,_,O=[];for(f=1;f<=bt;f++)it[f].objId=Ai(),it[f].contentsObjId=Ai();for(f=1;f<=bt;f++)O.push(Kr({number:f,data:De[f],objId:it[f].objId,contentsObjId:it[f].contentsObjId,mediaBox:it[f].mediaBox,cropBox:it[f].cropBox,bleedBox:it[f].bleedBox,trimBox:it[f].trimBox,artBox:it[f].artBox,userUnit:it[f].userUnit,rootDictionaryObjId:xr,resourceDictionaryObjId:xn}));Ni(xr,!0),P("<</Type /Pages");var G="/Kids [";for(_=0;_<bt;_++)G+=O[_]+" 0 R ";P(G+"]"),P("/Count "+bt),P(">>"),P("endobj"),It.publish("postPutPages")},Xr=function(f){It.publish("putFont",{font:f,out:P,newObject:ti,putStream:dn}),f.isAlreadyPutted!==!0&&(f.objectNumber=ti(),P("<<"),P("/Type /Font"),P("/BaseFont /"+Ja(f.postScriptName)),P("/Subtype /Type1"),typeof f.encoding=="string"&&P("/Encoding /"+f.encoding),P("/FirstChar 32"),P("/LastChar 255"),P(">>"),P("endobj"))},Ma=function(f){f.objectNumber=ti();var _=[];_.push({key:"Type",value:"/XObject"}),_.push({key:"Subtype",value:"/Form"}),_.push({key:"BBox",value:"["+[X(f.x),X(f.y),X(f.x+f.width),X(f.y+f.height)].join(" ")+"]"}),_.push({key:"Matrix",value:"["+f.matrix.toString()+"]"});var O=f.pages[1].join(`
`);dn({data:O,additionalKeyValues:_,objectId:f.objectNumber}),P("endobj")},ka=function(f,_){_||(_=21);var O=ti(),G=function(Se,je){var He,st=[],pt=1/(je-1);for(He=0;He<1;He+=pt)st.push(He);if(st.push(1),Se[0].offset!=0){var Nt={offset:0,color:Se[0].color};Se.unshift(Nt)}if(Se[Se.length-1].offset!=1){var ei={offset:1,color:Se[Se.length-1].color};Se.push(ei)}for(var gi="",Ht=0,_i=0;_i<st.length;_i++){for(He=st[_i];He>Se[Ht+1].offset;)Ht++;var mi=Se[Ht].offset,Li=(He-mi)/(Se[Ht+1].offset-mi),sr=Se[Ht].color,Mn=Se[Ht+1].color;gi+=Y(Math.round((1-Li)*sr[0]+Li*Mn[0]).toString(16))+Y(Math.round((1-Li)*sr[1]+Li*Mn[1]).toString(16))+Y(Math.round((1-Li)*sr[2]+Li*Mn[2]).toString(16))}return gi.trim()}(f.colors,_),ee=[];ee.push({key:"FunctionType",value:"0"}),ee.push({key:"Domain",value:"[0.0 1.0]"}),ee.push({key:"Size",value:"["+_+"]"}),ee.push({key:"BitsPerSample",value:"8"}),ee.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ee.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),dn({data:G,additionalKeyValues:ee,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:O}),P("endobj"),f.objectNumber=ti(),P("<< /ShadingType "+f.type),P("/ColorSpace /DeviceRGB");var ye="/Coords ["+X(parseFloat(f.coords[0]))+" "+X(parseFloat(f.coords[1]))+" ";f.type===2?ye+=X(parseFloat(f.coords[2]))+" "+X(parseFloat(f.coords[3])):ye+=X(parseFloat(f.coords[2]))+" "+X(parseFloat(f.coords[3]))+" "+X(parseFloat(f.coords[4]))+" "+X(parseFloat(f.coords[5])),P(ye+="]"),f.matrix&&P("/Matrix ["+f.matrix.toString()+"]"),P("/Function "+O+" 0 R"),P("/Extend [true true]"),P(">>"),P("endobj")},Na=function(f,_){var O=Ai(),G=ti();_.push({resourcesOid:O,objectOid:G}),f.objectNumber=G;var ee=[];ee.push({key:"Type",value:"/Pattern"}),ee.push({key:"PatternType",value:"1"}),ee.push({key:"PaintType",value:"1"}),ee.push({key:"TilingType",value:"1"}),ee.push({key:"BBox",value:"["+f.boundingBox.map(X).join(" ")+"]"}),ee.push({key:"XStep",value:X(f.xStep)}),ee.push({key:"YStep",value:X(f.yStep)}),ee.push({key:"Resources",value:O+" 0 R"}),f.matrix&&ee.push({key:"Matrix",value:"["+f.matrix.toString()+"]"}),dn({data:f.stream,additionalKeyValues:ee,objectId:f.objectNumber}),P("endobj")},Ol=function(f){for(var _ in f.objectNumber=ti(),P("<<"),f)switch(_){case"opacity":P("/ca "+k(f[_]));break;case"stroke-opacity":P("/CA "+k(f[_]))}P(">>"),P("endobj")},ao=function(f){Ni(f.resourcesOid,!0),P("<<"),P("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var _ in P("/Font <<"),_t)_t.hasOwnProperty(_)&&(v===!1||v===!0&&y.hasOwnProperty(_))&&P("/"+_+" "+_t[_].objectNumber+" 0 R");P(">>")}(),function(){if(Object.keys(Ke).length>0){for(var _ in P("/Shading <<"),Ke)Ke.hasOwnProperty(_)&&Ke[_]instanceof xa&&Ke[_].objectNumber>=0&&P("/"+_+" "+Ke[_].objectNumber+" 0 R");It.publish("putShadingPatternDict"),P(">>")}}(),function(_){if(Object.keys(Ke).length>0){for(var O in P("/Pattern <<"),Ke)Ke.hasOwnProperty(O)&&Ke[O]instanceof p.TilingPattern&&Ke[O].objectNumber>=0&&Ke[O].objectNumber<_&&P("/"+O+" "+Ke[O].objectNumber+" 0 R");It.publish("putTilingPatternDict"),P(">>")}}(f.objectOid),function(){if(Object.keys(at).length>0){var _;for(_ in P("/ExtGState <<"),at)at.hasOwnProperty(_)&&at[_].objectNumber>=0&&P("/"+_+" "+at[_].objectNumber+" 0 R");It.publish("putGStateDict"),P(">>")}}(),function(){for(var _ in P("/XObject <<"),Ti)Ti.hasOwnProperty(_)&&Ti[_].objectNumber>=0&&P("/"+_+" "+Ti[_].objectNumber+" 0 R");It.publish("putXobjectDict"),P(">>")}(),P(">>"),P("endobj")},ls=function(f){yt[f.fontName]=yt[f.fontName]||{},yt[f.fontName][f.fontStyle]=f.id},cs=function(f,_,O,G,ee){var ye={id:"F"+(Object.keys(_t).length+1).toString(10),postScriptName:f,fontName:_,fontStyle:O,encoding:G,isStandardFont:ee||!1,metadata:{}};return It.publish("addFont",{font:ye,instance:this}),_t[ye.id]=ye,ls(ye),ye.id},pn=p.__private__.pdfEscape=p.pdfEscape=function(f,_){return function(O,G){var ee,ye,Se,je,He,st,pt,Nt,ei;if(Se=(G=G||{}).sourceEncoding||"Unicode",He=G.outputEncoding,(G.autoencode||He)&&_t[We].metadata&&_t[We].metadata[Se]&&_t[We].metadata[Se].encoding&&(je=_t[We].metadata[Se].encoding,!He&&_t[We].encoding&&(He=_t[We].encoding),!He&&je.codePages&&(He=je.codePages[0]),typeof He=="string"&&(He=je[He]),He)){for(pt=!1,st=[],ee=0,ye=O.length;ee<ye;ee++)(Nt=He[O.charCodeAt(ee)])?st.push(String.fromCharCode(Nt)):st.push(O[ee]),st[ee].charCodeAt(0)>>8&&(pt=!0);O=st.join("")}for(ee=O.length;pt===void 0&&ee!==0;)O.charCodeAt(ee-1)>>8&&(pt=!0),ee--;if(!pt)return O;for(st=G.noBOM?[]:[254,255],ee=0,ye=O.length;ee<ye;ee++){if((ei=(Nt=O.charCodeAt(ee))>>8)>>8)throw new Error("Character at position "+ee+" of string '"+O+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");st.push(ei),st.push(Nt-(ei<<8))}return String.fromCharCode.apply(void 0,st)}(f,_).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},oo=p.__private__.beginPage=function(f){De[++bt]=[],it[bt]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(f[0]),topRightY:Number(f[1])}},hs(bt),Ze(De[R])},us=function(f,_){var O,G,ee;switch(e=_||e,typeof f=="string"&&(O=C(f.toLowerCase()),Array.isArray(O)&&(G=O[0],ee=O[1])),Array.isArray(f)&&(G=f[0]*dt,ee=f[1]*dt),isNaN(G)&&(G=r[0],ee=r[1]),(G>14400||ee>14400)&&(Vt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),G=Math.min(14400,G),ee=Math.min(14400,ee)),r=[G,ee],e.substr(0,1)){case"l":ee>G&&(r=[ee,G]);break;case"p":G>ee&&(r=[ee,G])}oo(r),lt(co),P(Pa),ho!==0&&P(ho+" J"),fo!==0&&P(fo+" j"),It.publish("addPage",{pageNumber:bt})},so=function(f){f>0&&f<=bt&&(De.splice(f,1),it.splice(f,1),bt--,R>bt&&(R=bt),this.setPage(R))},hs=function(f){f>0&&f<=bt&&(R=f)},fs=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return De.length-1},ds=function(f,_,O){var G,ee=void 0;return O=O||{},f=f!==void 0?f:_t[We].fontName,_=_!==void 0?_:_t[We].fontStyle,G=f.toLowerCase(),yt[G]!==void 0&&yt[G][_]!==void 0?ee=yt[G][_]:yt[f]!==void 0&&yt[f][_]!==void 0?ee=yt[f][_]:O.disableWarning===!1&&Vt.warn("Unable to look up font label for font '"+f+"', '"+_+"'. Refer to getFontList() for available fonts."),ee||O.noFallback||(ee=yt.times[_])==null&&(ee=yt.times.normal),ee},Rn=p.__private__.putInfo=function(){var f=ti(),_=function(G){return G};for(var O in d!==null&&(_=vi.encryptor(f,0)),P("<<"),P("/Producer ("+pn(_("jsPDF "+Ue.version))+")"),xt)xt.hasOwnProperty(O)&&xt[O]&&P("/"+O.substr(0,1).toUpperCase()+O.substr(1)+" ("+pn(_(xt[O]))+")");P("/CreationDate ("+pn(_(ce))+")"),P(">>"),P("endobj")},La=p.__private__.putCatalog=function(f){var _=(f=f||{}).rootDictionaryObjId||xr;switch(ti(),P("<<"),P("/Type /Catalog"),P("/Pages "+_+" 0 R"),et||(et="fullwidth"),et){case"fullwidth":P("/OpenAction [3 0 R /FitH null]");break;case"fullheight":P("/OpenAction [3 0 R /FitV null]");break;case"fullpage":P("/OpenAction [3 0 R /Fit]");break;case"original":P("/OpenAction [3 0 R /XYZ null null 1]");break;default:var O=""+et;O.substr(O.length-1)==="%"&&(et=parseInt(et)/100),typeof et=="number"&&P("/OpenAction [3 0 R /XYZ null null "+k(et)+"]")}switch(wt||(wt="continuous"),wt){case"continuous":P("/PageLayout /OneColumn");break;case"single":P("/PageLayout /SinglePage");break;case"two":case"twoleft":P("/PageLayout /TwoColumnLeft");break;case"tworight":P("/PageLayout /TwoColumnRight")}Ye&&P("/PageMode /"+Ye),It.publish("putCatalog"),P(">>"),P("endobj")},Rl=p.__private__.putTrailer=function(){P("trailer"),P("<<"),P("/Size "+(Q+1)),P("/Root "+Q+" 0 R"),P("/Info "+(Q-1)+" 0 R"),d!==null&&P("/Encrypt "+vi.oid+" 0 R"),P("/ID [ <"+de+"> <"+de+"> ]"),P(">>")},pi=p.__private__.putHeader=function(){P("%PDF-"+A),P("%\xBA\xDF\xAC\xE0")},ps=p.__private__.putXRef=function(){var f="0000000000";P("xref"),P("0 "+(Q+1)),P("0000000000 65535 f ");for(var _=1;_<=Q;_++)typeof ne[_]=="function"?P((f+ne[_]()).slice(-10)+" 00000 n "):ne[_]!==void 0?P((f+ne[_]).slice(-10)+" 00000 n "):P("0000000000 00000 n ")},zn=p.__private__.buildDocument=function(){var f;Q=0,fe=0,he=[],ne=[],xe=[],xr=Ai(),xn=Ai(),Ze(he),It.publish("buildDocument"),pi(),On(),function(){It.publish("putAdditionalObjects");for(var O=0;O<xe.length;O++){var G=xe[O];Ni(G.objId,!0),P(G.content),P("endobj")}It.publish("postPutAdditionalObjects")}(),f=[],function(){for(var O in _t)_t.hasOwnProperty(O)&&(v===!1||v===!0&&y.hasOwnProperty(O))&&Xr(_t[O])}(),function(){var O;for(O in at)at.hasOwnProperty(O)&&Ol(at[O])}(),function(){for(var O in Ti)Ti.hasOwnProperty(O)&&Ma(Ti[O])}(),function(O){var G;for(G in Ke)Ke.hasOwnProperty(G)&&(Ke[G]instanceof xa?ka(Ke[G]):Ke[G]instanceof Qa&&Na(Ke[G],O))}(f),It.publish("putResources"),f.forEach(ao),ao({resourcesOid:xn,objectOid:Number.MAX_SAFE_INTEGER}),It.publish("postPutResources"),d!==null&&(vi.oid=ti(),P("<<"),P("/Filter /Standard"),P("/V "+vi.v),P("/R "+vi.r),P("/U <"+vi.toHexString(vi.U)+">"),P("/O <"+vi.toHexString(vi.O)+">"),P("/P "+vi.P),P(">>"),P("endobj")),Rn(),La();var _=fe;return ps(),Rl(),P("startxref"),P(""+_),P("%%EOF"),Ze(De[R]),he.join(`
`)},Da=p.__private__.getBlob=function(f){return new Blob([vt(f)],{type:"application/pdf"})},gs=p.output=p.__private__.output=(fn=function(f,_){switch(typeof(_=_||{})=="string"?_={filename:_}:_.filename=_.filename||"generated.pdf",f){case void 0:return zn();case"save":p.save(_.filename);break;case"arraybuffer":return vt(zn());case"blob":return Da(zn());case"bloburi":case"bloburl":if(ot.URL!==void 0&&typeof ot.URL.createObjectURL=="function")return ot.URL&&ot.URL.createObjectURL(Da(zn()))||void 0;Vt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var O="",G=zn();try{O=$d(G)}catch{O=$d(unescape(encodeURIComponent(G)))}return"data:application/pdf;filename="+_.filename+";base64,"+O;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ot)==="[object Window]"){var ee="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ye=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';_.pdfObjectUrl&&(ee=_.pdfObjectUrl,ye="");var Se='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ee+'"'+ye+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(_)+");<\/script></body></html>",je=ot.open();return je!==null&&je.document.write(Se),je}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ot)==="[object Window]"){var He='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(_.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+_.filename+'" width="500px" height="400px" /></body></html>',st=ot.open();if(st!==null){st.document.write(He);var pt=this;st.document.documentElement.querySelector("#pdfViewer").onload=function(){st.document.title=_.filename,st.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(pt.output("bloburl"))}}return st}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ot)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Nt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",_)+'"></iframe></body></html>',ei=ot.open();if(ei!==null&&(ei.document.write(Nt),ei.document.title=_.filename),ei||typeof safari>"u")return ei;break;case"datauri":case"dataurl":return ot.document.location.href=this.output("datauristring",_);default:return null}},fn.foo=function(){try{return fn.apply(this,arguments)}catch(O){var f=O.stack||"";~f.indexOf(" at ")&&(f=f.split(" at ")[1]);var _="Error in function "+f.split(`
`)[0].split("<")[0]+": "+O.message;if(!ot.console)throw new Error(_);ot.console.error(_,O),ot.alert&&alert(_)}},fn.foo.bar=fn,fn.foo),gn=function(f){return Array.isArray(Zr)===!0&&Zr.indexOf(f)>-1};switch(n){case"pt":dt=1;break;case"mm":dt=72/25.4;break;case"cm":dt=72/2.54;break;case"in":dt=72;break;case"px":dt=gn("px_scaling")==1?.75:96/72;break;case"pc":case"em":dt=12;break;case"ex":dt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);dt=n}var vi=null;Ce(),oe();var er=p.__private__.getPageInfo=p.getPageInfo=function(f){if(isNaN(f)||f%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:it[f].objId,pageNumber:f,pageContext:it[f]}},ms=p.__private__.getPageInfoByObjId=function(f){if(isNaN(f)||f%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var _ in it)if(it[_].objId===f)break;return er(_)},zl=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:it[R].objId,pageNumber:R,pageContext:it[R]}};p.addPage=function(){return us.apply(this,arguments),this},p.setPage=function(){return hs.apply(this,arguments),Ze.call(this,De[R]),this},p.insertPage=function(f){return this.addPage(),this.movePage(R,f),this},p.movePage=function(f,_){var O,G;if(f>_){O=De[f],G=it[f];for(var ee=f;ee>_;ee--)De[ee]=De[ee-1],it[ee]=it[ee-1];De[_]=O,it[_]=G,this.setPage(_)}else if(f<_){O=De[f],G=it[f];for(var ye=f;ye<_;ye++)De[ye]=De[ye+1],it[ye]=it[ye+1];De[_]=O,it[_]=G,this.setPage(_)}return this},p.deletePage=function(){return so.apply(this,arguments),this},p.__private__.text=p.text=function(f,_,O,G,ee){var ye,Se,je,He,st,pt,Nt,ei,gi,Ht=(G=G||{}).scope||this;if(typeof f=="number"&&typeof _=="number"&&(typeof O=="string"||Array.isArray(O))){var _i=O;O=_,_=f,f=_i}if(arguments[3]instanceof nt==0?(je=arguments[4],He=arguments[5],Ot(Nt=arguments[3])==="object"&&Nt!==null||(typeof je=="string"&&(He=je,je=null),typeof Nt=="string"&&(He=Nt,Nt=null),typeof Nt=="number"&&(je=Nt,Nt=null),G={flags:Nt,angle:je,align:He})):(j("The transform parameter of text() with a Matrix value"),gi=ee),isNaN(_)||isNaN(O)||f==null)throw new Error("Invalid arguments passed to jsPDF.text");if(f.length===0)return Ht;var mi,Li="",sr=typeof G.lineHeightFactor=="number"?G.lineHeightFactor:Qr,Mn=Ht.internal.scaleFactor;function lr(Ft){return Ft=Ft.split("	").join(Array(G.TabLen||9).join(" ")),pn(Ft,Nt)}function vo(Ft){for(var Rt,li=Ft.concat(),yi=[],hr=li.length;hr--;)typeof(Rt=li.shift())=="string"?yi.push(Rt):Array.isArray(Ft)&&(Rt.length===1||Rt[1]===void 0&&Rt[2]===void 0)?yi.push(Rt[0]):yi.push([Rt[0],Rt[1],Rt[2]]);return yi}function Fa(Ft,Rt){var li;if(typeof Ft=="string")li=Rt(Ft)[0];else if(Array.isArray(Ft)){for(var yi,hr,ko=Ft.concat(),Oa=[],ks=ko.length;ks--;)typeof(yi=ko.shift())=="string"?Oa.push(Rt(yi)[0]):Array.isArray(yi)&&typeof yi[0]=="string"&&(hr=Rt(yi[0],yi[1],yi[2]),Oa.push([hr[0],hr[1],hr[2]]));li=Oa}return li}var Sr=!1,na=!0;if(typeof f=="string")Sr=!0;else if(Array.isArray(f)){var ra=f.concat();Se=[];for(var Ar,Di=ra.length;Di--;)(typeof(Ar=ra.shift())!="string"||Array.isArray(Ar)&&typeof Ar[0]!="string")&&(na=!1);Sr=na}if(Sr===!1)throw new Error('Type of text must be string or Array. "'+f+'" is not recognized.');typeof f=="string"&&(f=f.match(/[\r?\n]/)?f.split(/\r\n|\r|\n/g):[f]);var aa=Ne/Ht.internal.scaleFactor,oa=aa*(sr-1);switch(G.baseline){case"bottom":O-=oa;break;case"top":O+=aa-oa;break;case"hanging":O+=aa-2*oa;break;case"middle":O+=aa/2-oa}if((pt=G.maxWidth||0)>0&&(typeof f=="string"?f=Ht.splitTextToSize(f,pt):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(Ft,Rt){return Ft.concat(Ht.splitTextToSize(Rt,pt))},[]))),ye={text:f,x:_,y:O,options:G,mutex:{pdfEscape:pn,activeFontKey:We,fonts:_t,activeFontSize:Ne}},It.publish("preProcessText",ye),f=ye.text,je=(G=ye.options).angle,gi instanceof nt==0&&je&&typeof je=="number"){je*=Math.PI/180,G.rotationDirection===0&&(je=-je),U===W&&(je=-je);var _o=Math.cos(je),yo=Math.sin(je);gi=new nt(_o,yo,-yo,_o,0,0)}else je&&je instanceof nt&&(gi=je);U!==W||gi||(gi=Qn),(st=G.charSpace||nr)!==void 0&&(Li+=X($(st))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ei=G.horizontalScale)!==void 0&&(Li+=X(100*ei)+` Tz
`),G.lang;var Ui=-1,cr=G.renderingMode!==void 0?G.renderingMode:G.stroke,Ta=Ht.internal.getCurrentPageInfo().pageContext;switch(cr){case 0:case!1:case"fill":Ui=0;break;case 1:case!0:case"stroke":Ui=1;break;case 2:case"fillThenStroke":Ui=2;break;case 3:case"invisible":Ui=3;break;case 4:case"fillAndAddForClipping":Ui=4;break;case 5:case"strokeAndAddPathForClipping":Ui=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ui=6;break;case 7:case"addToPathForClipping":Ui=7}var Cs=Ta.usedRenderingMode!==void 0?Ta.usedRenderingMode:-1;Ui!==-1?Li+=Ui+` Tr
`:Cs!==-1&&(Li+=`0 Tr
`),Ui!==-1&&(Ta.usedRenderingMode=Ui),He=G.align||"left";var mn,sa=Ne*sr,bo=Ht.internal.pageSize.getWidth(),wo=_t[We];st=G.charSpace||nr,pt=G.maxWidth||0,Nt=Object.assign({autoencode:!0,noBOM:!0},G.flags);var Cr=[],la=function(Ft){return Ht.getStringUnitWidth(Ft,{font:wo,charSpace:st,fontSize:Ne,doKerning:!1})*Ne/Mn};if(Object.prototype.toString.call(f)==="[object Array]"){var Qi;Se=vo(f),He!=="left"&&(mn=Se.map(la));var en,Mr=0;if(He==="right"){_-=mn[0],f=[],Di=Se.length;for(var ur=0;ur<Di;ur++)ur===0?(en=tr(_),Qi=ir(O)):(en=$(Mr-mn[ur]),Qi=-sa),f.push([Se[ur],en,Qi]),Mr=mn[ur]}else if(He==="center"){_-=mn[0]/2,f=[],Di=Se.length;for(var kr=0;kr<Di;kr++)kr===0?(en=tr(_),Qi=ir(O)):(en=$((Mr-mn[kr])/2),Qi=-sa),f.push([Se[kr],en,Qi]),Mr=mn[kr]}else if(He==="left"){f=[],Di=Se.length;for(var xo=0;xo<Di;xo++)f.push(Se[xo])}else if(He==="justify"&&wo.encoding==="Identity-H"){f=[],Di=Se.length,pt=pt!==0?pt:bo;for(var Ba=0,si=0;si<Di;si++)if(Qi=si===0?ir(O):-sa,en=si===0?tr(_):Ba,si<Di-1){var Ms=$((pt-mn[si])/(Se[si].split(" ").length-1)),Un=Se[si].split(" ");f.push([Un[0]+" ",en,Qi]),Ba=0;for(var qn=1;qn<Un.length;qn++){var So=(la(Un[qn-1]+" "+Un[qn])-la(Un[qn]))*Mn+Ms;qn==Un.length-1?f.push([Un[qn],So,0]):f.push([Un[qn]+" ",So,0]),Ba-=So}}else f.push([Se[si],en,Qi]);f.push(["",Ba,0])}else{if(He!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(f=[],Di=Se.length,pt=pt!==0?pt:bo,si=0;si<Di;si++){Qi=si===0?ir(O):-sa,en=si===0?tr(_):0;var Ao=Se[si].split(" ").length-1,Co=Ao>0?(pt-mn[si])/Ao:0;si<Di-1?Cr.push(X($(Co))):Cr.push(0),f.push([Se[si],en,Qi])}}}(typeof G.R2L=="boolean"?G.R2L:Je)===!0&&(f=Fa(f,function(Ft,Rt,li){return[Ft.split("").reverse().join(""),Rt,li]})),ye={text:f,x:_,y:O,options:G,mutex:{pdfEscape:pn,activeFontKey:We,fonts:_t,activeFontSize:Ne}},It.publish("postProcessText",ye),f=ye.text,mi=ye.mutex.isHex||!1;var Mo=_t[We].encoding;Mo!=="WinAnsiEncoding"&&Mo!=="StandardEncoding"||(f=Fa(f,function(Ft,Rt,li){return[lr(Ft),Rt,li]})),Se=vo(f),f=[];for(var Nr,Lr,Dr,ca=Array.isArray(Se[0])?1:0,Er="",ua=function(Ft,Rt,li){var yi="";return li instanceof nt?(li=typeof G.angle=="number"?Jn(li,new nt(1,0,0,1,Ft,Rt)):Jn(new nt(1,0,0,1,Ft,Rt),li),U===W&&(li=Jn(new nt(1,0,0,-1,0,0),li)),yi=li.join(" ")+` Tm
`):yi=X(Ft)+" "+X(Rt)+` Td
`,yi},vn=0;vn<Se.length;vn++){switch(Er="",ca){case 1:Dr=(mi?"<":"(")+Se[vn][0]+(mi?">":")"),Nr=parseFloat(Se[vn][1]),Lr=parseFloat(Se[vn][2]);break;case 0:Dr=(mi?"<":"(")+Se[vn]+(mi?">":")"),Nr=tr(_),Lr=ir(O)}Cr!==void 0&&Cr[vn]!==void 0&&(Er=Cr[vn]+` Tw
`),vn===0?f.push(Er+ua(Nr,Lr,gi)+Dr):ca===0?f.push(Er+Dr):ca===1&&f.push(Er+ua(Nr,Lr,gi)+Dr)}f=ca===0?f.join(` Tj
T* `):f.join(` Tj
`),f+=` Tj
`;var Vn=`BT
/`;return Vn+=We+" "+Ne+` Tf
`,Vn+=X(Ne*sr)+` TL
`,Vn+=ea+`
`,Vn+=Li,Vn+=f,P(Vn+="ET"),y[We]=!0,Ht};var jl=p.__private__.clip=p.clip=function(f){return P(f==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return jl("evenodd")},p.__private__.discardPath=p.discardPath=function(){return P("n"),this};var jn=p.__private__.isValidStyle=function(f){var _=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(f)!==-1&&(_=!0),_};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(f){return jn(f)&&(u=f),this};var vs=p.__private__.getStyle=p.getStyle=function(f){var _=u;switch(f){case"D":case"S":_="S";break;case"F":_="f";break;case"FD":case"DF":_="B";break;case"f":case"f*":case"B":case"B*":_=f}return _},_s=p.close=function(){return P("h"),this};p.stroke=function(){return P("S"),this},p.fill=function(f){return Ea("f",f),this},p.fillEvenOdd=function(f){return Ea("f*",f),this},p.fillStroke=function(f){return Ea("B",f),this},p.fillStrokeEvenOdd=function(f){return Ea("B*",f),this};var Ea=function(f,_){Ot(_)==="object"?ql(_,f):P(f)},Jr=function(f){f===null||U===W&&f===void 0||(f=vs(f),P(f))};function Ul(f,_,O,G,ee){var ye=new Qa(_||this.boundingBox,O||this.xStep,G||this.yStep,this.gState,ee||this.matrix);ye.stream=this.stream;var Se=f+"$$"+this.cloneIndex+++"$$";return hn(Se,ye),ye}var ql=function(f,_){var O=Wt[f.key],G=Ke[O];if(G instanceof xa)P("q"),P(Vl(_)),G.gState&&p.setGState(G.gState),P(f.matrix.toString()+" cm"),P("/"+O+" sh"),P("Q");else if(G instanceof Qa){var ee=new nt(1,0,0,-1,0,ia());f.matrix&&(ee=ee.multiply(f.matrix||Qn),O=Ul.call(G,f.key,f.boundingBox,f.xStep,f.yStep,ee).id),P("q"),P("/Pattern cs"),P("/"+O+" scn"),G.gState&&p.setGState(G.gState),P(_),P("Q")}},Vl=function(f){switch(f){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},lo=p.moveTo=function(f,_){return P(X($(f))+" "+X(H(_))+" m"),this},ys=p.lineTo=function(f,_){return P(X($(f))+" "+X(H(_))+" l"),this},Cn=p.curveTo=function(f,_,O,G,ee,ye){return P([X($(f)),X(H(_)),X($(O)),X(H(G)),X($(ee)),X(H(ye)),"c"].join(" ")),this};p.__private__.line=p.line=function(f,_,O,G,ee){if(isNaN(f)||isNaN(_)||isNaN(O)||isNaN(G)||!jn(ee))throw new Error("Invalid arguments passed to jsPDF.line");return U===Z?this.lines([[O-f,G-_]],f,_,[1,1],ee||"S"):this.lines([[O-f,G-_]],f,_,[1,1]).stroke()},p.__private__.lines=p.lines=function(f,_,O,G,ee,ye){var Se,je,He,st,pt,Nt,ei,gi,Ht,_i,mi,Li;if(typeof f=="number"&&(Li=O,O=_,_=f,f=Li),G=G||[1,1],ye=ye||!1,isNaN(_)||isNaN(O)||!Array.isArray(f)||!Array.isArray(G)||!jn(ee)||typeof ye!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(lo(_,O),Se=G[0],je=G[1],st=f.length,_i=_,mi=O,He=0;He<st;He++)(pt=f[He]).length===2?(_i=pt[0]*Se+_i,mi=pt[1]*je+mi,ys(_i,mi)):(Nt=pt[0]*Se+_i,ei=pt[1]*je+mi,gi=pt[2]*Se+_i,Ht=pt[3]*je+mi,_i=pt[4]*Se+_i,mi=pt[5]*je+mi,Cn(Nt,ei,gi,Ht,_i,mi));return ye&&_s(),Jr(ee),this},p.path=function(f){for(var _=0;_<f.length;_++){var O=f[_],G=O.c;switch(O.op){case"m":lo(G[0],G[1]);break;case"l":ys(G[0],G[1]);break;case"c":Cn.apply(this,G);break;case"h":_s()}}return this},p.__private__.rect=p.rect=function(f,_,O,G,ee){if(isNaN(f)||isNaN(_)||isNaN(O)||isNaN(G)||!jn(ee))throw new Error("Invalid arguments passed to jsPDF.rect");return U===Z&&(G=-G),P([X($(f)),X(H(_)),X($(O)),X($(G)),"re"].join(" ")),Jr(ee),this},p.__private__.triangle=p.triangle=function(f,_,O,G,ee,ye,Se){if(isNaN(f)||isNaN(_)||isNaN(O)||isNaN(G)||isNaN(ee)||isNaN(ye)||!jn(Se))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[O-f,G-_],[ee-O,ye-G],[f-ee,_-ye]],f,_,[1,1],Se,!0),this},p.__private__.roundedRect=p.roundedRect=function(f,_,O,G,ee,ye,Se){if(isNaN(f)||isNaN(_)||isNaN(O)||isNaN(G)||isNaN(ee)||isNaN(ye)||!jn(Se))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var je=4/3*(Math.SQRT2-1);return ee=Math.min(ee,.5*O),ye=Math.min(ye,.5*G),this.lines([[O-2*ee,0],[ee*je,0,ee,ye-ye*je,ee,ye],[0,G-2*ye],[0,ye*je,-ee*je,ye,-ee,ye],[2*ee-O,0],[-ee*je,0,-ee,-ye*je,-ee,-ye],[0,2*ye-G],[0,-ye*je,ee*je,-ye,ee,-ye]],f+ee,_,[1,1],Se,!0),this},p.__private__.ellipse=p.ellipse=function(f,_,O,G,ee){if(isNaN(f)||isNaN(_)||isNaN(O)||isNaN(G)||!jn(ee))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ye=4/3*(Math.SQRT2-1)*O,Se=4/3*(Math.SQRT2-1)*G;return lo(f+O,_),Cn(f+O,_-Se,f+ye,_-G,f,_-G),Cn(f-ye,_-G,f-O,_-Se,f-O,_),Cn(f-O,_+Se,f-ye,_+G,f,_+G),Cn(f+ye,_+G,f+O,_+Se,f+O,_),Jr(ee),this},p.__private__.circle=p.circle=function(f,_,O,G){if(isNaN(f)||isNaN(_)||isNaN(O)||!jn(G))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(f,_,O,O,G)},p.setFont=function(f,_,O){return O&&(_=pe(_,O)),We=ds(f,_,{disableWarning:!1}),this};var Wl=p.__private__.getFont=p.getFont=function(){return _t[ds.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var f,_,O={};for(f in yt)if(yt.hasOwnProperty(f))for(_ in O[f]=[],yt[f])yt[f].hasOwnProperty(_)&&O[f].push(_);return O},p.addFont=function(f,_,O,G,ee){var ye=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ye.indexOf(arguments[3])!==-1?ee=arguments[3]:arguments[3]&&ye.indexOf(arguments[3])==-1&&(O=pe(O,G)),cs.call(this,f,_,O,ee=ee||"Identity-H")};var Qr,co=i.lineWidth||.200025,Hl=p.__private__.getLineWidth=p.getLineWidth=function(){return co},lt=p.__private__.setLineWidth=p.setLineWidth=function(f){return co=f,P(X($(f))+" w"),this};p.__private__.setLineDash=Ue.API.setLineDash=Ue.API.setLineDashPattern=function(f,_){if(f=f||[],_=_||0,isNaN(_)||!Array.isArray(f))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return f=f.map(function(O){return X($(O))}).join(" "),_=X($(_)),P("["+f+"] "+_+" d"),this};var Gl=p.__private__.getLineHeight=p.getLineHeight=function(){return Ne*Qr};p.__private__.getLineHeight=p.getLineHeight=function(){return Ne*Qr};var $l=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(f){return typeof(f=f||1.15)=="number"&&(Qr=f),this},Zl=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Qr};$l(i.lineHeight);var tr=p.__private__.getHorizontalCoordinate=function(f){return $(f)},ir=p.__private__.getVerticalCoordinate=function(f){return U===W?f:it[R].mediaBox.topRightY-it[R].mediaBox.bottomLeftY-$(f)},Yl=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(f){return X(tr(f))},Kl=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(f){return X(ir(f))},Pa=i.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Bn(Pa)},p.__private__.setStrokeColor=p.setDrawColor=function(f,_,O,G){return Pa=Sn({ch1:f,ch2:_,ch3:O,ch4:G,pdfColorType:"draw",precision:2}),P(Pa),this};var uo=i.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Bn(uo)},p.__private__.setFillColor=p.setFillColor=function(f,_,O,G){return uo=Sn({ch1:f,ch2:_,ch3:O,ch4:G,pdfColorType:"fill",precision:2}),P(uo),this};var ea=i.textColor||"0 g",Xl=p.__private__.getTextColor=p.getTextColor=function(){return Bn(ea)};p.__private__.setTextColor=p.setTextColor=function(f,_,O,G){return ea=Sn({ch1:f,ch2:_,ch3:O,ch4:G,pdfColorType:"text",precision:3}),this};var nr=i.charSpace,Jl=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(nr||0)};p.__private__.setCharSpace=p.setCharSpace=function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return nr=f,this};var ho=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(f){var _=p.CapJoinStyles[f];if(_===void 0)throw new Error("Line cap style of '"+f+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ho=_,P(_+" J"),this};var fo=0;p.__private__.setLineJoin=p.setLineJoin=function(f){var _=p.CapJoinStyles[f];if(_===void 0)throw new Error("Line join style of '"+f+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return fo=_,P(_+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(f){if(f=f||0,isNaN(f))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return P(X($(f))+" M"),this},p.GState=Dl,p.setGState=function(f){(f=typeof f=="string"?at[ht[f]]:bs(null,f)).equals(Xt)||(P("/"+f.id+" gs"),Xt=f)};var bs=function(f,_){if(!f||!ht[f]){var O=!1;for(var G in at)if(at.hasOwnProperty(G)&&at[G].equals(_)){O=!0;break}if(O)_=at[G];else{var ee="GS"+(Object.keys(at).length+1).toString(10);at[ee]=_,_.id=ee}return f&&(ht[f]=_.id),It.publish("addGState",_),_}};p.addGState=function(f,_){return bs(f,_),this},p.saveGraphicsState=function(){return P("q"),Kt.push({key:We,size:Ne,color:ea}),this},p.restoreGraphicsState=function(){P("Q");var f=Kt.pop();return We=f.key,Ne=f.size,ea=f.color,Xt=null,this},p.setCurrentTransformationMatrix=function(f){return P(f.toString()+" cm"),this},p.comment=function(f){return P("#"+f),this};var rr=function(f,_){var O=f||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return O},set:function(ye){isNaN(ye)||(O=parseFloat(ye))}});var G=_||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return G},set:function(ye){isNaN(ye)||(G=parseFloat(ye))}});var ee="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ee},set:function(ye){ee=ye.toString()}}),this},po=function(f,_,O,G){rr.call(this,f,_),this.type="rect";var ee=O||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ee},set:function(Se){isNaN(Se)||(ee=parseFloat(Se))}});var ye=G||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ye},set:function(Se){isNaN(Se)||(ye=parseFloat(Se))}}),this},Ia=function(){this.page=bt,this.currentPage=R,this.pages=De.slice(0),this.pagesContext=it.slice(0),this.x=$e,this.y=oi,this.matrix=kt,this.width=mo(R),this.height=xs(R),this.outputDestination=Te,this.id="",this.objectNumber=-1};Ia.prototype.restore=function(){bt=this.page,R=this.currentPage,it=this.pagesContext,De=this.pages,$e=this.x,oi=this.y,kt=this.matrix,ws(R,this.width),ar(R,this.height),Te=this.outputDestination};var go=function(f,_,O,G,ee){Tn.push(new Ia),bt=R=0,De=[],$e=f,oi=_,kt=ee,oo([O,G])};for(var ta in p.beginFormObject=function(f,_,O,G,ee){return go(f,_,O,G,ee),this},p.endFormObject=function(f){return function(_){if(Xn[_])Tn.pop().restore();else{var O=new Ia,G="Xo"+(Object.keys(Ti).length+1).toString(10);O.id=G,Xn[_]=G,Ti[G]=O,It.publish("addFormObject",O),Tn.pop().restore()}}(f),this},p.doFormObject=function(f,_){var O=Ti[Xn[f]];return P("q"),P(_.toString()+" cm"),P("/"+O.id+" Do"),P("Q"),this},p.getFormObject=function(f){var _=Ti[Xn[f]];return{x:_.x,y:_.y,width:_.width,height:_.height,matrix:_.matrix}},p.save=function(f,_){return f=f||"generated.pdf",(_=_||{}).returnPromise=_.returnPromise||!1,_.returnPromise===!1?(wa(Da(zn()),f),typeof wa.unload=="function"&&ot.setTimeout&&setTimeout(wa.unload,911),this):new Promise(function(O,G){try{var ee=wa(Da(zn()),f);typeof wa.unload=="function"&&ot.setTimeout&&setTimeout(wa.unload,911),O(ee)}catch(ye){G(ye.message)}})},Ue.API)Ue.API.hasOwnProperty(ta)&&(ta==="events"&&Ue.API.events.length?function(f,_){var O,G,ee;for(ee=_.length-1;ee!==-1;ee--)O=_[ee][0],G=_[ee][1],f.subscribe.apply(f,[O].concat(typeof G=="function"?[G]:G))}(It,Ue.API.events):p[ta]=Ue.API[ta]);function mo(f){return it[f].mediaBox.topRightX-it[f].mediaBox.bottomLeftX}function ws(f,_){it[f].mediaBox.topRightX=_+it[f].mediaBox.bottomLeftX}function xs(f){return it[f].mediaBox.topRightY-it[f].mediaBox.bottomLeftY}function ar(f,_){it[f].mediaBox.topRightY=_+it[f].mediaBox.bottomLeftY}var or=p.getPageWidth=function(f){return mo(f=f||R)/dt},Ss=p.setPageWidth=function(f,_){ws(f,_*dt)},ia=p.getPageHeight=function(f){return xs(f=f||R)/dt},As=p.setPageHeight=function(f,_){ar(f,_*dt)};return p.internal={pdfEscape:pn,getStyle:vs,getFont:Wl,getFontSize:Re,getCharSpace:Jl,getTextColor:Xl,getLineHeight:Gl,getLineHeightFactor:Zl,getLineWidth:Hl,write:Fe,getHorizontalCoordinate:tr,getVerticalCoordinate:ir,getCoordinateString:Yl,getVerticalCoordinateString:Kl,collections:{},newObject:ti,newAdditionalObject:Yr,newObjectDeferred:Ai,newObjectDeferredBegin:Ni,getFilters:An,putStream:dn,events:It,scaleFactor:dt,pageSize:{getWidth:function(){return or(R)},setWidth:function(f){Ss(R,f)},getHeight:function(){return ia(R)},setHeight:function(f){As(R,f)}},encryptionOptions:d,encryption:vi,getEncryptor:function(f){return d!==null?vi.encryptor(f,0):function(_){return _}},output:gs,getNumberOfPages:fs,get pages(){return De},out:P,f2:k,f3:F,getPageInfo:er,getPageInfoByObjId:ms,getCurrentPageInfo:zl,getPDFVersion:N,Point:rr,Rectangle:po,Matrix:nt,hasHotfix:gn},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return or(R)},set:function(f){Ss(R,f)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return ia(R)},set:function(f){As(R,f)},enumerable:!0,configurable:!0}),function(f){for(var _=0,O=Qe.length;_<O;_++){var G=cs.call(this,f[_][0],f[_][1],f[_][2],Qe[_][3],!0);v===!1&&(y[G]=!0);var ee=f[_][0].split("-");ls({id:G,fontName:ee[0],fontStyle:ee[1]||""})}It.publish("addFonts",{fonts:_t,dictionary:yt})}.call(p,Qe),We="F1",us(r,e),It.publish("initialized"),p}Xa.prototype.lsbFirstWord=function(i){return String.fromCharCode(255&i,i>>8&255,i>>16&255,i>>24&255)},Xa.prototype.toHexString=function(i){return i.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Xa.prototype.hexToBytes=function(i){for(var t=[],e=0;e<i.length;e+=2)t.push(String.fromCharCode(parseInt(i.substr(e,2),16)));return t.join("")},Xa.prototype.processOwnerPassword=function(i,t){return yu(_u(t).substr(0,5),i)},Xa.prototype.encryptor=function(i,t){var e=_u(this.encryptionKey+String.fromCharCode(255&i,i>>8&255,i>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return yu(e,n)}},Dl.prototype.equals=function(i){var t,e="id,objectNumber,equals";if(!i||Ot(i)!==Ot(this))return!1;var n=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!i.hasOwnProperty(t)||this[t]!==i[t])return!1;n++}for(t in i)i.hasOwnProperty(t)&&e.indexOf(t)<0&&n--;return n===0},Ue.API={events:[]},Ue.version="4.2.0";var ai=Ue.API,xu=1,Ca=function(i){return i.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ya=function(i){return i.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Aa=function(i){return i.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(t){var e=t.charCodeAt(0).toString(16).toUpperCase();return"#"+(e.length===1?"0"+e:e)})},ct=function(i){return i.toFixed(2)},Hr=function(i){return i.toFixed(5)};ai.__acroform__={};var Ji=function(i,t){i.prototype=Object.create(t.prototype),i.prototype.constructor=i},Xd=function(i){return i*xu},Zn=function(i){var t=new _0,e=ze.internal.getHeight(i)||0,n=ze.internal.getWidth(i)||0;return t.BBox=[0,0,Number(ct(n)),Number(ct(e))],t},Zg=ai.__acroform__.setBit=function(i,t){if(i=i||0,t=t||0,isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return i|1<<t},Yg=ai.__acroform__.clearBit=function(i,t){if(i=i||0,t=t||0,isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return i&~(1<<t)},Kg=ai.__acroform__.getBit=function(i,t){if(isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return i&1<<t?1:0},hi=ai.__acroform__.getBitForPdf=function(i,t){if(isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Kg(i,t-1)},fi=ai.__acroform__.setBitForPdf=function(i,t){if(isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Zg(i,t-1)},di=ai.__acroform__.clearBitForPdf=function(i,t){if(isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Yg(i,t-1)},Xg=ai.__acroform__.calculateCoordinates=function(i,t){var e=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,r=i[0],a=i[1],l=i[2],s=i[3],h={};return h.lowerLeft_X=e(r)||0,h.lowerLeft_Y=n(a+s)||0,h.upperRight_X=e(r+l)||0,h.upperRight_Y=n(a)||0,[Number(ct(h.lowerLeft_X)),Number(ct(h.lowerLeft_Y)),Number(ct(h.upperRight_X)),Number(ct(h.upperRight_Y))]},Jg=function(i){if(i.appearanceStreamContent)return i.appearanceStreamContent;if(i.V||i.DV){var t=[],e=i._V||i.DV,n=bu(i,e),r=i.scope.internal.getFont(i.fontName,i.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(i.scope.__private__.encodeColorString(i.color)),t.push("/"+r+" "+ct(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=Zn(i);return a.scope=i.scope,a.stream=t.join(`
`),a}},bu=function(i,t){var e=i.fontSize===0?i.maxFontSize:i.fontSize,n={text:"",fontSize:""},r=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");r=i.multiline?r.map(function(k){return k.split(`
`)}):r.map(function(k){return[k]});var a=e,l=ze.internal.getHeight(i)||0;l=l<0?-l:l;var s=ze.internal.getWidth(i)||0;s=s<0?-s:s;var h=function(k,F,$){if(k+1<r.length){var H=F+" "+r[k+1][0];return Sl(H,i,$).width<=s-4}return!1};a++;e:for(;a>0;){t="",a--;var u,d,v=Sl("3",i,a).height,y=i.multiline?l-a:(l-v)/2,p=y+=2,A=0,N=0,I=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+Sl(t,i,a=12).width+", FieldWidth:"+s+`
`;break}for(var C="",Z=0,W=0;W<r.length;W++)if(r.hasOwnProperty(W)){var U=!1;if(r[W].length!==1&&I!==r[W].length-1){if((v+2)*(Z+2)+2>l)continue e;C+=r[W][I],U=!0,N=W,W--}else{C=(C+=r[W][I]+" ").substr(C.length-1)==" "?C.substr(0,C.length-1):C;var le=parseInt(W),we=h(le,C,a),pe=W>=r.length-1;if(we&&!pe){C+=" ",I=0;continue}if(we||pe){if(pe)N=le;else if(i.multiline&&(v+2)*(Z+2)+2>l)continue e}else{if(!i.multiline||(v+2)*(Z+2)+2>l)continue e;N=le}}for(var X="",j=A;j<=N;j++){var ie=r[j];if(i.multiline){if(j===N){X+=ie[I]+" ",I=(I+1)%ie.length;continue}if(j===A){X+=ie[ie.length-1]+" ";continue}}X+=ie[0]+" "}switch(X=X.substr(X.length-1)==" "?X.substr(0,X.length-1):X,d=Sl(X,i,a).width,i.textAlign){case"right":u=s-d-2;break;case"center":u=(s-d)/2;break;default:u=2}t+=ct(u)+" "+ct(p)+` Td
`,t+="("+Ca(X)+`) Tj
`,t+=-ct(u)+` 0 Td
`,p=-(a+2),d=0,A=U?N:N+1,Z++,C=""}break}return n.text=t,n.fontSize=a,n},Sl=function(i,t,e){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),r=t.scope.getStringUnitWidth(i,{font:n,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:r}},Qg={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},e5=function(i,t){var e={type:"reference",object:i};t.internal.getPageInfo(i.page).pageContext.annotations.find(function(n){return n.type===e.type&&n.object===e.object})===void 0&&t.internal.getPageInfo(i.page).pageContext.annotations.push(e)},t5=function(i,t){if(t.scope=i,i.internal!==void 0&&(i.internal.acroformPlugin===void 0||i.internal.acroformPlugin.isInitialized===!1)){if(In.FieldNum=0,i.internal.acroformPlugin=JSON.parse(JSON.stringify(Qg)),i.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");xu=i.internal.scaleFactor,i.internal.acroformPlugin.acroFormDictionaryRoot=new y0,i.internal.acroformPlugin.acroFormDictionaryRoot.scope=i,i.internal.acroformPlugin.acroFormDictionaryRoot._eventID=i.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(i)}),i.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in n)if(n.hasOwnProperty(r)){var a=n[r];a.objId=void 0,a.hasAnnotation&&e5(a,e)}})(i)}),i.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(i)}),i.internal.events.subscribe("postPutPages",function(e){(function(n,r){var a=!n;for(var l in n||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(l)){var s=n[l],h=[],u=s.Rect;if(s.Rect&&(s.Rect=Xg(s.Rect,r)),r.internal.newObjectDeferredBegin(s.objId,!0),s.DA=ze.createDefaultAppearanceStream(s),Ot(s)==="object"&&typeof s.getKeyValueListForStream=="function"&&(h=s.getKeyValueListForStream()),s.Rect=u,s.hasAppearanceStream&&!s.appearanceStreamContent){var d=Jg(s);h.push({key:"AP",value:"<</N "+d+">>"}),r.internal.acroformPlugin.xForms.push(d)}if(s.appearanceStreamContent){var v="";for(var y in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(y)){var p=s.appearanceStreamContent[y];if(v+="/"+y+" ",v+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var l in p)if(p.hasOwnProperty(l)){var A=p[l];typeof A=="function"&&(A=A.call(r,s)),v+="/"+l+" "+A+" ",r.internal.acroformPlugin.xForms.indexOf(A)>=0||r.internal.acroformPlugin.xForms.push(A)}}else typeof(A=p)=="function"&&(A=A.call(r,s)),v+="/"+l+" "+A,r.internal.acroformPlugin.xForms.indexOf(A)>=0||r.internal.acroformPlugin.xForms.push(A);v+=">>"}h.push({key:"AP",value:`<<
`+v+">>"})}r.internal.putStream({additionalKeyValues:h,objectId:s.objId}),r.internal.out("endobj")}a&&function(N,I){for(var C in N)if(N.hasOwnProperty(C)){var Z=C,W=N[C];I.internal.newObjectDeferredBegin(W.objId,!0),Ot(W)==="object"&&typeof W.putStream=="function"&&W.putStream(),delete N[Z]}}(r.internal.acroformPlugin.xForms,r)})(e,i)}),i.internal.acroformPlugin.isInitialized=!0}},v0=ai.__acroform__.arrayToPdfArray=function(i,t,e){var n=function(l){return l};if(Array.isArray(i)){for(var r="[",a=0;a<i.length;a++)switch(a!==0&&(r+=" "),Ot(i[a])){case"boolean":case"number":case"object":r+=i[a].toString();break;case"string":i[a].substr(0,1)==="/"?r+="/"+Aa(i[a].substr(1)):(t!==void 0&&e&&(n=e.internal.getEncryptor(t)),r+="("+Ca(n(i[a].toString()))+")")}return r+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},du=function(i,t,e){var n=function(r){return r};return t!==void 0&&e&&(n=e.internal.getEncryptor(t)),(i=i||"").toString(),"("+Ca(n(i))+")"},Yn=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(i){this._objId=i}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Yn.prototype.toString=function(){return this.objId+" 0 R"},Yn.prototype.putStream=function(){var i=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:i,objectId:this.objId}),this.scope.internal.out("endobj")},Yn.prototype.getKeyValueListForStream=function(){var i=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var n=t[e],r=this[n];r&&(Array.isArray(r)?i.push({key:n,value:v0(r,this.objId,this.scope)}):r instanceof Yn?(r.scope=this.scope,i.push({key:n,value:r.objId+" 0 R"})):typeof r!="function"&&i.push({key:n,value:r}))}return i};var _0=function(){Yn.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var i,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){i=e.trim()},get:function(){return i||null}})};Ji(_0,Yn);var y0=function(){Yn.call(this);var i,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(i){var e=function(n){return n};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+Ca(e(i))+")"}},set:function(e){i=e}})};Ji(y0,Yn);var In=function i(){Yn.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute F supplied.');t=C}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!hi(t,3)},set:function(C){C?this.F=fi(t,3):this.F=di(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute Ff supplied.');e=C}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(C){n=C!==void 0?C:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(C){n[0]=C}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(C){n[1]=C}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(C){n[2]=C}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(C){n[3]=C}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(C){switch(C){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=C;break;default:throw new Error('Invalid value "'+C+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof El)return;a="FieldObject"+i.FieldNum++}var C=function(Z){return Z};return this.scope&&(C=this.scope.internal.getEncryptor(this.objId)),"("+Ca(C(a))+")"},set:function(C){a=C.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(C){a=C}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(C){l=C}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(C){s=C}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h},set:function(C){h=C}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/xu:u},set:function(C){u=C}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(C){d=C}});var v="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!v||this instanceof El||this instanceof Sa))return du(v,this.objId,this.scope)},set:function(C){C=C.toString(),v=C}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof ki==0?du(y,this.objId,this.scope):y},set:function(C){C=C.toString(),y=this instanceof ki==0?C.substr(0,1)==="("?Ya(C.substr(1,C.length-2)):Ya(C):C}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ki==1?Ya(y.substr(1,y.length-1)):y},set:function(C){C=C.toString(),y=this instanceof ki==1?"/"+Aa(C):C}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(C){this.V=C}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof ki==0?du(p,this.objId,this.scope):p},set:function(C){C=C.toString(),p=this instanceof ki==0?C.substr(0,1)==="("?Ya(C.substr(1,C.length-2)):Ya(C):C}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ki==1?Ya(p.substr(1,p.length-1)):p},set:function(C){C=C.toString(),p=this instanceof ki==1?"/"+Aa(C):C}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var A,N=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return N},set:function(C){C=!!C,N=C}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(A)return A},set:function(C){A=C}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,1)},set:function(C){C?this.Ff=fi(this.Ff,1):this.Ff=di(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,2)},set:function(C){C?this.Ff=fi(this.Ff,2):this.Ff=di(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,3)},set:function(C){C?this.Ff=fi(this.Ff,3):this.Ff=di(this.Ff,3)}});var I=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(I!==null)return I},set:function(C){if([0,1,2].indexOf(C)===-1)throw new Error('Invalid value "'+C+'" for attribute Q supplied.');I=C}}),Object.defineProperty(this,"textAlign",{get:function(){var C;switch(I){case 0:default:C="left";break;case 1:C="center";break;case 2:C="right"}return C},configurable:!0,enumerable:!0,set:function(C){switch(C){case"right":case 2:I=2;break;case"center":case 1:I=1;break;default:I=0}}})};Ji(In,Yn);var eo=function(){In.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var i=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return i},set:function(e){i=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return i},set:function(e){i=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return v0(t,this.objId,this.scope)},set:function(e){var n,r;r=[],typeof(n=e)=="string"&&(r=function(a,l,s){s||(s=1);for(var h,u=[];h=l.exec(a);)u.push(h[s]);return u}(n,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,n){for(n=n||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,18)},set:function(e){e?this.Ff=fi(this.Ff,18):this.Ff=di(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=fi(this.Ff,19):this.Ff=di(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,20)},set:function(e){e?(this.Ff=fi(this.Ff,20),t.sort()):this.Ff=di(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,22)},set:function(e){e?this.Ff=fi(this.Ff,22):this.Ff=di(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,23)},set:function(e){e?this.Ff=fi(this.Ff,23):this.Ff=di(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,27)},set:function(e){e?this.Ff=fi(this.Ff,27):this.Ff=di(this.Ff,27)}}),this.hasAppearanceStream=!1};Ji(eo,In);var to=function(){eo.call(this),this.fontName="helvetica",this.combo=!1};Ji(to,eo);var io=function(){to.call(this),this.combo=!0};Ji(io,to);var Ml=function(){io.call(this),this.edit=!0};Ji(Ml,io);var ki=function(){In.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,15)},set:function(e){e?this.Ff=fi(this.Ff,15):this.Ff=di(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,16)},set:function(e){e?this.Ff=fi(this.Ff,16):this.Ff=di(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,17)},set:function(e){e?this.Ff=fi(this.Ff,17):this.Ff=di(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,26)},set:function(e){e?this.Ff=fi(this.Ff,26):this.Ff=di(this.Ff,26)}});var i,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(a){return a};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,r=[];for(n in r.push("<<"),t)r.push("/"+n+" ("+Ca(e(t[n]))+")");return r.push(">>"),r.join(`
`)}},set:function(e){Ot(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return i},set:function(e){var n=e==null?"":e.toString();n.substr(0,1)==="/"&&(n=n.substr(1)),i="/"+Aa(n)}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return i.substr(1,i.length-1)},set:function(e){i="/"+Aa(e)}})};Ji(ki,In);var kl=function(){ki.call(this),this.pushButton=!0};Ji(kl,ki);var no=function(){ki.call(this),this.radio=!0,this.pushButton=!1;var i=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return i},set:function(t){i=t!==void 0?t:[]}})};Ji(no,ki);var El=function(){var i,t;In.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return i},set:function(r){i=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(r){t=r}});var e,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var a,l=[];for(a in l.push("<<"),n)l.push("/"+a+" ("+Ca(r(n[a]))+")");return l.push(">>"),l.join(`
`)},set:function(r){Ot(r)==="object"&&(n=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(r){typeof r=="string"&&(n.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){var a=r==null?"":r.toString();a.substr(0,1)==="/"&&(a=a.substr(1)),e="/"+Aa(a)}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){var a=r==null?"":r.toString();a.substr(0,1)==="/"&&(a=a.substr(1)),e="/"+Aa(a)}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ze.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ji(El,In),no.prototype.setAppearance=function(i){if(!("createAppearanceStream"in i)||!("getCA"in i))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=i.createAppearanceStream(e.optionName),e.caption=i.getCA()}},no.prototype.createOption=function(i){var t=new El;return t.Parent=this,t.optionName=i,this.Kids.push(t),i5.call(this.scope,t),t};var Nl=function(){ki.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ze.CheckBox.createAppearanceStream()};Ji(Nl,ki);var Sa=function(){In.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,13)},set:function(t){t?this.Ff=fi(this.Ff,13):this.Ff=di(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,21)},set:function(t){t?this.Ff=fi(this.Ff,21):this.Ff=di(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,23)},set:function(t){t?this.Ff=fi(this.Ff,23):this.Ff=di(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,24)},set:function(t){t?this.Ff=fi(this.Ff,24):this.Ff=di(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,25)},set:function(t){t?this.Ff=fi(this.Ff,25):this.Ff=di(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,26)},set:function(t){t?this.Ff=fi(this.Ff,26):this.Ff=di(this.Ff,26)}});var i=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return i},set:function(t){i=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return i},set:function(t){Number.isInteger(t)&&(i=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ji(Sa,In);var Ll=function(){Sa.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,14)},set:function(i){i?this.Ff=fi(this.Ff,14):this.Ff=di(this.Ff,14)}}),this.password=!0};Ji(Ll,Sa);var ze={CheckBox:{createAppearanceStream:function(){return{N:{On:ze.CheckBox.YesNormal},D:{On:ze.CheckBox.YesPushDown,Off:ze.CheckBox.OffPushDown}}},YesPushDown:function(i){var t=Zn(i);t.scope=i.scope;var e=[],n=i.scope.internal.getFont(i.fontName,i.fontStyle).id,r=i.scope.__private__.encodeColorString(i.color),a=bu(i,i.caption);return e.push("0.749023 g"),e.push("0 0 "+ct(ze.internal.getWidth(i))+" "+ct(ze.internal.getHeight(i))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+n+" "+ct(a.fontSize)+" Tf "+r),e.push("BT"),e.push(a.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(i){var t=Zn(i);t.scope=i.scope;var e=i.scope.internal.getFont(i.fontName,i.fontStyle).id,n=i.scope.__private__.encodeColorString(i.color),r=[],a=ze.internal.getHeight(i),l=ze.internal.getWidth(i),s=bu(i,i.caption);return r.push("1 g"),r.push("0 0 "+ct(l)+" "+ct(a)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+ct(l-1)+" "+ct(a-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+e+" "+ct(s.fontSize)+" Tf "+n),r.push(s.text),r.push("ET"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(i){var t=Zn(i);t.scope=i.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+ct(ze.internal.getWidth(i))+" "+ct(ze.internal.getHeight(i))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(i){var t={D:{Off:ze.RadioButton.Circle.OffPushDown},N:{}};return t.N[i]=ze.RadioButton.Circle.YesNormal,t.D[i]=ze.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(i){var t=Zn(i);t.scope=i.scope;var e=[],n=ze.internal.getWidth(i)<=ze.internal.getHeight(i)?ze.internal.getWidth(i)/4:ze.internal.getHeight(i)/4;n=Number((.9*n).toFixed(5));var r=ze.internal.Bezier_C,a=Number((n*r).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+Hr(ze.internal.getWidth(i)/2)+" "+Hr(ze.internal.getHeight(i)/2)+" cm"),e.push(n+" 0 m"),e.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),e.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),e.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),e.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(i){var t=Zn(i);t.scope=i.scope;var e=[],n=ze.internal.getWidth(i)<=ze.internal.getHeight(i)?ze.internal.getWidth(i)/4:ze.internal.getHeight(i)/4;n=Number((.9*n).toFixed(5));var r=Number((2*n).toFixed(5)),a=Number((r*ze.internal.Bezier_C).toFixed(5)),l=Number((n*ze.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Hr(ze.internal.getWidth(i)/2)+" "+Hr(ze.internal.getHeight(i)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),e.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),e.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),e.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+Hr(ze.internal.getWidth(i)/2)+" "+Hr(ze.internal.getHeight(i)/2)+" cm"),e.push(n+" 0 m"),e.push(n+" "+l+" "+l+" "+n+" 0 "+n+" c"),e.push("-"+l+" "+n+" -"+n+" "+l+" -"+n+" 0 c"),e.push("-"+n+" -"+l+" -"+l+" -"+n+" 0 -"+n+" c"),e.push(l+" -"+n+" "+n+" -"+l+" "+n+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(i){var t=Zn(i);t.scope=i.scope;var e=[],n=ze.internal.getWidth(i)<=ze.internal.getHeight(i)?ze.internal.getWidth(i)/4:ze.internal.getHeight(i)/4;n=Number((.9*n).toFixed(5));var r=Number((2*n).toFixed(5)),a=Number((r*ze.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Hr(ze.internal.getWidth(i)/2)+" "+Hr(ze.internal.getHeight(i)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),e.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),e.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),e.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(i){var t={D:{Off:ze.RadioButton.Cross.OffPushDown},N:{}};return t.N[i]=ze.RadioButton.Cross.YesNormal,t.D[i]=ze.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(i){var t=Zn(i);t.scope=i.scope;var e=[],n=ze.internal.calculateCross(i);return e.push("q"),e.push("1 1 "+ct(ze.internal.getWidth(i)-2)+" "+ct(ze.internal.getHeight(i)-2)+" re"),e.push("W"),e.push("n"),e.push(ct(n.x1.x)+" "+ct(n.x1.y)+" m"),e.push(ct(n.x2.x)+" "+ct(n.x2.y)+" l"),e.push(ct(n.x4.x)+" "+ct(n.x4.y)+" m"),e.push(ct(n.x3.x)+" "+ct(n.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(i){var t=Zn(i);t.scope=i.scope;var e=ze.internal.calculateCross(i),n=[];return n.push("0.749023 g"),n.push("0 0 "+ct(ze.internal.getWidth(i))+" "+ct(ze.internal.getHeight(i))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+ct(ze.internal.getWidth(i)-2)+" "+ct(ze.internal.getHeight(i)-2)+" re"),n.push("W"),n.push("n"),n.push(ct(e.x1.x)+" "+ct(e.x1.y)+" m"),n.push(ct(e.x2.x)+" "+ct(e.x2.y)+" l"),n.push(ct(e.x4.x)+" "+ct(e.x4.y)+" m"),n.push(ct(e.x3.x)+" "+ct(e.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(i){var t=Zn(i);t.scope=i.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+ct(ze.internal.getWidth(i))+" "+ct(ze.internal.getHeight(i))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(i){var t=i.scope.internal.getFont(i.fontName,i.fontStyle).id,e=i.scope.__private__.encodeColorString(i.color);return"/"+t+" "+i.fontSize+" Tf "+e}};ze.internal={Bezier_C:.551915024494,calculateCross:function(i){var t=ze.internal.getWidth(i),e=ze.internal.getHeight(i),n=Math.min(t,e);return{x1:{x:(t-n)/2,y:(e-n)/2+n},x2:{x:(t-n)/2+n,y:(e-n)/2},x3:{x:(t-n)/2,y:(e-n)/2},x4:{x:(t-n)/2+n,y:(e-n)/2+n}}}},ze.internal.getWidth=function(i){var t=0;return Ot(i)==="object"&&(t=Xd(i.Rect[2])),t},ze.internal.getHeight=function(i){var t=0;return Ot(i)==="object"&&(t=Xd(i.Rect[3])),t};var i5=ai.addField=function(i){if(t5(this,i),!(i instanceof In))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=i).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),i.page=i.scope.internal.getCurrentPageInfo().pageNumber,this};ai.AcroFormChoiceField=eo,ai.AcroFormListBox=to,ai.AcroFormComboBox=io,ai.AcroFormEditBox=Ml,ai.AcroFormButton=ki,ai.AcroFormPushButton=kl,ai.AcroFormRadioButton=no,ai.AcroFormCheckBox=Nl,ai.AcroFormTextField=Sa,ai.AcroFormPasswordField=Ll,ai.AcroFormAppearance=ze,ai.AcroForm={ChoiceField:eo,ListBox:to,ComboBox:io,EditBox:Ml,Button:ki,PushButton:kl,RadioButton:no,CheckBox:Nl,TextField:Sa,PasswordField:Ll,Appearance:ze},Ue.AcroForm={ChoiceField:eo,ListBox:to,ComboBox:io,EditBox:Ml,Button:ki,PushButton:kl,RadioButton:no,CheckBox:Nl,TextField:Sa,PasswordField:Ll,Appearance:ze};var S3=Ue.AcroForm;function b0(i){return i.reduce(function(t,e,n){return t[e]=n,t},{})}(function(i){var t="addImage_";i.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=i.__addimage__.getImageFileTypeByImageData=function(k,F){var $,H,ce,de,me,oe=e;if((F=F||e)==="RGBA"||k.data!==void 0&&k.data instanceof Uint8ClampedArray&&"height"in k&&"width"in k)return"RGBA";if(we(k))for(me in n)for(ce=n[me],$=0;$<ce.length;$+=1){for(de=!0,H=0;H<ce[$].length;H+=1)if(ce[$][H]!==void 0&&ce[$][H]!==k[H]){de=!1;break}if(de===!0){oe=me;break}}else for(me in n)for(ce=n[me],$=0;$<ce.length;$+=1){for(de=!0,H=0;H<ce[$].length;H+=1)if(ce[$][H]!==void 0&&ce[$][H]!==k.charCodeAt(H)){de=!1;break}if(de===!0){oe=me;break}}return oe===e&&F!==e&&(oe=F),oe},a=function k(F){for(var $=this.internal.write,H=this.internal.putStream,ce=(0,this.internal.getFilters)();ce.indexOf("FlateEncode")!==-1;)ce.splice(ce.indexOf("FlateEncode"),1);F.objectId=this.internal.newObject();var de=[];if(de.push({key:"Type",value:"/XObject"}),de.push({key:"Subtype",value:"/Image"}),de.push({key:"Width",value:F.width}),de.push({key:"Height",value:F.height}),F.colorSpace===C.INDEXED?de.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(F.palette.length/3-1)+" "+("sMask"in F&&F.sMask!==void 0?F.objectId+2:F.objectId+1)+" 0 R]"}):(de.push({key:"ColorSpace",value:"/"+F.colorSpace}),F.colorSpace===C.DEVICE_CMYK&&de.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),de.push({key:"BitsPerComponent",value:F.bitsPerComponent}),"decodeParameters"in F&&F.decodeParameters!==void 0&&de.push({key:"DecodeParms",value:"<<"+F.decodeParameters+">>"}),"transparency"in F&&Array.isArray(F.transparency)&&F.transparency.length>0){for(var me="",oe=0,_e=F.transparency.length;oe<_e;oe++)me+=F.transparency[oe]+" "+F.transparency[oe]+" ";de.push({key:"Mask",value:"["+me+"]"})}F.sMask!==void 0&&de.push({key:"SMask",value:F.objectId+1+" 0 R"});var Ee=F.filter!==void 0?["/"+F.filter]:void 0;if(H({data:F.data,additionalKeyValues:de,alreadyAppliedFilters:Ee,objectId:F.objectId}),$("endobj"),"sMask"in F&&F.sMask!==void 0){var Ce,S=(Ce=F.sMaskBitsPerComponent)!==null&&Ce!==void 0?Ce:F.bitsPerComponent,R={width:F.width,height:F.height,colorSpace:"DeviceGray",bitsPerComponent:S,data:F.sMask};"filter"in F&&(R.decodeParameters="/Predictor ".concat(F.predictor," /Colors 1 /BitsPerComponent ").concat(S," /Columns ").concat(F.width),R.filter=F.filter),k.call(this,R)}if(F.colorSpace===C.INDEXED){var q=this.internal.newObject();H({data:X(new Uint8Array(F.palette)),objectId:q}),$("endobj")}},l=function(){var k=this.internal.collections[t+"images"];for(var F in k)a.call(this,k[F])},s=function(){var k,F=this.internal.collections[t+"images"],$=this.internal.write;for(var H in F)$("/I"+(k=F[H]).index,k.objectId,"0","R")},h=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",s))},u=function(){var k=this.internal.collections[t+"images"];return h.call(this),k},d=function(){return Object.keys(this.internal.collections[t+"images"]).length},v=function(k){return typeof i["process"+k.toUpperCase()]=="function"},y=function(k){return Ot(k)==="object"&&k.nodeType===1},p=function(k,F){if(k.nodeName==="IMG"&&k.hasAttribute("src")){var $=""+k.getAttribute("src");if($.indexOf("data:image/")===0)return Cl(unescape($).split("base64,").pop());var H=i.loadFile($,!0);if(H!==void 0)return H}if(k.nodeName==="CANVAS"){if(k.width===0||k.height===0)throw new Error("Given canvas must have data. Canvas width: "+k.width+", height: "+k.height);var ce;switch(F){case"PNG":ce="image/png";break;case"WEBP":ce="image/webp";break;default:ce="image/jpeg"}return Cl(k.toDataURL(ce,1).split("base64,").pop())}},A=function(k){var F=this.internal.collections[t+"images"];if(F){for(var $ in F)if(k===F[$].alias)return F[$]}},N=function(k,F,$){return k||F||(k=-96,F=-96),k<0&&(k=-1*$.width*72/k/this.internal.scaleFactor),F<0&&(F=-1*$.height*72/F/this.internal.scaleFactor),k===0&&(k=F*$.width/$.height),F===0&&(F=k*$.height/$.width),[k,F]},I=function(k,F,$,H,ce,de){var me=N.call(this,$,H,ce),oe=this.internal.getCoordinateString,_e=this.internal.getVerticalCoordinateString,Ee=u.call(this);if($=me[0],H=me[1],Ee[ce.index]=ce,de){de*=Math.PI/180;var Ce=Math.cos(de),S=Math.sin(de),R=function(Y){return Y.toFixed(4)},q=[R(Ce),R(S),R(-1*S),R(Ce),0,0,"cm"]}this.internal.write("q"),de?(this.internal.write([1,"0","0",1,oe(k),_e(F+H),"cm"].join(" ")),this.internal.write(q.join(" ")),this.internal.write([oe($),"0","0",oe(H),"0","0","cm"].join(" "))):this.internal.write([oe($),"0","0",oe(H),oe(k),_e(F+H),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ce.index+" Do"),this.internal.write("Q")},C=i.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};i.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var Z=i.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},W=i.__addimage__.sHashCode=function(k){var F,$,H=0;if(typeof k=="string")for($=k.length,F=0;F<$;F++)H=(H<<5)-H+k.charCodeAt(F),H|=0;else if(we(k))for($=k.byteLength/2,F=0;F<$;F++)H=(H<<5)-H+k[F],H|=0;return H},U=i.__addimage__.validateStringAsBase64=function(k){(k=k||"").toString().trim();var F=!0;return k.length===0&&(F=!1),k.length%4!=0&&(F=!1),/^[A-Za-z0-9+/]+$/.test(k.substr(0,k.length-2))===!1&&(F=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(k.substr(-2))===!1&&(F=!1),F},le=i.__addimage__.extractImageFromDataUrl=function(k){if(k==null||!(k=k.trim()).startsWith("data:"))return null;var F=k.indexOf(",");return F<0?null:k.substring(0,F).trim().endsWith("base64")?k.substring(F+1):null};i.__addimage__.isArrayBuffer=function(k){return k instanceof ArrayBuffer};var we=i.__addimage__.isArrayBufferView=function(k){return k instanceof Int8Array||k instanceof Uint8Array||k instanceof Uint8ClampedArray||k instanceof Int16Array||k instanceof Uint16Array||k instanceof Int32Array||k instanceof Uint32Array||k instanceof Float32Array||k instanceof Float64Array},pe=i.__addimage__.binaryStringToUint8Array=function(k){for(var F=k.length,$=new Uint8Array(F),H=0;H<F;H++)$[H]=k.charCodeAt(H);return $},X=i.__addimage__.arrayBufferToBinaryString=function(k){for(var F="",$=we(k)?k:new Uint8Array(k),H=0;H<$.length;H+=8192)F+=String.fromCharCode.apply(null,$.subarray(H,H+8192));return F};i.addImage=function(){var k,F,$,H,ce,de,me,oe,_e;if(typeof arguments[1]=="number"?(F=e,$=arguments[1],H=arguments[2],ce=arguments[3],de=arguments[4],me=arguments[5],oe=arguments[6],_e=arguments[7]):(F=arguments[1],$=arguments[2],H=arguments[3],ce=arguments[4],de=arguments[5],me=arguments[6],oe=arguments[7],_e=arguments[8]),Ot(k=arguments[0])==="object"&&!y(k)&&"imageData"in k){var Ee=k;k=Ee.imageData,F=Ee.format||F||e,$=Ee.x||$||0,H=Ee.y||H||0,ce=Ee.w||Ee.width||ce,de=Ee.h||Ee.height||de,me=Ee.alias||me,oe=Ee.compression||oe,_e=Ee.rotation||Ee.angle||_e}var Ce=this.internal.getFilters();if(oe===void 0&&Ce.indexOf("FlateEncode")!==-1&&(oe="SLOW"),isNaN($)||isNaN(H))throw new Error("Invalid coordinates passed to jsPDF.addImage");h.call(this);var S=j.call(this,k,F,me,oe);return I.call(this,$,H,ce,de,S,_e),this};var j=function(k,F,$,H){var ce,de,me;if(typeof k=="string"&&r(k)===e){k=unescape(k);var oe=ie(k,!1);(oe!==""||(oe=i.loadFile(k,!0))!==void 0)&&(k=oe)}if(y(k)&&(k=p(k,F)),F=r(k,F),!v(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(((me=$)==null||me.length===0)&&($=function(_e){return typeof _e=="string"||we(_e)?W(_e):we(_e.data)?W(_e.data):null}(k)),(ce=A.call(this,$))||(k instanceof Uint8Array||F==="RGBA"||(de=k,k=pe(k)),ce=this["process"+F.toUpperCase()](k,d.call(this),$,function(_e){return _e&&typeof _e=="string"&&(_e=_e.toUpperCase()),_e in i.image_compression?_e:Z.NONE}(H),de)),!ce)throw new Error("An unknown error occurred whilst processing the image.");return ce},ie=i.__addimage__.convertBase64ToBinaryString=function(k,F){F=typeof F!="boolean"||F;var $,H="";if(typeof k=="string"){var ce;$=(ce=le(k))!==null&&ce!==void 0?ce:k;try{H=Cl($)}catch(de){if(F)throw U($)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+de.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return H};i.getImageProperties=function(k){var F,$,H="";if(y(k)&&(k=p(k)),typeof k=="string"&&r(k)===e&&((H=ie(k,!1))===""&&(H=i.loadFile(k)||""),k=H),$=r(k),!v($))throw new Error("addImage does not support files of type '"+$+"', please ensure that a plugin for '"+$+"' support is added.");if(k instanceof Uint8Array||(k=pe(k)),!(F=this["process"+$.toUpperCase()](k)))throw new Error("An unknown error occurred whilst processing the image");return F.fileType=$,F}})(Ue.API),function(i){var t=function(e){if(e!==void 0&&e!="")return!0};Ue.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),i.events.push(["putPage",function(e){for(var n,r,a,l=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,h=this.internal.getPageInfoByObjId(e.objId),u=e.pageContext.annotations,d=!1,v=0;v<u.length&&!d;v++)switch((n=u[v]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var y=0;y<u.length;y++){n=u[y];var p=this.internal.pdfEscape,A=this.internal.getEncryptor(e.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var N=this.internal.newAdditionalObject(),I=this.internal.newAdditionalObject(),C=this.internal.getEncryptor(N.objId),Z=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(r="/Rect ["+l(n.bounds.x)+" "+s(n.bounds.y+n.bounds.h)+" "+l(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y)+"] ")+"/Contents ("+p(C(n.contents))+")",a+=" /Popup "+I.objId+" 0 R",a+=" /P "+h.objId+" 0 R",a+=" /T ("+p(C(Z))+") >>",N.content=a;var W=N.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+l(n.bounds.x+30)+" "+s(n.bounds.y+n.bounds.h)+" "+l(n.bounds.x+n.bounds.w+30)+" "+s(n.bounds.y)+"] ")+" /Parent "+W,n.open&&(a+=" /Open true"),a+=" >>",I.content=a,this.internal.write(N.objId,"0 R",I.objId,"0 R");break;case"freetext":r="/Rect ["+l(n.bounds.x)+" "+s(n.bounds.y)+" "+l(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y+n.bounds.h)+"] ";var U=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+p(A(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+U+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var le=this.annotations._nameMap[n.options.name];n.options.pageNumber=le.page,n.options.top=le.y}else n.options.top||(n.options.top=0);if(r="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+p(A(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var we=s(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+we+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),i.createAnnotation=function(e){var n=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":n.pageContext.annotations.push(e)}},i.link=function(e,n,r,a,l){var s=this.internal.getCurrentPageInfo(),h=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:h(e),y:u(n),w:h(e+r),h:u(n+a)},options:l,type:"link"})},i.textWithLink=function(e,n,r,a){var l,s,h=this.getTextWidth(e),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){s=a.maxWidth;var d=this.splitTextToSize(e,s).length;l=Math.ceil(u*d)}else s=h,l=u;return this.text(e,n,r,a),r+=.2*u,a.align==="center"&&(n-=h/2),a.align==="right"&&(n-=h),this.link(n,r-u,s,l,a),h},i.getTextWidth=function(e){var n=this.internal.getFontSize();return this.getStringUnitWidth(e)*n/this.internal.scaleFactor}}(Ue.API),function(i){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];i.__arabicParser__={};var a=i.__arabicParser__.isInArabicSubstitutionA=function(N){return t[N.charCodeAt(0)]!==void 0},l=i.__arabicParser__.isArabicLetter=function(N){return typeof N=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(N)},s=i.__arabicParser__.isArabicEndLetter=function(N){return l(N)&&a(N)&&t[N.charCodeAt(0)].length<=2},h=i.__arabicParser__.isArabicAlfLetter=function(N){return l(N)&&r.indexOf(N.charCodeAt(0))>=0};i.__arabicParser__.arabicLetterHasIsolatedForm=function(N){return l(N)&&a(N)&&t[N.charCodeAt(0)].length>=1};var u=i.__arabicParser__.arabicLetterHasFinalForm=function(N){return l(N)&&a(N)&&t[N.charCodeAt(0)].length>=2};i.__arabicParser__.arabicLetterHasInitialForm=function(N){return l(N)&&a(N)&&t[N.charCodeAt(0)].length>=3};var d=i.__arabicParser__.arabicLetterHasMedialForm=function(N){return l(N)&&a(N)&&t[N.charCodeAt(0)].length==4},v=i.__arabicParser__.resolveLigatures=function(N){var I=0,C=e,Z="",W=0;for(I=0;I<N.length;I+=1)C[N.charCodeAt(I)]!==void 0?(W++,typeof(C=C[N.charCodeAt(I)])=="number"&&(Z+=String.fromCharCode(C),C=e,W=0),I===N.length-1&&(C=e,Z+=N.charAt(I-(W-1)),I-=W-1,W=0)):(C=e,Z+=N.charAt(I-W),I-=W,W=0);return Z};i.__arabicParser__.isArabicDiacritic=function(N){return N!==void 0&&n[N.charCodeAt(0)]!==void 0};var y=i.__arabicParser__.getCorrectForm=function(N,I,C){return l(N)?a(N)===!1?-1:!u(N)||!l(I)&&!l(C)||!l(C)&&s(I)||s(N)&&!l(I)||s(N)&&h(I)||s(N)&&s(I)?0:d(N)&&l(I)&&!s(I)&&l(C)&&u(C)?3:s(N)||!l(C)?1:2:-1},p=function(N){var I=0,C=0,Z=0,W="",U="",le="",we=(N=N||"").split("\\s+"),pe=[];for(I=0;I<we.length;I+=1){for(pe.push(""),C=0;C<we[I].length;C+=1)W=we[I][C],U=we[I][C-1],le=we[I][C+1],l(W)?(Z=y(W,U,le),pe[I]+=Z!==-1?String.fromCharCode(t[W.charCodeAt(0)][Z]):W):pe[I]+=W;pe[I]=v(pe[I])}return pe.join(" ")},A=i.__arabicParser__.processArabic=i.processArabic=function(){var N,I=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,C=[];if(Array.isArray(I)){var Z=0;for(C=[],Z=0;Z<I.length;Z+=1)Array.isArray(I[Z])?C.push([p(I[Z][0]),I[Z][1],I[Z][2]]):C.push([p(I[Z])]);N=C}else N=p(I);return typeof arguments[0]=="string"?N:(arguments[0].text=N,arguments[0])};i.events.push(["preProcessText",A])}(Ue.API),Ue.API.autoPrint=function(i){var t;return(i=i||{}).variant=i.variant||"non-conform",i.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(i){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(s){e=s}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(s){n=isNaN(s)||Number.isInteger(s)===!1||s<0?150:s,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(s){r=isNaN(s)||Number.isInteger(s)===!1||s<0?300:s,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(s){a=s}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(s){l=s}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,n){var r;if((e=e||"2d")!=="2d")return null;for(r in n)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=n[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},i.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Ue.API),function(i){var t={left:0,top:0,bottom:0,right:0},e=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var h=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return h},set:function(N){h=N}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(N){u=N}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(N){d=N}});var v=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return v},set:function(N){v=N}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(N){y=N}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(N){p=N}});var A=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return A},set:function(N){A=N}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},i.setHeaderFunction=function(h){return n.call(this),this.internal.__cell__.headerFunction=typeof h=="function"?h:void 0,this},i.getTextDimensions=function(h,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),v=u.font||this.getFont(),y=u.scaleFactor||this.internal.scaleFactor,p=0,A=0,N=0,I=this;if(!Array.isArray(h)&&typeof h!="string"){if(typeof h!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");h=String(h)}var C=u.maxWidth;C>0?typeof h=="string"?h=this.splitTextToSize(h,C):Object.prototype.toString.call(h)==="[object Array]"&&(h=h.reduce(function(W,U){return W.concat(I.splitTextToSize(U,C))},[])):h=Array.isArray(h)?h:[h];for(var Z=0;Z<h.length;Z++)p<(N=this.getStringUnitWidth(h[Z],{font:v})*d)&&(p=N);return p!==0&&(A=h.length),{w:p/=y,h:Math.max((A*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/y,0)}},i.cellAddPage=function(){n.call(this),this.addPage();var h=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(h.left,h.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=i.cell=function(){var h;h=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,v=this.internal.__cell__.margins||t,y=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===h.lineNumber?(h.x=(u.x||0)+(u.width||0),h.y=u.y||0):u.y+u.height+h.height+v.bottom>this.getPageHeight()?(this.cellAddPage(),h.y=v.top,p&&y&&(this.printHeaderRow(h.lineNumber,!0),h.y+=y[0].height)):h.y=u.y+u.height||h.y),h.text[0]!==void 0&&(this.rect(h.x,h.y,h.width,h.height,e===!0?"FD":void 0),h.align==="right"?this.text(h.text,h.x+h.width-d,h.y+d,{align:"right",baseline:"top"}):h.align==="center"?this.text(h.text,h.x+h.width/2,h.y+d,{align:"center",baseline:"top",maxWidth:h.width-d-d}):this.text(h.text,h.x+d,h.y+d,{align:"left",baseline:"top",maxWidth:h.width-d-d})),this.internal.__cell__.lastCell=h,this};i.table=function(h,u,d,v,y){if(n.call(this),!d)throw new Error("No data for PDF table.");var p,A,N,I,C=[],Z=[],W=[],U={},le={},we=[],pe=[],X=(y=y||{}).autoSize||!1,j=y.printHeaders!==!1,ie=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,k=y.margins||Object.assign({width:this.getPageWidth()},t),F=typeof y.padding=="number"?y.padding:3,$=y.headerBackgroundColor||"#c8c8c8",H=y.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=j,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=ie,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=$,this.internal.__cell__.headerTextColor=H,this.setFontSize(ie),v==null)Z=C=Object.keys(d[0]),W=C.map(function(){return"left"});else if(Array.isArray(v)&&Ot(v[0])==="object")for(C=v.map(function(Ee){return Ee.name}),Z=v.map(function(Ee){return Ee.prompt||Ee.name||""}),W=v.map(function(Ee){return Ee.align||"left"}),p=0;p<v.length;p+=1)le[v[p].name]=.7499990551181103*v[p].width;else Array.isArray(v)&&typeof v[0]=="string"&&(Z=C=v,W=C.map(function(){return"left"}));if(X||Array.isArray(v)&&typeof v[0]=="string")for(p=0;p<C.length;p+=1){for(U[I=C[p]]=d.map(function(Ee){return Ee[I]}),this.setFont(void 0,"bold"),we.push(this.getTextDimensions(Z[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),A=U[I],this.setFont(void 0,"normal"),N=0;N<A.length;N+=1)we.push(this.getTextDimensions(A[N],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);le[I]=Math.max.apply(null,we)+F+F,we=[]}if(j){var ce={};for(p=0;p<C.length;p+=1)ce[C[p]]={},ce[C[p]].text=Z[p],ce[C[p]].align=W[p];var de=s.call(this,ce,le);pe=C.map(function(Ee){return new a(h,u,le[Ee],de,ce[Ee].text,void 0,ce[Ee].align)}),this.setTableHeaderRow(pe),this.printHeaderRow(1,!1)}var me=v.reduce(function(Ee,Ce){return Ee[Ce.name]=Ce.align,Ee},{});for(p=0;p<d.length;p+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:p,data:d[p]},this);var oe=s.call(this,d[p],le);for(N=0;N<C.length;N+=1){var _e=d[p][C[N]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:p,col:N,data:_e},this),l.call(this,new a(h,u,le[C[N]],oe,_e,p+2,me[C[N]]))}}return this.internal.__cell__.table_x=h,this.internal.__cell__.table_y=u,this};var s=function(h,u){var d=this.internal.__cell__.padding,v=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(h).map(function(p){var A=h[p];return this.splitTextToSize(A.hasOwnProperty("text")?A.text:A,u[p]-d-d)},this).map(function(p){return this.getLineHeightFactor()*p.length*v/y+d+d},this).reduce(function(p,A){return Math.max(p,A)},0)};i.setTableHeaderRow=function(h){n.call(this),this.internal.__cell__.tableHeaderRow=h},i.printHeaderRow=function(h,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var v=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(v[0],v[1],v[2],v[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){d=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,y.push(d)),d.lineNumber=h;var A=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,d),this.setTextColor(A)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),e=!1}}(Ue.API);var w0={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},x0=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],wu=b0(x0),S0=[100,200,300,400,500,600,700,800,900],n5=b0(S0);function pu(i){var t=i.family.replace(/"|'/g,"").toLowerCase(),e=function(a){return w0[a=a||"normal"]?a:"normal"}(i.style),n=function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400}(i.weight),r=function(a){return typeof wu[a=a||"normal"]=="number"?a:"normal"}(i.stretch);return{family:t,style:e,weight:n,stretch:r,src:i.src||[],ref:i.ref||{name:t,style:[r,e,n].join(" ")}}}function Jd(i,t,e,n){var r;for(r=e;r>=0&&r<t.length;r+=n)if(i[t[r]])return i[t[r]];for(r=e;r>=0&&r<t.length;r-=n)if(i[t[r]])return i[t[r]]}var r5={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Qd={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function e0(i){return[i.stretch,i.style,i.weight,i.family].join(" ")}function t0(i){return i.trimLeft()}function a5(i,t){for(var e=0;e<i.length;){if(i.charAt(e)===t)return[i.substring(0,e),i.substring(e+1)];e+=1}return null}function o5(i){var t=i.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],i.substring(t[0].length)]}var Ka,Al,i0,n0,r0,gu=["times"];function a0(i,t,e,n,r){var a=4,l=s0;switch(r){case Ue.API.image_compression.FAST:a=1,l=o0;break;case Ue.API.image_compression.MEDIUM:a=6,l=l0;break;case Ue.API.image_compression.SLOW:a=9,l=c0}i=function(h,u,d,v){for(var y,p=h.length/u,A=new Uint8Array(h.length+p),N=[s5,o0,s0,l0,c0],I=0;I<p;I+=1){var C=I*u,Z=h.subarray(C,C+u);if(v)A.set(v(Z,d,y),C+I);else{for(var W=N.length,U=[],le=0;le<W;le+=1)U[le]=N[le](Z,d,y);var we=c5(U.concat());A.set(U[we],C+I)}y=Z}return A}(i,t,Math.ceil(e*n/8),l);var s=el(i,{level:a});return Ue.API.__addimage__.arrayBufferToBinaryString(s)}function s5(i){var t=Array.apply([],i);return t.unshift(0),t}function o0(i,t){var e=i.length,n=[];n[0]=1;for(var r=0;r<e;r+=1){var a=i[r-t]||0;n[r+1]=i[r]-a+256&255}return n}function s0(i,t,e){var n=i.length,r=[];r[0]=2;for(var a=0;a<n;a+=1){var l=e&&e[a]||0;r[a+1]=i[a]-l+256&255}return r}function l0(i,t,e){var n=i.length,r=[];r[0]=3;for(var a=0;a<n;a+=1){var l=i[a-t]||0,s=e&&e[a]||0;r[a+1]=i[a]+256-(l+s>>>1)&255}return r}function c0(i,t,e){var n=i.length,r=[];r[0]=4;for(var a=0;a<n;a+=1){var l=l5(i[a-t]||0,e&&e[a]||0,e&&e[a-t]||0);r[a+1]=i[a]-l+256&255}return r}function l5(i,t,e){if(i===t&&t===e)return i;var n=Math.abs(t-e),r=Math.abs(i-e),a=Math.abs(i+t-e-e);return n<=r&&n<=a?i:r<=a?t:e}function c5(i){var t=i.map(function(e){return e.reduce(function(n,r){return n+Math.abs(r)},0)});return t.indexOf(Math.min.apply(null,t))}function mu(i,t,e){var n=t*e,r=Math.floor(n/8),a=16-(n-8*r+e),l=(1<<e)-1;return A0(i,r)>>a&l}function u0(i,t,e,n){var r=e*n,a=Math.floor(r/8),l=16-(r-8*a+n),s=(1<<n)-1,h=(t&s)<<l;(function(u,d,v){if(d+1<u.byteLength)u.setUint16(d,v,!1);else{var y=v>>8&255;u.setUint8(d,y)}})(i,a,A0(i,a)&~(s<<l)&65535|h)}function A0(i,t){return t+1<i.byteLength?i.getUint16(t,!1):i.getUint8(t)<<8}function u5(i){var t=0;if(i[t++]!==71||i[t++]!==73||i[t++]!==70||i[t++]!==56||(i[t++]+1&253)!=56||i[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=i[t++]|i[t++]<<8,n=i[t++]|i[t++]<<8,r=i[t++],a=r>>7,l=1<<1+(7&r);i[t++],i[t++];var s=null,h=null;a&&(s=t,h=l,t+=3*l);var u=!0,d=[],v=0,y=null,p=0,A=null;for(this.width=e,this.height=n;u&&t<i.length;)switch(i[t++]){case 33:switch(i[t++]){case 255:if(i[t]!==11||i[t+1]==78&&i[t+2]==69&&i[t+3]==84&&i[t+4]==83&&i[t+5]==67&&i[t+6]==65&&i[t+7]==80&&i[t+8]==69&&i[t+9]==50&&i[t+10]==46&&i[t+11]==48&&i[t+12]==3&&i[t+13]==1&&i[t+16]==0)t+=14,A=i[t++]|i[t++]<<8,t++;else for(t+=12;;){if(!((k=i[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}break;case 249:if(i[t++]!==4||i[t+4]!==0)throw new Error("Invalid graphics extension block.");var N=i[t++];v=i[t++]|i[t++]<<8,y=i[t++],1&N||(y=null),p=N>>2&7,t++;break;case 254:for(;;){if(!((k=i[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}break;default:throw new Error("Unknown graphic control label: 0x"+i[t-1].toString(16))}break;case 44:var I=i[t++]|i[t++]<<8,C=i[t++]|i[t++]<<8,Z=i[t++]|i[t++]<<8,W=i[t++]|i[t++]<<8,U=i[t++],le=U>>6&1,we=1<<1+(7&U),pe=s,X=h,j=!1;U>>7&&(j=!0,pe=t,X=we,t+=3*we);var ie=t;for(t++;;){var k;if(!((k=i[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}d.push({x:I,y:C,width:Z,height:W,has_local_palette:j,palette_offset:pe,palette_size:X,data_offset:ie,data_length:t-ie,transparent_index:y,interlaced:!!le,delay:v,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+i[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return A},this.frameInfo=function(F){if(F<0||F>=d.length)throw new Error("Frame index out of range.");return d[F]},this.decodeAndBlitFrameBGRA=function(F,$){var H=this.frameInfo(F),ce=H.width*H.height;if(ce>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");var de=new Uint8Array(ce);h0(i,H.data_offset,de,ce);var me=H.palette_offset,oe=H.transparent_index;oe===null&&(oe=256);var _e=H.width,Ee=e-_e,Ce=_e,S=4*(H.y*e+H.x),R=4*((H.y+H.height)*e+H.x),q=S,Y=4*Ee;H.interlaced===!0&&(Y+=4*e*7);for(var Q=8,ne=0,he=de.length;ne<he;++ne){var fe=de[ne];if(Ce===0&&(Ce=_e,(q+=Y)>=R&&(Y=4*Ee+4*e*(Q-1),q=S+(_e+Ee)*(Q<<1),Q>>=1)),fe===oe)q+=4;else{var xe=i[me+3*fe],De=i[me+3*fe+1],Be=i[me+3*fe+2];$[q++]=Be,$[q++]=De,$[q++]=xe,$[q++]=255}--Ce}},this.decodeAndBlitFrameRGBA=function(F,$){var H=this.frameInfo(F),ce=H.width*H.height;if(ce>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");var de=new Uint8Array(ce);h0(i,H.data_offset,de,ce);var me=H.palette_offset,oe=H.transparent_index;oe===null&&(oe=256);var _e=H.width,Ee=e-_e,Ce=_e,S=4*(H.y*e+H.x),R=4*((H.y+H.height)*e+H.x),q=S,Y=4*Ee;H.interlaced===!0&&(Y+=4*e*7);for(var Q=8,ne=0,he=de.length;ne<he;++ne){var fe=de[ne];if(Ce===0&&(Ce=_e,(q+=Y)>=R&&(Y=4*Ee+4*e*(Q-1),q=S+(_e+Ee)*(Q<<1),Q>>=1)),fe===oe)q+=4;else{var xe=i[me+3*fe],De=i[me+3*fe+1],Be=i[me+3*fe+2];$[q++]=xe,$[q++]=De,$[q++]=Be,$[q++]=255}--Ce}}}function h0(i,t,e,n){for(var r=i[t++],a=1<<r,l=a+1,s=l+1,h=r+1,u=(1<<h)-1,d=0,v=0,y=0,p=i[t++],A=new Int32Array(4096),N=null;;){for(;d<16&&p!==0;)v|=i[t++]<<d,d+=8,p===1?p=i[t++]:--p;if(d<h)break;var I=v&u;if(v>>=h,d-=h,I!==a){if(I===l)break;for(var C=I<s?I:N,Z=0,W=C;W>a;)W=A[W]>>8,++Z;var U=W;if(y+Z+(C!==I?1:0)>n)return void Vt.log("Warning, gif stream longer than expected.");e[y++]=U;var le=y+=Z;for(C!==I&&(e[y++]=U),W=C;Z--;)W=A[W],e[--le]=255&W,W>>=8;N!==null&&s<4096&&(A[s++]=N<<8|U,s>=u+1&&h<12&&(++h,u=u<<1|1)),N=I}else s=l+1,u=(1<<(h=r+1))-1,N=null}return y!==n&&Vt.log("Warning, gif stream shorter than expected."),e}function vu(i){var t,e,n,r,a,l=Math.floor,s=new Array(64),h=new Array(64),u=new Array(64),d=new Array(64),v=new Array(65535),y=new Array(65535),p=new Array(64),A=new Array(64),N=[],I=0,C=7,Z=new Array(64),W=new Array(64),U=new Array(64),le=new Array(256),we=new Array(2048),pe=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],X=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],ie=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],F=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],$=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ce=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function de(S,R){for(var q=0,Y=0,Q=new Array,ne=1;ne<=16;ne++){for(var he=1;he<=S[ne];he++)Q[R[Y]]=[],Q[R[Y]][0]=q,Q[R[Y]][1]=ne,Y++,q++;q*=2}return Q}function me(S){for(var R=S[0],q=S[1]-1;q>=0;)R&1<<q&&(I|=1<<C),q--,--C<0&&(I==255?(oe(255),oe(0)):oe(I),C=7,I=0)}function oe(S){N.push(S)}function _e(S){oe(S>>8&255),oe(255&S)}function Ee(S,R,q,Y,Q){for(var ne,he=Q[0],fe=Q[240],xe=function(Ne,et){var Re,Je,Ye,Pt,wt,ut,St,xt,We,dt,$e=0;for(We=0;We<8;++We){Re=Ne[$e],Je=Ne[$e+1],Ye=Ne[$e+2],Pt=Ne[$e+3],wt=Ne[$e+4],ut=Ne[$e+5],St=Ne[$e+6];var oi=Re+(xt=Ne[$e+7]),kt=Re-xt,_t=Je+St,yt=Je-St,Kt=Ye+ut,Ke=Ye-ut,Wt=Pt+wt,at=Pt-wt,ht=oi+Wt,Xt=oi-Wt,bt=_t+Kt,it=_t-Kt;Ne[$e]=ht+bt,Ne[$e+4]=ht-bt;var It=.707106781*(it+Xt);Ne[$e+2]=Xt+It,Ne[$e+6]=Xt-It;var Zr=.382683433*((ht=at+Ke)-(it=yt+kt)),Ti=.5411961*ht+Zr,Xn=1.306562965*it+Zr,Tn=.707106781*(bt=Ke+yt),nt=kt+Tn,Jn=kt-Tn;Ne[$e+5]=Jn+Ti,Ne[$e+3]=Jn-Ti,Ne[$e+1]=nt+Xn,Ne[$e+7]=nt-Xn,$e+=8}for($e=0,We=0;We<8;++We){Re=Ne[$e],Je=Ne[$e+8],Ye=Ne[$e+16],Pt=Ne[$e+24],wt=Ne[$e+32],ut=Ne[$e+40],St=Ne[$e+48];var Qn=Re+(xt=Ne[$e+56]),hn=Re-xt,fn=Je+St,ti=Je-St,Ai=Ye+ut,Ni=Ye-ut,Yr=Pt+wt,xr=Pt-wt,xn=Qn+Yr,Bn=Qn-Yr,Sn=fn+Ai,An=fn-Ai;Ne[$e]=xn+Sn,Ne[$e+32]=xn-Sn;var dn=.707106781*(An+Bn);Ne[$e+16]=Bn+dn,Ne[$e+48]=Bn-dn;var Kr=.382683433*((xn=xr+Ni)-(An=ti+hn)),On=.5411961*xn+Kr,Xr=1.306562965*An+Kr,Ma=.707106781*(Sn=Ni+ti),ka=hn+Ma,Na=hn-Ma;Ne[$e+40]=Na+On,Ne[$e+24]=Na-On,Ne[$e+8]=ka+Xr,Ne[$e+56]=ka-Xr,$e++}for(We=0;We<64;++We)dt=Ne[We]*et[We],p[We]=dt>0?dt+.5|0:dt-.5|0;return p}(S,R),De=0;De<64;++De)A[pe[De]]=xe[De];var Be=A[0]-q;q=A[0],Be==0?me(Y[0]):(me(Y[y[ne=32767+Be]]),me(v[ne]));for(var Te=63;Te>0&&A[Te]==0;)Te--;if(Te==0)return me(he),q;for(var Ze,P=1;P<=Te;){for(var Fe=P;A[P]==0&&P<=Te;)++P;var vt=P-Fe;if(vt>=16){Ze=vt>>4;for(var Qe=1;Qe<=Ze;++Qe)me(fe);vt&=15}ne=32767+A[P],me(Q[(vt<<4)+y[ne]]),me(v[ne]),P++}return Te!=63&&me(he),q}function Ce(S){S=Math.min(Math.max(S,1),100),a!=S&&(function(R){for(var q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Y=0;Y<64;Y++){var Q=l((q[Y]*R+50)/100);Q=Math.min(Math.max(Q,1),255),s[pe[Y]]=Q}for(var ne=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],he=0;he<64;he++){var fe=l((ne[he]*R+50)/100);fe=Math.min(Math.max(fe,1),255),h[pe[he]]=fe}for(var xe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],De=0,Be=0;Be<8;Be++)for(var Te=0;Te<8;Te++)u[De]=1/(s[pe[De]]*xe[Be]*xe[Te]*8),d[De]=1/(h[pe[De]]*xe[Be]*xe[Te]*8),De++}(S<50?Math.floor(5e3/S):Math.floor(200-2*S)),a=S)}this.encode=function(S,R){R&&Ce(R),N=new Array,I=0,C=7,_e(65496),_e(65504),_e(16),oe(74),oe(70),oe(73),oe(70),oe(0),oe(1),oe(1),oe(0),_e(1),_e(1),oe(0),oe(0),function(){_e(65499),_e(132),oe(0);for(var Je=0;Je<64;Je++)oe(s[Je]);oe(1);for(var Ye=0;Ye<64;Ye++)oe(h[Ye])}(),function(Je,Ye){_e(65472),_e(17),oe(8),_e(Ye),_e(Je),oe(3),oe(1),oe(17),oe(0),oe(2),oe(17),oe(1),oe(3),oe(17),oe(1)}(S.width,S.height),function(){_e(65476),_e(418),oe(0);for(var Je=0;Je<16;Je++)oe(X[Je+1]);for(var Ye=0;Ye<=11;Ye++)oe(j[Ye]);oe(16);for(var Pt=0;Pt<16;Pt++)oe(ie[Pt+1]);for(var wt=0;wt<=161;wt++)oe(k[wt]);oe(1);for(var ut=0;ut<16;ut++)oe(F[ut+1]);for(var St=0;St<=11;St++)oe($[St]);oe(17);for(var xt=0;xt<16;xt++)oe(H[xt+1]);for(var We=0;We<=161;We++)oe(ce[We])}(),_e(65498),_e(12),oe(3),oe(1),oe(0),oe(2),oe(17),oe(3),oe(17),oe(0),oe(63),oe(0);var q=0,Y=0,Q=0;I=0,C=7,this.encode.displayName="_encode_";for(var ne,he,fe,xe,De,Be,Te,Ze,P,Fe=S.data,vt=S.width,Qe=S.height,Ne=4*vt,et=0;et<Qe;){for(ne=0;ne<Ne;){for(De=Ne*et+ne,Te=-1,Ze=0,P=0;P<64;P++)Be=De+(Ze=P>>3)*Ne+(Te=4*(7&P)),et+Ze>=Qe&&(Be-=Ne*(et+1+Ze-Qe)),ne+Te>=Ne&&(Be-=ne+Te-Ne+4),he=Fe[Be++],fe=Fe[Be++],xe=Fe[Be++],Z[P]=(we[he]+we[fe+256|0]+we[xe+512|0]>>16)-128,W[P]=(we[he+768|0]+we[fe+1024|0]+we[xe+1280|0]>>16)-128,U[P]=(we[he+1280|0]+we[fe+1536|0]+we[xe+1792|0]>>16)-128;q=Ee(Z,u,q,t,n),Y=Ee(W,d,Y,e,r),Q=Ee(U,d,Q,e,r),ne+=32}et+=8}if(C>=0){var Re=[];Re[1]=C+1,Re[0]=(1<<C+1)-1,me(Re)}return _e(65497),new Uint8Array(N)},i=i||50,function(){for(var S=String.fromCharCode,R=0;R<256;R++)le[R]=S(R)}(),t=de(X,j),e=de(F,$),n=de(ie,k),r=de(H,ce),function(){for(var S=1,R=2,q=1;q<=15;q++){for(var Y=S;Y<R;Y++)y[32767+Y]=q,v[32767+Y]=[],v[32767+Y][1]=q,v[32767+Y][0]=Y;for(var Q=-(R-1);Q<=-S;Q++)y[32767+Q]=q,v[32767+Q]=[],v[32767+Q][1]=q,v[32767+Q][0]=R-1+Q;S<<=1,R<<=1}}(),function(){for(var S=0;S<256;S++)we[S]=19595*S,we[S+256|0]=38470*S,we[S+512|0]=7471*S+32768,we[S+768|0]=-11059*S,we[S+1024|0]=-21709*S,we[S+1280|0]=32768*S+8421375,we[S+1536|0]=-27439*S,we[S+1792|0]=-5329*S}(),Ce(i)}function Pn(i,t){if(this.pos=0,this.buffer=i,this.datav=new DataView(i.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function f0(i){function t(j){if(!j)throw Error("assert :P")}function e(j,ie,k){for(var F=0;4>F;F++)if(j[ie+F]!=k.charCodeAt(F))return!0;return!1}function n(j,ie,k,F,$){for(var H=0;H<$;H++)j[ie+H]=k[F+H]}function r(j,ie,k,F){for(var $=0;$<F;$++)j[ie+$]=k}function a(j){return new Int32Array(j)}function l(j,ie){for(var k=[],F=0;F<j;F++)k.push(new ie);return k}function s(j,ie){var k=[];return function F($,H,ce){for(var de=ce[H],me=0;me<de&&($.push(ce.length>H+1?[]:new ie),!(ce.length<H+1));me++)F($[me],H+1,ce)}(k,0,j),k}var h=function(){var j=this;function ie(o,c){for(var g=1<<c-1>>>0;o&g;)g>>>=1;return g?(o&g-1)+g:o}function k(o,c,g,m,b){t(!(m%g));do o[c+(m-=g)]=b;while(0<m)}function F(o,c,g,m,b){if(t(2328>=b),512>=b)var w=a(512);else if((w=a(b))==null)return 0;return function(x,M,L,T,K,ae){var B,J,te=M,ge=1<<L,re=a(16),ve=a(16);for(t(K!=0),t(T!=null),t(x!=null),t(0<L),J=0;J<K;++J){if(15<T[J])return 0;++re[T[J]]}if(re[0]==K)return 0;for(ve[1]=0,B=1;15>B;++B){if(re[B]>1<<B)return 0;ve[B+1]=ve[B]+re[B]}for(J=0;J<K;++J)B=T[J],0<T[J]&&(ae[ve[B]++]=J);if(ve[15]==1)return(T=new $).g=0,T.value=ae[0],k(x,te,1,ge,T),ge;var be,Le=-1,Ae=ge-1,Ge=0,Oe=1,gt=1,qe=1<<L;for(J=0,B=1,K=2;B<=L;++B,K<<=1){if(Oe+=gt<<=1,0>(gt-=re[B]))return 0;for(;0<re[B];--re[B])(T=new $).g=B,T.value=ae[J++],k(x,te+Ge,K,qe,T),Ge=ie(Ge,B)}for(B=L+1,K=2;15>=B;++B,K<<=1){if(Oe+=gt<<=1,0>(gt-=re[B]))return 0;for(;0<re[B];--re[B]){if(T=new $,(Ge&Ae)!=Le){for(te+=qe,be=1<<(Le=B)-L;15>Le&&!(0>=(be-=re[Le]));)++Le,be<<=1;ge+=qe=1<<(be=Le-L),x[M+(Le=Ge&Ae)].g=be+L,x[M+Le].value=te-M-Le}T.g=B-L,T.value=ae[J++],k(x,te+(Ge>>L),K,qe,T),Ge=ie(Ge,B)}}return Oe!=2*ve[15]-1?0:ge}(o,c,g,m,b,w)}function $(){this.value=this.g=0}function H(){this.value=this.g=0}function ce(){this.G=l(5,$),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(la,H)}function de(o,c,g,m){t(o!=null),t(c!=null),t(2147483648>m),o.Ca=254,o.I=0,o.b=-8,o.Ka=0,o.oa=c,o.pa=g,o.Jd=c,o.Yc=g+m,o.Zc=4<=m?g+m-4+1:g,he(o)}function me(o,c){for(var g=0;0<c--;)g|=xe(o,128)<<c;return g}function oe(o,c){var g=me(o,c);return fe(o)?-g:g}function _e(o,c,g,m){var b,w=0;for(t(o!=null),t(c!=null),t(4294967288>m),o.Sb=m,o.Ra=0,o.u=0,o.h=0,4<m&&(m=4),b=0;b<m;++b)w+=c[g+b]<<8*b;o.Ra=w,o.bb=m,o.oa=c,o.pa=g}function Ee(o){for(;8<=o.u&&o.bb<o.Sb;)o.Ra>>>=8,o.Ra+=o.oa[o.pa+o.bb]<<Mr-8>>>0,++o.bb,o.u-=8;Y(o)&&(o.h=1,o.u=0)}function Ce(o,c){if(t(0<=c),!o.h&&c<=en){var g=q(o)&Qi[c];return o.u+=c,Ee(o),g}return o.h=1,o.u=0}function S(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function R(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function q(o){return o.Ra>>>(o.u&Mr-1)>>>0}function Y(o){return t(o.bb<=o.Sb),o.h||o.bb==o.Sb&&o.u>Mr}function Q(o,c){o.u=c,o.h=Y(o)}function ne(o){o.u>=ur&&(t(o.u>=ur),Ee(o))}function he(o){t(o!=null&&o.oa!=null),o.pa<o.Zc?(o.I=(o.oa[o.pa++]|o.I<<8)>>>0,o.b+=8):(t(o!=null&&o.oa!=null),o.pa<o.Yc?(o.b+=8,o.I=o.oa[o.pa++]|o.I<<8):o.Ka?o.b=0:(o.I<<=8,o.b+=8,o.Ka=1))}function fe(o){return me(o,1)}function xe(o,c){var g=o.Ca;0>o.b&&he(o);var m=o.b,b=g*c>>>8,w=(o.I>>>m>b)+0;for(w?(g-=b,o.I-=b+1<<m>>>0):g=b+1,m=g,b=0;256<=m;)b+=8,m>>=8;return m=7^b+kr[m],o.b-=m,o.Ca=(g<<m)-1,w}function De(o,c,g){o[c+0]=g>>24&255,o[c+1]=g>>16&255,o[c+2]=g>>8&255,o[c+3]=255&g}function Be(o,c){return o[c+0]|o[c+1]<<8}function Te(o,c){return Be(o,c)|o[c+2]<<16}function Ze(o,c){return Be(o,c)|Be(o,c+2)<<16}function P(o,c){var g=1<<c;return t(o!=null),t(0<c),o.X=a(g),o.X==null?0:(o.Mb=32-c,o.Xa=c,1)}function Fe(o,c){t(o!=null),t(c!=null),t(o.Xa==c.Xa),n(c.X,0,o.X,0,1<<c.Xa)}function vt(){this.X=[],this.Xa=this.Mb=0}function Qe(o,c,g,m){t(g!=null),t(m!=null);var b=g[0],w=m[0];return b==0&&(b=(o*w+c/2)/c),w==0&&(w=(c*b+o/2)/o),0>=b||0>=w?0:(g[0]=b,m[0]=w,1)}function Ne(o,c){return o+(1<<c)-1>>>c}function et(o,c){return((4278255360&o)+(4278255360&c)>>>0&4278255360)+((16711935&o)+(16711935&c)>>>0&16711935)>>>0}function Re(o,c){j[c]=function(g,m,b,w,x,M,L){var T;for(T=0;T<x;++T){var K=j[o](M[L+T-1],b,w+T);M[L+T]=et(g[m+T],K)}}}function Je(){this.ud=this.hd=this.jd=0}function Ye(o,c){return((4278124286&(o^c))>>>1)+(o&c)>>>0}function Pt(o){return 0<=o&&256>o?o:0>o?0:255<o?255:void 0}function wt(o,c){return Pt(o+(o-c+.5>>1))}function ut(o,c,g){return Math.abs(c-g)-Math.abs(o-g)}function St(o,c,g,m,b,w,x){for(m=w[x-1],g=0;g<b;++g)w[x+g]=m=et(o[c+g],m)}function xt(o,c,g,m,b){var w;for(w=0;w<g;++w){var x=o[c+w],M=x>>8&255,L=16711935&(L=(L=16711935&x)+((M<<16)+M));m[b+w]=(4278255360&x)+L>>>0}}function We(o,c){c.jd=255&o,c.hd=o>>8&255,c.ud=o>>16&255}function dt(o,c,g,m,b,w){var x;for(x=0;x<m;++x){var M=c[g+x],L=M>>>8,T=M,K=255&(K=(K=M>>>16)+((o.jd<<24>>24)*(L<<24>>24)>>>5));T=255&(T=(T+=(o.hd<<24>>24)*(L<<24>>24)>>>5)+((o.ud<<24>>24)*(K<<24>>24)>>>5)),b[w+x]=(4278255360&M)+(K<<16)+T}}function $e(o,c,g,m,b){j[c]=function(w,x,M,L,T,K,ae,B,J){for(L=ae;L<B;++L)for(ae=0;ae<J;++ae)T[K++]=b(M[m(w[x++])])},j[o]=function(w,x,M,L,T,K,ae){var B=8>>w.b,J=w.Ea,te=w.K[0],ge=w.w;if(8>B)for(w=(1<<w.b)-1,ge=(1<<B)-1;x<M;++x){var re,ve=0;for(re=0;re<J;++re)re&w||(ve=m(L[T++])),K[ae++]=b(te[ve&ge]),ve>>=B}else j["VP8LMapColor"+g](L,T,te,ge,K,ae,x,M,J)}}function oi(o,c,g,m,b){for(g=c+g;c<g;){var w=o[c++];m[b++]=w>>16&255,m[b++]=w>>8&255,m[b++]=255&w}}function kt(o,c,g,m,b){for(g=c+g;c<g;){var w=o[c++];m[b++]=w>>16&255,m[b++]=w>>8&255,m[b++]=255&w,m[b++]=w>>24&255}}function _t(o,c,g,m,b){for(g=c+g;c<g;){var w=(x=o[c++])>>16&240|x>>12&15,x=240&x|x>>28&15;m[b++]=w,m[b++]=x}}function yt(o,c,g,m,b){for(g=c+g;c<g;){var w=(x=o[c++])>>16&248|x>>13&7,x=x>>5&224|x>>3&31;m[b++]=w,m[b++]=x}}function Kt(o,c,g,m,b){for(g=c+g;c<g;){var w=o[c++];m[b++]=255&w,m[b++]=w>>8&255,m[b++]=w>>16&255}}function Ke(o,c,g,m,b,w){if(w==0)for(g=c+g;c<g;)De(m,((w=o[c++])[0]>>24|w[1]>>8&65280|w[2]<<8&16711680|w[3]<<24)>>>0),b+=32;else n(m,b,o,c,g)}function Wt(o,c){j[c][0]=j[o+"0"],j[c][1]=j[o+"1"],j[c][2]=j[o+"2"],j[c][3]=j[o+"3"],j[c][4]=j[o+"4"],j[c][5]=j[o+"5"],j[c][6]=j[o+"6"],j[c][7]=j[o+"7"],j[c][8]=j[o+"8"],j[c][9]=j[o+"9"],j[c][10]=j[o+"10"],j[c][11]=j[o+"11"],j[c][12]=j[o+"12"],j[c][13]=j[o+"13"],j[c][14]=j[o+"0"],j[c][15]=j[o+"0"]}function at(o){return o==tc||o==ic||o==Is||o==nc}function ht(){this.eb=[],this.size=this.A=this.fb=0}function Xt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function bt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ht,this.f.kb=new Xt,this.sd=null}function it(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function It(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Zr(o){return alert("todo:WebPSamplerProcessPlane"),o.T}function Ti(o,c){var g=o.T,m=c.ba.f.RGBA,b=m.eb,w=m.fb+o.ka*m.A,x=yn[c.ba.S],M=o.y,L=o.O,T=o.f,K=o.N,ae=o.ea,B=o.W,J=c.cc,te=c.dc,ge=c.Mc,re=c.Nc,ve=o.ka,be=o.ka+o.T,Le=o.U,Ae=Le+1>>1;for(ve==0?x(M,L,null,null,T,K,ae,B,T,K,ae,B,b,w,null,null,Le):(x(c.ec,c.fc,M,L,J,te,ge,re,T,K,ae,B,b,w-m.A,b,w,Le),++g);ve+2<be;ve+=2)J=T,te=K,ge=ae,re=B,K+=o.Rc,B+=o.Rc,w+=2*m.A,x(M,(L+=2*o.fa)-o.fa,M,L,J,te,ge,re,T,K,ae,B,b,w-m.A,b,w,Le);return L+=o.fa,o.j+be<o.o?(n(c.ec,c.fc,M,L,Le),n(c.cc,c.dc,T,K,Ae),n(c.Mc,c.Nc,ae,B,Ae),g--):1&be||x(M,L,null,null,T,K,ae,B,T,K,ae,B,b,w+m.A,null,null,Le),g}function Xn(o,c,g){var m=o.F,b=[o.J];if(m!=null){var w=o.U,x=c.ba.S,M=x==Ps||x==Is;c=c.ba.f.RGBA;var L=[0],T=o.ka;L[0]=o.T,o.Kb&&(T==0?--L[0]:(--T,b[0]-=o.width),o.j+o.ka+o.T==o.o&&(L[0]=o.o-o.j-T));var K=c.eb;T=c.fb+T*c.A,o=ju(m,b[0],o.width,w,L,K,T+(M?0:3),c.A),t(g==L),o&&at(x)&&No(K,T,M,w,L,c.A)}return 0}function Tn(o){var c=o.ma,g=c.ba.S,m=11>g,b=g==Ds||g==Es||g==Ps||g==ec||g==12||at(g);if(c.memory=null,c.Ib=null,c.Jb=null,c.Nd=null,!bo(c.Oa,o,b?11:12))return 0;if(b&&at(g)&&vo(),o.da)alert("todo:use_scaling");else{if(m){if(c.Ib=Zr,o.Kb){if(g=o.U+1>>1,c.memory=a(o.U+2*g),c.memory==null)return 0;c.ec=c.memory,c.fc=0,c.cc=c.ec,c.dc=c.fc+o.U,c.Mc=c.cc,c.Nc=c.dc+g,c.Ib=Ti,vo()}}else alert("todo:EmitYUV");b&&(c.Jb=Xn,m&&Mn())}if(m&&!nh){for(o=0;256>o;++o)d1[o]=89858*(o-128)+Ts>>Fs,m1[o]=-22014*(o-128)+Ts,g1[o]=-45773*(o-128),p1[o]=113618*(o-128)+Ts>>Fs;for(o=Do;o<oc;++o)c=76283*(o-16)+Ts>>Fs,v1[o-Do]=Rn(c,255),_1[o-Do]=Rn(c+8>>4,15);nh=1}return 1}function nt(o){var c=o.ma,g=o.U,m=o.T;return t(!(1&o.ka)),0>=g||0>=m?0:(g=c.Ib(o,c),c.Jb!=null&&c.Jb(o,c,g),c.Dc+=g,1)}function Jn(o){o.ma.memory=null}function Qn(o,c,g,m){return Ce(o,8)!=47?0:(c[0]=Ce(o,14)+1,g[0]=Ce(o,14)+1,m[0]=Ce(o,1),Ce(o,3)!=0?0:!o.h)}function hn(o,c){if(4>o)return o+1;var g=o-2>>1;return(2+(1&o)<<g)+Ce(c,g)+1}function fn(o,c){return 120<c?c-120:1<=(g=((g=Q0[c-1])>>4)*o+(8-(15&g)))?g:1;var g}function ti(o,c,g){var m=q(g),b=o[c+=255&m].g-8;return 0<b&&(Q(g,g.u+8),m=q(g),c+=o[c].value,c+=m&(1<<b)-1),Q(g,g.u+o[c].g),o[c].value}function Ai(o,c,g){return g.g+=o.g,g.value+=o.value<<c>>>0,t(8>=g.g),o.g}function Ni(o,c,g){var m=o.xc;return t((c=m==0?0:o.vc[o.md*(g>>m)+(c>>m)])<o.Wb),o.Ya[c]}function Yr(o,c,g,m){var b=o.ab,w=o.c*c,x=o.C;c=x+c;var M=g,L=m;for(m=o.Ta,g=o.Ua;0<b--;){var T=o.gc[b],K=x,ae=c,B=M,J=L,te=(L=m,M=g,T.Ea);switch(t(K<ae),t(ae<=T.nc),T.hc){case 2:si(B,J,(ae-K)*te,L,M);break;case 0:var ge=K,re=ae,ve=L,be=M,Le=(qe=T).Ea;ge==0&&(xo(B,J,null,null,1,ve,be),St(B,J+1,0,0,Le-1,ve,be+1),J+=Le,be+=Le,++ge);for(var Ae=1<<qe.b,Ge=Ae-1,Oe=Ne(Le,qe.b),gt=qe.K,qe=qe.w+(ge>>qe.b)*Oe;ge<re;){var At=gt,bi=qe,mt=1;for(Ba(B,J,ve,be-Le,1,ve,be);mt<Le;){var Ve=(mt&~Ge)+Ae;Ve>Le&&(Ve=Le),(0,Ao[At[bi++]>>8&15])(B,J+ +mt,ve,be+mt-Le,Ve-mt,ve,be+mt),mt=Ve}J+=Le,be+=Le,++ge&Ge||(qe+=Oe)}ae!=T.nc&&n(L,M-te,L,M+(ae-K-1)*te,te);break;case 1:for(te=B,re=J,Le=(B=T.Ea)-(be=B&~(ve=(J=1<<T.b)-1)),ge=Ne(B,T.b),Ae=T.K,T=T.w+(K>>T.b)*ge;K<ae;){for(Ge=Ae,Oe=T,gt=new Je,qe=re+be,At=re+B;re<qe;)We(Ge[Oe++],gt),Co(gt,te,re,J,L,M),re+=J,M+=J;re<At&&(We(Ge[Oe++],gt),Co(gt,te,re,Le,L,M),re+=Le,M+=Le),++K&ve||(T+=ge)}break;case 3:if(B==L&&J==M&&0<T.b){for(re=L,B=te=M+(ae-K)*te-(be=(ae-K)*Ne(T.Ea,T.b)),J=L,ve=M,ge=[],be=(Le=be)-1;0<=be;--be)ge[be]=J[ve+be];for(be=Le-1;0<=be;--be)re[B+be]=ge[be];Ms(T,K,ae,L,te,L,M)}else Ms(T,K,ae,B,J,L,M)}M=m,L=g}L!=g&&n(m,g,M,L,w)}function xr(o,c){var g=o.V,m=o.Ba+o.c*o.C,b=c-o.C;if(t(c<=o.l.o),t(16>=b),0<b){var w=o.l,x=o.Ta,M=o.Ua,L=w.width;if(Yr(o,b,g,m),b=M=[M],t((g=o.C)<(m=c)),t(w.v<w.va),m>w.o&&(m=w.o),g<w.j){var T=w.j-g;g=w.j,b[0]+=T*L}if(g>=m?g=0:(b[0]+=4*w.v,w.ka=g-w.j,w.U=w.va-w.v,w.T=m-g,g=1),g){if(M=M[0],11>(g=o.ca).S){var K=g.f.RGBA,ae=(m=g.S,b=w.U,w=w.T,T=K.eb,K.A),B=w;for(K=K.fb+o.Ma*K.A;0<B--;){var J=x,te=M,ge=b,re=T,ve=K;switch(m){case Ls:Mo(J,te,ge,re,ve);break;case Ds:Nr(J,te,ge,re,ve);break;case tc:Nr(J,te,ge,re,ve),No(re,ve,0,ge,1,0);break;case $u:ca(J,te,ge,re,ve);break;case Es:Ke(J,te,ge,re,ve,1);break;case ic:Ke(J,te,ge,re,ve,1),No(re,ve,0,ge,1,0);break;case Ps:Ke(J,te,ge,re,ve,0);break;case Is:Ke(J,te,ge,re,ve,0),No(re,ve,1,ge,1,0);break;case ec:Lr(J,te,ge,re,ve);break;case nc:Lr(J,te,ge,re,ve),zu(re,ve,ge,1,0);break;case Zu:Dr(J,te,ge,re,ve);break;default:t(0)}M+=L,K+=ae}o.Ma+=w}else alert("todo:EmitRescaledRowsYUVA");t(o.Ma<=g.height)}}o.C=c,t(o.C<=o.i)}function xn(o){var c;if(0<o.ua)return 0;for(c=0;c<o.Wb;++c){var g=o.Ya[c].G,m=o.Ya[c].H;if(0<g[1][m[1]+0].g||0<g[2][m[2]+0].g||0<g[3][m[3]+0].g)return 0}return 1}function Bn(o,c,g,m,b,w){if(o.Z!=0){var x=o.qd,M=o.rd;for(t(Ir[o.Z]!=null);c<g;++c)Ir[o.Z](x,M,m,b,m,b,w),x=m,M=b,b+=w;o.qd=x,o.rd=M}}function Sn(o,c){var g=o.l.ma,m=g.Z==0||g.Z==1?o.l.j:o.C;if(m=o.C<m?m:o.C,t(c<=o.l.o),c>m){var b=o.l.width,w=g.ca,x=g.tb+b*m,M=o.V,L=o.Ba+o.c*m,T=o.gc;t(o.ab==1),t(T[0].hc==3),qn(T[0],m,c,M,L,w,x),Bn(g,m,c,w,x,b)}o.C=o.Ma=c}function An(o,c,g,m,b,w,x){var M=o.$/m,L=o.$%m,T=o.m,K=o.s,ae=g+o.$,B=ae;b=g+m*b;var J=g+m*w,te=280+K.ua,ge=o.Pb?M:16777216,re=0<K.ua?K.Wa:null,ve=K.wc,be=ae<J?Ni(K,L,M):null;t(o.C<w),t(J<=b);var Le=!1;e:for(;;){for(;Le||ae<J;){var Ae=0;if(M>=ge){var Ge=ae-g;t((ge=o).Pb),ge.wd=ge.m,ge.xd=Ge,0<ge.s.ua&&Fe(ge.s.Wa,ge.s.vb),ge=M+t1}if(L&ve||(be=Ni(K,L,M)),t(be!=null),be.Qb&&(c[ae]=be.qb,Le=!0),!Le)if(ne(T),be.jc){Ae=T,Ge=c;var Oe=ae,gt=be.pd[q(Ae)&la-1];t(be.jc),256>gt.g?(Q(Ae,Ae.u+gt.g),Ge[Oe]=gt.value,Ae=0):(Q(Ae,Ae.u+gt.g-256),t(256<=gt.value),Ae=gt.value),Ae==0&&(Le=!0)}else Ae=ti(be.G[0],be.H[0],T);if(T.h)break;if(Le||256>Ae){if(!Le)if(be.nd)c[ae]=(be.qb|Ae<<8)>>>0;else{if(ne(T),Le=ti(be.G[1],be.H[1],T),ne(T),Ge=ti(be.G[2],be.H[2],T),Oe=ti(be.G[3],be.H[3],T),T.h)break;c[ae]=(Oe<<24|Le<<16|Ae<<8|Ge)>>>0}if(Le=!1,++ae,++L>=m&&(L=0,++M,x!=null&&M<=w&&!(M%16)&&x(o,M),re!=null))for(;B<ae;)Ae=c[B++],re.X[(506832829*Ae&4294967295)>>>re.Mb]=Ae}else if(280>Ae){if(Ae=hn(Ae-256,T),Ge=ti(be.G[4],be.H[4],T),ne(T),Ge=fn(m,Ge=hn(Ge,T)),T.h)break;if(ae-g<Ge||b-ae<Ae)break e;for(Oe=0;Oe<Ae;++Oe)c[ae+Oe]=c[ae+Oe-Ge];for(ae+=Ae,L+=Ae;L>=m;)L-=m,++M,x!=null&&M<=w&&!(M%16)&&x(o,M);if(t(ae<=b),L&ve&&(be=Ni(K,L,M)),re!=null)for(;B<ae;)Ae=c[B++],re.X[(506832829*Ae&4294967295)>>>re.Mb]=Ae}else{if(!(Ae<te))break e;for(Le=Ae-280,t(re!=null);B<ae;)Ae=c[B++],re.X[(506832829*Ae&4294967295)>>>re.Mb]=Ae;Ae=ae,t(!(Le>>>(Ge=re).Xa)),c[Ae]=Ge.X[Le],Le=!0}Le||t(T.h==Y(T))}if(o.Pb&&T.h&&ae<b)t(o.m.h),o.a=5,o.m=o.wd,o.$=o.xd,0<o.s.ua&&Fe(o.s.vb,o.s.Wa);else{if(T.h)break e;x?.(o,M>w?w:M),o.a=0,o.$=ae-g}return 1}return o.a=3,0}function dn(o){t(o!=null),o.vc=null,o.yc=null,o.Ya=null;var c=o.Wa;c!=null&&(c.X=null),o.vb=null,t(o!=null)}function Kr(){var o=new st;return o==null?null:(o.a=0,o.xb=Xu,Wt("Predictor","VP8LPredictors"),Wt("Predictor","VP8LPredictors_C"),Wt("PredictorAdd","VP8LPredictorsAdd"),Wt("PredictorAdd","VP8LPredictorsAdd_C"),si=xt,Co=dt,Mo=oi,Nr=kt,Lr=_t,Dr=yt,ca=Kt,j.VP8LMapColor32b=Un,j.VP8LMapColor8b=So,o)}function On(o,c,g,m,b){var w=1,x=[o],M=[c],L=m.m,T=m.s,K=null,ae=0;e:for(;;){if(g)for(;w&&Ce(L,1);){var B=x,J=M,te=m,ge=1,re=te.m,ve=te.gc[te.ab],be=Ce(re,2);if(te.Oc&1<<be)w=0;else{switch(te.Oc|=1<<be,ve.hc=be,ve.Ea=B[0],ve.nc=J[0],ve.K=[null],++te.ab,t(4>=te.ab),be){case 0:case 1:ve.b=Ce(re,3)+2,ge=On(Ne(ve.Ea,ve.b),Ne(ve.nc,ve.b),0,te,ve.K),ve.K=ve.K[0];break;case 3:var Le,Ae=Ce(re,8)+1,Ge=16<Ae?0:4<Ae?1:2<Ae?2:3;if(B[0]=Ne(ve.Ea,Ge),ve.b=Ge,Le=ge=On(Ae,1,0,te,ve.K)){var Oe,gt=Ae,qe=ve,At=1<<(8>>qe.b),bi=a(At);if(bi==null)Le=0;else{var mt=qe.K[0],Ve=qe.w;for(bi[0]=qe.K[0][0],Oe=1;Oe<1*gt;++Oe)bi[Oe]=et(mt[Ve+Oe],bi[Oe-1]);for(;Oe<4*At;++Oe)bi[Oe]=0;qe.K[0]=null,qe.K[0]=bi,Le=1}}ge=Le;break;case 2:break;default:t(0)}w=ge}}if(x=x[0],M=M[0],w&&Ce(L,1)&&!(w=1<=(ae=Ce(L,4))&&11>=ae)){m.a=3;break e}var Pe;if(Pe=w)t:{var ci,ft,Mt,$t=m,Ei=x,qi=M,ii=ae,Bi=g,Vi=$t.m,wi=$t.s,Lt=[null],Tt=1,ni=0,Bt=e1[ii];i:for(;;){if(Bi&&Ce(Vi,1)){var Pi=Ce(Vi,3)+2,Nn=Ne(Ei,Pi),ui=Ne(qi,Pi),$i=Nn*ui;if(!On(Nn,ui,0,$t,Lt))break i;for(Lt=Lt[0],wi.xc=Pi,ci=0;ci<$i;++ci){var zt=Lt[ci]>>8&65535;Lt[ci]=zt,zt>=Tt&&(Tt=zt+1)}}if(Vi.h)break i;for(ft=0;5>ft;++ft){var xi=Yu[ft];!ft&&0<ii&&(xi+=1<<ii),ni<xi&&(ni=xi)}var nn=l(Tt*Bt,$),Wi=Tt,rn=l(Wi,ce);if(rn==null)var an=null;else t(65536>=Wi),an=rn;var Zi=a(ni);if(an==null||Zi==null||nn==null){$t.a=1;break i}var on=nn;for(ci=Mt=0;ci<Tt;++ci){var Gt=an[ci],sn=Gt.G,Ln=Gt.H,ha=0,dr=1,Ii=0;for(ft=0;5>ft;++ft){xi=Yu[ft],sn[ft]=on,Ln[ft]=Mt,!ft&&0<ii&&(xi+=1<<ii);r:{var Os,sc=xi,Rs=$t,Eo=Zi,w1=on,x1=Mt,lc=0,Fr=Rs.m,S1=Ce(Fr,1);if(r(Eo,0,0,sc),S1){var A1=Ce(Fr,1)+1,C1=Ce(Fr,1),oh=Ce(Fr,C1==0?1:8);Eo[oh]=1,A1==2&&(Eo[oh=Ce(Fr,8)]=1);var zs=1}else{var sh=a(19),lh=Ce(Fr,4)+4;if(19<lh){Rs.a=3;var js=0;break r}for(Os=0;Os<lh;++Os)sh[J0[Os]]=Ce(Fr,3);var cc=void 0,Po=void 0,ch=Rs,M1=sh,Us=sc,uh=Eo,uc=0,Tr=ch.m,hh=8,fh=l(128,$);n:for(;F(fh,0,7,M1,19);){if(Ce(Tr,1)){var k1=2+2*Ce(Tr,3);if((cc=2+Ce(Tr,k1))>Us)break n}else cc=Us;for(Po=0;Po<Us&&cc--;){ne(Tr);var dh=fh[0+(127&q(Tr))];Q(Tr,Tr.u+dh.g);var Ra=dh.value;if(16>Ra)uh[Po++]=Ra,Ra!=0&&(hh=Ra);else{var N1=Ra==16,ph=Ra-16,L1=K0[ph],gh=Ce(Tr,Y0[ph])+L1;if(Po+gh>Us)break n;for(var D1=N1?hh:0;0<gh--;)uh[Po++]=D1}}uc=1;break n}uc||(ch.a=3),zs=uc}(zs=zs&&!Fr.h)&&(lc=F(w1,x1,8,Eo,sc)),zs&&lc!=0?js=lc:(Rs.a=3,js=0)}if(js==0)break i;if(dr&&X0[ft]==1&&(dr=on[Mt].g==0),ha+=on[Mt].g,Mt+=js,3>=ft){var Io,hc=Zi[0];for(Io=1;Io<xi;++Io)Zi[Io]>hc&&(hc=Zi[Io]);Ii+=hc}}if(Gt.nd=dr,Gt.Qb=0,dr&&(Gt.qb=(sn[3][Ln[3]+0].value<<24|sn[1][Ln[1]+0].value<<16|sn[2][Ln[2]+0].value)>>>0,ha==0&&256>sn[0][Ln[0]+0].value&&(Gt.Qb=1,Gt.qb+=sn[0][Ln[0]+0].value<<8)),Gt.jc=!Gt.Qb&&6>Ii,Gt.jc){var qs,pr=Gt;for(qs=0;qs<la;++qs){var Br=qs,Or=pr.pd[Br],Vs=pr.G[0][pr.H[0]+Br];256<=Vs.value?(Or.g=Vs.g+256,Or.value=Vs.value):(Or.g=0,Or.value=0,Br>>=Ai(Vs,8,Or),Br>>=Ai(pr.G[1][pr.H[1]+Br],16,Or),Br>>=Ai(pr.G[2][pr.H[2]+Br],0,Or),Ai(pr.G[3][pr.H[3]+Br],24,Or))}}}wi.vc=Lt,wi.Wb=Tt,wi.Ya=an,wi.yc=nn,Pe=1;break t}Pe=0}if(!(w=Pe)){m.a=3;break e}if(0<ae){if(T.ua=1<<ae,!P(T.Wa,ae)){m.a=1,w=0;break e}}else T.ua=0;var fc=m,mh=x,E1=M,dc=fc.s,pc=dc.xc;if(fc.c=mh,fc.i=E1,dc.md=Ne(mh,pc),dc.wc=pc==0?-1:(1<<pc)-1,g){m.xb=l1;break e}if((K=a(x*M))==null){m.a=1,w=0;break e}w=(w=An(m,K,0,x,M,M,null))&&!L.h;break e}return w?(b!=null?b[0]=K:(t(K==null),t(g)),m.$=0,g||dn(T)):dn(T),w}function Xr(o,c){var g=o.c*o.i,m=g+c+16*c;return t(o.c<=c),o.V=a(m),o.V==null?(o.Ta=null,o.Ua=0,o.a=1,0):(o.Ta=o.V,o.Ua=o.Ba+g+c,1)}function Ma(o,c){var g=o.C,m=c-g,b=o.V,w=o.Ba+o.c*g;for(t(c<=o.l.o);0<m;){var x=16<m?16:m,M=o.l.ma,L=o.l.width,T=L*x,K=M.ca,ae=M.tb+L*g,B=o.Ta,J=o.Ua;Yr(o,x,b,w),Uu(B,J,K,ae,T),Bn(M,g,g+x,K,ae,L),m-=x,b+=x*o.c,g+=x}t(g==c),o.C=o.Ma=c}function ka(){this.ub=this.yd=this.td=this.Rb=0}function Na(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ol(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function ao(){this.Yb=function(){var o=[];return function c(g,m,b){for(var w=b[m],x=0;x<w&&(g.push(b.length>m+1?[]:0),!(b.length<m+1));x++)c(g[x],m+1,b)}(o,0,[3,11]),o}()}function ls(){this.jb=a(3),this.Wc=s([4,8],ao),this.Xc=s([4,17],ao)}function cs(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function pn(){this.ld=this.La=this.dd=this.tc=0}function oo(){this.Na=this.la=0}function us(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function so(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function hs(){this.uc=this.M=this.Nb=0,this.wa=Array(new pn),this.Y=0,this.ya=Array(new so),this.aa=0,this.l=new La}function fs(){this.y=a(16),this.f=a(8),this.ea=a(8)}function ds(){this.cb=this.a=0,this.sc="",this.m=new S,this.Od=new ka,this.Kc=new Na,this.ed=new cs,this.Qa=new Ol,this.Ic=this.$c=this.Aa=0,this.D=new hs,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,S),this.ia=0,this.pb=l(4,us),this.Pa=new ls,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new fs),this.Hd=0,this.rb=Array(new oo),this.sb=0,this.wa=Array(new pn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new so),this.L=this.aa=0,this.gd=s([4,2],pn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Rn(o,c){return 0>o?0:o>c?c:o}function La(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Rl(){var o=new ds;return o!=null&&(o.a=0,o.sc="OK",o.cb=0,o.Xb=0,Lo||(Lo=Da)),o}function pi(o,c,g){return o.a==0&&(o.a=c,o.sc=g,o.cb=0),0}function ps(o,c,g){return 3<=g&&o[c+0]==157&&o[c+1]==1&&o[c+2]==42}function zn(o,c){if(o==null)return 0;if(o.a=0,o.sc="OK",c==null)return pi(o,2,"null VP8Io passed to VP8GetHeaders()");var g=c.data,m=c.w,b=c.ha;if(4>b)return pi(o,7,"Truncated header.");var w=g[m+0]|g[m+1]<<8|g[m+2]<<16,x=o.Od;if(x.Rb=!(1&w),x.td=w>>1&7,x.yd=w>>4&1,x.ub=w>>5,3<x.td)return pi(o,3,"Incorrect keyframe parameters.");if(!x.yd)return pi(o,4,"Frame not displayable.");m+=3,b-=3;var M=o.Kc;if(x.Rb){if(7>b)return pi(o,7,"cannot parse picture header");if(!ps(g,m,b))return pi(o,3,"Bad code word");M.c=16383&(g[m+4]<<8|g[m+3]),M.Td=g[m+4]>>6,M.i=16383&(g[m+6]<<8|g[m+5]),M.Ud=g[m+6]>>6,m+=7,b-=7,o.za=M.c+15>>4,o.Ub=M.i+15>>4,c.width=M.c,c.height=M.i,c.Da=0,c.j=0,c.v=0,c.va=c.width,c.o=c.height,c.da=0,c.ib=c.width,c.hb=c.height,c.U=c.width,c.T=c.height,r((w=o.Pa).jb,0,255,w.jb.length),t((w=o.Qa)!=null),w.Cb=0,w.Bb=0,w.Fb=1,r(w.Zb,0,0,w.Zb.length),r(w.Lb,0,0,w.Lb)}if(x.ub>b)return pi(o,7,"bad partition length");de(w=o.m,g,m,x.ub),m+=x.ub,b-=x.ub,x.Rb&&(M.Ld=fe(w),M.Kd=fe(w)),M=o.Qa;var L,T=o.Pa;if(t(w!=null),t(M!=null),M.Cb=fe(w),M.Cb){if(M.Bb=fe(w),fe(w)){for(M.Fb=fe(w),L=0;4>L;++L)M.Zb[L]=fe(w)?oe(w,7):0;for(L=0;4>L;++L)M.Lb[L]=fe(w)?oe(w,6):0}if(M.Bb)for(L=0;3>L;++L)T.jb[L]=fe(w)?me(w,8):255}else M.Bb=0;if(w.Ka)return pi(o,3,"cannot parse segment header");if((M=o.ed).zd=fe(w),M.Tb=me(w,6),M.wb=me(w,3),M.Pc=fe(w),M.Pc&&fe(w)){for(T=0;4>T;++T)fe(w)&&(M.vd[T]=oe(w,6));for(T=0;4>T;++T)fe(w)&&(M.od[T]=oe(w,6))}if(o.L=M.Tb==0?0:M.zd?1:2,w.Ka)return pi(o,3,"cannot parse filter header");var K=b;if(b=L=m,m=L+K,M=K,o.Xb=(1<<me(o.m,2))-1,K<3*(T=o.Xb))g=7;else{for(L+=3*T,M-=3*T,K=0;K<T;++K){var ae=g[b+0]|g[b+1]<<8|g[b+2]<<16;ae>M&&(ae=M),de(o.Jc[+K],g,L,ae),L+=ae,M-=ae,b+=3}de(o.Jc[+T],g,L,M),g=L<m?0:5}if(g!=0)return pi(o,g,"cannot parse partitions");for(g=me(L=o.m,7),b=fe(L)?oe(L,4):0,m=fe(L)?oe(L,4):0,M=fe(L)?oe(L,4):0,T=fe(L)?oe(L,4):0,L=fe(L)?oe(L,4):0,K=o.Qa,ae=0;4>ae;++ae){if(K.Cb){var B=K.Zb[ae];K.Fb||(B+=g)}else{if(0<ae){o.pb[ae]=o.pb[0];continue}B=g}var J=o.pb[ae];J.Sc[0]=rc[Rn(B+b,127)],J.Sc[1]=ac[Rn(B+0,127)],J.Eb[0]=2*rc[Rn(B+m,127)],J.Eb[1]=101581*ac[Rn(B+M,127)]>>16,8>J.Eb[1]&&(J.Eb[1]=8),J.Qc[0]=rc[Rn(B+T,117)],J.Qc[1]=ac[Rn(B+L,127)],J.lc=B+L}if(!x.Rb)return pi(o,4,"Not a key frame.");for(fe(w),x=o.Pa,g=0;4>g;++g){for(b=0;8>b;++b)for(m=0;3>m;++m)for(M=0;11>M;++M)T=xe(w,o1[g][b][m][M])?me(w,8):r1[g][b][m][M],x.Wc[g][b].Yb[m][M]=T;for(b=0;17>b;++b)x.Xc[g][b]=x.Wc[g][s1[b]]}return o.kc=fe(w),o.kc&&(o.Bd=me(w,8)),o.cb=1}function Da(o,c,g,m,b,w,x){var M=c[b].Yb[g];for(g=0;16>b;++b){if(!xe(o,M[g+0]))return b;for(;!xe(o,M[g+1]);)if(M=c[++b].Yb[0],g=0,b==16)return 16;var L=c[b+1].Yb;if(xe(o,M[g+2])){var T=o,K=0;if(xe(T,(B=M)[(ae=g)+3]))if(xe(T,B[ae+6])){for(M=0,ae=2*(K=xe(T,B[ae+8]))+(B=xe(T,B[ae+9+K])),K=0,B=i1[ae];B[M];++M)K+=K+xe(T,B[M]);K+=3+(8<<ae)}else xe(T,B[ae+7])?(K=7+2*xe(T,165),K+=xe(T,145)):K=5+xe(T,159);else K=xe(T,B[ae+4])?3+xe(T,B[ae+5]):2;M=L[2]}else K=1,M=L[1];L=x+n1[b],0>(T=o).b&&he(T);var ae,B=T.b,J=(ae=T.Ca>>1)-(T.I>>B)>>31;--T.b,T.Ca+=J,T.Ca|=1,T.I-=(ae+1&J)<<B,w[L]=((K^J)-J)*m[(0<b)+0]}return 16}function gs(o){var c=o.rb[o.sb-1];c.la=0,c.Na=0,r(o.zc,0,0,o.zc.length),o.ja=0}function gn(o,c,g,m,b){b=o[c+g+32*m]+(b>>3),o[c+g+32*m]=-256&b?0>b?0:255:b}function vi(o,c,g,m,b,w){gn(o,c,0,g,m+b),gn(o,c,1,g,m+w),gn(o,c,2,g,m-w),gn(o,c,3,g,m-b)}function er(o){return(20091*o>>16)+o}function ms(o,c,g,m){var b,w=0,x=a(16);for(b=0;4>b;++b){var M=o[c+0]+o[c+8],L=o[c+0]-o[c+8],T=(35468*o[c+4]>>16)-er(o[c+12]),K=er(o[c+4])+(35468*o[c+12]>>16);x[w+0]=M+K,x[w+1]=L+T,x[w+2]=L-T,x[w+3]=M-K,w+=4,c++}for(b=w=0;4>b;++b)M=(o=x[w+0]+4)+x[w+8],L=o-x[w+8],T=(35468*x[w+4]>>16)-er(x[w+12]),gn(g,m,0,0,M+(K=er(x[w+4])+(35468*x[w+12]>>16))),gn(g,m,1,0,L+T),gn(g,m,2,0,L-T),gn(g,m,3,0,M-K),w++,m+=32}function zl(o,c,g,m){var b=o[c+0]+4,w=35468*o[c+4]>>16,x=er(o[c+4]),M=35468*o[c+1]>>16;vi(g,m,0,b+x,o=er(o[c+1]),M),vi(g,m,1,b+w,o,M),vi(g,m,2,b-w,o,M),vi(g,m,3,b-x,o,M)}function jl(o,c,g,m,b){ms(o,c,g,m),b&&ms(o,c+16,g,m+4)}function jn(o,c,g,m){ua(o,c+0,g,m,1),ua(o,c+32,g,m+128,1)}function vs(o,c,g,m){var b;for(o=o[c+0]+4,b=0;4>b;++b)for(c=0;4>c;++c)gn(g,m,c,b,o)}function _s(o,c,g,m){o[c+0]&&Ft(o,c+0,g,m),o[c+16]&&Ft(o,c+16,g,m+4),o[c+32]&&Ft(o,c+32,g,m+128),o[c+48]&&Ft(o,c+48,g,m+128+4)}function Ea(o,c,g,m){var b,w=a(16);for(b=0;4>b;++b){var x=o[c+0+b]+o[c+12+b],M=o[c+4+b]+o[c+8+b],L=o[c+4+b]-o[c+8+b],T=o[c+0+b]-o[c+12+b];w[0+b]=x+M,w[8+b]=x-M,w[4+b]=T+L,w[12+b]=T-L}for(b=0;4>b;++b)x=(o=w[0+4*b]+3)+w[3+4*b],M=w[1+4*b]+w[2+4*b],L=w[1+4*b]-w[2+4*b],T=o-w[3+4*b],g[m+0]=x+M>>3,g[m+16]=T+L>>3,g[m+32]=x-M>>3,g[m+48]=T-L>>3,m+=64}function Jr(o,c,g){var m,b=c-32,w=tn,x=255-o[b-1];for(m=0;m<g;++m){var M,L=w,T=x+o[c-1];for(M=0;M<g;++M)o[c+M]=L[T+o[b+M]];c+=32}}function Ul(o,c){Jr(o,c,4)}function ql(o,c){Jr(o,c,8)}function Vl(o,c){Jr(o,c,16)}function lo(o,c){var g;for(g=0;16>g;++g)n(o,c+32*g,o,c-32,16)}function ys(o,c){var g;for(g=16;0<g;--g)r(o,c,o[c-1],16),c+=32}function Cn(o,c,g){var m;for(m=0;16>m;++m)r(c,g+32*m,o,16)}function Wl(o,c){var g,m=16;for(g=0;16>g;++g)m+=o[c-1+32*g]+o[c+g-32];Cn(m>>5,o,c)}function Qr(o,c){var g,m=8;for(g=0;16>g;++g)m+=o[c-1+32*g];Cn(m>>4,o,c)}function co(o,c){var g,m=8;for(g=0;16>g;++g)m+=o[c+g-32];Cn(m>>4,o,c)}function Hl(o,c){Cn(128,o,c)}function lt(o,c,g){return o+2*c+g+2>>2}function Gl(o,c){var g,m=c-32;for(m=new Uint8Array([lt(o[m-1],o[m+0],o[m+1]),lt(o[m+0],o[m+1],o[m+2]),lt(o[m+1],o[m+2],o[m+3]),lt(o[m+2],o[m+3],o[m+4])]),g=0;4>g;++g)n(o,c+32*g,m,0,m.length)}function $l(o,c){var g=o[c-1],m=o[c-1+32],b=o[c-1+64],w=o[c-1+96];De(o,c+0,16843009*lt(o[c-1-32],g,m)),De(o,c+32,16843009*lt(g,m,b)),De(o,c+64,16843009*lt(m,b,w)),De(o,c+96,16843009*lt(b,w,w))}function Zl(o,c){var g,m=4;for(g=0;4>g;++g)m+=o[c+g-32]+o[c-1+32*g];for(m>>=3,g=0;4>g;++g)r(o,c+32*g,m,4)}function tr(o,c){var g=o[c-1+0],m=o[c-1+32],b=o[c-1+64],w=o[c-1-32],x=o[c+0-32],M=o[c+1-32],L=o[c+2-32],T=o[c+3-32];o[c+0+96]=lt(m,b,o[c-1+96]),o[c+1+96]=o[c+0+64]=lt(g,m,b),o[c+2+96]=o[c+1+64]=o[c+0+32]=lt(w,g,m),o[c+3+96]=o[c+2+64]=o[c+1+32]=o[c+0+0]=lt(x,w,g),o[c+3+64]=o[c+2+32]=o[c+1+0]=lt(M,x,w),o[c+3+32]=o[c+2+0]=lt(L,M,x),o[c+3+0]=lt(T,L,M)}function ir(o,c){var g=o[c+1-32],m=o[c+2-32],b=o[c+3-32],w=o[c+4-32],x=o[c+5-32],M=o[c+6-32],L=o[c+7-32];o[c+0+0]=lt(o[c+0-32],g,m),o[c+1+0]=o[c+0+32]=lt(g,m,b),o[c+2+0]=o[c+1+32]=o[c+0+64]=lt(m,b,w),o[c+3+0]=o[c+2+32]=o[c+1+64]=o[c+0+96]=lt(b,w,x),o[c+3+32]=o[c+2+64]=o[c+1+96]=lt(w,x,M),o[c+3+64]=o[c+2+96]=lt(x,M,L),o[c+3+96]=lt(M,L,L)}function Yl(o,c){var g=o[c-1+0],m=o[c-1+32],b=o[c-1+64],w=o[c-1-32],x=o[c+0-32],M=o[c+1-32],L=o[c+2-32],T=o[c+3-32];o[c+0+0]=o[c+1+64]=w+x+1>>1,o[c+1+0]=o[c+2+64]=x+M+1>>1,o[c+2+0]=o[c+3+64]=M+L+1>>1,o[c+3+0]=L+T+1>>1,o[c+0+96]=lt(b,m,g),o[c+0+64]=lt(m,g,w),o[c+0+32]=o[c+1+96]=lt(g,w,x),o[c+1+32]=o[c+2+96]=lt(w,x,M),o[c+2+32]=o[c+3+96]=lt(x,M,L),o[c+3+32]=lt(M,L,T)}function Kl(o,c){var g=o[c+0-32],m=o[c+1-32],b=o[c+2-32],w=o[c+3-32],x=o[c+4-32],M=o[c+5-32],L=o[c+6-32],T=o[c+7-32];o[c+0+0]=g+m+1>>1,o[c+1+0]=o[c+0+64]=m+b+1>>1,o[c+2+0]=o[c+1+64]=b+w+1>>1,o[c+3+0]=o[c+2+64]=w+x+1>>1,o[c+0+32]=lt(g,m,b),o[c+1+32]=o[c+0+96]=lt(m,b,w),o[c+2+32]=o[c+1+96]=lt(b,w,x),o[c+3+32]=o[c+2+96]=lt(w,x,M),o[c+3+64]=lt(x,M,L),o[c+3+96]=lt(M,L,T)}function Pa(o,c){var g=o[c-1+0],m=o[c-1+32],b=o[c-1+64],w=o[c-1+96];o[c+0+0]=g+m+1>>1,o[c+2+0]=o[c+0+32]=m+b+1>>1,o[c+2+32]=o[c+0+64]=b+w+1>>1,o[c+1+0]=lt(g,m,b),o[c+3+0]=o[c+1+32]=lt(m,b,w),o[c+3+32]=o[c+1+64]=lt(b,w,w),o[c+3+64]=o[c+2+64]=o[c+0+96]=o[c+1+96]=o[c+2+96]=o[c+3+96]=w}function uo(o,c){var g=o[c-1+0],m=o[c-1+32],b=o[c-1+64],w=o[c-1+96],x=o[c-1-32],M=o[c+0-32],L=o[c+1-32],T=o[c+2-32];o[c+0+0]=o[c+2+32]=g+x+1>>1,o[c+0+32]=o[c+2+64]=m+g+1>>1,o[c+0+64]=o[c+2+96]=b+m+1>>1,o[c+0+96]=w+b+1>>1,o[c+3+0]=lt(M,L,T),o[c+2+0]=lt(x,M,L),o[c+1+0]=o[c+3+32]=lt(g,x,M),o[c+1+32]=o[c+3+64]=lt(m,g,x),o[c+1+64]=o[c+3+96]=lt(b,m,g),o[c+1+96]=lt(w,b,m)}function ea(o,c){var g;for(g=0;8>g;++g)n(o,c+32*g,o,c-32,8)}function Xl(o,c){var g;for(g=0;8>g;++g)r(o,c,o[c-1],8),c+=32}function nr(o,c,g){var m;for(m=0;8>m;++m)r(c,g+32*m,o,8)}function Jl(o,c){var g,m=8;for(g=0;8>g;++g)m+=o[c+g-32]+o[c-1+32*g];nr(m>>4,o,c)}function ho(o,c){var g,m=4;for(g=0;8>g;++g)m+=o[c+g-32];nr(m>>3,o,c)}function fo(o,c){var g,m=4;for(g=0;8>g;++g)m+=o[c-1+32*g];nr(m>>3,o,c)}function bs(o,c){nr(128,o,c)}function rr(o,c,g){var m=o[c-g],b=o[c+0],w=3*(b-m)+Ql[1020+o[c-2*g]-o[c+g]],x=Ns[112+(w+4>>3)];o[c-g]=tn[255+m+Ns[112+(w+3>>3)]],o[c+0]=tn[255+b-x]}function po(o,c,g,m){var b=o[c+0],w=o[c+g];return _n[255+o[c-2*g]-o[c-g]]>m||_n[255+w-b]>m}function Ia(o,c,g,m){return 4*_n[255+o[c-g]-o[c+0]]+_n[255+o[c-2*g]-o[c+g]]<=m}function go(o,c,g,m,b){var w=o[c-3*g],x=o[c-2*g],M=o[c-g],L=o[c+0],T=o[c+g],K=o[c+2*g],ae=o[c+3*g];return 4*_n[255+M-L]+_n[255+x-T]>m?0:_n[255+o[c-4*g]-w]<=b&&_n[255+w-x]<=b&&_n[255+x-M]<=b&&_n[255+ae-K]<=b&&_n[255+K-T]<=b&&_n[255+T-L]<=b}function ta(o,c,g,m){var b=2*m+1;for(m=0;16>m;++m)Ia(o,c+m,g,b)&&rr(o,c+m,g)}function mo(o,c,g,m){var b=2*m+1;for(m=0;16>m;++m)Ia(o,c+m*g,1,b)&&rr(o,c+m*g,1)}function ws(o,c,g,m){var b;for(b=3;0<b;--b)ta(o,c+=4*g,g,m)}function xs(o,c,g,m){var b;for(b=3;0<b;--b)mo(o,c+=4,g,m)}function ar(o,c,g,m,b,w,x,M){for(w=2*w+1;0<b--;){if(go(o,c,g,w,x))if(po(o,c,g,M))rr(o,c,g);else{var L=o,T=c,K=g,ae=L[T-2*K],B=L[T-K],J=L[T+0],te=L[T+K],ge=L[T+2*K],re=27*(be=Ql[1020+3*(J-B)+Ql[1020+ae-te]])+63>>7,ve=18*be+63>>7,be=9*be+63>>7;L[T-3*K]=tn[255+L[T-3*K]+be],L[T-2*K]=tn[255+ae+ve],L[T-K]=tn[255+B+re],L[T+0]=tn[255+J-re],L[T+K]=tn[255+te-ve],L[T+2*K]=tn[255+ge-be]}c+=m}}function or(o,c,g,m,b,w,x,M){for(w=2*w+1;0<b--;){if(go(o,c,g,w,x))if(po(o,c,g,M))rr(o,c,g);else{var L=o,T=c,K=g,ae=L[T-K],B=L[T+0],J=L[T+K],te=Ns[112+(4+(ge=3*(B-ae))>>3)],ge=Ns[112+(ge+3>>3)],re=te+1>>1;L[T-2*K]=tn[255+L[T-2*K]+re],L[T-K]=tn[255+ae+ge],L[T+0]=tn[255+B-te],L[T+K]=tn[255+J-re]}c+=m}}function Ss(o,c,g,m,b,w){ar(o,c,g,1,16,m,b,w)}function ia(o,c,g,m,b,w){ar(o,c,1,g,16,m,b,w)}function As(o,c,g,m,b,w){var x;for(x=3;0<x;--x)or(o,c+=4*g,g,1,16,m,b,w)}function f(o,c,g,m,b,w){var x;for(x=3;0<x;--x)or(o,c+=4,1,g,16,m,b,w)}function _(o,c,g,m,b,w,x,M){ar(o,c,b,1,8,w,x,M),ar(g,m,b,1,8,w,x,M)}function O(o,c,g,m,b,w,x,M){ar(o,c,1,b,8,w,x,M),ar(g,m,1,b,8,w,x,M)}function G(o,c,g,m,b,w,x,M){or(o,c+4*b,b,1,8,w,x,M),or(g,m+4*b,b,1,8,w,x,M)}function ee(o,c,g,m,b,w,x,M){or(o,c+4,1,b,8,w,x,M),or(g,m+4,1,b,8,w,x,M)}function ye(){this.ba=new bt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new It,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Se(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function je(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function He(){this.ua=0,this.Wa=new vt,this.vb=new vt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ce,this.yc=new $}function st(){this.xb=this.a=0,this.l=new La,this.ca=new bt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new R,this.Pb=0,this.wd=new R,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new He,this.ab=0,this.gc=l(4,je),this.Oc=0}function pt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new La,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Nt(o,c,g,m,b,w,x){for(o=o==null?0:o[c+0],c=0;c<x;++c)b[w+c]=o+g[m+c]&255,o=b[w+c]}function ei(o,c,g,m,b,w,x){var M;if(o==null)Nt(null,null,g,m,b,w,x);else for(M=0;M<x;++M)b[w+M]=o[c+M]+g[m+M]&255}function gi(o,c,g,m,b,w,x){if(o==null)Nt(null,null,g,m,b,w,x);else{var M,L=o[c+0],T=L,K=L;for(M=0;M<x;++M)T=K+(L=o[c+M])-T,K=g[m+M]+(-256&T?0>T?0:255:T)&255,T=L,b[w+M]=K}}function Ht(o,c,g,m){var b=c.width,w=c.o;if(t(o!=null&&c!=null),0>g||0>=m||g+m>w)return null;if(!o.Cc){if(o.ga==null){var x;if(o.ga=new pt,(x=o.ga==null)||(x=c.width*c.o,t(o.Gb.length==0),o.Gb=a(x),o.Uc=0,o.Gb==null?x=0:(o.mb=o.Gb,o.nb=o.Uc,o.rc=null,x=1),x=!x),!x){x=o.ga;var M=o.Fa,L=o.P,T=o.qc,K=o.mb,ae=o.nb,B=L+1,J=T-1,te=x.l;if(t(M!=null&&K!=null&&c!=null),Ir[0]=null,Ir[1]=Nt,Ir[2]=ei,Ir[3]=gi,x.ca=K,x.tb=ae,x.c=c.width,x.i=c.height,t(0<x.c&&0<x.i),1>=T)c=0;else if(x.$a=3&M[L+0],x.Z=M[L+0]>>2&3,x.Lc=M[L+0]>>4&3,L=M[L+0]>>6&3,0>x.$a||1<x.$a||4<=x.Z||1<x.Lc||L)c=0;else if(te.put=nt,te.ac=Tn,te.bc=Jn,te.ma=x,te.width=c.width,te.height=c.height,te.Da=c.Da,te.v=c.v,te.va=c.va,te.j=c.j,te.o=c.o,x.$a)e:{t(x.$a==1),c=Kr();t:for(;;){if(c==null){c=0;break e}if(t(x!=null),x.mc=c,c.c=x.c,c.i=x.i,c.l=x.l,c.l.ma=x,c.l.width=x.c,c.l.height=x.i,c.a=0,_e(c.m,M,B,J),!On(x.c,x.i,1,c,null)||(c.ab==1&&c.gc[0].hc==3&&xn(c.s)?(x.ic=1,M=c.c*c.i,c.Ta=null,c.Ua=0,c.V=a(M),c.Ba=0,c.V==null?(c.a=1,c=0):c=1):(x.ic=0,c=Xr(c,x.c)),!c))break t;c=1;break e}x.mc=null,c=0}else c=J>=x.c*x.i;x=!c}if(x)return null;o.ga.Lc!=1?o.Ga=0:m=w-g}t(o.ga!=null),t(g+m<=w);e:{if(c=(M=o.ga).c,w=M.l.o,M.$a==0){if(B=o.rc,J=o.Vc,te=o.Fa,L=o.P+1+g*c,T=o.mb,K=o.nb+g*c,t(L<=o.P+o.qc),M.Z!=0)for(t(Ir[M.Z]!=null),x=0;x<m;++x)Ir[M.Z](B,J,te,L,T,K,c),B=T,J=K,K+=c,L+=c;else for(x=0;x<m;++x)n(T,K,te,L,c),B=T,J=K,K+=c,L+=c;o.rc=B,o.Vc=J}else{if(t(M.mc!=null),c=g+m,t((x=M.mc)!=null),t(c<=x.i),x.C>=c)c=1;else if(M.ic||Mn(),M.ic){M=x.V,B=x.Ba,J=x.c;var ge=x.i,re=(te=1,L=x.$/J,T=x.$%J,K=x.m,ae=x.s,x.$),ve=J*ge,be=J*c,Le=ae.wc,Ae=re<be?Ni(ae,T,L):null;t(re<=ve),t(c<=ge),t(xn(ae));t:for(;;){for(;!K.h&&re<be;){if(T&Le||(Ae=Ni(ae,T,L)),t(Ae!=null),ne(K),256>(ge=ti(Ae.G[0],Ae.H[0],K)))M[B+re]=ge,++re,++T>=J&&(T=0,++L<=c&&!(L%16)&&Sn(x,L));else{if(!(280>ge)){te=0;break t}ge=hn(ge-256,K);var Ge,Oe=ti(Ae.G[4],Ae.H[4],K);if(ne(K),!(re>=(Oe=fn(J,Oe=hn(Oe,K)))&&ve-re>=ge)){te=0;break t}for(Ge=0;Ge<ge;++Ge)M[B+re+Ge]=M[B+re+Ge-Oe];for(re+=ge,T+=ge;T>=J;)T-=J,++L<=c&&!(L%16)&&Sn(x,L);re<be&&T&Le&&(Ae=Ni(ae,T,L))}t(K.h==Y(K))}Sn(x,L>c?c:L);break t}!te||K.h&&re<ve?(te=0,x.a=K.h?5:3):x.$=re,c=te}else c=An(x,x.V,x.Ba,x.c,x.i,c,Ma);if(!c){m=0;break e}}g+m>=w&&(o.Cc=1),m=1}if(!m)return null;if(o.Cc&&((m=o.ga)!=null&&(m.mc=null),o.ga=null,0<o.Ga))return alert("todo:WebPDequantizeLevels"),null}return o.nb+g*b}function _i(o,c,g,m,b,w){for(;0<b--;){var x,M=o,L=c+(g?1:0),T=o,K=c+(g?0:3);for(x=0;x<m;++x){var ae=T[K+4*x];ae!=255&&(ae*=32897,M[L+4*x+0]=M[L+4*x+0]*ae>>23,M[L+4*x+1]=M[L+4*x+1]*ae>>23,M[L+4*x+2]=M[L+4*x+2]*ae>>23)}c+=w}}function mi(o,c,g,m,b){for(;0<m--;){var w;for(w=0;w<g;++w){var x=o[c+2*w+0],M=15&(T=o[c+2*w+1]),L=4369*M,T=(240&T|T>>4)*L>>16;o[c+2*w+0]=(240&x|x>>4)*L>>16&240|(15&x|x<<4)*L>>16>>4&15,o[c+2*w+1]=240&T|M}c+=b}}function Li(o,c,g,m,b,w,x,M){var L,T,K=255;for(T=0;T<b;++T){for(L=0;L<m;++L){var ae=o[c+L];w[x+4*L]=ae,K&=ae}c+=g,x+=M}return K!=255}function sr(o,c,g,m,b){var w;for(w=0;w<b;++w)g[m+w]=o[c+w]>>8}function Mn(){No=_i,zu=mi,ju=Li,Uu=sr}function lr(o,c,g){j[o]=function(m,b,w,x,M,L,T,K,ae,B,J,te,ge,re,ve,be,Le){var Ae,Ge=Le-1>>1,Oe=M[L+0]|T[K+0]<<16,gt=ae[B+0]|J[te+0]<<16;t(m!=null);var qe=3*Oe+gt+131074>>2;for(c(m[b+0],255&qe,qe>>16,ge,re),w!=null&&(qe=3*gt+Oe+131074>>2,c(w[x+0],255&qe,qe>>16,ve,be)),Ae=1;Ae<=Ge;++Ae){var At=M[L+Ae]|T[K+Ae]<<16,bi=ae[B+Ae]|J[te+Ae]<<16,mt=Oe+At+gt+bi+524296,Ve=mt+2*(At+gt)>>3;qe=Ve+Oe>>1,Oe=(mt=mt+2*(Oe+bi)>>3)+At>>1,c(m[b+2*Ae-1],255&qe,qe>>16,ge,re+(2*Ae-1)*g),c(m[b+2*Ae-0],255&Oe,Oe>>16,ge,re+(2*Ae-0)*g),w!=null&&(qe=mt+gt>>1,Oe=Ve+bi>>1,c(w[x+2*Ae-1],255&qe,qe>>16,ve,be+(2*Ae-1)*g),c(w[x+2*Ae+0],255&Oe,Oe>>16,ve,be+(2*Ae+0)*g)),Oe=At,gt=bi}1&Le||(qe=3*Oe+gt+131074>>2,c(m[b+Le-1],255&qe,qe>>16,ge,re+(Le-1)*g),w!=null&&(qe=3*gt+Oe+131074>>2,c(w[x+Le-1],255&qe,qe>>16,ve,be+(Le-1)*g)))}}function vo(){yn[Ls]=c1,yn[Ds]=Ju,yn[$u]=u1,yn[Es]=Qu,yn[Ps]=eh,yn[ec]=th,yn[Zu]=h1,yn[tc]=Ju,yn[ic]=Qu,yn[Is]=eh,yn[nc]=th}function Fa(o){return o&~f1?0>o?0:255:o>>ih}function Sr(o,c){return Fa((19077*o>>8)+(26149*c>>8)-14234)}function na(o,c,g){return Fa((19077*o>>8)-(6419*c>>8)-(13320*g>>8)+8708)}function ra(o,c){return Fa((19077*o>>8)+(33050*c>>8)-17685)}function Ar(o,c,g,m,b){m[b+0]=Sr(o,g),m[b+1]=na(o,c,g),m[b+2]=ra(o,c)}function Di(o,c,g,m,b){m[b+0]=ra(o,c),m[b+1]=na(o,c,g),m[b+2]=Sr(o,g)}function aa(o,c,g,m,b){var w=na(o,c,g);c=w<<3&224|ra(o,c)>>3,m[b+0]=248&Sr(o,g)|w>>5,m[b+1]=c}function oa(o,c,g,m,b){var w=240&ra(o,c)|15;m[b+0]=240&Sr(o,g)|na(o,c,g)>>4,m[b+1]=w}function _o(o,c,g,m,b){m[b+0]=255,Ar(o,c,g,m,b+1)}function yo(o,c,g,m,b){Di(o,c,g,m,b),m[b+3]=255}function Ui(o,c,g,m,b){Ar(o,c,g,m,b),m[b+3]=255}function cr(o,c,g){j[o]=function(m,b,w,x,M,L,T,K,ae){for(var B=K+(-2&ae)*g;K!=B;)c(m[b+0],w[x+0],M[L+0],T,K),c(m[b+1],w[x+0],M[L+0],T,K+g),b+=2,++x,++L,K+=2*g;1&ae&&c(m[b+0],w[x+0],M[L+0],T,K)}}function Ta(o,c,g){return g==0?o==0?c==0?6:5:c==0?4:0:g}function Cs(o,c,g,m,b){switch(o>>>30){case 3:ua(c,g,m,b,0);break;case 2:vn(c,g,m,b);break;case 1:Ft(c,g,m,b)}}function mn(o,c){var g,m,b=c.M,w=c.Nb,x=o.oc,M=o.pc+40,L=o.oc,T=o.pc+584,K=o.oc,ae=o.pc+600;for(g=0;16>g;++g)x[M+32*g-1]=129;for(g=0;8>g;++g)L[T+32*g-1]=129,K[ae+32*g-1]=129;for(0<b?x[M-1-32]=L[T-1-32]=K[ae-1-32]=129:(r(x,M-32-1,127,21),r(L,T-32-1,127,9),r(K,ae-32-1,127,9)),m=0;m<o.za;++m){var B=c.ya[c.aa+m];if(0<m){for(g=-1;16>g;++g)n(x,M+32*g-4,x,M+32*g+12,4);for(g=-1;8>g;++g)n(L,T+32*g-4,L,T+32*g+4,4),n(K,ae+32*g-4,K,ae+32*g+4,4)}var J=o.Gd,te=o.Hd+m,ge=B.ad,re=B.Hc;if(0<b&&(n(x,M-32,J[te].y,0,16),n(L,T-32,J[te].f,0,8),n(K,ae-32,J[te].ea,0,8)),B.Za){var ve=x,be=M-32+16;for(0<b&&(m>=o.za-1?r(ve,be,J[te].y[15],4):n(ve,be,J[te+1].y,0,4)),g=0;4>g;g++)ve[be+128+g]=ve[be+256+g]=ve[be+384+g]=ve[be+0+g];for(g=0;16>g;++g,re<<=2)ve=x,be=M+rh[g],kn[B.Ob[g]](ve,be),Cs(re,ge,16*+g,ve,be)}else if(ve=Ta(m,b,B.Ob[0]),Pr[ve](x,M),re!=0)for(g=0;16>g;++g,re<<=2)Cs(re,ge,16*+g,x,M+rh[g]);for(g=B.Gc,ve=Ta(m,b,B.Dd),fr[ve](L,T),fr[ve](K,ae),re=ge,ve=L,be=T,255&(B=0|g)&&(170&B?Vn(re,256,ve,be):Rt(re,256,ve,be)),B=K,re=ae,255&(g>>=8)&&(170&g?Vn(ge,320,B,re):Rt(ge,320,B,re)),b<o.Ub-1&&(n(J[te].y,0,x,M+480,16),n(J[te].f,0,L,T+224,8),n(J[te].ea,0,K,ae+224,8)),g=8*w*o.B,J=o.sa,te=o.ta+16*m+16*w*o.R,ge=o.qa,B=o.ra+8*m+g,re=o.Ha,ve=o.Ia+8*m+g,g=0;16>g;++g)n(J,te+g*o.R,x,M+32*g,16);for(g=0;8>g;++g)n(ge,B+g*o.B,L,T+32*g,8),n(re,ve+g*o.B,K,ae+32*g,8)}}function sa(o,c,g,m,b,w,x,M,L){var T=[0],K=[0],ae=0,B=L!=null?L.kd:0,J=L??new Se;if(o==null||12>g)return 7;J.data=o,J.w=c,J.ha=g,c=[c],g=[g],J.gb=[J.gb];e:{var te=c,ge=g,re=J.gb;if(t(o!=null),t(ge!=null),t(re!=null),re[0]=0,12<=ge[0]&&!e(o,te[0],"RIFF")){if(e(o,te[0]+8,"WEBP")){re=3;break e}var ve=Ze(o,te[0]+4);if(12>ve||4294967286<ve){re=3;break e}if(B&&ve>ge[0]-8){re=7;break e}re[0]=ve,te[0]+=12,ge[0]-=12}re=0}if(re!=0)return re;for(ve=0<J.gb[0],g=g[0];;){e:{var be=o;ge=c,re=g;var Le=T,Ae=K,Ge=te=[0];if((qe=ae=[ae])[0]=0,8>re[0])re=7;else{if(!e(be,ge[0],"VP8X")){if(Ze(be,ge[0]+4)!=10){re=3;break e}if(18>re[0]){re=7;break e}var Oe=Ze(be,ge[0]+8),gt=1+Te(be,ge[0]+12);if(2147483648<=gt*(be=1+Te(be,ge[0]+15))){re=3;break e}Ge!=null&&(Ge[0]=Oe),Le!=null&&(Le[0]=gt),Ae!=null&&(Ae[0]=be),ge[0]+=18,re[0]-=18,qe[0]=1}re=0}}if(ae=ae[0],te=te[0],re!=0)return re;if(ge=!!(2&te),!ve&&ae)return 3;if(w!=null&&(w[0]=!!(16&te)),x!=null&&(x[0]=ge),M!=null&&(M[0]=0),x=T[0],te=K[0],ae&&ge&&L==null){re=0;break}if(4>g){re=7;break}if(ve&&ae||!ve&&!ae&&!e(o,c[0],"ALPH")){g=[g],J.na=[J.na],J.P=[J.P],J.Sa=[J.Sa];e:{Oe=o,re=c,ve=g;var qe=J.gb;Le=J.na,Ae=J.P,Ge=J.Sa,gt=22,t(Oe!=null),t(ve!=null),be=re[0];var At=ve[0];for(t(Le!=null),t(Ge!=null),Le[0]=null,Ae[0]=null,Ge[0]=0;;){if(re[0]=be,ve[0]=At,8>At){re=7;break e}var bi=Ze(Oe,be+4);if(4294967286<bi){re=3;break e}var mt=8+bi+1&-2;if(gt+=mt,0<qe&&gt>qe){re=3;break e}if(!e(Oe,be,"VP8 ")||!e(Oe,be,"VP8L")){re=0;break e}if(At[0]<mt){re=7;break e}e(Oe,be,"ALPH")||(Le[0]=Oe,Ae[0]=be+8,Ge[0]=bi),be+=mt,At-=mt}}if(g=g[0],J.na=J.na[0],J.P=J.P[0],J.Sa=J.Sa[0],re!=0)break}g=[g],J.Ja=[J.Ja],J.xa=[J.xa];e:if(qe=o,re=c,ve=g,Le=J.gb[0],Ae=J.Ja,Ge=J.xa,Oe=re[0],be=!e(qe,Oe,"VP8 "),gt=!e(qe,Oe,"VP8L"),t(qe!=null),t(ve!=null),t(Ae!=null),t(Ge!=null),8>ve[0])re=7;else{if(be||gt){if(qe=Ze(qe,Oe+4),12<=Le&&qe>Le-12){re=3;break e}if(B&&qe>ve[0]-8){re=7;break e}Ae[0]=qe,re[0]+=8,ve[0]-=8,Ge[0]=gt}else Ge[0]=5<=ve[0]&&qe[Oe+0]==47&&!(qe[Oe+4]>>5),Ae[0]=ve[0];re=0}if(g=g[0],J.Ja=J.Ja[0],J.xa=J.xa[0],c=c[0],re!=0)break;if(4294967286<J.Ja)return 3;if(M==null||ge||(M[0]=J.xa?2:1),x=[x],te=[te],J.xa){if(5>g){re=7;break}M=x,B=te,ge=w,o==null||5>g?o=0:5<=g&&o[c+0]==47&&!(o[c+4]>>5)?(ve=[0],qe=[0],Le=[0],_e(Ae=new R,o,c,g),Qn(Ae,ve,qe,Le)?(M!=null&&(M[0]=ve[0]),B!=null&&(B[0]=qe[0]),ge!=null&&(ge[0]=Le[0]),o=1):o=0):o=0}else{if(10>g){re=7;break}M=te,o==null||10>g||!ps(o,c+3,g-3)?o=0:(B=o[c+0]|o[c+1]<<8|o[c+2]<<16,ge=16383&(o[c+7]<<8|o[c+6]),o=16383&(o[c+9]<<8|o[c+8]),1&B||3<(B>>1&7)||!(B>>4&1)||B>>5>=J.Ja||!ge||!o?o=0:(x&&(x[0]=ge),M&&(M[0]=o),o=1))}if(!o||(x=x[0],te=te[0],ae&&(T[0]!=x||K[0]!=te)))return 3;L!=null&&(L[0]=J,L.offset=c-L.w,t(4294967286>c-L.w),t(L.offset==L.ha-g));break}return re==0||re==7&&ae&&L==null?(w!=null&&(w[0]|=J.na!=null&&0<J.na.length),m!=null&&(m[0]=x),b!=null&&(b[0]=te),0):re}function bo(o,c,g){var m=c.width,b=c.height,w=0,x=0,M=m,L=b;if(c.Da=o!=null&&0<o.Da,c.Da&&(M=o.cd,L=o.bd,w=o.v,x=o.j,11>g||(w&=-2,x&=-2),0>w||0>x||0>=M||0>=L||w+M>m||x+L>b))return 0;if(c.v=w,c.j=x,c.va=w+M,c.o=x+L,c.U=M,c.T=L,c.da=o!=null&&0<o.da,c.da){if(!Qe(M,L,g=[o.ib],w=[o.hb]))return 0;c.ib=g[0],c.hb=w[0]}return c.ob=o!=null&&o.ob,c.Kb=o==null||!o.Sd,c.da&&(c.ob=c.ib<3*m/4&&c.hb<3*b/4,c.Kb=0),1}function wo(o){if(o==null)return 2;if(11>o.S){var c=o.f.RGBA;c.fb+=(o.height-1)*c.A,c.A=-c.A}else c=o.f.kb,o=o.height,c.O+=(o-1)*c.fa,c.fa=-c.fa,c.N+=(o-1>>1)*c.Ab,c.Ab=-c.Ab,c.W+=(o-1>>1)*c.Db,c.Db=-c.Db,c.F!=null&&(c.J+=(o-1)*c.lb,c.lb=-c.lb);return 0}function Cr(o,c,g,m){if(m==null||0>=o||0>=c)return 2;if(g!=null){if(g.Da){var b=g.cd,w=g.bd,x=-2&g.v,M=-2&g.j;if(0>x||0>M||0>=b||0>=w||x+b>o||M+w>c)return 2;o=b,c=w}if(g.da){if(!Qe(o,c,b=[g.ib],w=[g.hb]))return 2;o=b[0],c=w[0]}}m.width=o,m.height=c;e:{var L=m.width,T=m.height;if(o=m.S,0>=L||0>=T||!(o>=Ls&&13>o))o=2;else{if(0>=m.Rd&&m.sd==null){x=w=b=c=0;var K=(M=L*ah[o])*T;if(11>o||(w=(T+1)/2*(c=(L+1)/2),o==12&&(x=(b=L)*T)),(T=a(K+2*w+x))==null){o=1;break e}m.sd=T,11>o?((L=m.f.RGBA).eb=T,L.fb=0,L.A=M,L.size=K):((L=m.f.kb).y=T,L.O=0,L.fa=M,L.Fd=K,L.f=T,L.N=0+K,L.Ab=c,L.Cd=w,L.ea=T,L.W=0+K+w,L.Db=c,L.Ed=w,o==12&&(L.F=T,L.J=0+K+2*w),L.Tc=x,L.lb=b)}if(c=1,b=m.S,w=m.width,x=m.height,b>=Ls&&13>b)if(11>b)o=m.f.RGBA,c&=(M=Math.abs(o.A))*(x-1)+w<=o.size,c&=M>=w*ah[b],c&=o.eb!=null;else{o=m.f.kb,M=(w+1)/2,K=(x+1)/2,L=Math.abs(o.fa),T=Math.abs(o.Ab);var ae=Math.abs(o.Db),B=Math.abs(o.lb),J=B*(x-1)+w;c&=L*(x-1)+w<=o.Fd,c&=T*(K-1)+M<=o.Cd,c=(c&=ae*(K-1)+M<=o.Ed)&L>=w&T>=M&ae>=M,c&=o.y!=null,c&=o.f!=null,c&=o.ea!=null,b==12&&(c&=B>=w,c&=J<=o.Tc,c&=o.F!=null)}else c=0;o=c?0:2}}return o!=0||g!=null&&g.fd&&(o=wo(m)),o}var la=64,Qi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],en=24,Mr=32,ur=8,kr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Re("Predictor0","PredictorAdd0"),j.Predictor0=function(){return 4278190080},j.Predictor1=function(o){return o},j.Predictor2=function(o,c,g){return c[g+0]},j.Predictor3=function(o,c,g){return c[g+1]},j.Predictor4=function(o,c,g){return c[g-1]},j.Predictor5=function(o,c,g){return Ye(Ye(o,c[g+1]),c[g+0])},j.Predictor6=function(o,c,g){return Ye(o,c[g-1])},j.Predictor7=function(o,c,g){return Ye(o,c[g+0])},j.Predictor8=function(o,c,g){return Ye(c[g-1],c[g+0])},j.Predictor9=function(o,c,g){return Ye(c[g+0],c[g+1])},j.Predictor10=function(o,c,g){return Ye(Ye(o,c[g-1]),Ye(c[g+0],c[g+1]))},j.Predictor11=function(o,c,g){var m=c[g+0];return 0>=ut(m>>24&255,o>>24&255,(c=c[g-1])>>24&255)+ut(m>>16&255,o>>16&255,c>>16&255)+ut(m>>8&255,o>>8&255,c>>8&255)+ut(255&m,255&o,255&c)?m:o},j.Predictor12=function(o,c,g){var m=c[g+0];return(Pt((o>>24&255)+(m>>24&255)-((c=c[g-1])>>24&255))<<24|Pt((o>>16&255)+(m>>16&255)-(c>>16&255))<<16|Pt((o>>8&255)+(m>>8&255)-(c>>8&255))<<8|Pt((255&o)+(255&m)-(255&c)))>>>0},j.Predictor13=function(o,c,g){var m=c[g-1];return(wt((o=Ye(o,c[g+0]))>>24&255,m>>24&255)<<24|wt(o>>16&255,m>>16&255)<<16|wt(o>>8&255,m>>8&255)<<8|wt(255&o,255&m))>>>0};var xo=j.PredictorAdd0;j.PredictorAdd1=St,Re("Predictor2","PredictorAdd2"),Re("Predictor3","PredictorAdd3"),Re("Predictor4","PredictorAdd4"),Re("Predictor5","PredictorAdd5"),Re("Predictor6","PredictorAdd6"),Re("Predictor7","PredictorAdd7"),Re("Predictor8","PredictorAdd8"),Re("Predictor9","PredictorAdd9"),Re("Predictor10","PredictorAdd10"),Re("Predictor11","PredictorAdd11"),Re("Predictor12","PredictorAdd12"),Re("Predictor13","PredictorAdd13");var Ba=j.PredictorAdd2;$e("ColorIndexInverseTransform","MapARGB","32b",function(o){return o>>8&255},function(o){return o}),$e("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(o){return o},function(o){return o>>8&255});var si,Ms=j.ColorIndexInverseTransform,Un=j.MapARGB,qn=j.VP8LColorIndexInverseTransformAlpha,So=j.MapAlpha,Ao=j.VP8LPredictorsAdd=[];Ao.length=16,(j.VP8LPredictors=[]).length=16,(j.VP8LPredictorsAdd_C=[]).length=16,(j.VP8LPredictors_C=[]).length=16;var Co,Mo,Nr,Lr,Dr,ca,Er,ua,vn,Vn,Ft,Rt,li,yi,hr,ko,Oa,ks,Iu,Fu,Tu,Bu,Ou,Ru,No,zu,ju,Uu,qu=a(511),Vu=a(2041),Wu=a(225),Hu=a(767),Gu=0,Ql=Vu,Ns=Wu,tn=Hu,_n=qu,Ls=0,Ds=1,$u=2,Es=3,Ps=4,ec=5,Zu=6,tc=7,ic=8,Is=9,nc=10,Y0=[2,3,7],K0=[3,3,11],Yu=[280,256,256,256,40],X0=[0,1,1,1,0],J0=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Q0=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],e1=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],t1=8,rc=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ac=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Lo=null,i1=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],n1=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ku=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],r1=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],a1=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],o1=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],s1=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Pr=[],kn=[],fr=[],l1=1,Xu=2,Ir=[],yn=[];lr("UpsampleRgbLinePair",Ar,3),lr("UpsampleBgrLinePair",Di,3),lr("UpsampleRgbaLinePair",Ui,4),lr("UpsampleBgraLinePair",yo,4),lr("UpsampleArgbLinePair",_o,4),lr("UpsampleRgba4444LinePair",oa,2),lr("UpsampleRgb565LinePair",aa,2);var c1=j.UpsampleRgbLinePair,u1=j.UpsampleBgrLinePair,Ju=j.UpsampleRgbaLinePair,Qu=j.UpsampleBgraLinePair,eh=j.UpsampleArgbLinePair,th=j.UpsampleRgba4444LinePair,h1=j.UpsampleRgb565LinePair,Fs=16,Ts=1<<Fs-1,Do=-227,oc=482,ih=6,f1=(256<<ih)-1,nh=0,d1=a(256),p1=a(256),g1=a(256),m1=a(256),v1=a(oc-Do),_1=a(oc-Do);cr("YuvToRgbRow",Ar,3),cr("YuvToBgrRow",Di,3),cr("YuvToRgbaRow",Ui,4),cr("YuvToBgraRow",yo,4),cr("YuvToArgbRow",_o,4),cr("YuvToRgba4444Row",oa,2),cr("YuvToRgb565Row",aa,2);var rh=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Bs=[0,2,8],y1=[8,7,6,4,4,2,2,2,1,1,1,1],b1=1;this.WebPDecodeRGBA=function(o,c,g,m,b){var w=Ds,x=new ye,M=new bt;x.ba=M,M.S=w,M.width=[M.width],M.height=[M.height];var L=M.width,T=M.height,K=new it;if(K==null||o==null)var ae=2;else t(K!=null),ae=sa(o,c,g,K.width,K.height,K.Pd,K.Qd,K.format,null);if(ae!=0?L=0:(L!=null&&(L[0]=K.width[0]),T!=null&&(T[0]=K.height[0]),L=1),L){M.width=M.width[0],M.height=M.height[0],m!=null&&(m[0]=M.width),b!=null&&(b[0]=M.height);e:{if(m=new La,(b=new Se).data=o,b.w=c,b.ha=g,b.kd=1,c=[0],t(b!=null),((o=sa(b.data,b.w,b.ha,null,null,null,c,null,b))==0||o==7)&&c[0]&&(o=4),(c=o)==0){if(t(x!=null),m.data=b.data,m.w=b.w+b.offset,m.ha=b.ha-b.offset,m.put=nt,m.ac=Tn,m.bc=Jn,m.ma=x,b.xa){if((o=Kr())==null){x=1;break e}if(function(B,J){var te=[0],ge=[0],re=[0];t:for(;;){if(B==null)return 0;if(J==null)return B.a=2,0;if(B.l=J,B.a=0,_e(B.m,J.data,J.w,J.ha),!Qn(B.m,te,ge,re)){B.a=3;break t}if(B.xb=Xu,J.width=te[0],J.height=ge[0],!On(te[0],ge[0],1,B,null))break t;return 1}return t(B.a!=0),0}(o,m)){if(m=(c=Cr(m.width,m.height,x.Oa,x.ba))==0){t:{m=o;i:for(;;){if(m==null){m=0;break t}if(t(m.s.yc!=null),t(m.s.Ya!=null),t(0<m.s.Wb),t((g=m.l)!=null),t((b=g.ma)!=null),m.xb!=0){if(m.ca=b.ba,m.tb=b.tb,t(m.ca!=null),!bo(b.Oa,g,Es)){m.a=2;break i}if(!Xr(m,g.width)||g.da)break i;if((g.da||at(m.ca.S))&&Mn(),11>m.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),m.ca.f.kb.F!=null&&Mn()),m.Pb&&0<m.s.ua&&m.s.vb.X==null&&!P(m.s.vb,m.s.Wa.Xa)){m.a=1;break i}m.xb=0}if(!An(m,m.V,m.Ba,m.c,m.i,g.o,xr))break i;b.Dc=m.Ma,m=1;break t}t(m.a!=0),m=0}m=!m}m&&(c=o.a)}else c=o.a}else{if((o=new Rl)==null){x=1;break e}if(o.Fa=b.na,o.P=b.P,o.qc=b.Sa,zn(o,m)){if((c=Cr(m.width,m.height,x.Oa,x.ba))==0){if(o.Aa=0,g=x.Oa,t((b=o)!=null),g!=null){if(0<(L=0>(L=g.Md)?0:100<L?255:255*L/100)){for(T=K=0;4>T;++T)12>(ae=b.pb[T]).lc&&(ae.ia=L*y1[0>ae.lc?0:ae.lc]>>3),K|=ae.ia;K&&(alert("todo:VP8InitRandom"),b.ia=1)}b.Ga=g.Id,100<b.Ga?b.Ga=100:0>b.Ga&&(b.Ga=0)}(function(B,J){if(B==null)return 0;if(J==null)return pi(B,2,"NULL VP8Io parameter in VP8Decode().");if(!B.cb&&!zn(B,J))return 0;if(t(B.cb),J.ac==null||J.ac(J)){J.ob&&(B.L=0);var te=Bs[B.L];if(B.L==2?(B.yb=0,B.zb=0):(B.yb=J.v-te>>4,B.zb=J.j-te>>4,0>B.yb&&(B.yb=0),0>B.zb&&(B.zb=0)),B.Va=J.o+15+te>>4,B.Hb=J.va+15+te>>4,B.Hb>B.za&&(B.Hb=B.za),B.Va>B.Ub&&(B.Va=B.Ub),0<B.L){var ge=B.ed;for(te=0;4>te;++te){var re;if(B.Qa.Cb){var ve=B.Qa.Lb[te];B.Qa.Fb||(ve+=ge.Tb)}else ve=ge.Tb;for(re=0;1>=re;++re){var be=B.gd[te][re],Le=ve;if(ge.Pc&&(Le+=ge.vd[0],re&&(Le+=ge.od[0])),0<(Le=0>Le?0:63<Le?63:Le)){var Ae=Le;0<ge.wb&&(Ae=4<ge.wb?Ae>>2:Ae>>1)>9-ge.wb&&(Ae=9-ge.wb),1>Ae&&(Ae=1),be.dd=Ae,be.tc=2*Le+Ae,be.ld=40<=Le?2:15<=Le?1:0}else be.tc=0;be.La=re}}}te=0}else pi(B,6,"Frame setup failed"),te=B.a;if(te=te==0){if(te){B.$c=0,0<B.Aa||(B.Ic=b1);t:{te=B.Ic,ge=4*(Ae=B.za);var Ge=32*Ae,Oe=Ae+1,gt=0<B.L?Ae*(0<B.Aa?2:1):0,qe=(B.Aa==2?2:1)*Ae;if((be=ge+832+(re=3*(16*te+Bs[B.L])/2*Ge)+(ve=B.Fa!=null&&0<B.Fa.length?B.Kc.c*B.Kc.i:0))!=be)te=0;else{if(be>B.Vb){if(B.Vb=0,B.Ec=a(be),B.Fc=0,B.Ec==null){te=pi(B,1,"no memory during frame initialization.");break t}B.Vb=be}be=B.Ec,Le=B.Fc,B.Ac=be,B.Bc=Le,Le+=ge,B.Gd=l(Ge,fs),B.Hd=0,B.rb=l(Oe+1,oo),B.sb=1,B.wa=gt?l(gt,pn):null,B.Y=0,B.D.Nb=0,B.D.wa=B.wa,B.D.Y=B.Y,0<B.Aa&&(B.D.Y+=Ae),t(!0),B.oc=be,B.pc=Le,Le+=832,B.ya=l(qe,so),B.aa=0,B.D.ya=B.ya,B.D.aa=B.aa,B.Aa==2&&(B.D.aa+=Ae),B.R=16*Ae,B.B=8*Ae,Ae=(Ge=Bs[B.L])*B.R,Ge=Ge/2*B.B,B.sa=be,B.ta=Le+Ae,B.qa=B.sa,B.ra=B.ta+16*te*B.R+Ge,B.Ha=B.qa,B.Ia=B.ra+8*te*B.B+Ge,B.$c=0,Le+=re,B.mb=ve?be:null,B.nb=ve?Le:null,t(Le+ve<=B.Fc+B.Vb),gs(B),r(B.Ac,B.Bc,0,ge),te=1}}if(te){if(J.ka=0,J.y=B.sa,J.O=B.ta,J.f=B.qa,J.N=B.ra,J.ea=B.Ha,J.Vd=B.Ia,J.fa=B.R,J.Rc=B.B,J.F=null,J.J=0,!Gu){for(te=-255;255>=te;++te)qu[255+te]=0>te?-te:te;for(te=-1020;1020>=te;++te)Vu[1020+te]=-128>te?-128:127<te?127:te;for(te=-112;112>=te;++te)Wu[112+te]=-16>te?-16:15<te?15:te;for(te=-255;510>=te;++te)Hu[255+te]=0>te?0:255<te?255:te;Gu=1}Er=Ea,ua=jl,Vn=jn,Ft=vs,Rt=_s,vn=zl,li=Ss,yi=ia,hr=_,ko=O,Oa=As,ks=f,Iu=G,Fu=ee,Tu=ta,Bu=mo,Ou=ws,Ru=xs,kn[0]=Zl,kn[1]=Ul,kn[2]=Gl,kn[3]=$l,kn[4]=tr,kn[5]=Yl,kn[6]=ir,kn[7]=Kl,kn[8]=uo,kn[9]=Pa,Pr[0]=Wl,Pr[1]=Vl,Pr[2]=lo,Pr[3]=ys,Pr[4]=Qr,Pr[5]=co,Pr[6]=Hl,fr[0]=Jl,fr[1]=ql,fr[2]=ea,fr[3]=Xl,fr[4]=fo,fr[5]=ho,fr[6]=bs,te=1}else te=0}te&&(te=function(At,bi){for(At.M=0;At.M<At.Va;++At.M){var mt,Ve=At.Jc[At.M&At.Xb],Pe=At.m,ci=At;for(mt=0;mt<ci.za;++mt){var ft=Pe,Mt=ci,$t=Mt.Ac,Ei=Mt.Bc+4*mt,qi=Mt.zc,ii=Mt.ya[Mt.aa+mt];if(Mt.Qa.Bb?ii.$b=xe(ft,Mt.Pa.jb[0])?2+xe(ft,Mt.Pa.jb[2]):xe(ft,Mt.Pa.jb[1]):ii.$b=0,Mt.kc&&(ii.Ad=xe(ft,Mt.Bd)),ii.Za=!xe(ft,145)+0,ii.Za){var Bi=ii.Ob,Vi=0;for(Mt=0;4>Mt;++Mt){var wi,Lt=qi[0+Mt];for(wi=0;4>wi;++wi){Lt=a1[$t[Ei+wi]][Lt];for(var Tt=Ku[xe(ft,Lt[0])];0<Tt;)Tt=Ku[2*Tt+xe(ft,Lt[Tt])];Lt=-Tt,$t[Ei+wi]=Lt}n(Bi,Vi,$t,Ei,4),Vi+=4,qi[0+Mt]=Lt}}else Lt=xe(ft,156)?xe(ft,128)?1:3:xe(ft,163)?2:0,ii.Ob[0]=Lt,r($t,Ei,Lt,4),r(qi,0,Lt,4);ii.Dd=xe(ft,142)?xe(ft,114)?xe(ft,183)?1:3:2:0}if(ci.m.Ka)return pi(At,7,"Premature end-of-partition0 encountered.");for(;At.ja<At.za;++At.ja){if(ci=Ve,ft=(Pe=At).rb[Pe.sb-1],$t=Pe.rb[Pe.sb+Pe.ja],mt=Pe.ya[Pe.aa+Pe.ja],Ei=Pe.kc?mt.Ad:0)ft.la=$t.la=0,mt.Za||(ft.Na=$t.Na=0),mt.Hc=0,mt.Gc=0,mt.ia=0;else{var ni,Bt;if(ft=$t,$t=ci,Ei=Pe.Pa.Xc,qi=Pe.ya[Pe.aa+Pe.ja],ii=Pe.pb[qi.$b],Mt=qi.ad,Bi=0,Vi=Pe.rb[Pe.sb-1],Lt=wi=0,r(Mt,Bi,0,384),qi.Za)var Pi=0,Nn=Ei[3];else{Tt=a(16);var ui=ft.Na+Vi.Na;if(ui=Lo($t,Ei[1],ui,ii.Eb,0,Tt,0),ft.Na=Vi.Na=(0<ui)+0,1<ui)Er(Tt,0,Mt,Bi);else{var $i=Tt[0]+3>>3;for(Tt=0;256>Tt;Tt+=16)Mt[Bi+Tt]=$i}Pi=1,Nn=Ei[0]}var zt=15&ft.la,xi=15&Vi.la;for(Tt=0;4>Tt;++Tt){var nn=1&xi;for($i=Bt=0;4>$i;++$i)zt=zt>>1|(nn=(ui=Lo($t,Nn,ui=nn+(1&zt),ii.Sc,Pi,Mt,Bi))>Pi)<<7,Bt=Bt<<2|(3<ui?3:1<ui?2:Mt[Bi+0]!=0),Bi+=16;zt>>=4,xi=xi>>1|nn<<7,wi=(wi<<8|Bt)>>>0}for(Nn=zt,Pi=xi>>4,ni=0;4>ni;ni+=2){for(Bt=0,zt=ft.la>>4+ni,xi=Vi.la>>4+ni,Tt=0;2>Tt;++Tt){for(nn=1&xi,$i=0;2>$i;++$i)ui=nn+(1&zt),zt=zt>>1|(nn=0<(ui=Lo($t,Ei[2],ui,ii.Qc,0,Mt,Bi)))<<3,Bt=Bt<<2|(3<ui?3:1<ui?2:Mt[Bi+0]!=0),Bi+=16;zt>>=2,xi=xi>>1|nn<<5}Lt|=Bt<<4*ni,Nn|=zt<<4<<ni,Pi|=(240&xi)<<ni}ft.la=Nn,Vi.la=Pi,qi.Hc=wi,qi.Gc=Lt,qi.ia=43690&Lt?0:ii.ia,Ei=!(wi|Lt)}if(0<Pe.L&&(Pe.wa[Pe.Y+Pe.ja]=Pe.gd[mt.$b][mt.Za],Pe.wa[Pe.Y+Pe.ja].La|=!Ei),ci.Ka)return pi(At,7,"Premature end-of-file encountered.")}if(gs(At),Pe=bi,ci=1,mt=(Ve=At).D,ft=0<Ve.L&&Ve.M>=Ve.zb&&Ve.M<=Ve.Va,Ve.Aa==0)t:{if(mt.M=Ve.M,mt.uc=ft,mn(Ve,mt),ci=1,mt=(Bt=Ve.D).Nb,ft=(Lt=Bs[Ve.L])*Ve.R,$t=Lt/2*Ve.B,Tt=16*mt*Ve.R,$i=8*mt*Ve.B,Ei=Ve.sa,qi=Ve.ta-ft+Tt,ii=Ve.qa,Mt=Ve.ra-$t+$i,Bi=Ve.Ha,Vi=Ve.Ia-$t+$i,xi=(zt=Bt.M)==0,wi=zt>=Ve.Va-1,Ve.Aa==2&&mn(Ve,Bt),Bt.uc)for(nn=(ui=Ve).D.M,t(ui.D.uc),Bt=ui.yb;Bt<ui.Hb;++Bt){Pi=Bt,Nn=nn;var Wi=(rn=(Ii=ui).D).Nb;ni=Ii.R;var rn=rn.wa[rn.Y+Pi],an=Ii.sa,Zi=Ii.ta+16*Wi*ni+16*Pi,on=rn.dd,Gt=rn.tc;if(Gt!=0)if(t(3<=Gt),Ii.L==1)0<Pi&&Bu(an,Zi,ni,Gt+4),rn.La&&Ru(an,Zi,ni,Gt),0<Nn&&Tu(an,Zi,ni,Gt+4),rn.La&&Ou(an,Zi,ni,Gt);else{var sn=Ii.B,Ln=Ii.qa,ha=Ii.ra+8*Wi*sn+8*Pi,dr=Ii.Ha,Ii=Ii.Ia+8*Wi*sn+8*Pi;Wi=rn.ld,0<Pi&&(yi(an,Zi,ni,Gt+4,on,Wi),ko(Ln,ha,dr,Ii,sn,Gt+4,on,Wi)),rn.La&&(ks(an,Zi,ni,Gt,on,Wi),Fu(Ln,ha,dr,Ii,sn,Gt,on,Wi)),0<Nn&&(li(an,Zi,ni,Gt+4,on,Wi),hr(Ln,ha,dr,Ii,sn,Gt+4,on,Wi)),rn.La&&(Oa(an,Zi,ni,Gt,on,Wi),Iu(Ln,ha,dr,Ii,sn,Gt,on,Wi))}}if(Ve.ia&&alert("todo:DitherRow"),Pe.put!=null){if(Bt=16*zt,zt=16*(zt+1),xi?(Pe.y=Ve.sa,Pe.O=Ve.ta+Tt,Pe.f=Ve.qa,Pe.N=Ve.ra+$i,Pe.ea=Ve.Ha,Pe.W=Ve.Ia+$i):(Bt-=Lt,Pe.y=Ei,Pe.O=qi,Pe.f=ii,Pe.N=Mt,Pe.ea=Bi,Pe.W=Vi),wi||(zt-=Lt),zt>Pe.o&&(zt=Pe.o),Pe.F=null,Pe.J=null,Ve.Fa!=null&&0<Ve.Fa.length&&Bt<zt&&(Pe.J=Ht(Ve,Pe,Bt,zt-Bt),Pe.F=Ve.mb,Pe.F==null&&Pe.F.length==0)){ci=pi(Ve,3,"Could not decode alpha data.");break t}Bt<Pe.j&&(Lt=Pe.j-Bt,Bt=Pe.j,t(!(1&Lt)),Pe.O+=Ve.R*Lt,Pe.N+=Ve.B*(Lt>>1),Pe.W+=Ve.B*(Lt>>1),Pe.F!=null&&(Pe.J+=Pe.width*Lt)),Bt<zt&&(Pe.O+=Pe.v,Pe.N+=Pe.v>>1,Pe.W+=Pe.v>>1,Pe.F!=null&&(Pe.J+=Pe.v),Pe.ka=Bt-Pe.j,Pe.U=Pe.va-Pe.v,Pe.T=zt-Bt,ci=Pe.put(Pe))}mt+1!=Ve.Ic||wi||(n(Ve.sa,Ve.ta-ft,Ei,qi+16*Ve.R,ft),n(Ve.qa,Ve.ra-$t,ii,Mt+8*Ve.B,$t),n(Ve.Ha,Ve.Ia-$t,Bi,Vi+8*Ve.B,$t))}if(!ci)return pi(At,6,"Output aborted.")}return 1}(B,J)),J.bc!=null&&J.bc(J),te&=1}return te?(B.cb=0,te):0})(o,m)||(c=o.a)}}else c=o.a}c==0&&x.Oa!=null&&x.Oa.fd&&(c=wo(x.ba))}x=c}w=x!=0?null:11>w?M.f.RGBA.eb:M.f.kb.y}else w=null;return w};var ah=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(j,ie){for(var k="",F=0;F<4;F++)k+=String.fromCharCode(j[ie++]);return k}function d(j,ie){return j[ie+0]|j[ie+1]<<8}function v(j,ie){return(j[ie+0]|j[ie+1]<<8|j[ie+2]<<16)>>>0}function y(j,ie){return(j[ie+0]|j[ie+1]<<8|j[ie+2]<<16|j[ie+3]<<24)>>>0}new h;var p=[0],A=[0],N=[],I=new h,C=i,Z=function(j,ie){var k={},F=0,$=!1,H=0,ce=0;if(k.frames=[],!function(S,R){for(var q=0;q<4;q++)if(S[R+q]!="RIFF".charCodeAt(q))return!0;return!1}(j,ie)){for(y(j,ie+=4),ie+=8;ie<j.length;){var de=u(j,ie),me=y(j,ie+=4);ie+=4;var oe=me+(1&me);switch(de){case"VP8 ":case"VP8L":k.frames[F]===void 0&&(k.frames[F]={}),(Ce=k.frames[F]).src_off=$?ce:ie-8,Ce.src_size=H+me+8,F++,$&&($=!1,H=0,ce=0);break;case"VP8X":(Ce=k.header={}).feature_flags=j[ie];var _e=ie+4;Ce.canvas_width=1+v(j,_e),_e+=3,Ce.canvas_height=1+v(j,_e),_e+=3;break;case"ALPH":$=!0,H=oe+8,ce=ie-8;break;case"ANIM":(Ce=k.header).bgcolor=y(j,ie),_e=ie+4,Ce.loop_count=d(j,_e),_e+=2;break;case"ANMF":var Ee,Ce;(Ce=k.frames[F]={}).offset_x=2*v(j,ie),ie+=3,Ce.offset_y=2*v(j,ie),ie+=3,Ce.width=1+v(j,ie),ie+=3,Ce.height=1+v(j,ie),ie+=3,Ce.duration=v(j,ie),ie+=3,Ee=j[ie++],Ce.dispose=1&Ee,Ce.blend=Ee>>1&1}de!="ANMF"&&(ie+=oe)}return k}}(C,0);Z.response=C,Z.rgbaoutput=!0,Z.dataurl=!1;var W=Z.header?Z.header:null,U=Z.frames?Z.frames:null;if(W){W.loop_counter=W.loop_count,p=[W.canvas_height],A=[W.canvas_width];for(var le=0;le<U.length&&U[le].blend!=0;le++);}var we=U[0],pe=I.WebPDecodeRGBA(C,we.src_off,we.src_size,A,p);we.rgba=pe,we.imgwidth=A[0],we.imgheight=p[0];for(var X=0;X<A[0]*p[0]*4;X++)N[X]=pe[X];return this.width=A,this.height=p,this.data=N,this}function h5(){var i,t=this.internal.__metadata__.metadata,e=unescape(encodeURIComponent(t));i=this.internal.__metadata__.rawXml?e:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+i.length+" >>"),this.internal.write("stream"),this.internal.write(i),this.internal.write("endstream"),this.internal.write("endobj")}function f5(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(i){var t,e,n,r,a,l,s,h,u,d=function(S){return S=S||{},this.isStrokeTransparent=S.isStrokeTransparent||!1,this.strokeOpacity=S.strokeOpacity||1,this.strokeStyle=S.strokeStyle||"#000000",this.fillStyle=S.fillStyle||"#000000",this.isFillTransparent=S.isFillTransparent||!1,this.fillOpacity=S.fillOpacity||1,this.font=S.font||"10px sans-serif",this.textBaseline=S.textBaseline||"alphabetic",this.textAlign=S.textAlign||"left",this.lineWidth=S.lineWidth||1,this.lineJoin=S.lineJoin||"miter",this.lineCap=S.lineCap||"butt",this.path=S.path||[],this.transform=S.transform!==void 0?S.transform.clone():new h,this.globalCompositeOperation=S.globalCompositeOperation||"normal",this.globalAlpha=S.globalAlpha||1,this.clip_path=S.clip_path||[],this.currentPoint=S.currentPoint||new l,this.miterLimit=S.miterLimit||10,this.lastPoint=S.lastPoint||new l,this.lineDashOffset=S.lineDashOffset||0,this.lineDash=S.lineDash||[],this.margin=S.margin||[0,0,0,0],this.prevPageLastElemOffset=S.prevPageLastElemOffset||0,this.ignoreClearRect=typeof S.ignoreClearRect!="boolean"||S.ignoreClearRect,this};i.events.push(["initialized",function(){this.context2d=new v(this),t=this.internal.f2,e=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,l=this.internal.Point,s=this.internal.Rectangle,h=this.internal.Matrix,u=new d}]);var v=function(S){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var R=S;Object.defineProperty(this,"pdf",{get:function(){return R}});var q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return q},set:function(P){q=!!P}});var Y=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Y},set:function(P){Y=!!P}});var Q=0;Object.defineProperty(this,"posX",{get:function(){return Q},set:function(P){isNaN(P)||(Q=P)}});var ne=0;Object.defineProperty(this,"posY",{get:function(){return ne},set:function(P){isNaN(P)||(ne=P)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(P){var Fe;typeof P=="number"?Fe=[P,P,P,P]:((Fe=new Array(4))[0]=P[0],Fe[1]=P.length>=2?P[1]:Fe[0],Fe[2]=P.length>=3?P[2]:Fe[0],Fe[3]=P.length>=4?P[3]:Fe[1]),u.margin=Fe}});var he=!1;Object.defineProperty(this,"autoPaging",{get:function(){return he},set:function(P){he=P}});var fe=0;Object.defineProperty(this,"lastBreak",{get:function(){return fe},set:function(P){fe=P}});var xe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return xe},set:function(P){xe=P}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(P){P instanceof d&&(u=P)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(P){u.path=P}});var De=[];Object.defineProperty(this,"ctxStack",{get:function(){return De},set:function(P){De=P}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(P){var Fe;Fe=y(P),this.ctx.fillStyle=Fe.style,this.ctx.isFillTransparent=Fe.a===0,this.ctx.fillOpacity=Fe.a,this.pdf.setFillColor(Fe.r,Fe.g,Fe.b,{a:Fe.a}),this.pdf.setTextColor(Fe.r,Fe.g,Fe.b,{a:Fe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(P){var Fe=y(P);this.ctx.strokeStyle=Fe.style,this.ctx.isStrokeTransparent=Fe.a===0,this.ctx.strokeOpacity=Fe.a,Fe.a===0?this.pdf.setDrawColor(255,255,255):(Fe.a,this.pdf.setDrawColor(Fe.r,Fe.g,Fe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(P){["butt","round","square"].indexOf(P)!==-1&&(this.ctx.lineCap=P,this.pdf.setLineCap(P))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(P){isNaN(P)||(this.ctx.lineWidth=P,this.pdf.setLineWidth(P))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(P){["bevel","round","miter"].indexOf(P)!==-1&&(this.ctx.lineJoin=P,this.pdf.setLineJoin(P))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(P){isNaN(P)||(this.ctx.miterLimit=P,this.pdf.setMiterLimit(P))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(P){this.ctx.textBaseline=P}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(P){["right","end","center","left","start"].indexOf(P)!==-1&&(this.ctx.textAlign=P)}});var Be=null,Te=null,Ze=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ze},set:function(P){Be=null,Te=null,Ze=P}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(P){var Fe;if(this.ctx.font=P,(Fe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(P))!==null){var vt=Fe[1];Fe[2];var Qe=Fe[3],Ne=Fe[4];Fe[5];var et=Fe[6],Re=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ne)[2];Ne=Math.floor(Re==="px"?parseFloat(Ne)*this.pdf.internal.scaleFactor:Re==="em"?parseFloat(Ne)*this.pdf.getFontSize():parseFloat(Ne)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ne);var Je=function($e){var oi,kt,_t=[],yt=$e.trim();if(yt==="")return gu;if(yt in Qd)return[Qd[yt]];for(;yt!=="";){switch(kt=null,oi=(yt=t0(yt)).charAt(0)){case'"':case"'":kt=a5(yt.substring(1),oi);break;default:kt=o5(yt)}if(kt===null||(_t.push(kt[0]),(yt=t0(kt[1]))!==""&&yt.charAt(0)!==","))return gu;yt=yt.replace(/^,/,"")}return _t}(et);if(this.fontFaces){var Ye=function($e,oi){var kt=$e.getFontList(),_t=JSON.stringify(kt);if(Be===null||Te!==_t){var yt=function(Kt){var Ke=[];return Object.keys(Kt).forEach(function(Wt){Kt[Wt].forEach(function(at){var ht=null;switch(at){case"bold":ht={family:Wt,weight:"bold"};break;case"italic":ht={family:Wt,style:"italic"};break;case"bolditalic":ht={family:Wt,weight:"bold",style:"italic"};break;case"":case"normal":ht={family:Wt}}ht!==null&&(ht.ref={name:Wt,style:at},Ke.push(ht))})}),Ke}(kt);Be=function(Kt){for(var Ke={},Wt=0;Wt<Kt.length;++Wt){var at=pu(Kt[Wt]),ht=at.family,Xt=at.stretch,bt=at.style,it=at.weight;Ke[ht]=Ke[ht]||{},Ke[ht][Xt]=Ke[ht][Xt]||{},Ke[ht][Xt][bt]=Ke[ht][Xt][bt]||{},Ke[ht][Xt][bt][it]=at}return Ke}(yt.concat(oi)),Te=_t}return Be}(this.pdf,this.fontFaces),Pt=Je.map(function($e){return{family:$e,stretch:"normal",weight:Qe,style:vt}}),wt=function($e,oi,kt){for(var _t=(kt=kt||{}).defaultFontFamily||"times",yt=Object.assign({},r5,kt.genericFontFamilies||{}),Kt=null,Ke=null,Wt=0;Wt<oi.length;++Wt)if(yt[(Kt=pu(oi[Wt])).family]&&(Kt.family=yt[Kt.family]),$e.hasOwnProperty(Kt.family)){Ke=$e[Kt.family];break}if(!(Ke=Ke||$e[_t]))throw new Error("Could not find a font-family for the rule '"+e0(Kt)+"' and default family '"+_t+"'.");if(Ke=function(at,ht){if(ht[at])return ht[at];var Xt=wu[at],bt=Xt<=wu.normal?-1:1,it=Jd(ht,x0,Xt,bt);if(!it)throw new Error("Could not find a matching font-stretch value for "+at);return it}(Kt.stretch,Ke),Ke=function(at,ht){if(ht[at])return ht[at];for(var Xt=w0[at],bt=0;bt<Xt.length;++bt)if(ht[Xt[bt]])return ht[Xt[bt]];throw new Error("Could not find a matching font-style for "+at)}(Kt.style,Ke),!(Ke=function(at,ht){if(ht[at])return ht[at];if(at===400&&ht[500])return ht[500];if(at===500&&ht[400])return ht[400];var Xt=n5[at],bt=Jd(ht,S0,Xt,at<400?-1:1);if(!bt)throw new Error("Could not find a matching font-weight for value "+at);return bt}(Kt.weight,Ke)))throw new Error("Failed to resolve a font for the rule '"+e0(Kt)+"'.");return Ke}(Ye,Pt);this.pdf.setFont(wt.ref.name,wt.ref.style)}else{var ut="";(Qe==="bold"||parseInt(Qe,10)>=700||vt==="bold")&&(ut="bold"),vt==="italic"&&(ut+="italic"),ut.length===0&&(ut="normal");for(var St="",xt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},We=0;We<Je.length;We++){if(this.pdf.internal.getFont(Je[We],ut,{noFallback:!0,disableWarning:!0})!==void 0){St=Je[We];break}if(ut==="bolditalic"&&this.pdf.internal.getFont(Je[We],"bold",{noFallback:!0,disableWarning:!0})!==void 0)St=Je[We],ut="bold";else if(this.pdf.internal.getFont(Je[We],"normal",{noFallback:!0,disableWarning:!0})!==void 0){St=Je[We],ut="normal";break}}if(St===""){for(var dt=0;dt<Je.length;dt++)if(xt[Je[dt]]){St=xt[Je[dt]];break}}St=St===""?"Times":St,this.pdf.setFont(St,ut)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(P){this.ctx.globalCompositeOperation=P}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(P){this.ctx.globalAlpha=P}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(P){this.ctx.lineDashOffset=P,Ce.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(P){this.ctx.lineDash=P,Ce.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(P){this.ctx.ignoreClearRect=!!P}})};v.prototype.setLineDash=function(S){this.lineDash=S},v.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},v.prototype.fill=function(){U.call(this,"fill",!1)},v.prototype.stroke=function(){U.call(this,"stroke",!1)},v.prototype.beginPath=function(){this.path=[{type:"begin"}]},v.prototype.moveTo=function(S,R){if(isNaN(S)||isNaN(R))throw Vt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var q=this.ctx.transform.applyToPoint(new l(S,R));this.path.push({type:"mt",x:q.x,y:q.y}),this.ctx.lastPoint=new l(S,R)},v.prototype.closePath=function(){var S=new l(0,0),R=0;for(R=this.path.length-1;R!==-1;R--)if(this.path[R].type==="begin"&&Ot(this.path[R+1])==="object"&&typeof this.path[R+1].x=="number"){S=new l(this.path[R+1].x,this.path[R+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(S.x,S.y)},v.prototype.lineTo=function(S,R){if(isNaN(S)||isNaN(R))throw Vt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var q=this.ctx.transform.applyToPoint(new l(S,R));this.path.push({type:"lt",x:q.x,y:q.y}),this.ctx.lastPoint=new l(q.x,q.y)},v.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),U.call(this,null,!0)},v.prototype.quadraticCurveTo=function(S,R,q,Y){if(isNaN(q)||isNaN(Y)||isNaN(S)||isNaN(R))throw Vt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Q=this.ctx.transform.applyToPoint(new l(q,Y)),ne=this.ctx.transform.applyToPoint(new l(S,R));this.path.push({type:"qct",x1:ne.x,y1:ne.y,x:Q.x,y:Q.y}),this.ctx.lastPoint=new l(Q.x,Q.y)},v.prototype.bezierCurveTo=function(S,R,q,Y,Q,ne){if(isNaN(Q)||isNaN(ne)||isNaN(S)||isNaN(R)||isNaN(q)||isNaN(Y))throw Vt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var he=this.ctx.transform.applyToPoint(new l(Q,ne)),fe=this.ctx.transform.applyToPoint(new l(S,R)),xe=this.ctx.transform.applyToPoint(new l(q,Y));this.path.push({type:"bct",x1:fe.x,y1:fe.y,x2:xe.x,y2:xe.y,x:he.x,y:he.y}),this.ctx.lastPoint=new l(he.x,he.y)},v.prototype.arc=function(S,R,q,Y,Q,ne){if(isNaN(S)||isNaN(R)||isNaN(q)||isNaN(Y)||isNaN(Q))throw Vt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ne=!!ne,!this.ctx.transform.isIdentity){var he=this.ctx.transform.applyToPoint(new l(S,R));S=he.x,R=he.y;var fe=this.ctx.transform.applyToPoint(new l(0,q)),xe=this.ctx.transform.applyToPoint(new l(0,0));q=Math.sqrt(Math.pow(fe.x-xe.x,2)+Math.pow(fe.y-xe.y,2))}Math.abs(Q-Y)>=2*Math.PI&&(Y=0,Q=2*Math.PI),this.path.push({type:"arc",x:S,y:R,radius:q,startAngle:Y,endAngle:Q,counterclockwise:ne})},v.prototype.arcTo=function(S,R,q,Y,Q){throw new Error("arcTo not implemented.")},v.prototype.rect=function(S,R,q,Y){if(isNaN(S)||isNaN(R)||isNaN(q)||isNaN(Y))throw Vt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(S,R),this.lineTo(S+q,R),this.lineTo(S+q,R+Y),this.lineTo(S,R+Y),this.lineTo(S,R),this.lineTo(S+q,R),this.lineTo(S,R)},v.prototype.fillRect=function(S,R,q,Y){if(isNaN(S)||isNaN(R)||isNaN(q)||isNaN(Y))throw Vt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var Q={};this.lineCap!=="butt"&&(Q.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Q.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(S,R,q,Y),this.fill(),Q.hasOwnProperty("lineCap")&&(this.lineCap=Q.lineCap),Q.hasOwnProperty("lineJoin")&&(this.lineJoin=Q.lineJoin)}},v.prototype.strokeRect=function(S,R,q,Y){if(isNaN(S)||isNaN(R)||isNaN(q)||isNaN(Y))throw Vt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");A.call(this)||(this.beginPath(),this.rect(S,R,q,Y),this.stroke())},v.prototype.clearRect=function(S,R,q,Y){if(isNaN(S)||isNaN(R)||isNaN(q)||isNaN(Y))throw Vt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(S,R,q,Y))},v.prototype.save=function(S){S=typeof S!="boolean"||S;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("q");if(this.pdf.setPage(R),S){this.ctx.fontSize=this.pdf.internal.getFontSize();var Y=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Y}},v.prototype.restore=function(S){S=typeof S!="boolean"||S;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("Q");this.pdf.setPage(R),S&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},v.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(S){var R,q,Y,Q;if(S.isCanvasGradient===!0&&(S=S.getColor()),!S)return{r:0,g:0,b:0,a:0,style:S};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(S))R=0,q=0,Y=0,Q=0;else{var ne=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(S);if(ne!==null)R=parseInt(ne[1]),q=parseInt(ne[2]),Y=parseInt(ne[3]),Q=1;else if((ne=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(S))!==null)R=parseInt(ne[1]),q=parseInt(ne[2]),Y=parseInt(ne[3]),Q=parseFloat(ne[4]);else{if(Q=1,typeof S=="string"&&S.charAt(0)!=="#"){var he=new p0(S);S=he.ok?he.toHex():"#000000"}S.length===4?(R=S.substring(1,2),R+=R,q=S.substring(2,3),q+=q,Y=S.substring(3,4),Y+=Y):(R=S.substring(1,3),q=S.substring(3,5),Y=S.substring(5,7)),R=parseInt(R,16),q=parseInt(q,16),Y=parseInt(Y,16)}}return{r:R,g:q,b:Y,a:Q,style:S}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},A=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};v.prototype.fillText=function(S,R,q,Y){if(isNaN(R)||isNaN(q)||typeof S!="string")throw Vt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Y=isNaN(Y)?void 0:Y,!p.call(this)){var Q=oe(this.ctx.transform.rotation),ne=this.ctx.transform.scaleX;F.call(this,{text:S,x:R,y:q,scale:ne,angle:Q,align:this.textAlign,maxWidth:Y})}},v.prototype.strokeText=function(S,R,q,Y){if(isNaN(R)||isNaN(q)||typeof S!="string")throw Vt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!A.call(this)){Y=isNaN(Y)?void 0:Y;var Q=oe(this.ctx.transform.rotation),ne=this.ctx.transform.scaleX;F.call(this,{text:S,x:R,y:q,scale:ne,renderingMode:"stroke",angle:Q,align:this.textAlign,maxWidth:Y})}},v.prototype.measureText=function(S){if(typeof S!="string")throw Vt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var R=this.pdf,q=this.pdf.internal.scaleFactor,Y=R.internal.getFontSize(),Q=R.getStringUnitWidth(S)*Y/R.internal.scaleFactor;return new function(ne){var he=(ne=ne||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return he}}),this}({width:Q*=Math.round(96*q/72*1e4)/1e4})},v.prototype.scale=function(S,R){if(isNaN(S)||isNaN(R))throw Vt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var q=new h(S,0,0,R,0,0);this.ctx.transform=this.ctx.transform.multiply(q)},v.prototype.rotate=function(S){if(isNaN(S))throw Vt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var R=new h(Math.cos(S),Math.sin(S),-Math.sin(S),Math.cos(S),0,0);this.ctx.transform=this.ctx.transform.multiply(R)},v.prototype.translate=function(S,R){if(isNaN(S)||isNaN(R))throw Vt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var q=new h(1,0,0,1,S,R);this.ctx.transform=this.ctx.transform.multiply(q)},v.prototype.transform=function(S,R,q,Y,Q,ne){if(isNaN(S)||isNaN(R)||isNaN(q)||isNaN(Y)||isNaN(Q)||isNaN(ne))throw Vt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var he=new h(S,R,q,Y,Q,ne);this.ctx.transform=this.ctx.transform.multiply(he)},v.prototype.setTransform=function(S,R,q,Y,Q,ne){S=isNaN(S)?1:S,R=isNaN(R)?0:R,q=isNaN(q)?0:q,Y=isNaN(Y)?1:Y,Q=isNaN(Q)?0:Q,ne=isNaN(ne)?0:ne,this.ctx.transform=new h(S,R,q,Y,Q,ne)};var N=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};v.prototype.drawImage=function(S,R,q,Y,Q,ne,he,fe,xe){var De=this.pdf.getImageProperties(S),Be=1,Te=1,Ze=1,P=1;Y!==void 0&&fe!==void 0&&(Ze=fe/Y,P=xe/Q,Be=De.width/Y*fe/Y,Te=De.height/Q*xe/Q),ne===void 0&&(ne=R,he=q,R=0,q=0),Y!==void 0&&fe===void 0&&(fe=Y,xe=Q),Y===void 0&&fe===void 0&&(fe=De.width,xe=De.height);var Fe=this.ctx.transform.decompose(),vt=oe(Fe.rotate.shx),Qe=new h,Ne=(Qe=(Qe=(Qe=Qe.multiply(Fe.translate)).multiply(Fe.skew)).multiply(Fe.scale)).applyToRectangle(new s(ne-R*Ze,he-q*P,Y*Be,Q*Te));if(this.autoPaging){for(var et,Re=I.call(this,Ne),Je=[],Ye=0;Ye<Re.length;Ye+=1)Je.indexOf(Re[Ye])===-1&&Je.push(Re[Ye]);W(Je);for(var Pt=Je[0],wt=Je[Je.length-1],ut=Pt;ut<wt+1;ut++){this.pdf.setPage(ut);var St=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],xt=ut===1?this.posY+this.margin[0]:this.margin[0],We=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],dt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],$e=ut===1?0:We+(ut-2)*dt;if(this.ctx.clip_path.length!==0){var oi=this.path;et=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Z(et,this.posX+this.margin[3],-$e+xt+this.ctx.prevPageLastElemOffset),le.call(this,"fill",!0),this.path=oi}var kt=JSON.parse(JSON.stringify(Ne));kt=Z([kt],this.posX+this.margin[3],-$e+xt+this.ctx.prevPageLastElemOffset)[0];var _t=(ut>Pt||ut<wt)&&N.call(this);_t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],St,dt,null).clip().discardPath()),this.pdf.addImage(S,"JPEG",kt.x,kt.y,kt.w,kt.h,null,null,vt),_t&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(S,"JPEG",Ne.x,Ne.y,Ne.w,Ne.h,null,null,vt)};var I=function(S,R,q){var Y=[];R=R||this.pdf.internal.pageSize.width,q=q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Q=this.posY+this.ctx.prevPageLastElemOffset;switch(S.type){default:case"mt":case"lt":Y.push(Math.floor((S.y+Q)/q)+1);break;case"arc":Y.push(Math.floor((S.y+Q-S.radius)/q)+1),Y.push(Math.floor((S.y+Q+S.radius)/q)+1);break;case"qct":var ne=_e(this.ctx.lastPoint.x,this.ctx.lastPoint.y,S.x1,S.y1,S.x,S.y);Y.push(Math.floor((ne.y+Q)/q)+1),Y.push(Math.floor((ne.y+ne.h+Q)/q)+1);break;case"bct":var he=Ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,S.x1,S.y1,S.x2,S.y2,S.x,S.y);Y.push(Math.floor((he.y+Q)/q)+1),Y.push(Math.floor((he.y+he.h+Q)/q)+1);break;case"rect":Y.push(Math.floor((S.y+Q)/q)+1),Y.push(Math.floor((S.y+S.h+Q)/q)+1)}for(var fe=0;fe<Y.length;fe+=1)for(;this.pdf.internal.getNumberOfPages()<Y[fe];)C.call(this);return Y},C=function(){var S=this.fillStyle,R=this.strokeStyle,q=this.font,Y=this.lineCap,Q=this.lineWidth,ne=this.lineJoin;this.pdf.addPage(),this.fillStyle=S,this.strokeStyle=R,this.font=q,this.lineCap=Y,this.lineWidth=Q,this.lineJoin=ne},Z=function(S,R,q){for(var Y=0;Y<S.length;Y++)switch(S[Y].type){case"bct":S[Y].x2+=R,S[Y].y2+=q;case"qct":S[Y].x1+=R,S[Y].y1+=q;default:S[Y].x+=R,S[Y].y+=q}return S},W=function(S){return S.sort(function(R,q){return R-q})},U=function(S,R){var q=this.fillStyle,Y=this.strokeStyle,Q=this.lineCap,ne=this.lineWidth,he=Math.abs(ne*this.ctx.transform.scaleX),fe=this.lineJoin;if(this.autoPaging){for(var xe,De,Be=JSON.parse(JSON.stringify(this.path)),Te=JSON.parse(JSON.stringify(this.path)),Ze=[],P=0;P<Te.length;P++)if(Te[P].x!==void 0)for(var Fe=I.call(this,Te[P]),vt=0;vt<Fe.length;vt+=1)Ze.indexOf(Fe[vt])===-1&&Ze.push(Fe[vt]);for(var Qe=0;Qe<Ze.length;Qe++)for(;this.pdf.internal.getNumberOfPages()<Ze[Qe];)C.call(this);W(Ze);for(var Ne=Ze[0],et=Ze[Ze.length-1],Re=Ne;Re<et+1;Re++){this.pdf.setPage(Re),this.fillStyle=q,this.strokeStyle=Y,this.lineCap=Q,this.lineWidth=he,this.lineJoin=fe;var Je=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ye=Re===1?this.posY+this.margin[0]:this.margin[0],Pt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],wt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ut=Re===1?0:Pt+(Re-2)*wt;if(this.ctx.clip_path.length!==0){var St=this.path;xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Z(xe,this.posX+this.margin[3],-ut+Ye+this.ctx.prevPageLastElemOffset),le.call(this,S,!0),this.path=St}if(De=JSON.parse(JSON.stringify(Be)),this.path=Z(De,this.posX+this.margin[3],-ut+Ye+this.ctx.prevPageLastElemOffset),R===!1||Re===0){var xt=(Re>Ne||Re<et)&&N.call(this);xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Je,wt,null).clip().discardPath()),le.call(this,S,R),xt&&this.pdf.restoreGraphicsState()}this.lineWidth=ne}this.path=Be}else this.lineWidth=he,le.call(this,S,R),this.lineWidth=ne},le=function(S,R){if((S!=="stroke"||R||!A.call(this))&&(S==="stroke"||R||!p.call(this))){for(var q,Y,Q=[],ne=this.path,he=0;he<ne.length;he++){var fe=ne[he];switch(fe.type){case"begin":Q.push({begin:!0});break;case"close":Q.push({close:!0});break;case"mt":Q.push({start:fe,deltas:[],abs:[]});break;case"lt":var xe=Q.length;if(ne[he-1]&&!isNaN(ne[he-1].x)&&(q=[fe.x-ne[he-1].x,fe.y-ne[he-1].y],xe>0)){for(;xe>=0;xe--)if(Q[xe-1].close!==!0&&Q[xe-1].begin!==!0){Q[xe-1].deltas.push(q),Q[xe-1].abs.push(fe);break}}break;case"bct":q=[fe.x1-ne[he-1].x,fe.y1-ne[he-1].y,fe.x2-ne[he-1].x,fe.y2-ne[he-1].y,fe.x-ne[he-1].x,fe.y-ne[he-1].y],Q[Q.length-1].deltas.push(q);break;case"qct":var De=ne[he-1].x+2/3*(fe.x1-ne[he-1].x),Be=ne[he-1].y+2/3*(fe.y1-ne[he-1].y),Te=fe.x+2/3*(fe.x1-fe.x),Ze=fe.y+2/3*(fe.y1-fe.y),P=fe.x,Fe=fe.y;q=[De-ne[he-1].x,Be-ne[he-1].y,Te-ne[he-1].x,Ze-ne[he-1].y,P-ne[he-1].x,Fe-ne[he-1].y],Q[Q.length-1].deltas.push(q);break;case"arc":Q.push({deltas:[],abs:[],arc:!0}),Array.isArray(Q[Q.length-1].abs)&&Q[Q.length-1].abs.push(fe)}}Y=R?null:S==="stroke"?"stroke":"fill";for(var vt=!1,Qe=0;Qe<Q.length;Qe++)if(Q[Qe].arc)for(var Ne=Q[Qe].abs,et=0;et<Ne.length;et++){var Re=Ne[et];Re.type==="arc"?X.call(this,Re.x,Re.y,Re.radius,Re.startAngle,Re.endAngle,Re.counterclockwise,void 0,R,!vt):$.call(this,Re.x,Re.y),vt=!0}else if(Q[Qe].close===!0)this.pdf.internal.out("h"),vt=!1;else if(Q[Qe].begin!==!0){var Je=Q[Qe].start.x,Ye=Q[Qe].start.y;H.call(this,Q[Qe].deltas,Je,Ye),vt=!0}Y&&j.call(this,Y),R&&ie.call(this)}},we=function(S){var R=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,q=R*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return S-q;case"top":return S+R-q;case"hanging":return S+R-2*q;case"middle":return S+R/2-q;default:return S}},pe=function(S){return S+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};v.prototype.createLinearGradient=function(){var S=function(){};return S.colorStops=[],S.addColorStop=function(R,q){this.colorStops.push([R,q])},S.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},S.isCanvasGradient=!0,S},v.prototype.createPattern=function(){return this.createLinearGradient()},v.prototype.createRadialGradient=function(){return this.createLinearGradient()};var X=function(S,R,q,Y,Q,ne,he,fe,xe){for(var De=de.call(this,q,Y,Q,ne),Be=0;Be<De.length;Be++){var Te=De[Be];Be===0&&(xe?k.call(this,Te.x1+S,Te.y1+R):$.call(this,Te.x1+S,Te.y1+R)),ce.call(this,S,R,Te.x2,Te.y2,Te.x3,Te.y3,Te.x4,Te.y4)}fe?ie.call(this):j.call(this,he)},j=function(S){switch(S){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ie=function(){this.pdf.clip(),this.pdf.discardPath()},k=function(S,R){this.pdf.internal.out(e(S)+" "+n(R)+" m")},F=function(S){var R;switch(S.align){case"right":case"end":R="right";break;case"center":R="center";break;default:R="left"}var q,Y,Q,ne=this.pdf.getTextDimensions(S.text),he=we.call(this,S.y),fe=pe.call(this,he)-ne.h,xe=this.ctx.transform.applyToPoint(new l(S.x,he));if(this.autoPaging){var De=this.ctx.transform.decompose(),Be=new h;Be=(Be=(Be=Be.multiply(De.translate)).multiply(De.skew)).multiply(De.scale);for(var Te=this.ctx.transform.applyToRectangle(new s(S.x,he,ne.w,ne.h)),Ze=Be.applyToRectangle(new s(S.x,fe,ne.w,ne.h)),P=I.call(this,Ze),Fe=[],vt=0;vt<P.length;vt+=1)Fe.indexOf(P[vt])===-1&&Fe.push(P[vt]);W(Fe);for(var Qe=Fe[0],Ne=Fe[Fe.length-1],et=Qe;et<Ne+1;et++){this.pdf.setPage(et);var Re=et===1?this.posY+this.margin[0]:this.margin[0],Je=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ye=this.pdf.internal.pageSize.height-this.margin[2],Pt=Ye-this.margin[0],wt=this.pdf.internal.pageSize.width-this.margin[1],ut=wt-this.margin[3],St=et===1?0:Je+(et-2)*Pt;if(this.ctx.clip_path.length!==0){var xt=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Z(q,this.posX+this.margin[3],-1*St+Re),le.call(this,"fill",!0),this.path=xt}var We=Z([JSON.parse(JSON.stringify(Ze))],this.posX+this.margin[3],-St+Re+this.ctx.prevPageLastElemOffset)[0];S.scale>=.01&&(Y=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Y*S.scale),Q=this.lineWidth,this.lineWidth=Q*S.scale);var dt=this.autoPaging!=="text";if(dt||We.y+We.h<=Ye){if(dt||We.y>=Re&&We.x<=wt){var $e=dt?S.text:this.pdf.splitTextToSize(S.text,S.maxWidth||wt-We.x)[0],oi=Z([JSON.parse(JSON.stringify(Te))],this.posX+this.margin[3],-St+Re+this.ctx.prevPageLastElemOffset)[0],kt=dt&&(et>Qe||et<Ne)&&N.call(this);kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ut,Pt,null).clip().discardPath()),this.pdf.text($e,oi.x,oi.y,{angle:S.angle,align:R,renderingMode:S.renderingMode}),kt&&this.pdf.restoreGraphicsState()}}else We.y<Ye&&(this.ctx.prevPageLastElemOffset+=Ye-We.y);S.scale>=.01&&(this.pdf.setFontSize(Y),this.lineWidth=Q)}}else S.scale>=.01&&(Y=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Y*S.scale),Q=this.lineWidth,this.lineWidth=Q*S.scale),this.pdf.text(S.text,xe.x+this.posX,xe.y+this.posY,{angle:S.angle,align:R,renderingMode:S.renderingMode,maxWidth:S.maxWidth}),S.scale>=.01&&(this.pdf.setFontSize(Y),this.lineWidth=Q)},$=function(S,R,q,Y){q=q||0,Y=Y||0,this.pdf.internal.out(e(S+q)+" "+n(R+Y)+" l")},H=function(S,R,q){return this.pdf.lines(S,R,q,null,null)},ce=function(S,R,q,Y,Q,ne,he,fe){this.pdf.internal.out([t(r(q+S)),t(a(Y+R)),t(r(Q+S)),t(a(ne+R)),t(r(he+S)),t(a(fe+R)),"c"].join(" "))},de=function(S,R,q,Y){for(var Q=2*Math.PI,ne=Math.PI/2;R>q;)R-=Q;var he=Math.abs(q-R);he<Q&&Y&&(he=Q-he);for(var fe=[],xe=Y?-1:1,De=R;he>1e-5;){var Be=De+xe*Math.min(he,ne);fe.push(me.call(this,S,De,Be)),he-=Math.abs(Be-De),De=Be}return fe},me=function(S,R,q){var Y=(q-R)/2,Q=S*Math.cos(Y),ne=S*Math.sin(Y),he=Q,fe=-ne,xe=he*he+fe*fe,De=xe+he*Q+fe*ne,Be=4/3*(Math.sqrt(2*xe*De)-De)/(he*ne-fe*Q),Te=he-Be*fe,Ze=fe+Be*he,P=Te,Fe=-Ze,vt=Y+R,Qe=Math.cos(vt),Ne=Math.sin(vt);return{x1:S*Math.cos(R),y1:S*Math.sin(R),x2:Te*Qe-Ze*Ne,y2:Te*Ne+Ze*Qe,x3:P*Qe-Fe*Ne,y3:P*Ne+Fe*Qe,x4:S*Math.cos(q),y4:S*Math.sin(q)}},oe=function(S){return 180*S/Math.PI},_e=function(S,R,q,Y,Q,ne){var he=S+.5*(q-S),fe=R+.5*(Y-R),xe=Q+.5*(q-Q),De=ne+.5*(Y-ne),Be=Math.min(S,Q,he,xe),Te=Math.max(S,Q,he,xe),Ze=Math.min(R,ne,fe,De),P=Math.max(R,ne,fe,De);return new s(Be,Ze,Te-Be,P-Ze)},Ee=function(S,R,q,Y,Q,ne,he,fe){var xe,De,Be,Te,Ze,P,Fe,vt,Qe,Ne,et,Re,Je,Ye,Pt=q-S,wt=Y-R,ut=Q-q,St=ne-Y,xt=he-Q,We=fe-ne;for(De=0;De<41;De++)Qe=(Fe=(Be=S+(xe=De/40)*Pt)+xe*((Ze=q+xe*ut)-Be))+xe*(Ze+xe*(Q+xe*xt-Ze)-Fe),Ne=(vt=(Te=R+xe*wt)+xe*((P=Y+xe*St)-Te))+xe*(P+xe*(ne+xe*We-P)-vt),De==0?(et=Qe,Re=Ne,Je=Qe,Ye=Ne):(et=Math.min(et,Qe),Re=Math.min(Re,Ne),Je=Math.max(Je,Qe),Ye=Math.max(Ye,Ne));return new s(Math.round(et),Math.round(Re),Math.round(Je-et),Math.round(Ye-Re))},Ce=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var S,R,q=(S=this.ctx.lineDash,R=this.ctx.lineDashOffset,JSON.stringify({lineDash:S,lineDashOffset:R}));this.prevLineDash!==q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=q)}}})(Ue.API),function(i){var t=function(l){var s,h,u,d,v,y,p,A,N,I;for(/[^\x00-\xFF]/.test(l),h=[],u=0,d=(l+=s="\0\0\0\0".slice(l.length%4||4)).length;d>u;u+=4)(v=(l.charCodeAt(u)<<24)+(l.charCodeAt(u+1)<<16)+(l.charCodeAt(u+2)<<8)+l.charCodeAt(u+3))!==0?(y=(v=((v=((v=((v=(v-(I=v%85))/85)-(N=v%85))/85)-(A=v%85))/85)-(p=v%85))/85)%85,h.push(y+33,p+33,A+33,N+33,I+33)):h.push(122);return function(C,Z){for(var W=Z;W>0;W--)C.pop()}(h,s.length),String.fromCharCode.apply(String,h)+"~>"},e=function(l){var s,h,u,d,v,y=String,p="length",A=255,N="charCodeAt",I="slice",C="replace";for(l[I](-2),l=l[I](0,-2)[C](/\s/g,"")[C]("z","!!!!!"),u=[],d=0,v=(l+=s="uuuuu"[I](l[p]%5||5))[p];v>d;d+=5)h=52200625*(l[N](d)-33)+614125*(l[N](d+1)-33)+7225*(l[N](d+2)-33)+85*(l[N](d+3)-33)+(l[N](d+4)-33),u.push(A&h>>24,A&h>>16,A&h>>8,A&h);return function(Z,W){for(var U=W;U>0;U--)Z.pop()}(u,s[p]),y.fromCharCode.apply(y,u)},n=function(l){return l.split("").map(function(s){return("0"+s.charCodeAt().toString(16)).slice(-2)}).join("")+">"},r=function(l){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),s.test(l)===!1)return"";for(var h="",u=0;u<l.length;u+=2)h+=String.fromCharCode("0x"+(l[u]+l[u+1]));return h},a=function(l){for(var s=new Uint8Array(l.length),h=l.length;h--;)s[h]=l.charCodeAt(h);return(s=el(s)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};i.processDataByFilters=function(l,s){var h=0,u=l||"",d=[];for(typeof(s=s||[])=="string"&&(s=[s]),h=0;h<s.length;h+=1)switch(s[h]){case"ASCII85Decode":case"/ASCII85Decode":u=e(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=r(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=a(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[h]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}}(Ue.API),function(i){i.loadFile=function(t,e,n){return function(r,a,l){a=a!==!1,l=typeof l=="function"?l:function(){};var s=void 0;try{s=function(h,u,d){var v=new XMLHttpRequest,y=0,p=function(A){var N=A.length,I=[],C=String.fromCharCode;for(y=0;y<N;y+=1)I.push(C(255&A.charCodeAt(y)));return I.join("")};if(v.open("GET",h,!u),v.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(v.onload=function(){v.status===200?d(p(this.responseText)):d(void 0)}),v.send(null),u&&v.status===200)return p(v.responseText)}(r,a,l)}catch{}return s}(t,e,n)},i.allowFsRead=void 0,i.loadImageFile=i.loadFile}(Ue.API),function(i){function t(){return(ot.html2canvas?Promise.resolve(ot.html2canvas):import("./chunk-APTPG53V.js")).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function e(){return(ot.DOMPurify?Promise.resolve(ot.DOMPurify):import("./chunk-XWJ7XWFQ.js")).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var n=function(s){var h=Ot(s);return h==="undefined"?"undefined":h==="string"||s instanceof String?"string":h==="number"||s instanceof Number?"number":h==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":h==="object"?"object":"unknown"},r=function(s,h){var u=document.createElement(s);for(var d in h.className&&(u.className=h.className),h.innerHTML&&h.dompurify&&(u.innerHTML=h.dompurify.sanitize(h.innerHTML)),h.style)u.style[d]=h.style[d];return u},a=function s(h,u){for(var d=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),v=h.firstChild;v;v=v.nextSibling)u!==!0&&v.nodeType===1&&v.nodeName==="SCRIPT"||d.appendChild(s(v,u));return h.nodeType===1&&(h.nodeName==="CANVAS"?(d.width=h.width,d.height=h.height,d.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(d.value=h.value),d.addEventListener("load",function(){d.scrollTop=h.scrollTop,d.scrollLeft=h.scrollLeft},!0)),d},l=function s(h){var u=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),d=s.convert(Promise.resolve(),u);return(d=d.setProgress(1,s,1,[s])).set(h)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(s,h){return s.__proto__=h||l.prototype,s},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(s,h){return this.then(function(){switch(h=h||function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s),h){case"string":return this.then(e).then(function(u){return this.set({src:r("div",{innerHTML:s,dompurify:u})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},l.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},h=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);h.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(h),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},l.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(h){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,h(this.prop.container,u)}).then(function(h){(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},l.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(h){var u=this.opt.jsPDF,d=this.opt.fontFaces,v=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:v,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var p=0;p<d.length;++p){var A=d[p],N=A.src.find(function(I){return I.format==="truetype"});N&&u.addFont(N.url,A.ref.name,A.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=y.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,u.context2d.save(!0),h(this.prop.container,y)}).then(function(h){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},l.prototype.output=function(s,h,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(s,h):this.outputPdf(s,h)},l.prototype.outputPdf=function(s,h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,h)})},l.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},l.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},l.prototype.set=function(s){if(n(s)!=="object")return this;var h=Object.keys(s||{}).map(function(u){if(u in l.template.prop)return function(){this.prop[u]=s[u]};switch(u){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[u]=s[u]}}},this);return this.then(function(){return this.thenList(h)})},l.prototype.get=function(s,h){return this.then(function(){var u=s in l.template.prop?this.prop[s]:this.opt[s];return h?h(u):u})},l.prototype.setMargin=function(s){return this.then(function(){switch(n(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},l.prototype.setPageSize=function(s){function h(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(s=s||Ue.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:h(s.inner.width,s.k),height:h(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},l.prototype.setProgress=function(s,h,u,d){return s!=null&&(this.progress.val=s),h!=null&&(this.progress.state=h),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(s,h,u,d){return this.setProgress(s?this.progress.val+s:null,h||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},l.prototype.then=function(s,h){var u=this;return this.thenCore(s,h,function(d,v){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(y){return u.updateProgress(null,d),y}).then(d,v).then(function(y){return u.updateProgress(1),y})})},l.prototype.thenCore=function(s,h,u){u=u||Promise.prototype.then;var d=this;s&&(s=s.bind(d)),h&&(h=h.bind(d));var v=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:l.convert(Object.assign({},d),Promise.prototype),y=u.call(v,s,h);return l.convert(y,d.__proto__)},l.prototype.thenExternal=function(s,h){return Promise.prototype.then.call(this,s,h)},l.prototype.thenList=function(s){var h=this;return s.forEach(function(u){h=h.thenCore(u)}),h},l.prototype.catch=function(s){s&&(s=s.bind(this));var h=Promise.prototype.catch.call(this,s);return l.convert(h,this)},l.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},l.prototype.error=function(s){return this.then(function(){throw new Error(s)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,Ue.getPageSize=function(s,h,u){if(Ot(s)==="object"){var d=s;s=d.orientation,h=d.unit||h,u=d.format||u}h=h||"mm",u=u||"a4",s=(""+(s||"P")).toLowerCase();var v,y=(""+u).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(h){case"pt":v=1;break;case"mm":v=72/25.4;break;case"cm":v=72/2.54;break;case"in":v=72;break;case"px":v=.75;break;case"pc":case"em":v=12;break;case"ex":v=6;break;default:throw"Invalid unit: "+h}var A,N=0,I=0;if(p.hasOwnProperty(y))N=p[y][1]/v,I=p[y][0]/v;else try{N=u[1],I=u[0]}catch{throw new Error("Invalid format: "+u)}if(s==="p"||s==="portrait")s="p",I>N&&(A=I,I=N,N=A);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",N>I&&(A=I,I=N,N=A)}return{width:I,height:N,unit:h,k:v,orientation:s}},i.html=function(s,h){(h=h||{}).callback=h.callback||function(){},h.html2canvas=h.html2canvas||{},h.html2canvas.canvas=h.html2canvas.canvas||this.canvas,h.jsPDF=h.jsPDF||this,h.fontFaces=h.fontFaces?h.fontFaces.map(pu):null;var u=new l(h);return h.worker?u:u.from(s).doCallback()}}(Ue.API),Ue.API.addJS=function(i){var t,e,n=function(r){for(var a="",l=0;l<r.length;l++){var s=r[l];if(s==="("||s===")"){for(var h=0,u=l-1;u>=0&&r[u]==="\\";u--)h++;a+=h%2==0?"\\"+s:s}else a+=s}return a}(i);return this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(t+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+n+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){t!==void 0&&e!==void 0&&this.internal.out("/Names <</JavaScript "+t+" 0 R>>")}),this},function(i){var t;i.events.push(["postPutResources",function(){var e=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=e.outline.render().split(/\r\n/),a=0;a<r.length;a++){var l=r[a],s=n.exec(l);if(s!=null){var h=s[1];e.internal.newObjectDeferredBegin(h,!1)}e.internal.write(l)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(a=0;a<u;a++){var v=e.internal.newObject();d.push(v);var y=e.internal.getPageInfo(a+1);e.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var p=e.internal.newObject();for(e.internal.write("<< /Names [ "),a=0;a<d.length;a++)e.internal.write("(page_"+(a+1)+")"+d[a]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+p+" 0 R"),e.internal.write(">>","endobj")}}]),i.events.push(["putCatalog",function(){var e=this;e.outline.root.children.length>0&&(e.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&e.internal.write("/Names "+t+" 0 R"))}]),i.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(n,r,a){var l={title:r,options:a,children:[]};return n==null&&(n=this.root),n.children.push(l),l},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(n){n.id=e.internal.newObjectDeferred();for(var r=0;r<n.children.length;r++)this.genIds_r(n.children[r])},e.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},e.outline.renderItems=function(n){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var l=n.children[a];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var s=this.count=this.count_r({count:0},l);if(s>0&&this.line("/Count "+s),l.options&&l.options.pageNumber){var h=e.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+h.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},e.outline.line=function(n){this.ctx.val+=n+`\r
`},e.outline.makeRef=function(n){return n.id+" 0 R"},e.outline.makeString=function(n){return"("+e.internal.pdfEscape(n)+")"},e.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(n,r){for(var a=0;a<r.children.length;a++)n.count++,this.count_r(n,r.children[a]);return n.count}}])}(Ue.API),function(i){var t=[192,193,194,195,196,197,198,199];i.processJPEG=function(e,n,r,a,l,s){var h,u=this.decode.DCT_DECODE,d=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=l||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,h=function(v){for(var y,p=256*v.charCodeAt(4)+v.charCodeAt(5),A=v.length,N={width:0,height:0,numcomponents:1},I=4;I<A;I+=2){if(I+=p,t.indexOf(v.charCodeAt(I+1))!==-1){y=256*v.charCodeAt(I+5)+v.charCodeAt(I+6),N={width:256*v.charCodeAt(I+7)+v.charCodeAt(I+8),height:y,numcomponents:v.charCodeAt(I+9)};break}p=256*v.charCodeAt(I+2)+v.charCodeAt(I+3)}return N}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e),h.numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}d={data:e,width:h.width,height:h.height,colorSpace:s,bitsPerComponent:8,filter:u,index:n,alias:r}}return d}}(Ue.API),Ue.API.processPNG=function(i,t,e,n){if(this.__addimage__.isArrayBuffer(i)&&(i=new Uint8Array(i)),this.__addimage__.isArrayBufferView(i)){var r,a=Hd(i,{checkCrc:!0}),l=a.width,s=a.height,h=a.channels,u=a.palette,d=a.depth;r=u&&h===1?function(X){for(var j=X.width,ie=X.height,k=X.data,F=X.palette,$=X.depth,H=!1,ce=[],de=[],me=void 0,oe=!1,_e=0,Ee=0;Ee<F.length;Ee++){var Ce=Mc(F[Ee],4),S=Ce[0],R=Ce[1],q=Ce[2],Y=Ce[3];ce.push(S,R,q),Y!=null&&(Y===0?(_e++,de.length<1&&de.push(Ee)):Y<255&&(oe=!0))}if(oe||_e>1){H=!0,de=void 0;var Q=j*ie;me=new Uint8Array(Q);for(var ne=new DataView(k.buffer),he=0;he<Q;he++){var fe=mu(ne,he,$),xe=Mc(F[fe],4)[3];me[he]=xe}}else _e===0&&(de=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:H?8:void 0,colorBytes:k,alphaBytes:me,needSMask:H,palette:ce,mask:de}}(a):h===2||h===4?function(X){for(var j=X.data,ie=X.width,k=X.height,F=X.channels,$=X.depth,H=F===2?"DeviceGray":"DeviceRGB",ce=F-1,de=ie*k,me=ce,oe=de*me,_e=1*de,Ee=Math.ceil(oe*$/8),Ce=Math.ceil(_e*$/8),S=new Uint8Array(Ee),R=new Uint8Array(Ce),q=new DataView(j.buffer),Y=new DataView(S.buffer),Q=new DataView(R.buffer),ne=!1,he=0;he<de;he++){for(var fe=he*F,xe=0;xe<me;xe++)u0(Y,mu(q,fe+xe,$),he*me+xe,$);var De=mu(q,fe+me,$);De<(1<<$)-1&&(ne=!0),u0(Q,De,1*he,$)}return{colorSpace:H,colorsPerPixel:ce,sMaskBitsPerComponent:ne?$:void 0,colorBytes:S,alphaBytes:R,needSMask:ne}}(a):function(X){var j=X.data,ie=X.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:ie,colorsPerPixel:ie==="DeviceGray"?1:3,colorBytes:j instanceof Uint16Array?function(k){for(var F=k.length,$=new Uint8Array(2*F),H=new DataView($.buffer,$.byteOffset,$.byteLength),ce=0;ce<F;ce++)H.setUint16(2*ce,k[ce],!1);return $}(j):j,needSMask:!1}}(a);var v,y,p,A=r,N=A.colorSpace,I=A.colorsPerPixel,C=A.sMaskBitsPerComponent,Z=A.colorBytes,W=A.alphaBytes,U=A.needSMask,le=A.palette,we=A.mask,pe=null;return n!==Ue.API.image_compression.NONE&&typeof el=="function"?(pe=function(X){var j;switch(X){case Ue.API.image_compression.FAST:j=11;break;case Ue.API.image_compression.MEDIUM:j=13;break;case Ue.API.image_compression.SLOW:j=14;break;default:j=12}return j}(n),v=this.decode.FLATE_DECODE,y="/Predictor ".concat(pe," /Colors ").concat(I," /BitsPerComponent ").concat(d," /Columns ").concat(l),i=a0(Z,Math.ceil(l*I*d/8),I,d,n),U&&(p=a0(W,Math.ceil(l*C/8),1,C,n))):(v=void 0,y=void 0,i=Z,U&&(p=W)),(this.__addimage__.isArrayBuffer(i)||this.__addimage__.isArrayBufferView(i))&&(i=this.__addimage__.arrayBufferToBinaryString(i)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:e,data:i,index:t,filter:v,decodeParameters:y,transparency:we,palette:le,sMask:p,predictor:pe,width:l,height:s,bitsPerComponent:d,sMaskBitsPerComponent:C,colorSpace:N}}},function(i){i.processGIF89A=function(t,e,n,r){var a=new u5(t),l=a.width,s=a.height,h=[];a.decodeAndBlitFrameRGBA(0,h);var u={data:h,width:l,height:s},d=new vu(100).encode(u,100);return i.processJPEG.call(this,d,e,n,r)},i.processGIF87A=i.processGIF89A}(Ue.API),Pn.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var i=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(i);for(var t=0;t<i;t++){var e=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:r,green:n,blue:e,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Pn.prototype.parseBGR=function(){this.pos=this.offset;var i="bit"+this.bitPP,t=this.width*this.height*4;if(t>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(t);try{this[i]()}catch(e){Vt.log("bit decode error:"+e)}},Pn.prototype.bit1=function(){var i,t=Math.ceil(this.width/8),e=t%4;for(i=this.height-1;i>=0;i--){for(var n=this.bottom_up?i:this.height-1-i,r=0;r<t;r++)for(var a=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+8*r*4,s=0;s<8&&8*r+s<this.width;s++){var h=this.palette[a>>7-s&1];this.data[l+4*s]=h.blue,this.data[l+4*s+1]=h.green,this.data[l+4*s+2]=h.red,this.data[l+4*s+3]=255}e!==0&&(this.pos+=4-e)}},Pn.prototype.bit4=function(){for(var i=Math.ceil(this.width/2),t=i%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<i;r++){var a=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+2*r*4,s=a>>4,h=15&a,u=this.palette[s];if(this.data[l]=u.blue,this.data[l+1]=u.green,this.data[l+2]=u.red,this.data[l+3]=255,2*r+1>=this.width)break;u=this.palette[h],this.data[l+4]=u.blue,this.data[l+4+1]=u.green,this.data[l+4+2]=u.red,this.data[l+4+3]=255}t!==0&&(this.pos+=4-t)}},Pn.prototype.bit8=function(){for(var i=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;if(r<this.palette.length){var l=this.palette[r];this.data[a]=l.red,this.data[a+1]=l.green,this.data[a+2]=l.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}i!==0&&(this.pos+=4-i)}},Pn.prototype.bit15=function(){for(var i=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(a&t)/t*255|0,s=(a>>5&t)/t*255|0,h=(a>>10&t)/t*255|0,u=a>>15?255:0,d=n*this.width*4+4*r;this.data[d]=h,this.data[d+1]=s,this.data[d+2]=l,this.data[d+3]=u}this.pos+=i}},Pn.prototype.bit16=function(){for(var i=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(l&t)/t*255|0,h=(l>>5&e)/e*255|0,u=(l>>11)/t*255|0,d=r*this.width*4+4*a;this.data[d]=u,this.data[d+1]=h,this.data[d+2]=s,this.data[d+3]=255}this.pos+=i}},Pn.prototype.bit24=function(){for(var i=this.height-1;i>=0;i--){for(var t=this.bottom_up?i:this.height-1-i,e=0;e<this.width;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*e;this.data[l]=a,this.data[l+1]=r,this.data[l+2]=n,this.data[l+3]=255}this.pos+=this.width%4}},Pn.prototype.bit32=function(){for(var i=this.height-1;i>=0;i--)for(var t=this.bottom_up?i:this.height-1-i,e=0;e<this.width;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*e;this.data[s]=a,this.data[s+1]=r,this.data[s+2]=n,this.data[s+3]=l}},Pn.prototype.getData=function(){return this.data},function(i){i.processBMP=function(t,e,n,r){var a=new Pn(t,!1),l=a.width,s=a.height,h={data:a.getData(),width:l,height:s},u=new vu(100).encode(h,100);return i.processJPEG.call(this,u,e,n,r)}}(Ue.API),f0.prototype.getData=function(){return this.data},function(i){i.processWEBP=function(t,e,n,r){var a=new f0(t),l=a.width,s=a.height,h={data:a.getData(),width:l,height:s},u=new vu(100).encode(h,100);return i.processJPEG.call(this,u,e,n,r)}}(Ue.API),Ue.API.processRGBA=function(i,t,e){for(var n=i.data,r=n.length,a=new Uint8Array(r/4*3),l=new Uint8Array(r/4),s=0,h=0,u=0;u<r;u+=4){var d=n[u],v=n[u+1],y=n[u+2],p=n[u+3];a[s++]=d,a[s++]=v,a[s++]=y,l[h++]=p}var A=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:A,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:i.width,height:i.height}},Ue.API.setLanguage=function(i){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[i]!==void 0&&(this.internal.languageSettings.languageCode=i,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ka=Ue.API,Al=Ka.getCharWidthsArray=function(i,t){var e,n,r=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),l=t.charSpace||this.internal.getCharSpace(),s=t.widths?t.widths:r.metadata.Unicode.widths,h=s.fof?s.fof:1,u=t.kerning?t.kerning:r.metadata.Unicode.kerning,d=u.fof?u.fof:1,v=t.doKerning!==!1,y=0,p=i.length,A=0,N=s[0]||h,I=[];for(e=0;e<p;e++)n=i.charCodeAt(e),typeof r.metadata.widthOfString=="function"?I.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(n))+l*(1e3/a)||0)/1e3):(y=v&&Ot(u[n])==="object"&&!isNaN(parseInt(u[n][A],10))?u[n][A]/d:0,I.push((s[n]||N)/h+y)),A=n;return I},i0=Ka.getStringUnitWidth=function(i,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),r=t.charSpace||this.internal.getCharSpace();return Ka.processArabic&&(i=Ka.processArabic(i)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(i,e,r)/e:Al.apply(this,arguments).reduce(function(a,l){return a+l},0)},n0=function(i,t,e,n){for(var r=[],a=0,l=i.length,s=0;a!==l&&s+t[a]<e;)s+=t[a],a++;r.push(i.slice(0,a));var h=a;for(s=0;a!==l;)s+t[a]>n&&(r.push(i.slice(h,a)),s=0,h=a),s+=t[a],a++;return h!==a&&r.push(i.slice(h,a)),r},r0=function(i,t,e){e||(e={});var n,r,a,l,s,h,u,d=[],v=[d],y=e.textIndent||0,p=0,A=0,N=i.split(" "),I=Al.apply(this,[" ",e])[0];if(h=e.lineIndent===-1?N[0].length+2:e.lineIndent||0){var C=Array(h).join(" "),Z=[];N.map(function(U){(U=U.split(/\s*\n/)).length>1?Z=Z.concat(U.map(function(le,we){return(we&&le.length?`
`:"")+le})):Z.push(U[0])}),N=Z,h=i0.apply(this,[C,e])}for(a=0,l=N.length;a<l;a++){var W=0;if(n=N[a],h&&n[0]==`
`&&(n=n.substr(1),W=1),y+p+(A=(r=Al.apply(this,[n,e])).reduce(function(U,le){return U+le},0))>t||W){if(A>t){for(s=n0.apply(this,[n,r,t-(y+p),t]),d.push(s.shift()),d=[s.pop()];s.length;)v.push([s.shift()]);A=r.slice(n.length-(d[0]?d[0].length:0)).reduce(function(U,le){return U+le},0)}else d=[n];v.push(d),y=A+h,p=I}else d.push(n),y+=p+A,p=I}return u=h?function(U,le){return(le?C:"")+U.join(" ")}:function(U){return U.join(" ")},v.map(u)},Ka.splitTextToSize=function(i,t,e){var n,r=(e=e||{}).fontSize||this.internal.getFontSize(),a=function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var v=this.internal.getFont(d.fontName,d.fontStyle),y="Unicode";return v.metadata[y]?{widths:v.metadata[y].widths||{0:1},kerning:v.metadata[y].kerning||{}}:{font:v.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,e);n=Array.isArray(i)?i:String(i).split(/\r?\n/);var l=1*this.internal.scaleFactor*t/r;a.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/r:0,a.lineIndent=e.lineIndent;var s,h,u=[];for(s=0,h=n.length;s<h;s++)u=u.concat(r0.apply(this,[n[s],l,a]));return u},function(i){i.__fontmetrics__=i.__fontmetrics__||{};for(var t="0123456789abcdef",e="klmnopqrstuvwxyz",n={},r={},a=0;a<16;a++)n[e[a]]=t[a],r[t[a]]=e[a];var l=function(y){return"0x"+parseInt(y,10).toString(16)},s=i.__fontmetrics__.compress=function(y){var p,A,N,I,C=["{"];for(var Z in y){if(p=y[Z],isNaN(parseInt(Z,10))?A="'"+Z+"'":(Z=parseInt(Z,10),A=(A=l(Z).slice(2)).slice(0,-1)+r[A.slice(-1)]),typeof p=="number")p<0?(N=l(p).slice(3),I="-"):(N=l(p).slice(2),I=""),N=I+N.slice(0,-1)+r[N.slice(-1)];else{if(Ot(p)!=="object")throw new Error("Don't know what to do with value type "+Ot(p)+".");N=s(p)}C.push(A+N)}return C.push("}"),C.join("")},h=i.__fontmetrics__.uncompress=function(y){if(typeof y!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,A,N,I,C={},Z=1,W=C,U=[],le="",we="",pe=y.length-1,X=1;X<pe;X+=1)(I=y[X])=="'"?p?(N=p.join(""),p=void 0):p=[]:p?p.push(I):I=="{"?(U.push([W,N]),W={},N=void 0):I=="}"?((A=U.pop())[0][A[1]]=W,N=void 0,W=A[0]):I=="-"?Z=-1:N===void 0?n.hasOwnProperty(I)?(le+=n[I],N=parseInt(le,16)*Z,Z=1,le=""):le+=I:n.hasOwnProperty(I)?(we+=n[I],W[N]=parseInt(we,16)*Z,Z=1,N=void 0,we=""):we+=I;return C},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:h("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},v={Unicode:{"Courier-Oblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":h("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":h("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:h("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:h("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":h("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":h("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};i.events.push(["addFont",function(y){var p=y.font,A=v.Unicode[p.postScriptName];A&&(p.metadata.Unicode={},p.metadata.Unicode.widths=A.widths,p.metadata.Unicode.kerning=A.kerning);var N=d.Unicode[p.postScriptName];N&&(p.metadata.Unicode.encoding=N,p.encoding=N.codePages[0])}])}(Ue.API),function(i){var t=function(e){for(var n=e.length,r=new Uint8Array(n),a=0;a<n;a++)r[a]=e.charCodeAt(a);return r};i.API.events.push(["addFont",function(e){var n=void 0,r=e.font,a=e.instance;if(!r.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(n=a.existsFileInVFS(r.postScriptName)===!1?a.loadFile(r.postScriptName):a.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(l,s){s=/^\x00\x01\x00\x00/.test(s)?t(s):t(Cl(s)),l.metadata=i.API.TTFFont.open(s),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(r,n)}}])}(Ue),Ue.API.addSvgAsImage=function(i,t,e,n,r,a,l,s){if(isNaN(t)||isNaN(e))throw Vt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(r))throw Vt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=n,h.height=r;var u=h.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,h.width,h.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},v=this;return(ot.canvg?Promise.resolve(ot.canvg):import("./chunk-IKCJP3ML.js")).catch(function(y){return Promise.reject(new Error("Could not load canvg: "+y))}).then(function(y){return y.default?y.default:y}).then(function(y){return y.fromString(u,i,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(d)}).then(function(){v.addImage(h.toDataURL("image/jpeg",1),t,e,n,r,l,s)})},Ue.API.putTotalPages=function(i){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(i,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(i,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var r=0;r<this.internal.pages[n].length;r++)this.internal.pages[n][r]=this.internal.pages[n][r].replace(t,e);return this},Ue.API.viewerPreferences=function(i,t){var e;i=i||{},t=t||!1;var n,r,a,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(l),h=[],u=0,d=0,v=0;function y(A,N){var I,C=!1;for(I=0;I<A.length;I+=1)A[I]===N&&(C=!0);return C}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,i==="reset"||t===!0){var p=s.length;for(v=0;v<p;v+=1)e[s[v]].value=e[s[v]].defaultValue,e[s[v]].explicitSet=!1}if(Ot(i)==="object"){for(r in i)if(a=i[r],y(s,r)&&a!==void 0){if(e[r].type==="boolean"&&typeof a=="boolean")e[r].value=a;else if(e[r].type==="name"&&y(e[r].valueSet,a))e[r].value=a;else if(e[r].type==="integer"&&Number.isInteger(a))e[r].value=a;else if(e[r].type==="array"){for(u=0;u<a.length;u+=1)if(n=!0,a[u].length===1&&typeof a[u][0]=="number")h.push(String(a[u]-1));else if(a[u].length>1){for(d=0;d<a[u].length;d+=1)typeof a[u][d]!="number"&&(n=!1);n===!0&&h.push([a[u][0]-1,a[u][1]-1].join(" "))}e[r].value="["+h.join(" ")+"]"}else e[r].value=e[r].defaultValue;e[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var A,N=[];for(A in e)e[A].explicitSet===!0&&(e[A].type==="name"?N.push("/"+A+" /"+e[A].value):N.push("/"+A+" "+e[A].value));N.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+N.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},Ue.API.addMetadata=function(i,t){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceUri:t??"http://jspdf.default.namespaceuri/",rawXml:typeof t=="boolean"&&t},this.internal.events.subscribe("putCatalog",f5),this.internal.events.subscribe("postPutResources",h5)),this},function(i){var t=i.API,e=t.pdfEscape16=function(a,l){for(var s,h=l.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],v=0,y=a.length;v<y;++v){if(s=l.metadata.characterToGlyph(a.charCodeAt(v)),l.metadata.glyIdsUsed.push(s),l.metadata.toUnicode[s]=a.charCodeAt(v),h.indexOf(s)==-1&&(h.push(s),h.push([parseInt(l.metadata.widthOfGlyph(s),10)])),s=="0")return d.join("");s=s.toString(16),d.push(u[4-s.length],s)}return d.join("")},n=function(a){var l,s,h,u,d,v,y;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,h=[],v=0,y=(s=Object.keys(a).sort(function(p,A){return p-A})).length;v<y;v++)l=s[v],h.length>=100&&(d+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar`,h=[]),a[l]!==void 0&&a[l]!==null&&typeof a[l].toString=="function"&&(u=("0000"+a[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),h.push("<"+l+"><"+u+">"));return h.length&&(d+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(l){var s=l.font,h=l.out,u=l.newObject,d=l.putStream;if(s.metadata instanceof i.API.TTFFont&&s.encoding==="Identity-H"){for(var v=s.metadata.Unicode.widths,y=s.metadata.subset.encode(s.metadata.glyIdsUsed,1),p="",A=0;A<y.length;A++)p+=String.fromCharCode(y[A]);var N=u();d({data:p,addLength1:!0,objectId:N}),h("endobj");var I=u();d({data:n(s.metadata.toUnicode),addLength1:!0,objectId:I}),h("endobj");var C=u();h("<<"),h("/Type /FontDescriptor"),h("/FontName /"+Ja(s.fontName)),h("/FontFile2 "+N+" 0 R"),h("/FontBBox "+i.API.PDFObject.convert(s.metadata.bbox)),h("/Flags "+s.metadata.flags),h("/StemV "+s.metadata.stemV),h("/ItalicAngle "+s.metadata.italicAngle),h("/Ascent "+s.metadata.ascender),h("/Descent "+s.metadata.decender),h("/CapHeight "+s.metadata.capHeight),h(">>"),h("endobj");var Z=u();h("<<"),h("/Type /Font"),h("/BaseFont /"+Ja(s.fontName)),h("/FontDescriptor "+C+" 0 R"),h("/W "+i.API.PDFObject.convert(v)),h("/CIDToGIDMap /Identity"),h("/DW 1000"),h("/Subtype /CIDFontType2"),h("/CIDSystemInfo"),h("<<"),h("/Supplement 0"),h("/Registry (Adobe)"),h("/Ordering ("+s.encoding+")"),h(">>"),h(">>"),h("endobj"),s.objectNumber=u(),h("<<"),h("/Type /Font"),h("/Subtype /Type0"),h("/ToUnicode "+I+" 0 R"),h("/BaseFont /"+Ja(s.fontName)),h("/Encoding /"+s.encoding),h("/DescendantFonts ["+Z+" 0 R]"),h(">>"),h("endobj"),s.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(l){var s=l.font,h=l.out,u=l.newObject,d=l.putStream;if(s.metadata instanceof i.API.TTFFont&&s.encoding==="WinAnsiEncoding"){for(var v=s.metadata.rawData,y="",p=0;p<v.length;p++)y+=String.fromCharCode(v[p]);var A=u();d({data:y,addLength1:!0,objectId:A}),h("endobj");var N=u();d({data:n(s.metadata.toUnicode),addLength1:!0,objectId:N}),h("endobj");var I=u();h("<<"),h("/Descent "+s.metadata.decender),h("/CapHeight "+s.metadata.capHeight),h("/StemV "+s.metadata.stemV),h("/Type /FontDescriptor"),h("/FontFile2 "+A+" 0 R"),h("/Flags 96"),h("/FontBBox "+i.API.PDFObject.convert(s.metadata.bbox)),h("/FontName /"+Ja(s.fontName)),h("/ItalicAngle "+s.metadata.italicAngle),h("/Ascent "+s.metadata.ascender),h(">>"),h("endobj"),s.objectNumber=u();for(var C=0;C<s.metadata.hmtx.widths.length;C++)s.metadata.hmtx.widths[C]=parseInt(s.metadata.hmtx.widths[C]*(1e3/s.metadata.head.unitsPerEm));h("<</Subtype/TrueType/Type/Font/ToUnicode "+N+" 0 R/BaseFont/"+Ja(s.fontName)+"/FontDescriptor "+I+" 0 R/Encoding/"+s.encoding+" /FirstChar 29 /LastChar 255 /Widths "+i.API.PDFObject.convert(s.metadata.hmtx.widths)+">>"),h("endobj"),s.isAlreadyPutted=!0}})(a)}]);var r=function(a){var l,s=a.text||"",h=a.x,u=a.y,d=a.options||{},v=a.mutex||{},y=v.pdfEscape,p=v.activeFontKey,A=v.fonts,N=p,I="",C=0,Z="",W=A[N].encoding;if(A[N].encoding!=="Identity-H")return{text:s,x:h,y:u,options:d,mutex:v};for(Z=s,N=p,Array.isArray(s)&&(Z=s[0]),C=0;C<Z.length;C+=1)A[N].metadata.hasOwnProperty("cmap")&&(l=A[N].metadata.cmap.unicode.codeMap[Z[C].charCodeAt(0)]),l||Z[C].charCodeAt(0)<256&&A[N].metadata.hasOwnProperty("Unicode")?I+=Z[C]:I+="";var U="";return parseInt(N.slice(1))<14||W==="WinAnsiEncoding"?U=y(I,N).split("").map(function(le){return le.charCodeAt(0).toString(16)}).join(""):W==="Identity-H"&&(U=e(I,A[N])),v.isHex=!0,{text:U,x:h,y:u,options:d,mutex:v}};t.events.push(["postProcessText",function(a){var l=a.text||"",s=[],h={text:l,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(l)){var u=0;for(u=0;u<l.length;u+=1)Array.isArray(l[u])&&l[u].length===3?s.push([r(Object.assign({},h,{text:l[u][0]})).text,l[u][1],l[u][2]]):s.push(r(Object.assign({},h,{text:l[u]})).text);a.text=s}else a.text=r(Object.assign({},h,{text:l})).text}])}(Ue),function(i){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};i.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},i.addFileToVFS=function(e,n){return t.call(this),this.internal.vFS[e]=n,this},i.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}}(Ue.API),function(i){i.__bidiEngine__=i.prototype.__bidiEngine__=function(n){var r,a,l,s,h,u,d,v=t,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],A={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},N={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},I=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],C=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),Z=!1,W=0;this.__bidiEngine__={};var U=function(k){var F=k.charCodeAt(),$=F>>8,H=N[$];return H!==void 0?v[256*H+(255&F)]:$===252||$===253?"AL":C.test($)?"L":$===8?"R":"N"},le=function(k){for(var F,$=0;$<k.length;$++){if((F=U(k.charAt($)))==="L")return!1;if(F==="R")return!0}return!1},we=function(k,F,$,H){var ce,de,me,oe,_e=F[H];switch(_e){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":Z=!1;break;case"N":case"AN":break;case"EN":Z&&(_e="AN");break;case"AL":Z=!0,_e="R";break;case"WS":case"BN":_e="N";break;case"CS":H<1||H+1>=F.length||(ce=$[H-1])!=="EN"&&ce!=="AN"||(de=F[H+1])!=="EN"&&de!=="AN"?_e="N":Z&&(de="AN"),_e=de===ce?de:"N";break;case"ES":_e=(ce=H>0?$[H-1]:"B")==="EN"&&H+1<F.length&&F[H+1]==="EN"?"EN":"N";break;case"ET":if(H>0&&$[H-1]==="EN"){_e="EN";break}if(Z){_e="N";break}for(me=H+1,oe=F.length;me<oe&&F[me]==="ET";)me++;_e=me<oe&&F[me]==="EN"?"EN":"N";break;case"NSM":if(l&&!s){for(oe=F.length,me=H+1;me<oe&&F[me]==="NSM";)me++;if(me<oe){var Ee=k[H],Ce=Ee>=1425&&Ee<=2303||Ee===64286;if(ce=F[me],Ce&&(ce==="R"||ce==="AL")){_e="R";break}}}_e=H<1||(ce=F[H-1])==="B"?"N":$[H-1];break;case"B":Z=!1,r=!0,_e=W;break;case"S":a=!0,_e="N"}return _e},pe=function(k,F,$){var H=k.split("");return $&&X(H,$,{hiLevel:W}),H.reverse(),F&&F.reverse(),H.join("")},X=function(k,F,$){var H,ce,de,me,oe,_e=-1,Ee=k.length,Ce=0,S=[],R=W?p:y,q=[];for(Z=!1,r=!1,a=!1,ce=0;ce<Ee;ce++)q[ce]=U(k[ce]);for(de=0;de<Ee;de++){if(oe=Ce,S[de]=we(k,q,S,de),H=240&(Ce=R[oe][A[S[de]]]),Ce&=15,F[de]=me=R[Ce][5],H>0)if(H===16){for(ce=_e;ce<de;ce++)F[ce]=1;_e=-1}else _e=-1;if(R[Ce][6])_e===-1&&(_e=de);else if(_e>-1){for(ce=_e;ce<de;ce++)F[ce]=me;_e=-1}q[de]==="B"&&(F[de]=0),$.hiLevel|=me}a&&function(Y,Q,ne){for(var he=0;he<ne;he++)if(Y[he]==="S"){Q[he]=W;for(var fe=he-1;fe>=0&&Y[fe]==="WS";fe--)Q[fe]=W}}(q,F,Ee)},j=function(k,F,$,H,ce){if(!(ce.hiLevel<k)){if(k===1&&W===1&&!r)return F.reverse(),void($&&$.reverse());for(var de,me,oe,_e,Ee=F.length,Ce=0;Ce<Ee;){if(H[Ce]>=k){for(oe=Ce+1;oe<Ee&&H[oe]>=k;)oe++;for(_e=Ce,me=oe-1;_e<me;_e++,me--)de=F[_e],F[_e]=F[me],F[me]=de,$&&(de=$[_e],$[_e]=$[me],$[me]=de);Ce=oe}Ce++}}},ie=function(k,F,$){var H=k.split(""),ce={hiLevel:W};return $||($=[]),X(H,$,ce),function(de,me,oe){if(oe.hiLevel!==0&&d)for(var _e,Ee=0;Ee<de.length;Ee++)me[Ee]===1&&(_e=I.indexOf(de[Ee]))>=0&&(de[Ee]=I[_e+1])}(H,$,ce),j(2,H,F,$,ce),j(1,H,F,$,ce),H.join("")};return this.__bidiEngine__.doBidiReorder=function(k,F,$){if(function(ce,de){if(de)for(var me=0;me<ce.length;me++)de[me]=me;s===void 0&&(s=le(ce)),u===void 0&&(u=le(ce))}(k,F),l||!h||u)if(l&&h&&s^u)W=s?1:0,k=pe(k,F,$);else if(!l&&h&&u)W=s?1:0,k=ie(k,F,$),k=pe(k,F);else if(!l||s||h||u){if(l&&!h&&s^u)k=pe(k,F),s?(W=0,k=ie(k,F,$)):(W=1,k=ie(k,F,$),k=pe(k,F));else if(l&&s&&!h&&u)W=1,k=ie(k,F,$),k=pe(k,F);else if(!l&&!h&&s^u){var H=d;s?(W=1,k=ie(k,F,$),W=0,d=!1,k=ie(k,F,$),d=H):(W=0,k=ie(k,F,$),k=pe(k,F),W=1,d=!1,k=ie(k,F,$),d=H,k=pe(k,F))}}else W=0,k=ie(k,F,$);else W=s?1:0,k=ie(k,F,$);return k},this.__bidiEngine__.setOptions=function(k){k&&(l=k.isInputVisual,h=k.isOutputVisual,s=k.isInputRtl,u=k.isOutputRtl,d=k.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new i.__bidiEngine__({isInputVisual:!0});i.API.events.push(["postProcessText",function(n){var r=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var l=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,e.setOptions(a),Object.prototype.toString.call(r)==="[object Array]"){var s=0;for(l=[],s=0;s<r.length;s+=1)Object.prototype.toString.call(r[s])==="[object Array]"?l.push([e.doBidiReorder(r[s][0]),r[s][1],r[s][2]]):l.push([e.doBidiReorder(r[s])]);n.text=l}else n.text=e.doBidiReorder(r);e.setOptions({isInputVisual:!0})}])}(Ue),Ue.API.TTFFont=function(){function i(t){var e;if(this.rawData=t,e=this.contents=new $r(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new k5(this),this.registerTTF()}return i.open=function(t){return new i(t)},i.prototype.parse=function(){return this.directory=new d5(this.contents),this.head=new g5(this),this.name=new b5(this),this.cmap=new C0(this),this.toUnicode={},this.hhea=new m5(this),this.maxp=new w5(this),this.hmtx=new x5(this),this.post=new _5(this),this.os2=new v5(this),this.loca=new M5(this),this.glyf=new S5(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},i.prototype.registerTTF=function(){var t,e,n,r,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var l,s,h,u;for(u=[],l=0,s=(h=this.bbox).length;l<s;l++)t=h[l],u.push(Math.round(t*this.scaleFactor));return u}.call(this),this.stemV=0,this.post.exists?(n=255&(r=this.post.italic_angle),32768&(e=r>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},i.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},i.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},i.prototype.widthOfString=function(t,e,n){var r,a,l,s;for(l=0,a=0,s=(t=""+t).length;0<=s?a<s:a>s;a=0<=s?++a:--a)r=t.charCodeAt(a),l+=this.widthOfGlyph(this.characterToGlyph(r))+n*(1e3/e)||0;return l*(e/1e3)},i.prototype.lineHeight=function(t,e){var n;return e==null&&(e=!1),n=e?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},i}();var Fn,$r=function(){function i(t){this.data=t??[],this.pos=0,this.length=this.data.length}return i.prototype.readByte=function(){return this.data[this.pos++]},i.prototype.writeByte=function(t){return this.data[this.pos++]=t},i.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},i.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},i.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},i.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},i.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},i.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},i.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},i.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},i.prototype.readString=function(t){var e,n;for(n=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)n[e]=String.fromCharCode(this.readByte());return n.join("")},i.prototype.writeString=function(t){var e,n,r;for(r=[],e=0,n=t.length;0<=n?e<n:e>n;e=0<=n?++e:--e)r.push(this.writeByte(t.charCodeAt(e)));return r},i.prototype.readShort=function(){return this.readInt16()},i.prototype.writeShort=function(t){return this.writeInt16(t)},i.prototype.readLongLong=function(){var t,e,n,r,a,l,s,h;return t=this.readByte(),e=this.readByte(),n=this.readByte(),r=this.readByte(),a=this.readByte(),l=this.readByte(),s=this.readByte(),h=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^n)+4294967296*(255^r)+16777216*(255^a)+65536*(255^l)+256*(255^s)+(255^h)+1):72057594037927940*t+281474976710656*e+1099511627776*n+4294967296*r+16777216*a+65536*l+256*s+h},i.prototype.writeLongLong=function(t){var e,n;return e=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},i.prototype.readInt=function(){return this.readInt32()},i.prototype.writeInt=function(t){return this.writeInt32(t)},i.prototype.read=function(t){var e,n;for(e=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)e.push(this.readByte());return e},i.prototype.write=function(t){var e,n,r,a;for(a=[],n=0,r=t.length;n<r;n++)e=t[n],a.push(this.writeByte(e));return a},i}(),d5=function(){var i;function t(e){var n,r,a;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},r=0,a=this.tableCount;0<=a?r<a:r>a;r=0<=a?++r:--r)n={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(e){var n,r,a,l,s,h,u,d,v,y,p,A,N;for(N in p=Object.keys(e).length,h=Math.log(2),v=16*Math.floor(Math.log(p)/h),l=Math.floor(v/h),d=16*p-v,(r=new $r).writeInt(this.scalarType),r.writeShort(p),r.writeShort(v),r.writeShort(l),r.writeShort(d),a=16*p,u=r.pos+a,s=null,A=[],e)for(y=e[N],r.writeString(N),r.writeInt(i(y)),r.writeInt(u),r.writeInt(y.length),A=A.concat(y),N==="head"&&(s=u),u+=y.length;u%4;)A.push(0),u++;return r.write(A),n=2981146554-i(r.data),r.pos=s+8,r.writeUInt32(n),r.data},i=function(e){var n,r,a,l;for(e=M0.call(e);e.length%4;)e.push(0);for(a=new $r(e),r=0,n=0,l=e.length;n<l;n=n+=4)r+=a.readUInt32();return 4294967295&r},t}(),p5={}.hasOwnProperty,Kn=function(i,t){for(var e in t)p5.call(t,e)&&(i[e]=t[e]);function n(){this.constructor=i}return n.prototype=t.prototype,i.prototype=new n,i.__super__=t.prototype,i};Fn=function(){function i(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return i.prototype.parse=function(){},i.prototype.encode=function(){},i.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},i}();var g5=function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Kn(i,Fn),i.prototype.tag="head",i.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},i.prototype.encode=function(t){var e;return(e=new $r).writeInt(this.version),e.writeInt(this.revision),e.writeInt(this.checkSumAdjustment),e.writeInt(this.magicNumber),e.writeShort(this.flags),e.writeShort(this.unitsPerEm),e.writeLongLong(this.created),e.writeLongLong(this.modified),e.writeShort(this.xMin),e.writeShort(this.yMin),e.writeShort(this.xMax),e.writeShort(this.yMax),e.writeShort(this.macStyle),e.writeShort(this.lowestRecPPEM),e.writeShort(this.fontDirectionHint),e.writeShort(t),e.writeShort(this.glyphDataFormat),e.data},i}(),d0=function(){function i(t,e){var n,r,a,l,s,h,u,d,v,y,p,A,N,I,C,Z,W;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),v=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(h=0;h<256;++h)this.codeMap[h]=t.readByte();break;case 4:for(p=t.readUInt16(),y=p/2,t.pos+=6,a=function(){var U,le;for(le=[],h=U=0;0<=y?U<y:U>y;h=0<=y?++U:--U)le.push(t.readUInt16());return le}(),t.pos+=2,N=function(){var U,le;for(le=[],h=U=0;0<=y?U<y:U>y;h=0<=y?++U:--U)le.push(t.readUInt16());return le}(),u=function(){var U,le;for(le=[],h=U=0;0<=y?U<y:U>y;h=0<=y?++U:--U)le.push(t.readUInt16());return le}(),d=function(){var U,le;for(le=[],h=U=0;0<=y?U<y:U>y;h=0<=y?++U:--U)le.push(t.readUInt16());return le}(),r=(this.length-t.pos+this.offset)/2,s=function(){var U,le;for(le=[],h=U=0;0<=r?U<r:U>r;h=0<=r?++U:--U)le.push(t.readUInt16());return le}(),h=C=0,W=a.length;C<W;h=++C)for(I=a[h],n=Z=A=N[h];A<=I?Z<=I:Z>=I;n=A<=I?++Z:--Z)d[h]===0?l=n+u[h]:(l=s[d[h]/2+(n-A)-(y-h)]||0)!==0&&(l+=u[h]),this.codeMap[n]=65535&l}t.pos=v}return i.encode=function(t,e){var n,r,a,l,s,h,u,d,v,y,p,A,N,I,C,Z,W,U,le,we,pe,X,j,ie,k,F,$,H,ce,de,me,oe,_e,Ee,Ce,S,R,q,Y,Q,ne,he,fe,xe,De,Be;switch(H=new $r,l=Object.keys(t).sort(function(Te,Ze){return Te-Ze}),e){case"macroman":for(N=0,I=function(){var Te=[];for(A=0;A<256;++A)Te.push(0);return Te}(),Z={0:0},a={},ce=0,_e=l.length;ce<_e;ce++)Z[fe=t[r=l[ce]]]==null&&(Z[fe]=++N),a[r]={old:t[r],new:Z[t[r]]},I[r]=Z[t[r]];return H.writeUInt16(1),H.writeUInt16(0),H.writeUInt32(12),H.writeUInt16(0),H.writeUInt16(262),H.writeUInt16(0),H.write(I),{charMap:a,subtable:H.data,maxGlyphID:N+1};case"unicode":for(F=[],v=[],W=0,Z={},n={},C=u=null,de=0,Ee=l.length;de<Ee;de++)Z[le=t[r=l[de]]]==null&&(Z[le]=++W),n[r]={old:le,new:Z[le]},s=Z[le]-r,C!=null&&s===u||(C&&v.push(C),F.push(r),u=s),C=r;for(C&&v.push(C),v.push(65535),F.push(65535),ie=2*(j=F.length),X=2*Math.pow(Math.log(j)/Math.LN2,2),y=Math.log(X/2)/Math.LN2,pe=2*j-X,h=[],we=[],p=[],A=me=0,Ce=F.length;me<Ce;A=++me){if(k=F[A],d=v[A],k===65535){h.push(0),we.push(0);break}if(k-($=n[k].new)>=32768)for(h.push(0),we.push(2*(p.length+j-A)),r=oe=k;k<=d?oe<=d:oe>=d;r=k<=d?++oe:--oe)p.push(n[r].new);else h.push($-k),we.push(0)}for(H.writeUInt16(3),H.writeUInt16(1),H.writeUInt32(12),H.writeUInt16(4),H.writeUInt16(16+8*j+2*p.length),H.writeUInt16(0),H.writeUInt16(ie),H.writeUInt16(X),H.writeUInt16(y),H.writeUInt16(pe),ne=0,S=v.length;ne<S;ne++)r=v[ne],H.writeUInt16(r);for(H.writeUInt16(0),he=0,R=F.length;he<R;he++)r=F[he],H.writeUInt16(r);for(xe=0,q=h.length;xe<q;xe++)s=h[xe],H.writeUInt16(s);for(De=0,Y=we.length;De<Y;De++)U=we[De],H.writeUInt16(U);for(Be=0,Q=p.length;Be<Q;Be++)N=p[Be],H.writeUInt16(N);return{charMap:n,subtable:H.data,maxGlyphID:W+1}}},i}(),C0=function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Kn(i,Fn),i.prototype.tag="cmap",i.prototype.parse=function(t){var e,n,r;for(t.pos=this.offset,this.version=t.readUInt16(),r=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=r?n<r:n>r;n=0<=r?++n:--n)e=new d0(t,this.offset),this.tables.push(e),e.isUnicode&&this.unicode==null&&(this.unicode=e);return!0},i.encode=function(t,e){var n,r;return e==null&&(e="macroman"),n=d0.encode(t,e),(r=new $r).writeUInt16(0),r.writeUInt16(1),n.table=r.data.concat(n.subtable),n},i}(),m5=function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Kn(i,Fn),i.prototype.tag="hhea",i.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},i}(),v5=function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Kn(i,Fn),i.prototype.tag="OS/2",i.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var e,n;for(n=[],e=0;e<10;++e)n.push(t.readByte());return n}(),this.charRange=function(){var e,n;for(n=[],e=0;e<4;++e)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var e,n;for(n=[],e=0;e<2;e=++e)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},i}(),_5=function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Kn(i,Fn),i.prototype.tag="post",i.prototype.parse=function(t){var e,n,r;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=t.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],r=[];t.pos<this.offset+this.length;)e=t.readByte(),r.push(this.names.push(t.readString(e)));return r;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=function(){var l,s,h;for(h=[],a=l=0,s=this.file.maxp.numGlyphs;0<=s?l<s:l>s;a=0<=s?++l:--l)h.push(t.readUInt32());return h}.call(this)}},i}(),y5=function(i,t){this.raw=i,this.length=i.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},b5=function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Kn(i,Fn),i.prototype.tag="name",i.prototype.parse=function(t){var e,n,r,a,l,s,h,u,d,v,y;for(t.pos=this.offset,t.readShort(),e=t.readShort(),s=t.readShort(),n=[],a=0;0<=e?a<e:a>e;a=0<=e?++a:--a)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+s+t.readShort()});for(h={},a=d=0,v=n.length;d<v;a=++d)r=n[a],t.pos=r.offset,u=t.readString(r.length),l=new y5(u,r),h[y=r.nameID]==null&&(h[y]=[]),h[r.nameID].push(l);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},i}(),w5=function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Kn(i,Fn),i.prototype.tag="maxp",i.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},i}(),x5=function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Kn(i,Fn),i.prototype.tag="hmtx",i.prototype.parse=function(t){var e,n,r,a,l,s,h;for(t.pos=this.offset,this.metrics=[],e=0,s=this.file.hhea.numberOfMetrics;0<=s?e<s:e>s;e=0<=s?++e:--e)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],e=u=0;0<=r?u<r:u>r;e=0<=r?++u:--u)d.push(t.readInt16());return d}(),this.widths=function(){var u,d,v,y;for(y=[],u=0,d=(v=this.metrics).length;u<d;u++)a=v[u],y.push(a.advance);return y}.call(this),n=this.widths[this.widths.length-1],h=[],e=l=0;0<=r?l<r:l>r;e=0<=r?++l:--l)h.push(this.widths.push(n));return h},i.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},i}(),M0=[].slice,S5=function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Kn(i,Fn),i.prototype.tag="glyf",i.prototype.parse=function(){return this.cache={}},i.prototype.glyphFor=function(t){var e,n,r,a,l,s,h,u,d,v;return t in this.cache?this.cache[t]:(a=this.file.loca,e=this.file.contents,n=a.indexOf(t),(r=a.lengthOf(t))===0?this.cache[t]=null:(e.pos=this.offset+n,l=(s=new $r(e.read(r))).readShort(),u=s.readShort(),v=s.readShort(),h=s.readShort(),d=s.readShort(),this.cache[t]=l===-1?new C5(s,u,v,h,d):new A5(s,l,u,v,h,d),this.cache[t]))},i.prototype.encode=function(t,e,n){var r,a,l,s,h;for(l=[],a=[],s=0,h=e.length;s<h;s++)r=t[e[s]],a.push(l.length),r&&(l=l.concat(r.encode(n)));return a.push(l.length),{table:l,offsets:a}},i}(),A5=function(){function i(t,e,n,r,a,l){this.raw=t,this.numberOfContours=e,this.xMin=n,this.yMin=r,this.xMax=a,this.yMax=l,this.compound=!1}return i.prototype.encode=function(){return this.raw.data},i}(),C5=function(){function i(t,e,n,r,a){var l,s;for(this.raw=t,this.xMin=e,this.yMin=n,this.xMax=r,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;s=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&s;)l.pos+=1&s?4:2,128&s?l.pos+=8:64&s?l.pos+=4:8&s&&(l.pos+=2)}return i.prototype.encode=function(){var t,e,n;for(e=new $r(M0.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)e.pos=this.glyphOffsets[t];return e.data},i}(),M5=function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Kn(i,Fn),i.prototype.tag="loca",i.prototype.parse=function(t){var e,n;return t.pos=this.offset,e=this.file.head.indexToLocFormat,this.offsets=e===0?function(){var r,a;for(a=[],n=0,r=this.length;n<r;n+=2)a.push(2*t.readUInt16());return a}.call(this):function(){var r,a;for(a=[],n=0,r=this.length;n<r;n+=4)a.push(t.readUInt32());return a}.call(this)},i.prototype.indexOf=function(t){return this.offsets[t]},i.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},i.prototype.encode=function(t,e){for(var n=new Uint32Array(this.offsets.length),r=0,a=0,l=0;l<n.length;++l)if(n[l]=r,a<e.length&&e[a]==l){++a,n[l]=r;var s=this.offsets[l],h=this.offsets[l+1]-s;h>0&&(r+=h)}for(var u=new Array(4*n.length),d=0;d<n.length;++d)u[4*d+3]=255&n[d],u[4*d+2]=(65280&n[d])>>8,u[4*d+1]=(16711680&n[d])>>16,u[4*d]=(4278190080&n[d])>>24;return u},i}(),k5=function(){function i(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return i.prototype.generateCmap=function(){var t,e,n,r,a;for(e in r=this.font.cmap.tables[0].codeMap,t={},a=this.subset)n=a[e],t[e]=r[n];return t},i.prototype.glyphsFor=function(t){var e,n,r,a,l,s,h;for(r={},l=0,s=t.length;l<s;l++)r[a=t[l]]=this.font.glyf.glyphFor(a);for(a in e=[],r)(n=r[a])!=null&&n.compound&&e.push.apply(e,n.glyphIDs);if(e.length>0)for(a in h=this.glyphsFor(e))n=h[a],r[a]=n;return r},i.prototype.encode=function(t,e){var n,r,a,l,s,h,u,d,v,y,p,A,N,I,C;for(r in n=C0.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(t),p={0:0},C=n.charMap)p[(h=C[r]).old]=h.new;for(A in y=n.maxGlyphID,l)A in p||(p[A]=y++);return d=function(Z){var W,U;for(W in U={},Z)U[Z[W]]=W;return U}(p),v=Object.keys(d).sort(function(Z,W){return Z-W}),N=function(){var Z,W,U;for(U=[],Z=0,W=v.length;Z<W;Z++)s=v[Z],U.push(d[s]);return U}(),a=this.font.glyf.encode(l,N,p),u=this.font.loca.encode(a.offsets,N),I={cmap:this.font.cmap.raw(),glyf:a.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(I["OS/2"]=this.font.os2.raw()),this.font.directory.encode(I)},i}();Ue.API.PDFObject=function(){var i;function t(){}return i=function(e,n){return(Array(n+1).join("0")+e).slice(-n)},t.convert=function(e){var n,r,a,l;if(Array.isArray(e))return"["+function(){var s,h,u;for(u=[],s=0,h=e.length;s<h;s++)n=e[s],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e?.isString)return"("+e+")";if(e instanceof Date)return"(D:"+i(e.getUTCFullYear(),4)+i(e.getUTCMonth(),2)+i(e.getUTCDate(),2)+i(e.getUTCHours(),2)+i(e.getUTCMinutes(),2)+i(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(r in a=["<<"],e)l=e[r],a.push("/"+r+" "+t.convert(l));return a.push(">>"),a.join(`
`)}return""+e},t}();function P0(i,t,e,n,r){n=n||{};var a=1.15,l=r.internal.scaleFactor,s=r.internal.getFontSize()/l,h=r.getLineHeightFactor?r.getLineHeightFactor():a,u=s*h,d=/\r\n|\r|\n/g,v="",y=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(v=typeof i=="string"?i.split(d):i,y=v.length||1),e+=s*(2-a),n.valign==="middle"?e-=y/2*u:n.valign==="bottom"&&(e-=y*u),n.halign==="center"||n.halign==="right"){var p=s;if(n.halign==="center"&&(p*=.5),v&&y>=1){for(var A=0;A<v.length;A++)r.text(v[A],t-r.getStringUnitWidth(v[A])*p,e),e+=u;return r}t-=r.getStringUnitWidth(i)*p}return n.halign==="justify"?r.text(i,t,e,{maxWidth:n.maxWidth||100,align:"justify"}):r.text(i,t,e),r}var k0={},ro=function(){function i(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return i.setDefaults=function(t,e){e===void 0&&(e=null),e?e.__autoTableDocumentDefaults=t:k0=t},i.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},i.prototype.applyStyles=function(t,e){var n,r,a;e===void 0&&(e=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var l=this.jsPDFDocument.internal.getFont(),s=l.fontStyle,h=l.fontName;if(t.font&&(h=t.font),t.fontStyle){s=t.fontStyle;var u=this.getFontList()[h];u&&u.indexOf(s)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),s=u[0])}if(this.jsPDFDocument.setFont(h,s),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!e){var d=i.unifyColor(t.fillColor);d&&(n=this.jsPDFDocument).setFillColor.apply(n,d),d=i.unifyColor(t.textColor),d&&(r=this.jsPDFDocument).setTextColor.apply(r,d),d=i.unifyColor(t.lineColor),d&&(a=this.jsPDFDocument).setDrawColor.apply(a,d),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},i.prototype.splitTextToSize=function(t,e,n){return this.jsPDFDocument.splitTextToSize(t,e,n)},i.prototype.rect=function(t,e,n,r,a){return this.jsPDFDocument.rect(t,e,n,r,a)},i.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},i.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},i.prototype.getDocument=function(){return this.jsPDFDocument},i.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},i.prototype.addPage=function(){return this.jsPDFDocument.addPage()},i.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},i.prototype.getGlobalOptions=function(){return k0||{}},i.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},i.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},i.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},i.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},i.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},i.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},i}(),Lu=function(i,t){return Lu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])},Lu(i,t)};function I0(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Lu(i,t);function e(){this.constructor=i}i.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var F0=function(i){I0(t,i);function t(e){var n=i.call(this)||this;return n._element=e,n}return t}(Array);function N5(i){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/i,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function L5(i){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[i]}function Il(i,t,e){e.applyStyles(t,!0);var n=Array.isArray(i)?i:[i],r=n.map(function(a){return e.getTextWidth(a)}).reduce(function(a,l){return Math.max(a,l)},0);return r}function T0(i,t,e,n){var r=t.settings.tableLineWidth,a=t.settings.tableLineColor;i.applyStyles({lineWidth:r,lineColor:a});var l=B0(r,!1);l&&i.rect(e.x,e.y,t.getWidth(i.pageSize().width),n.y-e.y,l)}function B0(i,t){var e=i>0,n=t||t===0;return e&&n?"DF":e?"S":n?"F":null}function Tl(i,t){var e,n,r,a;if(i=i||t,Array.isArray(i)){if(i.length>=4)return{top:i[0],right:i[1],bottom:i[2],left:i[3]};if(i.length===3)return{top:i[0],right:i[1],bottom:i[2],left:i[1]};if(i.length===2)return{top:i[0],right:i[1],bottom:i[0],left:i[1]};i.length===1?i=i[0]:i=t}return typeof i=="object"?(typeof i.vertical=="number"&&(i.top=i.vertical,i.bottom=i.vertical),typeof i.horizontal=="number"&&(i.right=i.horizontal,i.left=i.horizontal),{left:(e=i.left)!==null&&e!==void 0?e:t,top:(n=i.top)!==null&&n!==void 0?n:t,right:(r=i.right)!==null&&r!==void 0?r:t,bottom:(a=i.bottom)!==null&&a!==void 0?a:t}):(typeof i!="number"&&(i=t),{top:i,right:i,bottom:i,left:i})}function O0(i,t){var e=Tl(t.settings.margin,0);return i.pageSize().width-(e.left+e.right)}function D5(i,t,e,n,r){var a={},l=1.3333333333333333,s=Su(t,function(W){return r.getComputedStyle(W).backgroundColor});s!=null&&(a.fillColor=s);var h=Su(t,function(W){return r.getComputedStyle(W).color});h!=null&&(a.textColor=h);var u=P5(n,e);u&&(a.cellPadding=u);var d="borderTopColor",v=l*e,y=n.borderTopWidth;if(n.borderBottomWidth===y&&n.borderRightWidth===y&&n.borderLeftWidth===y){var p=(parseFloat(y)||0)/v;p&&(a.lineWidth=p)}else a.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/v,right:(parseFloat(n.borderRightWidth)||0)/v,bottom:(parseFloat(n.borderBottomWidth)||0)/v,left:(parseFloat(n.borderLeftWidth)||0)/v},a.lineWidth.top||(a.lineWidth.right?d="borderRightColor":a.lineWidth.bottom?d="borderBottomColor":a.lineWidth.left&&(d="borderLeftColor"));var A=Su(t,function(W){return r.getComputedStyle(W)[d]});A!=null&&(a.lineColor=A);var N=["left","right","center","justify"];N.indexOf(n.textAlign)!==-1&&(a.halign=n.textAlign),N=["middle","bottom","top"],N.indexOf(n.verticalAlign)!==-1&&(a.valign=n.verticalAlign);var I=parseInt(n.fontSize||"");isNaN(I)||(a.fontSize=I/l);var C=E5(n);C&&(a.fontStyle=C);var Z=(n.fontFamily||"").toLowerCase();return i.indexOf(Z)!==-1&&(a.font=Z),a}function E5(i){var t="";return(i.fontWeight==="bold"||i.fontWeight==="bolder"||parseInt(i.fontWeight)>=700)&&(t="bold"),(i.fontStyle==="italic"||i.fontStyle==="oblique")&&(t+="italic"),t}function Su(i,t){var e=R0(i,t);if(!e)return null;var n=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var r=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],a=parseInt(n[4]);return a===0||isNaN(r[0])||isNaN(r[1])||isNaN(r[2])?null:r}function R0(i,t){var e=t(i);return e==="rgba(0, 0, 0, 0)"||e==="transparent"||e==="initial"||e==="inherit"?i.parentElement==null?null:R0(i.parentElement,t):e}function P5(i,t){var e=[i.paddingTop,i.paddingRight,i.paddingBottom,i.paddingLeft],n=96/(72/t),r=(parseInt(i.lineHeight)-parseInt(i.fontSize))/t/2,a=e.map(function(s){return parseInt(s||"0")/n}),l=Tl(a,0);return r>l.top&&(l.top=r),r>l.bottom&&(l.bottom=r),l}function z0(i,t,e,n,r){var a,l;n===void 0&&(n=!1),r===void 0&&(r=!1);var s;typeof t=="string"?s=e.document.querySelector(t):s=t;var h=Object.keys(i.getFontList()),u=i.scaleFactor(),d=[],v=[],y=[];if(!s)return console.error("Html table could not be found with input: ",t),{head:d,body:v,foot:y};for(var p=0;p<s.rows.length;p++){var A=s.rows[p],N=(l=(a=A?.parentElement)===null||a===void 0?void 0:a.tagName)===null||l===void 0?void 0:l.toLowerCase(),I=I5(h,u,e,A,n,r);I&&(N==="thead"?d.push(I):N==="tfoot"?y.push(I):v.push(I))}return{head:d,body:v,foot:y}}function I5(i,t,e,n,r,a){for(var l=new F0(n),s=0;s<n.cells.length;s++){var h=n.cells[s],u=e.getComputedStyle(h);if(r||u.display!=="none"){var d=void 0;a&&(d=D5(i,h,t,u,e)),l.push({rowSpan:h.rowSpan,colSpan:h.colSpan,styles:d,_element:h,content:F5(h)})}}var v=e.getComputedStyle(n);if(l.length>0&&(r||v.display!=="none"))return l}function F5(i){var t=i.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(e){return e.trim()}).join(`
`),t.innerText||t.textContent||""}function T5(i,t,e){for(var n=0,r=[i,t,e];n<r.length;n++){var a=r[n];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function br(i,t,e,n,r){if(i==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(i),l=1;l<arguments.length;l++){var s=arguments[l];if(s!=null)for(var h in s)Object.prototype.hasOwnProperty.call(s,h)&&(a[h]=s[h])}return a}function j0(i,t){var e=new ro(i),n=e.getDocumentOptions(),r=e.getGlobalOptions();T5(r,n,t);var a=br({},r,n,t),l;typeof window<"u"&&(l=window);var s=B5(r,n,t),h=O5(r,n,t),u=R5(e,a),d=j5(e,a,l);return{id:t.tableId,content:d,hooks:h,styles:s,settings:u}}function B5(i,t,e){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},r=function(h){if(h==="columnStyles"){var u=i[h],d=t[h],v=e[h];n.columnStyles=br({},u,d,v)}else{var y=[i,t,e],p=y.map(function(A){return A[h]||{}});n[h]=br({},p[0],p[1],p[2])}},a=0,l=Object.keys(n);a<l.length;a++){var s=l[a];r(s)}return n}function O5(i,t,e){for(var n=[i,t,e],r={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,l=n;a<l.length;a++){var s=l[a];s.didParseCell&&r.didParseCell.push(s.didParseCell),s.willDrawCell&&r.willDrawCell.push(s.willDrawCell),s.didDrawCell&&r.didDrawCell.push(s.didDrawCell),s.willDrawPage&&r.willDrawPage.push(s.willDrawPage),s.didDrawPage&&r.didDrawPage.push(s.didDrawPage)}return r}function R5(i,t){var e,n,r,a,l,s,h,u,d,v,y,p,A=Tl(t.margin,40/i.scaleFactor()),N=(e=z5(i,t.startY))!==null&&e!==void 0?e:A.top,I;t.showFoot===!0?I="everyPage":t.showFoot===!1?I="never":I=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var C;t.showHead===!0?C="everyPage":t.showHead===!1?C="never":C=(r=t.showHead)!==null&&r!==void 0?r:"everyPage";var Z=(a=t.useCss)!==null&&a!==void 0?a:!1,W=t.theme||(Z?"plain":"striped"),U=!!t.horizontalPageBreak,le=(l=t.horizontalPageBreakRepeat)!==null&&l!==void 0?l:null;return{includeHiddenHtml:(s=t.includeHiddenHtml)!==null&&s!==void 0?s:!1,useCss:Z,theme:W,startY:N,margin:A,pageBreak:(h=t.pageBreak)!==null&&h!==void 0?h:"auto",rowPageBreak:(u=t.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(d=t.tableWidth)!==null&&d!==void 0?d:"auto",showHead:C,showFoot:I,tableLineWidth:(v=t.tableLineWidth)!==null&&v!==void 0?v:0,tableLineColor:(y=t.tableLineColor)!==null&&y!==void 0?y:200,horizontalPageBreak:U,horizontalPageBreakRepeat:le,horizontalPageBreakBehaviour:(p=t.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function z5(i,t){var e=i.getLastAutoTable(),n=i.scaleFactor(),r=i.pageNumber(),a=!1;if(e&&e.startPageNumber){var l=e.startPageNumber+e.pageNumber-1;a=l===r}return typeof t=="number"?t:(t==null||t===!1)&&a&&e?.finalY!=null?e.finalY+20/n:null}function j5(i,t,e){var n=t.head||[],r=t.body||[],a=t.foot||[];if(t.html){var l=t.includeHiddenHtml;if(e){var s=z0(i,t.html,e,l,t.useCss)||{};n=s.head||n,r=s.body||n,a=s.foot||n}else console.error("Cannot parse html in non browser environment")}var h=t.columns||U5(n,r,a);return{columns:h,head:n,body:r,foot:a}}function U5(i,t,e){var n=i[0]||t[0]||e[0]||[],r=[];return Object.keys(n).filter(function(a){return a!=="_element"}).forEach(function(a){var l=1,s;Array.isArray(n)?s=n[parseInt(a)]:s=n[a],typeof s=="object"&&!Array.isArray(s)&&(l=s?.colSpan||1);for(var h=0;h<l;h++){var u=void 0;Array.isArray(n)?u=r.length:u=a+(h>0?"_".concat(h):"");var d={dataKey:u};r.push(d)}}),r}var Du=function(){function i(t,e,n){this.table=e,this.pageNumber=e.pageNumber,this.settings=e.settings,this.cursor=n,this.doc=t.getDocument()}return i}(),q5=function(i){I0(t,i);function t(e,n,r,a,l,s){var h=i.call(this,e,n,s)||this;return h.cell=r,h.row=a,h.column=l,h.section=a.section,h}return t}(Du),V5=function(){function i(t,e){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=e.columns,this.head=e.head,this.body=e.body,this.foot=e.foot}return i.prototype.getHeadHeight=function(t){return this.head.reduce(function(e,n){return e+n.getMaxCellHeight(t)},0)},i.prototype.getFootHeight=function(t){return this.foot.reduce(function(e,n){return e+n.getMaxCellHeight(t)},0)},i.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},i.prototype.callCellHooks=function(t,e,n,r,a,l){for(var s=0,h=e;s<h.length;s++){var u=h[s],d=new q5(t,this,n,r,a,l),v=u(d)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],v)return!1}return!0},i.prototype.callEndPageHooks=function(t,e){t.applyStyles(t.userStyles);for(var n=0,r=this.hooks.didDrawPage;n<r.length;n++){var a=r[n];a(new Du(t,this,e))}},i.prototype.callWillDrawPageHooks=function(t,e){for(var n=0,r=this.hooks.willDrawPage;n<r.length;n++){var a=r[n];a(new Du(t,this,e))}},i.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var e=this.columns.reduce(function(r,a){return r+a.wrappedWidth},0);return e}else{var n=this.settings.margin;return t-n.left-n.right}},i}(),U0=function(){function i(t,e,n,r,a){a===void 0&&(a=!1),this.height=0,this.raw=t,t instanceof F0&&(this.raw=t._element,this.element=t._element),this.index=e,this.section=n,this.cells=r,this.spansMultiplePages=a}return i.prototype.getMaxCellHeight=function(t){var e=this;return t.reduce(function(n,r){var a;return Math.max(n,((a=e.cells[r.index])===null||a===void 0?void 0:a.height)||0)},0)},i.prototype.hasRowSpan=function(t){var e=this;return t.filter(function(n){var r=e.cells[n.index];return r?r.rowSpan>1:!1}).length>0},i.prototype.canEntireRowFit=function(t,e){return this.getMaxCellHeight(e)<=t},i.prototype.getMinimumRowHeight=function(t,e){var n=this;return t.reduce(function(r,a){var l=n.cells[a.index];if(!l)return 0;var s=e.getLineHeight(l.styles.fontSize),h=l.padding("vertical"),u=h+s;return u>r?u:r},0)},i}(),q0=function(){function i(t,e,n){var r;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=e,this.section=n,this.raw=t;var a=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,a=(r=t.content)!==null&&r!==void 0?r:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var l=a!=null?""+a:"",s=/\r\n|\r|\n/g;this.text=l.split(s)}return i.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var e=this.height-this.padding("vertical");t=this.y+e/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var r=this.width-this.padding("horizontal");n=this.x+r/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},i.prototype.getContentHeight=function(t,e){e===void 0&&(e=1.15);var n=Array.isArray(this.text)?this.text.length:1,r=this.styles.fontSize/t*e,a=n*r+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},i.prototype.padding=function(t){var e=Tl(this.styles.cellPadding,0);return t==="vertical"?e.top+e.bottom:t==="horizontal"?e.left+e.right:e[t]},i}(),W5=function(){function i(t,e,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=e,this.index=n}return i.prototype.getMaxCustomCellWidth=function(t){for(var e=0,n=0,r=t.allRows();n<r.length;n++){var a=r[n],l=a.cells[this.index];l&&typeof l.styles.cellWidth=="number"&&(e=Math.max(e,l.styles.cellWidth))}return e},i}();function H5(i,t){G5(i,t);var e=[],n=0;t.columns.forEach(function(a){var l=a.getMaxCustomCellWidth(t);l?a.width=l:(a.width=a.wrappedWidth,e.push(a)),n+=a.width});var r=t.getWidth(i.pageSize().width)-n;r&&(r=Eu(e,r,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),r&&(r=Eu(e,r,function(a){return a.minWidth})),r=Math.abs(r),!t.settings.horizontalPageBreak&&r>.1/i.scaleFactor()&&(r=r<1?r:Math.round(r),console.log("Of the table content, ".concat(r," units width could not fit page"))),Z5(t),Y5(t,i),$5(t)}function G5(i,t){var e=i.scaleFactor(),n=t.settings.horizontalPageBreak,r=O0(i,t);t.allRows().forEach(function(a){for(var l=0,s=t.columns;l<s.length;l++){var h=s[l],u=a.cells[h.index];if(u){var d=t.hooks.didParseCell;t.callCellHooks(i,d,u,a,h,null);var v=u.padding("horizontal");u.contentWidth=Il(u.text,u.styles,i)+v;var y=Il(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,i);if(u.minReadableWidth=y+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||n===!0)u.contentWidth>r?(u.minWidth=r,u.wrappedWidth=r):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var p=10/e;u.minWidth=u.styles.minCellWidth||p,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),t.allRows().forEach(function(a){for(var l=0,s=t.columns;l<s.length;l++){var h=s[l],u=a.cells[h.index];if(u&&u.colSpan===1)h.wrappedWidth=Math.max(h.wrappedWidth,u.wrappedWidth),h.minWidth=Math.max(h.minWidth,u.minWidth),h.minReadableWidth=Math.max(h.minReadableWidth,u.minReadableWidth);else{var d=t.styles.columnStyles[h.dataKey]||t.styles.columnStyles[h.index]||{},v=d.cellWidth||d.minCellWidth;v&&typeof v=="number"&&(h.minWidth=v,h.wrappedWidth=v)}u&&(u.colSpan>1&&!h.minWidth&&(h.minWidth=u.minWidth),u.colSpan>1&&!h.wrappedWidth&&(h.wrappedWidth=u.minWidth))}})}function Eu(i,t,e){for(var n=t,r=i.reduce(function(p,A){return p+A.wrappedWidth},0),a=0;a<i.length;a++){var l=i[a],s=l.wrappedWidth/r,h=n*s,u=l.width+h,d=e(l),v=u<d?d:u;t-=v-l.width,l.width=v}if(t=Math.round(t*1e10)/1e10,t){var y=i.filter(function(p){return t<0?p.width>e(p):!0});y.length&&(t=Eu(y,t,e))}return t}function $5(i){for(var t={},e=1,n=i.allRows(),r=0;r<n.length;r++)for(var a=n[r],l=0,s=i.columns;l<s.length;l++){var h=s[l],u=t[h.index];if(e>1)e--,delete a.cells[h.index];else if(u)u.cell.height+=a.height,e=u.cell.colSpan,delete a.cells[h.index],u.left--,u.left<=1&&delete t[h.index];else{var d=a.cells[h.index];if(!d)continue;if(d.height=a.height,d.rowSpan>1){var v=n.length-r,y=d.rowSpan>v?v:d.rowSpan;t[h.index]={cell:d,left:y,row:a}}}}}function Z5(i){for(var t=i.allRows(),e=0;e<t.length;e++)for(var n=t[e],r=null,a=0,l=0,s=0;s<i.columns.length;s++){var h=i.columns[s];if(l-=1,l>1&&i.columns[s+1])a+=h.width,delete n.cells[h.index];else if(r){var u=r;delete n.cells[h.index],r=null,u.width=h.width+a}else{var u=n.cells[h.index];if(!u)continue;if(l=u.colSpan,a=0,u.colSpan>1){r=u,a+=h.width;continue}u.width=h.width+a}}}function Y5(i,t){for(var e={count:0,height:0},n=0,r=i.allRows();n<r.length;n++){for(var a=r[n],l=0,s=i.columns;l<s.length;l++){var h=s[l],u=a.cells[h.index];if(u){t.applyStyles(u.styles,!0);var d=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=t.splitTextToSize(u.text,d+1/t.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=N0(u.text,d,u.styles,t,"...");else if(u.styles.overflow==="hidden")u.text=N0(u.text,d,u.styles,t,"");else if(typeof u.styles.overflow=="function"){var v=u.styles.overflow(u.text,d);typeof v=="string"?u.text=[v]:u.text=v}u.contentHeight=u.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var y=u.contentHeight/u.rowSpan;u.rowSpan>1&&e.count*e.height<y*u.rowSpan?e={height:y,count:u.rowSpan}:e&&e.count>0&&e.height>y&&(y=e.height),y>a.height&&(a.height=y)}}e.count--}}function N0(i,t,e,n,r){return i.map(function(a){return K5(a,t,e,n,r)})}function K5(i,t,e,n,r){var a=1e4*n.scaleFactor();if(t=Math.ceil(t*a)/a,t>=Il(i,e,n))return i;for(;t<Il(i+r,e,n)&&!(i.length<=1);)i=i.substring(0,i.length-1);return i.trim()+r}function V0(i,t){var e=new ro(i),n=X5(t,e.scaleFactor()),r=new V5(t,n);return H5(e,r),e.applyStyles(e.userStyles),r}function X5(i,t){var e=i.content,n=Q5(e.columns);if(e.head.length===0){var r=L0(n,"head");r&&e.head.push(r)}if(e.foot.length===0){var r=L0(n,"foot");r&&e.foot.push(r)}var a=i.settings.theme,l=i.styles;return{columns:n,head:Au("head",e.head,n,l,a,t),body:Au("body",e.body,n,l,a,t),foot:Au("foot",e.foot,n,l,a,t)}}function Au(i,t,e,n,r,a){var l={},s=t.map(function(h,u){for(var d=0,v={},y=0,p=0,A=0,N=e;A<N.length;A++){var I=N[A];if(l[I.index]==null||l[I.index].left===0)if(p===0){var C=void 0;Array.isArray(h)?C=h[I.index-y-d]:C=h[I.dataKey];var Z={};typeof C=="object"&&!Array.isArray(C)&&(Z=C?.styles||{});var W=em(i,I,u,r,n,a,Z),U=new q0(C,W,i);v[I.dataKey]=U,v[I.index]=U,p=U.colSpan-1,l[I.index]={left:U.rowSpan-1,times:p}}else p--,y++;else l[I.index].left--,p=l[I.index].times,d++}return new U0(h,u,i,v)});return s}function L0(i,t){var e={};return i.forEach(function(n){if(n.raw!=null){var r=J5(t,n.raw);r!=null&&(e[n.dataKey]=r)}}),Object.keys(e).length>0?e:null}function J5(i,t){if(i==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(i==="foot"&&typeof t=="object")return t.footer;return null}function Q5(i){return i.map(function(t,e){var n,r;return typeof t=="object"?r=(n=t.dataKey)!==null&&n!==void 0?n:e:r=e,new W5(r,t,e)})}function em(i,t,e,n,r,a,l){var s=L5(n),h;i==="head"?h=r.headStyles:i==="body"?h=r.bodyStyles:i==="foot"&&(h=r.footStyles);var u=br({},s.table,s[i],r.styles,h),d=r.columnStyles[t.dataKey]||r.columnStyles[t.index]||{},v=i==="body"?d:{},y=i==="body"&&e%2===0?br({},s.alternateRow,r.alternateRowStyles):{},p=N5(a),A=br({},p,u,y,v);return br(A,l)}function tm(i,t,e){var n;e===void 0&&(e={});var r=O0(i,t),a=new Map,l=[],s=[],h=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?h=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(h=[t.settings.horizontalPageBreakRepeat]),h.forEach(function(y){var p=t.columns.find(function(A){return A.dataKey===y||A.index===y});p&&!a.has(p.index)&&(a.set(p.index,!0),l.push(p.index),s.push(t.columns[p.index]),r-=p.wrappedWidth)});for(var u=!0,d=(n=e?.start)!==null&&n!==void 0?n:0;d<t.columns.length;){if(a.has(d)){d++;continue}var v=t.columns[d].wrappedWidth;if(u||r>=v)u=!1,l.push(d),s.push(t.columns[d]),r-=v;else break;d++}return{colIndexes:l,columns:s,lastIndex:d-1}}function im(i,t){for(var e=[],n=0;n<t.columns.length;n++){var r=tm(i,t,{start:n});r.columns.length&&(e.push(r),n=r.lastIndex)}return e}function W0(i,t){var e=t.settings,n=e.startY,r=e.margin,a={x:r.left,y:n},l=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),s=n+r.bottom+l;if(e.pageBreak==="avoid"){var h=t.body,u=h.reduce(function(y,p){return y+p.height},0);s+=u}var d=new ro(i);(e.pageBreak==="always"||e.startY!=null&&s>d.pageSize().height)&&(G0(d),a.y=r.top),t.callWillDrawPageHooks(d,a);var v=br({},a);t.startPageNumber=d.pageNumber(),e.horizontalPageBreak?nm(d,t,v,a):(d.applyStyles(d.userStyles),(e.showHead==="firstPage"||e.showHead==="everyPage")&&t.head.forEach(function(y){return wr(d,t,y,a,t.columns)}),d.applyStyles(d.userStyles),t.body.forEach(function(y,p){var A=p===t.body.length-1;Fl(d,t,y,A,v,a,t.columns)}),d.applyStyles(d.userStyles),(e.showFoot==="lastPage"||e.showFoot==="everyPage")&&t.foot.forEach(function(y){return wr(d,t,y,a,t.columns)})),T0(d,t,v,a),t.callEndPageHooks(d,a),t.finalY=a.y,i.lastAutoTable=t,d.applyStyles(d.userStyles)}function nm(i,t,e,n){var r=im(i,t),a=t.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")r.forEach(function(u,d){i.applyStyles(i.userStyles),d>0?ss(i,t,e,n,u.columns,!0):D0(i,t,n,u.columns),rm(i,t,e,n,u.columns),Cu(i,t,n,u.columns)});else for(var l=-1,s=r[0],h=function(){var u=l;if(s){i.applyStyles(i.userStyles);var d=s.columns;l>=0?ss(i,t,e,n,d,!0):D0(i,t,n,d),u=E0(i,t,l+1,n,d),Cu(i,t,n,d)}var v=u-l;r.slice(1).forEach(function(y){i.applyStyles(i.userStyles),ss(i,t,e,n,y.columns,!0),E0(i,t,l+1,n,y.columns,v),Cu(i,t,n,y.columns)}),l=u};l<t.body.length-1;)h()}function D0(i,t,e,n){var r=t.settings;i.applyStyles(i.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(a){return wr(i,t,a,e,n)})}function rm(i,t,e,n,r){i.applyStyles(i.userStyles),t.body.forEach(function(a,l){var s=l===t.body.length-1;Fl(i,t,a,s,e,n,r)})}function E0(i,t,e,n,r,a){i.applyStyles(i.userStyles),a=a??t.body.length;var l=Math.min(e+a,t.body.length),s=-1;return t.body.slice(e,l).forEach(function(h,u){var d=e+u===t.body.length-1,v=H0(i,t,d,n);h.canEntireRowFit(v,r)&&(wr(i,t,h,n,r),s=e+u)}),s}function Cu(i,t,e,n){var r=t.settings;i.applyStyles(i.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(a){return wr(i,t,a,e,n)})}function am(i,t,e){var n=e.getLineHeight(i.styles.fontSize),r=i.padding("vertical"),a=Math.floor((t-r)/n);return Math.max(0,a)}function om(i,t,e,n){var r={};i.spansMultiplePages=!0,i.height=0;for(var a=0,l=0,s=e.columns;l<s.length;l++){var h=s[l],u=i.cells[h.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var d=new q0(u.raw,u.styles,u.section);d=br(d,u),d.text=[];var v=am(u,t,n);u.text.length>v&&(d.text=u.text.splice(v,u.text.length));var y=n.scaleFactor(),p=n.getLineHeightFactor();u.contentHeight=u.getContentHeight(y,p),u.contentHeight>=t&&(u.contentHeight=t,d.styles.minCellHeight-=t),u.contentHeight>i.height&&(i.height=u.contentHeight),d.contentHeight=d.getContentHeight(y,p),d.contentHeight>a&&(a=d.contentHeight),r[h.index]=d}}var A=new U0(i.raw,-1,i.section,r,!0);A.height=a;for(var N=0,I=e.columns;N<I.length;N++){var h=I[N],d=A.cells[h.index];d&&(d.height=A.height);var u=i.cells[h.index];u&&(u.height=i.height)}return A}function sm(i,t,e,n){var r=i.pageSize().height,a=n.settings.margin,l=a.top+a.bottom,s=r-l;t.section==="body"&&(s-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var h=t.getMinimumRowHeight(n.columns,i),u=h<e;if(h>s)return console.log("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var d=t.hasRowSpan(n.columns),v=t.getMaxCellHeight(n.columns)>s;return v?(d&&console.log("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(d||n.settings.rowPageBreak==="avoid")}function Fl(i,t,e,n,r,a,l){var s=H0(i,t,n,a);if(e.canEntireRowFit(s,l))wr(i,t,e,a,l);else if(sm(i,e,s,t)){var h=om(e,s,t,i);wr(i,t,e,a,l),ss(i,t,r,a,l),Fl(i,t,h,n,r,a,l)}else ss(i,t,r,a,l),Fl(i,t,e,n,r,a,l)}function wr(i,t,e,n,r){n.x=t.settings.margin.left;for(var a=0,l=r;a<l.length;a++){var s=l[a],h=e.cells[s.index];if(!h){n.x+=s.width;continue}i.applyStyles(h.styles),h.x=n.x,h.y=n.y;var u=t.callCellHooks(i,t.hooks.willDrawCell,h,e,s,n);if(u===!1){n.x+=s.width;continue}lm(i,h,n);var d=h.getTextPos();P0(h.text,d.x,d.y,{halign:h.styles.halign,valign:h.styles.valign,maxWidth:Math.ceil(h.width-h.padding("left")-h.padding("right"))},i.getDocument()),t.callCellHooks(i,t.hooks.didDrawCell,h,e,s,n),n.x+=s.width}n.y+=e.height}function lm(i,t,e){var n=t.styles;if(i.getDocument().setFillColor(i.getDocument().getFillColor()),typeof n.lineWidth=="number"){var r=B0(n.lineWidth,n.fillColor);r&&i.rect(t.x,e.y,t.width,t.height,r)}else typeof n.lineWidth=="object"&&(n.fillColor&&i.rect(t.x,e.y,t.width,t.height,"F"),cm(i,t,e,n.lineWidth))}function cm(i,t,e,n){var r,a,l,s;n.top&&(r=e.x,a=e.y,l=e.x+t.width,s=e.y,n.right&&(l+=.5*n.right),n.left&&(r-=.5*n.left),h(n.top,r,a,l,s)),n.bottom&&(r=e.x,a=e.y+t.height,l=e.x+t.width,s=e.y+t.height,n.right&&(l+=.5*n.right),n.left&&(r-=.5*n.left),h(n.bottom,r,a,l,s)),n.left&&(r=e.x,a=e.y,l=e.x,s=e.y+t.height,n.top&&(a-=.5*n.top),n.bottom&&(s+=.5*n.bottom),h(n.left,r,a,l,s)),n.right&&(r=e.x+t.width,a=e.y,l=e.x+t.width,s=e.y+t.height,n.top&&(a-=.5*n.top),n.bottom&&(s+=.5*n.bottom),h(n.right,r,a,l,s));function h(u,d,v,y,p){i.getDocument().setLineWidth(u),i.getDocument().line(d,v,y,p,"S")}}function H0(i,t,e,n){var r=t.settings.margin.bottom,a=t.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&e)&&(r+=t.getFootHeight(t.columns)),i.pageSize().height-n.y-r}function ss(i,t,e,n,r,a){r===void 0&&(r=[]),a===void 0&&(a=!1),i.applyStyles(i.userStyles),t.settings.showFoot==="everyPage"&&!a&&t.foot.forEach(function(s){return wr(i,t,s,n,r)}),t.callEndPageHooks(i,n);var l=t.settings.margin;T0(i,t,e,n),G0(i),t.pageNumber++,n.x=l.left,n.y=l.top,e.y=l.top,t.callWillDrawPageHooks(i,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(s){return wr(i,t,s,n,r)}),i.applyStyles(i.userStyles))}function G0(i){var t=i.pageNumber();i.setPage(t+1);var e=i.pageNumber();return e===t?(i.addPage(),!0):!1}function um(i){i.API.autoTable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[0],r=j0(this,n),a=V0(this,r);return W0(this,a),this},i.API.lastAutoTable=!1,i.API.autoTableText=function(t,e,n,r){P0(t,e,n,r,this)},i.API.autoTableSetDefaults=function(t){return ro.setDefaults(t,this),this},i.autoTableSetDefaults=function(t,e){ro.setDefaults(t,e)},i.API.autoTableHtmlToJson=function(t,e){var n;if(e===void 0&&(e=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var r=new ro(this),a=z0(r,t,window,e,!1),l=a.head,s=a.body,h=((n=l[0])===null||n===void 0?void 0:n.map(function(u){return u.content}))||[];return{columns:h,rows:s,data:s}}}var Mu;function $0(i,t){var e=j0(i,t),n=V0(i,e);W0(i,n)}try{typeof window<"u"&&window&&(ku=window,Nu=ku.jsPDF||((Mu=ku.jspdf)===null||Mu===void 0?void 0:Mu.jsPDF),Nu&&um(Nu))}catch(i){console.error("Could not apply autoTable plugin",i)}var ku,Nu;var Bl=class i{registerFonts(t){if(!t||typeof t.addFileToVFS!="function"||typeof t.addFont!="function"){console.warn("jsPDF instance does not support font registration methods");return}let e="",n="";e&&n&&(t.addFileToVFS("PlayfairDisplay-Regular.ttf",e),t.addFont("PlayfairDisplay-Regular.ttf","PlayfairDisplay","normal"),t.addFileToVFS("PlayfairDisplay-Bold.ttf",n),t.addFont("PlayfairDisplay-Bold.ttf","PlayfairDisplay","bold"));let r="",a="";r&&a&&(t.addFileToVFS("CormorantGaramond-Regular.ttf",r),t.addFont("CormorantGaramond-Regular.ttf","CormorantGaramond","normal"),t.addFileToVFS("CormorantGaramond-Bold.ttf",a),t.addFont("CormorantGaramond-Bold.ttf","CormorantGaramond","bold"));let l="",s="";l&&s&&(t.addFileToVFS("Montserrat-Regular.ttf",l),t.addFont("Montserrat-Regular.ttf","Montserrat","normal"),t.addFileToVFS("Montserrat-Bold.ttf",s),t.addFont("Montserrat-Bold.ttf","Montserrat","bold"));let h="",u="";h&&u&&(t.addFileToVFS("Lato-Regular.ttf",h),t.addFont("Lato-Regular.ttf","Lato","normal"),t.addFileToVFS("Lato-Bold.ttf",u),t.addFont("Lato-Bold.ttf","Lato","bold"));let d="",v="";d&&v&&(t.addFileToVFS("Georgia-Regular.ttf",d),t.addFont("Georgia-Regular.ttf","Georgia","normal"),t.addFileToVFS("Georgia-Bold.ttf",v),t.addFont("Georgia-Bold.ttf","Georgia","bold"));let y="",p="";y&&p&&(t.addFileToVFS("Verdana-Regular.ttf",y),t.addFont("Verdana-Regular.ttf","Verdana","normal"),t.addFileToVFS("Verdana-Bold.ttf",p),t.addFont("Verdana-Bold.ttf","Verdana","bold"));let A="",N="";A&&N&&(t.addFileToVFS("Arial-Regular.ttf",A),t.addFont("Arial-Regular.ttf","Arial","normal"),t.addFileToVFS("Arial-Bold.ttf",N),t.addFont("Arial-Bold.ttf","Arial","bold"))}static \u0275fac=function(e){return new(e||i)};static \u0275prov=Rr({token:i,factory:i.\u0275fac,providedIn:"root"})};var hm=["menuChart"],Pu=(i,t)=>({"bg-blue-100 text-blue-800 border border-blue-200":i,"bg-gray-100 text-gray-700 border border-gray-200":t});function fm(i,t){if(i&1&&(D(0,"option",89),z(1),E()),i&2){let e=t.$implicit;ue("value",e.id),V(),fa(" ",e.name," ",e.is_default?"(Default)":""," ")}}function dm(i,t){if(i&1){let e=Jt();D(0,"div",90)(1,"div",18)(2,"input",91),qt("ngModelChange",function(r){Me(e);let a=se();return Ut(a.editedMenuName,r)||(a.editedMenuName=r),ke(r)}),Ie("keyup.enter",function(){Me(e);let r=se();return ke(r.saveMenuName())})("keyup.escape",function(){Me(e);let r=se();return ke(r.cancelEditMenuName())}),E(),D(3,"div",21)(4,"button",92),Ie("click",function(){Me(e);let r=se();return ke(r.saveMenuName())}),D(5,"span",23),z(6,"check"),E()(),D(7,"button",93),Ie("click",function(){Me(e);let r=se();return ke(r.cancelEditMenuName())}),D(8,"span",23),z(9,"close"),E()()()(),D(10,"div",94),z(11," Premi Invio per salvare, Esc per annullare "),E()()}if(i&2){let e=se();V(2),jt("ngModel",e.editedMenuName)}}function pm(i,t){if(i&1){let e=Jt();D(0,"div",95)(1,"label",96)(2,"input",97),Ie("change",function(){Me(e);let r=se();return ke(r.toggleMenuType())}),E(),D(3,"span",98),z(4,"Menu Specifico (Dedicato)"),E()()()}if(i&2){let e=se();V(2),ue("checked",e.currentMenu.type==="dedicated")("disabled",e.currentMenu.is_default)}}function gm(i,t){i&1&&(D(0,"div",99),z(1," Questo menu \xE8 dedicato a una specifica prenotazione o evento. "),E())}function mm(i,t){i&1&&(D(0,"div",100),z(1," Attenzione: Il menu di default non pu\xF2 essere specifico. Seleziona un altro menu come default prima di impostare questo come specifico. "),E())}function vm(i,t){i&1&&(D(0,"span",101)(1,"span",80),z(2,"event"),E(),z(3," Specifico "),E())}function _m(i,t){i&1&&(D(0,"span",102)(1,"span",80),z(2,"public"),E(),z(3," Globale "),E())}function ym(i,t){if(i&1){let e=Jt();D(0,"div",30)(1,"div",16)(2,"label",96)(3,"input",97),Ie("change",function(){Me(e);let r=se();return ke(r.toggleMenuFavorite())}),E(),D(4,"span",98),z(5," Preferito "),D(6,"span",103),z(7,"star"),E()()()(),D(8,"div",16)(9,"label",96)(10,"input",97),Ie("change",function(){Me(e);let r=se();return ke(r.toggleMenuActive())}),E(),D(11,"span",98),z(12," Attivo "),D(13,"span",104),z(14,"check_circle"),E()()()()()}if(i&2){let e=se();V(3),ue("checked",e.currentMenu.is_favorite)("disabled",e.currentMenu.is_default),V(7),ue("checked",e.currentMenu.is_active)("disabled",e.currentMenu.is_default)}}function bm(i,t){if(i&1&&(D(0,"span",110),z(1),ri(2,"number"),E()),i&2){let e=se(2);V(),rt(" \u20AC",Si(2,1,e.currentMenu==null?null:e.currentMenu.fixed_price,"1.2-2")," salvato ")}}function wm(i,t){if(i&1){let e=Jt();D(0,"div",105)(1,"span",106),z(2,"euro"),E(),D(3,"span",107),z(4,"Prezzo a persona"),E(),D(5,"input",108),qt("ngModelChange",function(r){Me(e);let a=se();return Ut(a.fixedPriceValue,r)||(a.fixedPriceValue=r),ke(r)}),Ie("blur",function(){Me(e);let r=se();return ke(r.saveFixedPrice())})("keydown.enter",function(){Me(e);let r=se();return ke(r.saveFixedPrice())}),E(),Xe(6,bm,3,4,"span",109),E()}if(i&2){let e=se();V(5),jt("ngModel",e.fixedPriceValue),V(),ue("ngIf",e.currentMenu==null?null:e.currentMenu.fixed_price)}}function xm(i,t){i&1&&(D(0,"span",102),z(1,"Default"),E())}function Sm(i,t){i&1&&(D(0,"span",113),z(1,"Non attivo"),E())}function Am(i,t){if(i&1&&(D(0,"div",36)(1,"span",111),z(2,"info"),E(),D(3,"span",35),z(4),E(),Xe(5,xm,2,0,"span",39)(6,Sm,2,0,"span",112),E()),i&2){let e=se();V(4),Dn(e.currentMenu.description||"Nessuna descrizione"),V(),ue("ngIf",e.currentMenu.is_default),V(),ue("ngIf",!e.currentMenu.is_active)}}function Cm(i,t){if(i&1){let e=Jt();D(0,"div",30)(1,"div",16)(2,"label",96)(3,"input",97),Ie("change",function(){Me(e);let r=se();return ke(r.toggleMenuDefault())}),E(),D(4,"span",98),z(5," Default "),D(6,"span",114),z(7,"flag"),E()()()()()}if(i&2){let e=se();V(3),ue("checked",e.currentMenu.is_default)("disabled",e.currentMenu.is_default)}}function Mm(i,t){i&1&&(D(0,"div",115)(1,"span",116),z(2,"bar_chart"),E(),D(3,"p",117),z(4,"Nessun piatto da visualizzare con i filtri attuali"),E()())}function km(i,t){if(i&1&&(D(0,"div",118),z(1),E()),i&2){let e=se();V(),rt(" Mostrati i primi ",e.maxDishesInChart," piatti (ordinati per filtri correnti) ")}}function Nm(i,t){if(i&1&&(D(0,"option",89),z(1),E()),i&2){let e=t.$implicit;ue("value",e.id),V(),rt(" ",e.name," ")}}function Lm(i,t){i&1&&(D(0,"th")(1,"div",36)(2,"span"),z(3,"Ord"),E()()())}function Dm(i,t){if(i&1&&(D(0,"span",23),z(1),E()),i&2){let e=se();V(),rt(" ",e.sortDirection==="asc"?"arrow_upward":"arrow_downward"," ")}}function Em(i,t){if(i&1&&(D(0,"span",23),z(1),E()),i&2){let e=se();V(),rt(" ",e.sortDirection==="asc"?"arrow_upward":"arrow_downward"," ")}}function Pm(i,t){if(i&1&&(D(0,"span",23),z(1),E()),i&2){let e=se();V(),rt(" ",e.sortDirection==="asc"?"arrow_upward":"arrow_downward"," ")}}function Im(i,t){if(i&1&&(D(0,"span",23),z(1),E()),i&2){let e=se();V(),rt(" ",e.sortDirection==="asc"?"arrow_upward":"arrow_downward"," ")}}function Fm(i,t){if(i&1&&(D(0,"span",23),z(1),E()),i&2){let e=se();V(),rt(" ",e.sortDirection==="asc"?"arrow_upward":"arrow_downward"," ")}}function Tm(i,t){if(i&1){let e=Jt();D(0,"td")(1,"div",130)(2,"span",131),z(3),E(),D(4,"div",41)(5,"button",132),Ie("click",function(){Me(e);let r=se().$implicit,a=se(2);return ke(a.moveDishUp(r))}),D(6,"span",133),z(7,"arrow_upward"),E()(),D(8,"button",134),Ie("click",function(){Me(e);let r=se().$implicit,a=se(2);return ke(a.moveDishDown(r))}),D(9,"span",133),z(10,"arrow_downward"),E()()()()()}if(i&2){let e=se().index,n=se(2);V(3),Dn(e+1),V(2),ue("disabled",e===0),V(3),ue("disabled",e===n.filteredDishes.length-1)}}function Bm(i,t){if(i&1&&(D(0,"div",135)(1,"span",136),z(2,"delete"),E(),D(3,"span",137),z(4),ri(5,"date"),E()()),i&2){let e=se().$implicit;V(4),rt(" Eliminato il ",Si(5,1,e.deleted_at,"dd/MM/yyyy")," ")}}function Om(i,t){i&1&&(D(0,"div",138)(1,"span",139),z(2,"warning"),E(),D(3,"span",140),z(4," Senza menu "),E()())}function Rm(i,t){if(i&1&&(Yi(0),D(1,"span",144)(2,"span",145),z(3,"restaurant_menu"),E(),z(4),E(),Ki()),i&2){let e=t.$implicit;V(),ue("ngClass",Hs(2,Pu,e.is_default,!e.is_default)),V(3),rt(" ",e.name," ")}}function zm(i,t){if(i&1&&(D(0,"span",146),z(1),E()),i&2){let e=se(2).$implicit,n=se(2);V(),rt(" +",n.getMenusForDish(e.id).length-1," altri ")}}function jm(i,t){if(i&1&&(D(0,"div",141),Xe(1,Rm,5,5,"ng-container",142)(2,zm,2,1,"span",143),E()),i&2){let e=se().$implicit,n=se(2);V(),ue("ngForOf",n.getMenusForDish(e.id)),V(),ue("ngIf",n.isDishInMultipleMenus(e.id))}}function Um(i,t){if(i&1&&(D(0,"span",149),z(1),E()),i&2){let e=t.$implicit,n=se(4);ue("title",n.getAllergenName(e)),V(),rt(" ",e," ")}}function qm(i,t){if(i&1&&(Yi(0,147),Xe(1,Um,2,2,"span",148),Ki()),i&2){let e=se().$implicit;V(),ue("ngForOf",e.allergens)}}function Vm(i,t){if(i&1&&(D(0,"div",35),z(1),ri(2,"slice"),E()),i&2){let e=se().$implicit;V(),fa(" ",Gs(2,2,e.description,0,100),"",e.description.length>100?"...":""," ")}}function Wm(i,t){if(i&1&&(D(0,"span",35),z(1),E()),i&2){let e=se().$implicit;V(),rt(" ",e.preparation_time," min ")}}function Hm(i,t){i&1&&(D(0,"span",35),z(1,"-"),E())}function Gm(i,t){if(i&1){let e=Jt();Yi(0),D(1,"button",150),Ie("click",function(){Me(e);let r=se().$implicit,a=se(2);return ke(a.showCopyMenuDialog(r))}),D(2,"span",23),z(3,"content_copy"),E()(),D(4,"button",151),Ie("click",function(){Me(e);let r=se().$implicit,a=se(2);return ke(a.showMoveMenuDialog(r))}),D(5,"span",23),z(6,"open_with"),E()(),D(7,"button",152),Ie("click",function(){Me(e);let r=se().$implicit,a=se(2);return ke(a.confirmDeleteDish(r))}),Yt(8,"lucide-angular",51),E(),Ki()}if(i&2){let e=se().$implicit,n=se(2);V(),ue("disabled",!e.id||!n.menus||n.menus.length===0),V(3),ue("disabled",!e.id||!n.menus||n.menus.length===0||n.menus.length===1),V(4),ue("size",20)}}function $m(i,t){if(i&1){let e=Jt();Yi(0),D(1,"button",153),Ie("click",function(){Me(e);let r=se().$implicit,a=se(2);return ke(a.confirmRestoreDish(r))}),D(2,"span",23),z(3,"restore"),E()(),Ki()}}function Zm(i,t){if(i&1){let e=Jt();D(0,"tr"),Xe(1,Tm,11,3,"td",83),D(2,"td"),Xe(3,Bm,6,4,"div",120)(4,Om,5,0,"div",121)(5,jm,3,2,"div",122),D(6,"div",36)(7,"div",123)(8,"div",124)(9,"strong",125),Ie("click",function(){let r=Me(e).$implicit,a=se(2);return ke(a.editDish(r.id))}),z(10),E(),Xe(11,qm,2,1,"ng-container",126),E(),Xe(12,Vm,3,6,"div",127),E()()(),D(13,"td"),z(14),E(),D(15,"td")(16,"strong"),z(17),ri(18,"number"),E()(),D(19,"td"),z(20),ri(21,"number"),E(),D(22,"td")(23,"span"),z(24),ri(25,"number"),E()(),D(26,"td")(27,"select",128),Ie("ngModelChange",function(r){let a=Me(e).$implicit,l=se(2);return ke(l.updateDishStatus(a,r))}),D(28,"option",71),z(29,"Disponibile"),E(),D(30,"option",72),z(31,"Non disponibile"),E(),D(32,"option",73),z(33,"Esaurito"),E()()(),D(34,"td"),Xe(35,Wm,2,1,"span",127)(36,Hm,2,0,"span",127),E(),D(37,"td")(38,"div",129),Xe(39,Gm,9,3,"ng-container",83)(40,$m,4,0,"ng-container",83),E()()()}if(i&2){let e=t.$implicit,n=se(2);Ci("opacity-60",e.deleted_at)("bg-gray-50",e.deleted_at),V(),ue("ngIf",n.currentMenu&&n.viewMode==="menu-only"),V(2),ue("ngIf",e.deleted_at),V(),ue("ngIf",!e.deleted_at&&n.isDishWithoutMenu(e.id)),V(),ue("ngIf",!e.deleted_at&&n.viewMode==="all-dishes"&&!n.isDishWithoutMenu(e.id)),V(5),rt(" ",e.name," "),V(),ue("ngIf",e.allergens&&e.allergens.length>0),V(),ue("ngIf",e.description),V(2),Dn(n.getCategoryName(e.category_id||"")),V(3),rt("\u20AC",Si(18,28,e.base_price,"1.2-2"),""),V(3),rt("",Si(21,31,n.calculateFoodCostPercentage(e),"1.0-1"),"%"),V(3),To(n.calculateMargin(e)>=0?"text-muted":"error"),V(),rt(" \u20AC",Si(25,34,n.calculateMargin(e),"1.2-2")," "),V(3),Ci("available",e.status==="available")("unavailable",e.status==="unavailable")("out_of_stock",e.status==="out_of_stock"),ue("ngModel",e.status),V(8),ue("ngIf",e.preparation_time),V(),ue("ngIf",!e.preparation_time),V(3),ue("ngIf",!e.deleted_at),V(),ue("ngIf",e.deleted_at)}}function Ym(i,t){if(i&1&&(Yi(0),Xe(1,Zm,41,37,"tr",119),Ki()),i&2){let e=se();V(),ue("ngForOf",e.filteredDishes)}}function Km(i,t){if(i&1&&(D(0,"tr",155)(1,"td",156)(2,"div",157)(3,"span",5),z(4,"folder"),E(),D(5,"div",158),z(6),E(),D(7,"span",159),z(8),E()()()()),i&2){let e=se().$implicit,n=se(2);V(6),Dn(e.name),V(2),rt(" ",n.getDishesByCategory(e.id).length," piatti ")}}function Xm(i,t){if(i&1){let e=Jt();D(0,"div",41)(1,"button",132),Ie("click",function(){Me(e);let r=se(2).$implicit,a=se(3);return ke(a.moveDishUp(r))}),D(2,"span",133),z(3,"arrow_upward"),E()(),D(4,"button",134),Ie("click",function(){Me(e);let r=se(2).$implicit,a=se(3);return ke(a.moveDishDown(r))}),D(5,"span",133),z(6,"arrow_downward"),E()()()}if(i&2){let e=se(2).index,n=se().$implicit,r=se(2);V(),ue("disabled",e===0),V(3),ue("disabled",e===r.getDishesByCategory(n.id).length-1)}}function Jm(i,t){if(i&1&&(D(0,"td")(1,"div",130)(2,"span",131),z(3),E(),Xe(4,Xm,7,2,"div",161),E()()),i&2){let e=se().index,n=se(3);V(3),Dn(e+1),V(),ue("ngIf",n.viewMode==="menu-only"&&n.sortField==="category"&&!n.hasActiveFilters)}}function Qm(i,t){if(i&1&&(D(0,"div",135)(1,"span",136),z(2,"delete"),E(),D(3,"span",137),z(4),ri(5,"date"),E()()),i&2){let e=se().$implicit;V(4),rt(" Eliminato il ",Si(5,1,e.deleted_at,"dd/MM/yyyy")," ")}}function ev(i,t){i&1&&(D(0,"div",135)(1,"span",139),z(2,"warning"),E(),D(3,"span",140),z(4," Senza menu "),E()())}function tv(i,t){if(i&1&&(Yi(0),D(1,"span",144)(2,"span",145),z(3,"restaurant_menu"),E(),z(4),E(),Ki()),i&2){let e=t.$implicit;V(),ue("ngClass",Hs(2,Pu,e.is_default,!e.is_default)),V(3),rt(" ",e.name," ")}}function iv(i,t){if(i&1&&(D(0,"span",146),z(1),E()),i&2){let e=se(2).$implicit,n=se(3);V(),rt(" +",n.getMenusForDish(e.id).length-1," altri ")}}function nv(i,t){if(i&1&&(D(0,"div",141),Xe(1,tv,5,5,"ng-container",142)(2,iv,2,1,"span",143),E()),i&2){let e=se().$implicit,n=se(3);V(),ue("ngForOf",n.getMenusForDish(e.id)),V(),ue("ngIf",n.isDishInMultipleMenus(e.id))}}function rv(i,t){if(i&1&&(D(0,"span",149),z(1),E()),i&2){let e=t.$implicit,n=se(5);ue("title",n.getAllergenName(e)),V(),rt(" ",e," ")}}function av(i,t){if(i&1&&(Yi(0),Xe(1,rv,2,2,"span",148),Ki()),i&2){let e=se().$implicit;V(),ue("ngForOf",e.allergens)}}function ov(i,t){if(i&1&&(D(0,"div",162),z(1),ri(2,"slice"),E()),i&2){let e=se().$implicit;V(),fa(" ",Gs(2,2,e.description,0,100),"",e.description.length>100?"...":""," ")}}function sv(i,t){if(i&1&&(D(0,"span",35),z(1),E()),i&2){let e=se().$implicit;V(),rt(" ",e.preparation_time," min ")}}function lv(i,t){i&1&&(D(0,"span",35),z(1,"-"),E())}function cv(i,t){if(i&1){let e=Jt();Yi(0),D(1,"button",150),Ie("click",function(){Me(e);let r=se().$implicit,a=se(3);return ke(a.showCopyMenuDialog(r))}),D(2,"span",23),z(3,"content_copy"),E()(),D(4,"button",151),Ie("click",function(){Me(e);let r=se().$implicit,a=se(3);return ke(a.showMoveMenuDialog(r))}),D(5,"span",23),z(6,"open_with"),E()(),D(7,"button",152),Ie("click",function(){Me(e);let r=se().$implicit,a=se(3);return ke(a.confirmDeleteDish(r))}),Yt(8,"lucide-angular",51),E(),Ki()}if(i&2){let e=se().$implicit,n=se(3);V(),ue("disabled",!e.id||!n.menus||n.menus.length===0),V(3),ue("disabled",!e.id||!n.menus||n.menus.length===0||n.menus.length===1),V(4),ue("size",20)}}function uv(i,t){if(i&1){let e=Jt();Yi(0),D(1,"button",153),Ie("click",function(){Me(e);let r=se().$implicit,a=se(3);return ke(a.confirmRestoreDish(r))}),D(2,"span",23),z(3,"restore"),E()(),Ki()}}function hv(i,t){if(i&1){let e=Jt();D(0,"tr"),Xe(1,Jm,5,2,"td",83),D(2,"td"),Xe(3,Qm,6,4,"div",120)(4,ev,5,0,"div",120)(5,nv,3,2,"div",122),D(6,"div",36)(7,"div",123)(8,"div",124)(9,"strong",125),Ie("click",function(){let r=Me(e).$implicit,a=se(3);return ke(a.editDish(r.id))}),z(10),E(),Xe(11,av,2,1,"ng-container",83),E(),Xe(12,ov,3,6,"div",160),E()()(),D(13,"td"),z(14),E(),D(15,"td")(16,"strong"),z(17),ri(18,"number"),E()(),D(19,"td"),z(20),ri(21,"number"),E(),D(22,"td")(23,"span"),z(24),ri(25,"number"),E()(),D(26,"td")(27,"select",128),Ie("ngModelChange",function(r){let a=Me(e).$implicit,l=se(3);return ke(l.updateDishStatus(a,r))}),D(28,"option",71),z(29,"Disponibile"),E(),D(30,"option",72),z(31,"Non disponibile"),E(),D(32,"option",73),z(33,"Esaurito"),E()()(),D(34,"td"),Xe(35,sv,2,1,"span",127)(36,lv,2,0,"span",127),E(),D(37,"td")(38,"div",129),Xe(39,cv,9,3,"ng-container",83)(40,uv,4,0,"ng-container",83),E()()()}if(i&2){let e=t.$implicit,n=se(3);Ci("opacity-60",e.deleted_at)("bg-gray-50",e.deleted_at),V(),ue("ngIf",n.currentMenu&&n.viewMode==="menu-only"),V(2),ue("ngIf",e.deleted_at),V(),ue("ngIf",!e.deleted_at&&n.isDishWithoutMenu(e.id)),V(),ue("ngIf",!e.deleted_at&&n.viewMode==="all-dishes"&&!n.isDishWithoutMenu(e.id)),V(5),rt(" ",e.name," "),V(),ue("ngIf",e.allergens&&e.allergens.length>0),V(),ue("ngIf",e.description),V(2),Dn(n.getCategoryName(e.category_id||"")),V(3),rt("\u20AC",Si(18,28,e.base_price,"1.2-2"),""),V(3),rt("",Si(21,31,n.calculateFoodCostPercentage(e),"1.0-1"),"%"),V(3),To(n.calculateMargin(e)>=0?"text-muted":"error"),V(),rt(" \u20AC",Si(25,34,n.calculateMargin(e),"1.2-2")," "),V(3),Ci("available",e.status==="available")("unavailable",e.status==="unavailable")("out_of_stock",e.status==="out_of_stock"),ue("ngModel",e.status),V(8),ue("ngIf",e.preparation_time),V(),ue("ngIf",!e.preparation_time),V(3),ue("ngIf",!e.deleted_at),V(),ue("ngIf",e.deleted_at)}}function fv(i,t){if(i&1&&(Yi(0),Xe(1,Km,9,2,"tr",154)(2,hv,41,37,"tr",119),Ki()),i&2){let e=t.$implicit,n=se(2);V(),ue("ngIf",n.getDishesByCategory(e.id).length>0),V(),ue("ngForOf",n.getDishesByCategory(e.id))}}function dv(i,t){if(i&1&&(D(0,"tr",155)(1,"td",163)(2,"div",164)(3,"span",23),z(4,"folder_open"),E(),z(5," Senza Categoria "),D(6,"span",165),z(7),E()()()()),i&2){let e=se(2);V(7),rt(" ",e.getDishesByCategory("").length," piatti ")}}function pv(i,t){if(i&1&&(D(0,"div",135)(1,"span",136),z(2,"delete"),E(),D(3,"span",137),z(4),ri(5,"date"),E()()),i&2){let e=se().$implicit;V(4),rt(" Eliminato il ",Si(5,1,e.deleted_at,"dd/MM/yyyy")," ")}}function gv(i,t){i&1&&(D(0,"div",135)(1,"span",139),z(2,"warning"),E(),D(3,"span",140),z(4," Senza menu "),E()())}function mv(i,t){i&1&&(D(0,"span",168),z(1,"(D)"),E())}function vv(i,t){if(i&1&&(Yi(0),D(1,"span",144)(2,"span",145),z(3,"restaurant_menu"),E(),z(4),Xe(5,mv,2,0,"span",167),E(),Ki()),i&2){let e=t.$implicit;V(),ue("ngClass",Hs(3,Pu,e.is_default,!e.is_default)),V(3),rt(" ",e.name," "),V(),ue("ngIf",e.is_default)}}function _v(i,t){if(i&1&&(D(0,"span",146),z(1),E()),i&2){let e=se(2).$implicit,n=se(2);V(),rt(" +",n.getMenusForDish(e.id).length-1," altri ")}}function yv(i,t){if(i&1&&(D(0,"div",141),Xe(1,vv,6,6,"ng-container",142)(2,_v,2,1,"span",143),E()),i&2){let e=se().$implicit,n=se(2);V(),ue("ngForOf",n.getMenusForDish(e.id)),V(),ue("ngIf",n.isDishInMultipleMenus(e.id))}}function bv(i,t){if(i&1&&(D(0,"span",149),z(1),E()),i&2){let e=t.$implicit,n=se(4);ue("title",n.getAllergenName(e)),V(),rt(" ",e," ")}}function wv(i,t){if(i&1&&(Yi(0,147),Xe(1,bv,2,2,"span",148),Ki()),i&2){let e=se().$implicit;V(),ue("ngForOf",e.allergens)}}function xv(i,t){if(i&1&&(D(0,"div",169),z(1),ri(2,"slice"),E()),i&2){let e=se().$implicit;V(),fa(" ",Gs(2,2,e.description,0,100),"",e.description.length>100?"...":""," ")}}function Sv(i,t){if(i&1&&(D(0,"span",35),z(1),E()),i&2){let e=se().$implicit;V(),rt(" ",e.preparation_time," min ")}}function Av(i,t){i&1&&(D(0,"span",35),z(1,"-"),E())}function Cv(i,t){if(i&1){let e=Jt();D(0,"tr")(1,"td"),Xe(2,pv,6,4,"div",120)(3,gv,5,0,"div",120)(4,yv,3,2,"div",122),D(5,"div",36)(6,"div",123)(7,"div",124)(8,"strong",125),Ie("click",function(){let r=Me(e).$implicit,a=se(2);return ke(a.editDish(r.id))}),z(9),E(),Xe(10,wv,2,1,"ng-container",126),E(),Xe(11,xv,3,6,"div",166),E()()(),D(12,"td",35),z(13,"-"),E(),D(14,"td")(15,"strong"),z(16),ri(17,"number"),E()(),D(18,"td"),z(19),ri(20,"number"),E(),D(21,"td")(22,"span"),z(23),ri(24,"number"),E()(),D(25,"td")(26,"span"),z(27),ri(28,"number"),E()(),D(29,"td")(30,"span",159),z(31),E()(),D(32,"td"),Xe(33,Sv,2,1,"span",127)(34,Av,2,0,"span",127),E()()}if(i&2){let e=t.$implicit,n=se(2);Ci("opacity-60",e.deleted_at)("bg-gray-50",e.deleted_at),V(2),ue("ngIf",e.deleted_at),V(),ue("ngIf",!e.deleted_at&&n.isDishWithoutMenu(e.id)),V(),ue("ngIf",!e.deleted_at&&n.viewMode==="all-dishes"&&!n.isDishWithoutMenu(e.id)),V(5),rt(" ",e.name," "),V(),ue("ngIf",e.allergens&&e.allergens.length>0),V(),ue("ngIf",e.description),V(5),rt("\u20AC",Si(17,25,e.base_price,"1.2-2"),""),V(3),rt("\u20AC",Si(20,28,e.food_cost,"1.2-2"),""),V(3),To(n.calculateMargin(e)>=0?"text-muted":"error"),V(),rt(" \u20AC",Si(24,31,n.calculateMargin(e),"1.2-2")," "),V(3),To(n.calculateMarginPercentage(e)>=0?"text-muted":"error"),V(),rt(" ",Si(28,34,n.calculateMarginPercentage(e),"1.0-0"),"% "),V(3),Ci("active",e.status==="available")("inactive",e.status!=="available"),V(),rt(" ",n.getStatusText(e.status)," "),V(2),ue("ngIf",e.preparation_time),V(),ue("ngIf",!e.preparation_time)}}function Mv(i,t){if(i&1&&(Yi(0),Xe(1,fv,3,2,"ng-container",142)(2,dv,8,1,"tr",154)(3,Cv,35,37,"tr",119),Ki()),i&2){let e=se();V(),ue("ngForOf",e.categories),V(),ue("ngIf",e.getDishesByCategory("").length>0),V(),ue("ngForOf",e.getDishesByCategory(""))}}function kv(i,t){i&1&&(D(0,"tr")(1,"td",170)(2,"div",171)(3,"span",23),z(4,"search_off"),E(),D(5,"h3"),z(6,"Nessun piatto trovato"),E(),D(7,"p"),z(8,"Prova a modificare i filtri di ricerca o aggiungi un nuovo piatto"),E()()()())}function Nv(i,t){if(i&1&&(D(0,"option",89),z(1),ri(2,"number"),E()),i&2){let e=t.$implicit;ue("value",e.id),V(),fa(" ",e.name," - \u20AC",Si(2,3,e.cost_per_unit,"1.2-2")," ")}}function Lv(i,t){if(i&1){let e=Jt();D(0,"div",172)(1,"div",173)(2,"div",174)(3,"div",36)(4,"span",23),z(5,"local_drink"),E(),D(6,"h2",175),z(7,"Aggiungi Bevanda"),E()(),D(8,"button",176),Ie("click",function(){Me(e);let r=se();return ke(r.closeAddDrinkDialog())}),D(9,"span",23),z(10,"close"),E()()(),D(11,"div",177)(12,"div",16)(13,"label",17)(14,"span",23),z(15,"local_bar"),E(),z(16," Seleziona Bevanda "),E(),D(17,"select",178),qt("ngModelChange",function(r){Me(e);let a=se();return Ut(a.selectedDrinkIngredient,r)||(a.selectedDrinkIngredient=r),ke(r)}),D(18,"option",179),z(19,"Seleziona una bevanda..."),E(),Xe(20,Nv,3,6,"option",20),E()(),D(21,"div",16)(22,"label",17)(23,"span",23),z(24,"euro"),E(),z(25," Prezzo di Vendita "),E(),D(26,"input",180),qt("ngModelChange",function(r){Me(e);let a=se();return Ut(a.drinkPrice,r)||(a.drinkPrice=r),ke(r)}),E()()(),D(27,"div",181)(28,"button",79),Ie("click",function(){Me(e);let r=se();return ke(r.closeAddDrinkDialog())}),z(29," Annulla "),E(),D(30,"button",182),Ie("click",function(){Me(e);let r=se();return ke(r.addDrinkFromIngredient())}),Yt(31,"lucide-angular",49),z(32," Aggiungi "),E()()()()}if(i&2){let e=se();V(17),jt("ngModel",e.selectedDrinkIngredient),V(3),ue("ngForOf",e.drinkIngredientService.getDrinkIngredients()),V(6),jt("ngModel",e.drinkPrice),V(4),ue("disabled",!e.selectedDrinkIngredient||!e.drinkPrice),V(),ue("size",20)}}function Dv(i,t){if(i&1&&(D(0,"option",89),z(1),E()),i&2){let e=t.$implicit;ue("value",e.id),V(),fa(" ",e.name," ",e.is_default?"(Default)":""," ")}}function Ev(i,t){i&1&&(D(0,"span",191),z(1,"refresh"),E())}function Pv(i,t){i&1&&(D(0,"span",23),z(1,"check"),E())}function Iv(i,t){if(i&1){let e=Jt();D(0,"div",172)(1,"div",173)(2,"div",174)(3,"div",36)(4,"span",23),z(5),E(),D(6,"h2",175),z(7),E()(),D(8,"button",183),Ie("click",function(){Me(e);let r=se();return ke(r.closeMoveDialog())}),D(9,"span",23),z(10,"close"),E()()(),D(11,"div",177)(12,"div",184),Yt(13,"lucide-angular",185),D(14,"div")(15,"strong"),z(16),E(),Yt(17,"br"),D(18,"span",35),z(19),E()()(),D(20,"div",16)(21,"label",17)(22,"span",23),z(23,"restaurant_menu"),E(),z(24," Menu di destinazione "),E(),D(25,"select",186),qt("ngModelChange",function(r){Me(e);let a=se();return Ut(a.selectedTargetMenuId,r)||(a.selectedTargetMenuId=r),ke(r)}),D(26,"option",179),z(27,"Seleziona un menu..."),E(),Xe(28,Dv,2,3,"option",20),E()(),D(29,"div",187)(30,"div",188),Yt(31,"lucide-angular",185),z(32),E()()(),D(33,"div",181)(34,"button",189),Ie("click",function(){Me(e);let r=se();return ke(r.closeMoveDialog())}),z(35," Annulla "),E(),D(36,"button",182),Ie("click",function(){Me(e);let r=se();return ke(r.moveDishToMenu())}),Xe(37,Ev,2,0,"span",190)(38,Pv,2,0,"span",85),z(39),E()()()()}if(i&2){let e=se();V(5),Dn(e.isCopyMode?"content_copy":"drive_file_move"),V(2),Dn(e.isCopyMode?"Copia Piatto":"Sposta Piatto"),V(),ue("disabled",e.isMoving),V(8),Dn(e.dishToMove==null?null:e.dishToMove.name),V(3),rt(" ",e.isCopyMode?"Seleziona il menu in cui copiare il piatto":"Seleziona il menu di destinazione",""),V(6),jt("ngModel",e.selectedTargetMenuId),ue("disabled",e.isMoving),V(3),ue("ngForOf",e.getAvailableMenusForMove()),V(4),rt(" ",e.isCopyMode?"Il piatto verr\xE0 copiato nel menu selezionato.":"Il piatto verr\xE0 spostato nel menu selezionato e rimosso dal menu corrente."," "),V(2),ue("disabled",e.isMoving),V(2),ue("disabled",!e.selectedTargetMenuId||e.isMoving),V(),ue("ngIf",e.isMoving),V(),ue("ngIf",!e.isMoving),V(),rt(" ",e.isMoving?e.isCopyMode?"Copia...":"Spostamento...":e.isCopyMode?"Copia":"Sposta"," ")}}function Fv(i,t){if(i&1){let e=Jt();D(0,"div",16)(1,"label",17),z(2,"Colore Sfondo"),E(),D(3,"div",215)(4,"input",216),qt("ngModelChange",function(r){Me(e);let a=se(2);return Ut(a.pdfCustomization.backgroundColor,r)||(a.pdfCustomization.backgroundColor=r),ke(r)}),E(),D(5,"input",220),qt("ngModelChange",function(r){Me(e);let a=se(2);return Ut(a.pdfCustomization.backgroundColor,r)||(a.pdfCustomization.backgroundColor=r),ke(r)}),E()()()}if(i&2){let e=se(2);V(4),jt("ngModel",e.pdfCustomization.backgroundColor),V(),jt("ngModel",e.pdfCustomization.backgroundColor)}}function Tv(i,t){if(i&1){let e=Jt();D(0,"div",15)(1,"div",16)(2,"label",17),z(3,"Colore Inizio"),E(),D(4,"div",215)(5,"input",216),qt("ngModelChange",function(r){Me(e);let a=se(2);return Ut(a.pdfCustomization.gradientStart,r)||(a.pdfCustomization.gradientStart=r),ke(r)}),E(),D(6,"input",221),qt("ngModelChange",function(r){Me(e);let a=se(2);return Ut(a.pdfCustomization.gradientStart,r)||(a.pdfCustomization.gradientStart=r),ke(r)}),E()()(),D(7,"div",16)(8,"label",17),z(9,"Colore Fine"),E(),D(10,"div",215)(11,"input",216),qt("ngModelChange",function(r){Me(e);let a=se(2);return Ut(a.pdfCustomization.gradientEnd,r)||(a.pdfCustomization.gradientEnd=r),ke(r)}),E(),D(12,"input",222),qt("ngModelChange",function(r){Me(e);let a=se(2);return Ut(a.pdfCustomization.gradientEnd,r)||(a.pdfCustomization.gradientEnd=r),ke(r)}),E()()()()}if(i&2){let e=se(2);V(5),jt("ngModel",e.pdfCustomization.gradientStart),V(),jt("ngModel",e.pdfCustomization.gradientStart),V(5),jt("ngModel",e.pdfCustomization.gradientEnd),V(),jt("ngModel",e.pdfCustomization.gradientEnd)}}function Bv(i,t){if(i&1){let e=Jt();D(0,"div",16)(1,"label",17),Yt(2,"lucide-angular",223),z(3," Direzione Gradiente "),E(),D(4,"div",210)(5,"button",211),Ie("click",function(){Me(e);let r=se(2);return ke(r.pdfCustomization.gradientDirection="vertical")}),z(6," \u2193 Verticale "),E(),D(7,"button",211),Ie("click",function(){Me(e);let r=se(2);return ke(r.pdfCustomization.gradientDirection="horizontal")}),z(8," \u2192 Orizzontale "),E(),D(9,"button",211),Ie("click",function(){Me(e);let r=se(2);return ke(r.pdfCustomization.gradientDirection="diagonal-right")}),z(10," \u2198 Diagonale Destra "),E(),D(11,"button",211),Ie("click",function(){Me(e);let r=se(2);return ke(r.pdfCustomization.gradientDirection="diagonal-left")}),z(12," \u2199 Diagonale Sinistra "),E()()()}if(i&2){let e=se(2);V(2),ue("size",18),V(3),Ci("active",e.pdfCustomization.gradientDirection==="vertical"),V(2),Ci("active",e.pdfCustomization.gradientDirection==="horizontal"),V(2),Ci("active",e.pdfCustomization.gradientDirection==="diagonal-right"),V(2),Ci("active",e.pdfCustomization.gradientDirection==="diagonal-left")}}function Ov(i,t){if(i&1&&(D(0,"div",90),Yt(1,"img",226),E()),i&2){let e=se(3);V(),ue("src",e.uploadedBackgroundImage,yh)}}function Rv(i,t){if(i&1){let e=Jt();D(0,"div",16)(1,"label",17),Yt(2,"lucide-angular",224),z(3," Carica Immagine Sfondo "),E(),D(4,"input",225),Ie("change",function(r){Me(e);let a=se(2);return ke(a.onBackgroundImageUpload(r))}),E(),Xe(5,Ov,2,1,"div",24),E()}if(i&2){let e=se(2);V(2),ue("size",18),V(3),ue("ngIf",e.uploadedBackgroundImage)}}function zv(i,t){if(i&1){let e=Jt();D(0,"div",16)(1,"label",17),z(2),E(),D(3,"input",227),qt("ngModelChange",function(r){Me(e);let a=se(2);return Ut(a.pdfCustomization.backgroundOpacity,r)||(a.pdfCustomization.backgroundOpacity=r),ke(r)}),E()()}if(i&2){let e=se(2);V(2),rt(" Opacit\xE0 Sfondo: ",e.pdfCustomization.backgroundOpacity,"% "),V(),jt("ngModel",e.pdfCustomization.backgroundOpacity)}}function jv(i,t){if(i&1){let e=Jt();D(0,"div",192),Ie("click",function(){Me(e);let r=se();return ke(r.closePDFCustomizationModal())}),D(1,"div",193),Ie("click",function(r){return Me(e),ke(r.stopPropagation())}),D(2,"div",174)(3,"div",59),Yt(4,"lucide-angular",55),D(5,"h2",175),z(6,"Personalizza Menu PDF"),E()(),D(7,"button",176),Ie("click",function(){Me(e);let r=se();return ke(r.closePDFCustomizationModal())}),Yt(8,"lucide-angular",194),E()(),D(9,"div",195)(10,"div",16)(11,"label",17),Yt(12,"lucide-angular",196),z(13," Font "),E(),D(14,"select",197),qt("ngModelChange",function(r){Me(e);let a=se();return Ut(a.pdfCustomization.font,r)||(a.pdfCustomization.font=r),ke(r)}),D(15,"option",198),z(16,"Helvetica (Sans-serif moderno)"),E(),D(17,"option",199),z(18,"Times New Roman (Serif classico)"),E(),D(19,"option",200),z(20,"Courier (Monospace)"),E(),D(21,"option",201),z(22,"Georgia (Serif elegante)"),E(),D(23,"option",202),z(24,"Verdana (Sans-serif chiaro)"),E(),D(25,"option",203),z(26,"Arial (Sans-serif standard)"),E(),D(27,"option",204),z(28,"Playfair Display (Serif elegante)"),E(),D(29,"option",205),z(30,"Cormorant Garamond (Serif classico)"),E(),D(31,"option",206),z(32,"Montserrat (Sans-serif moderno)"),E(),D(33,"option",207),z(34,"Lato (Sans-serif chiaro)"),E()()(),Yt(35,"div",208),D(36,"div",16)(37,"label",17),Yt(38,"lucide-angular",209),z(39," Tipo Sfondo "),E(),D(40,"div",210)(41,"button",211),Ie("click",function(){Me(e);let r=se();return ke(r.pdfCustomization.backgroundType="theme")}),z(42," Tema Attuale "),E(),D(43,"button",211),Ie("click",function(){Me(e);let r=se();return ke(r.pdfCustomization.backgroundType="color")}),z(44," Colore Solido "),E(),D(45,"button",211),Ie("click",function(){Me(e);let r=se();return ke(r.pdfCustomization.backgroundType="gradient")}),z(46," Gradiente "),E(),D(47,"button",211),Ie("click",function(){Me(e);let r=se();return ke(r.pdfCustomization.backgroundType="image")}),z(48," Immagine "),E()()(),Xe(49,Fv,6,2,"div",212)(50,Tv,13,4,"div",213)(51,Bv,13,9,"div",212)(52,Rv,6,2,"div",212)(53,zv,4,2,"div",212),Yt(54,"div",208),D(55,"h3",214),z(56,"Colori Testo"),E(),D(57,"div",15)(58,"div",16)(59,"label",17),z(60,"Nome Ristorante"),E(),D(61,"div",215)(62,"input",216),qt("ngModelChange",function(r){Me(e);let a=se();return Ut(a.pdfCustomization.restaurantNameColor,r)||(a.pdfCustomization.restaurantNameColor=r),ke(r)}),E(),D(63,"button",217),Ie("click",function(){Me(e);let r=se();return ke(r.pdfCustomization.restaurantNameColor=r.getDefaultColor("restaurantName"))}),z(64," Default Tema "),E()()(),D(65,"div",16)(66,"label",17),z(67,"Titoli Categoria"),E(),D(68,"div",215)(69,"input",216),qt("ngModelChange",function(r){Me(e);let a=se();return Ut(a.pdfCustomization.categoryColor,r)||(a.pdfCustomization.categoryColor=r),ke(r)}),E(),D(70,"button",217),Ie("click",function(){Me(e);let r=se();return ke(r.pdfCustomization.categoryColor=r.getDefaultColor("categoryTitle"))}),z(71," Default Tema "),E()()()(),D(72,"div",15)(73,"div",16)(74,"label",17),z(75,"Prezzi"),E(),D(76,"div",215)(77,"input",216),qt("ngModelChange",function(r){Me(e);let a=se();return Ut(a.pdfCustomization.priceColor,r)||(a.pdfCustomization.priceColor=r),ke(r)}),E(),D(78,"button",217),Ie("click",function(){Me(e);let r=se();return ke(r.pdfCustomization.priceColor=r.getDefaultColor("price"))}),z(79," Default Tema "),E()()(),D(80,"div",16)(81,"label",17),z(82,"Allergeni"),E(),D(83,"div",215)(84,"input",216),qt("ngModelChange",function(r){Me(e);let a=se();return Ut(a.pdfCustomization.allergenColor,r)||(a.pdfCustomization.allergenColor=r),ke(r)}),E(),D(85,"button",217),Ie("click",function(){Me(e);let r=se();return ke(r.pdfCustomization.allergenColor=r.getDefaultColor("allergens"))}),z(86," Default Tema "),E()()()(),D(87,"div",16)(88,"label",17),z(89,"Descrizioni"),E(),D(90,"div",215)(91,"input",216),qt("ngModelChange",function(r){Me(e);let a=se();return Ut(a.pdfCustomization.descriptionColor,r)||(a.pdfCustomization.descriptionColor=r),ke(r)}),E(),D(92,"button",217),Ie("click",function(){Me(e);let r=se();return ke(r.pdfCustomization.descriptionColor=r.getDefaultColor("description"))}),z(93," Default Tema "),E()()()(),D(94,"div",218)(95,"button",52),Ie("click",function(){Me(e);let r=se();return ke(r.resetPDFCustomization())}),Yt(96,"lucide-angular",219),z(97," Reset "),E(),D(98,"button",79),Ie("click",function(){Me(e);let r=se();return ke(r.closePDFCustomizationModal())}),z(99," Annulla "),E(),D(100,"button",48),Ie("click",function(){Me(e);let r=se();return ke(r.generateCustomizedPDF())}),Yt(101,"lucide-angular",53),z(102," Genera PDF "),E()()()()}if(i&2){let e=se();V(4),ue("size",24),V(4),ue("size",20),V(4),ue("size",18),V(2),jt("ngModel",e.pdfCustomization.font),V(24),ue("size",18),V(3),Ci("active",e.pdfCustomization.backgroundType==="theme"),V(2),Ci("active",e.pdfCustomization.backgroundType==="color"),V(2),Ci("active",e.pdfCustomization.backgroundType==="gradient"),V(2),Ci("active",e.pdfCustomization.backgroundType==="image"),V(2),ue("ngIf",e.pdfCustomization.backgroundType==="color"),V(),ue("ngIf",e.pdfCustomization.backgroundType==="gradient"),V(),ue("ngIf",e.pdfCustomization.backgroundType==="gradient"),V(),ue("ngIf",e.pdfCustomization.backgroundType==="image"),V(),ue("ngIf",e.pdfCustomization.backgroundType!=="theme"),V(9),jt("ngModel",e.pdfCustomization.restaurantNameColor),V(7),jt("ngModel",e.pdfCustomization.categoryColor),V(8),jt("ngModel",e.pdfCustomization.priceColor),V(7),jt("ngModel",e.pdfCustomization.allergenColor),V(7),jt("ngModel",e.pdfCustomization.descriptionColor),V(5),ue("size",20),V(5),ue("size",20)}}vc.register(...Kh);var Z0=class i{dishService=Zt(Zs);categoryService=Zt(Ys);router=Zt(Ph);menuDishService=Zt($h);menuService=Zt(Ks);drinkIngredientService=Zt(za);drinkGroupService=Zt(zr);ingredientService=Zt($s);beverageService=Zt(Js);authService=Zt(Fh);restaurantPublicService=Zt(Xh);themeService=Zt(Jh);cdr=Zt(Ah);themeSubscription;fontService=Zt(Bl);menuChartCanvas;sortChartBy="name";chartInstance=null;maxDishesInChart=30;isEditingMenuName=!1;editedMenuName="";isCopyMode=!1;isSpecificMenu=!1;restaurantData=null;isFixedPriceMenu=!1;fixedPriceValue=null;showDeletedDishes=!1;sortedCategories=[];dishes=[];categories=[];menus=[];selectedMenuId=null;currentMenu=null;filteredDishes=[];menuDishes=[];viewMode="menu-only";drinkIngredients=[];drinkTypes=[];showMarkAsDrinkDialog=!1;ingredientToMarkAsDrink=null;selectedDrinkType="";showAddDrinkDialog=!1;selectedDrinkIngredient=null;drinkPrice=null;drinkGroupDetails=[];selectedDrinkGroup="";showMoveDialog=!1;dishToMove=null;selectedTargetMenuId=null;isMoving=!1;stats={totalDishes:0,totalCategories:0,averagePrice:0,averageFoodCostPercentage:0,averageMarginPercentage:0,averageMargin:0};showPDFCustomizationModal=!1;pdfCustomization={font:"helvetica",backgroundType:"theme",backgroundOpacity:10,backgroundColor:"#FFFFFF",gradientStart:"#7209B7",gradientEnd:"#EF233C",gradientDirection:"vertical",categoryColor:"#7209B7",priceColor:"#7209B7",allergenColor:"#EF233C",descriptionColor:"#313131",restaurantNameColor:"#1A1A1A"};uploadedBackgroundImage=null;searchTerm="";selectedCategory="all";statusFilter="all";priceRange={min:null,max:null};sortField="category";sortDirection="asc";ngOnInit(){return tt(this,null,function*(){this.loadData(),yield this.drinkIngredientService.initialize(),yield this.loadRestaurantData(),this.themeSubscription=this.themeService.currentTheme$.subscribe(t=>{setTimeout(()=>{this.prepareAndUpdateChart()},80)})})}loadRestaurantData(){return tt(this,null,function*(){try{let t=yield this.authService.getCurrentRestaurantId();t&&(this.restaurantData=yield this.restaurantPublicService.loadRestaurantById(t),console.log("\u{1F3E2} Dati ristorante caricati:",this.restaurantData))}catch(t){console.error("Errore nel caricamento dei dati del ristorante:",t)}})}loadData(){return tt(this,null,function*(){try{yield Promise.all([this.dishService.loadData(),this.categoryService.loadData(),this.menuService.loadData(),this.menuDishService.loadData()]),this.dishService.data$.subscribe(t=>{this.dishes=t,this.applyFilters(),this.calculateStats()}),this.menuDishService.data$.subscribe(t=>{console.log("\u{1F4E5} menuDishService data$ updated (TUTTI i menuDishes):",t.length),this.menuDishes=t,this.currentMenu&&this.applyFilters()}),this.categoryService.data$.subscribe(t=>{this.categories=t,this.sortedCategories=[...t].sort((e,n)=>(e.order_index||0)-(n.order_index||0)),this.calculateStats()}),this.menuService.data$.subscribe(t=>{if(this.menus=t.map(e=>Ws(Fo({},e),{type:e.type||"global"})),this.menus.length>0){let e=this.menus.find(n=>n.is_default)||this.menus[0];this.selectedMenuId=e.id,this.currentMenu=e,this.syncCheckboxState(),this.applyFilters()}})}catch(t){console.error("Errore nel caricamento dei dati:",t)}})}calculateStats(){let t=this.filteredDishes;if(!t||t.length===0){this.stats={totalDishes:0,totalCategories:0,averagePrice:0,averageFoodCostPercentage:0,averageMarginPercentage:0,averageMargin:0};return}let e=t.length,r=new Set(t.map(p=>p.category_id).filter(p=>p)).size,a=t.reduce((p,A)=>p+(A.base_price||0),0),l=e>0?a/e:0,s=t.reduce((p,A)=>p+(A.base_price-A.food_cost),0),h=e>0?s/e:0,u=t.filter(p=>p.base_price>0),d=u.length,v=0,y=0;d>0&&u.forEach(p=>{let A=p.food_cost/p.base_price*100,N=100-A;v+=A,y+=N}),this.stats={totalDishes:e,totalCategories:r,averagePrice:l,averageFoodCostPercentage:d>0?v/d:0,averageMarginPercentage:d>0?y/d:0,averageMargin:h},console.log("\u{1F4CA} Statistiche piatti visibili:",{visibleDishesCount:t.length,totalDishesInSystem:this.dishes.length,viewMode:this.viewMode,currentMenu:this.currentMenu?.name,stats:this.stats})}applyFilters(){if(!this.dishes||this.dishes.length===0){this.filteredDishes=[];return}let t=this.dishes.filter(e=>this.showDeletedDishes?!0:!e.deleted_at);if(this.currentMenu&&this.viewMode==="menu-only"){let e=this.menuDishes.filter(a=>a.menu_id===this.currentMenu.id&&a.is_active).sort((a,l)=>(a.order_index||0)-(l.order_index||0)),n=new Map;e.forEach((a,l)=>{n.set(a.dish_id,a.order_index||l)});let r=e.map(a=>a.dish_id);t=t.filter(a=>r.includes(a.id)),t=t.sort((a,l)=>{let s=n.get(a.id)||0,h=n.get(l.id)||0;return s-h})}else if(this.viewMode==="without-menu"){let e=this.menuDishes.filter(r=>r.is_active).map(r=>r.dish_id),n=[...new Set(e)];t=t.filter(r=>!n.includes(r.id))}t=this.applyCommonFilters(t),this.currentMenu&&this.viewMode==="menu-only"&&this.sortField==="category"||(t=this.sortDishes(t)),this.filteredDishes=[...t],this.calculateStats(),this.prepareAndUpdateChart()}applyCommonFilters(t){let e=[...t];if(this.searchTerm.trim()){let n=this.searchTerm.toLowerCase();e=e.filter(r=>r.name.toLowerCase().includes(n)||r.description&&r.description.toLowerCase().includes(n))}return this.selectedCategory&&this.selectedCategory!=="all"&&(e=e.filter(n=>n.category_id===this.selectedCategory)),this.statusFilter&&this.statusFilter!=="all"&&(e=e.filter(n=>n.status===this.statusFilter)),this.priceRange.min!==null&&(e=e.filter(n=>n.base_price>=this.priceRange.min)),this.priceRange.max!==null&&(e=e.filter(n=>n.base_price<=this.priceRange.max)),e}sortDishes(t){return t.length?[...t].sort((e,n)=>{let r,a;switch(this.sortField){case"name":r=e.name.toLowerCase(),a=n.name.toLowerCase();break;case"category":r=this.getCategoryName(e.category_id||"").toLowerCase(),a=this.getCategoryName(n.category_id||"").toLowerCase(),r===a&&(r=e.name.toLowerCase(),a=n.name.toLowerCase());break;case"price":r=e.base_price,a=n.base_price;break;case"food_cost_percentage":r=this.calculateFoodCostPercentage(e),a=this.calculateFoodCostPercentage(n);break;case"margin":r=this.calculateMargin(e),a=this.calculateMargin(n);break;default:r=e.name.toLowerCase(),a=n.name.toLowerCase()}return r<a?this.sortDirection==="asc"?-1:1:r>a?this.sortDirection==="asc"?1:-1:0}):t}getViewModeStats(){let t=this.dishes.filter(a=>this.showDeletedDishes?!0:!a.deleted_at),e=new Set(this.menuDishes.filter(a=>a.is_active).map(a=>a.dish_id)),n=0;if(this.currentMenu){let a=new Set(this.menuDishes.filter(l=>l.menu_id===this.currentMenu.id&&l.is_active).map(l=>l.dish_id));n=t.filter(l=>a.has(l.id)).length}let r=t.filter(a=>!e.has(a.id)).length;return{"menu-only":n,"all-dishes":t.length,"without-menu":r}}getDishesWithoutMenu(){let t=new Set(this.menuDishes.filter(e=>e.is_active).map(e=>e.dish_id));return this.dishes.filter(e=>{let n=t.has(e.id),r=this.showDeletedDishes?!0:!e.deleted_at;return!n&&r})}onSort(t){this.sortField===t?this.sortDirection=this.sortDirection==="asc"?"desc":"asc":(this.sortField=t,this.sortDirection="asc"),this.applyFilters()}getCategoryName(t){return this.categories.find(n=>n.id===t)?.name||"Senza categoria"}calculateMargin(t){return t.base_price-t.food_cost}calculateMarginPercentage(t){return t.base_price===0?0:(t.base_price-t.food_cost)/t.base_price*100}getDishesByCategory(t){return this.filteredDishes.filter(e=>e.category_id===t)}resetFilters(){this.searchTerm="",this.selectedCategory="all",this.statusFilter="all",this.priceRange={min:null,max:null},this.sortField="category",this.sortDirection="asc",this.applyFilters()}getStatusText(t){return{available:"Disponibile",unavailable:"Non disponibile",out_of_stock:"Esaurito"}[t]||t}editDish(t){this.currentMenu?this.router.navigate(["/food-cost-calculator",t],{queryParams:{menuId:this.currentMenu.id,returnToMenuBuilder:"true"}}):this.router.navigate(["/food-cost-calculator",t])}createNewDish(){this.currentMenu?this.router.navigate(["/food-cost"],{queryParams:{menuId:this.currentMenu.id,returnToMenuBuilder:"true"}}):this.router.navigate(["/restaurant/menu/food-cost"])}calculateFoodCostPercentage(t){return!t.base_price||t.base_price===0?0:t.food_cost/t.base_price*100}updateDishStatus(t,e){return tt(this,null,function*(){try{let n=t.status;e==="available"||e==="unavailable"||e==="out_of_stock"?(t.status=e,(yield this.dishService.updateDish(t.id,{status:e}))?(console.log(`Stato piatto ${t.name} aggiornato a: ${e}`),this.calculateStats()):(t.status=n,console.error("Errore nell'aggiornamento dello stato del piatto"),alert("Errore durante l'aggiornamento dello stato. Riprova."))):(console.error("Stato non valido:",e),alert("Stato non valido selezionato."))}catch(n){console.error("Errore durante l'aggiornamento dello stato:",n),alert("Errore durante l'aggiornamento dello stato.")}})}confirmDeleteDish(t){return tt(this,null,function*(){let e=`Sei sicuro di voler eliminare il piatto "${t.name}"?

Questa azione non pu\xF2 essere annullata.`;confirm(e)&&(yield this.deleteDish(t.id))})}deleteDish(t){return tt(this,null,function*(){try{(yield this.dishService.deleteDish(t))?console.log("\u2705 Piatto eliminato con successo"):alert("Errore durante l'eliminazione del piatto")}catch(e){console.error("\u274C Errore durante l'eliminazione:",e),alert("Errore durante l'eliminazione del piatto")}})}loadMenuDishes(){return tt(this,null,function*(){this.currentMenu&&(this.menuDishes=yield this.menuDishService.getDishesWithDetailsByMenu(this.currentMenu.id))})}changeMenu(t){let e=this.menus.find(n=>n.id===t);e&&!e.is_active&&!e.is_default&&!confirm(`\u26A0\uFE0F Attenzione: il menu "${e.name}" \xE8 disattivato.
Vuoi comunque selezionarlo?`)||(this.selectedMenuId=t,this.currentMenu=e||null,this.currentMenu?(this.syncCheckboxState(),this.applyFilters()):this.isSpecificMenu=!1)}createNewMenu(){return tt(this,null,function*(){let t=prompt("Nome del nuovo menu:");if(t){let e=prompt("Descrizione (opzionale):"),n=confirm("Impostare come menu di default?"),r=confirm("\xC8 un menu specifico (dedicato)?"),a=e||void 0,l;r?l=yield this.menuService.createDedicatedMenu(t,a):l=yield this.menuService.createMenu(t,a,n),l&&(this.currentMenu=l,this.syncCheckboxState(),this.selectedMenuId=l.id,this.loadMenuDishes(),yield this.menuService.loadData())}})}toggleDishInMenu(t){return tt(this,null,function*(){if(!this.currentMenu)return;let e=this.menuDishes.find(n=>n.menu_id===this.currentMenu.id&&n.dish_id===t.id);if(e)yield this.menuService.removeDishFromMenu(e.id);else{let n=yield this.menuDishService.addDishToMenu(this.currentMenu.id,t.id,t.category_id||"");n&&(this.menuDishes=[...this.menuDishes,n])}this.applyFilters()})}loadAvailableDishes(){return tt(this,null,function*(){yield this.dishService.loadData()})}isDishInCurrentMenu(t){return this.currentMenu?this.menuDishes.some(e=>e.menu_id===this.currentMenu.id&&e.dish_id===t&&e.is_active):!1}closeMoveDialog(){this.showMoveDialog=!1,this.dishToMove=null,this.selectedTargetMenuId=null,this.isMoving=!1}moveDishToMenu(){return tt(this,null,function*(){if(console.log("\u{1F680} moveDishToMenu chiamato - isCopyMode:",this.isCopyMode),!this.dishToMove||!this.selectedTargetMenuId){console.error("\u274C Dati mancanti");return}let t=this.menus.find(e=>e.id===this.selectedTargetMenuId);if(!t){alert("Menu di destinazione non trovato!");return}this.isMoving=!0;try{if(this.isCopyMode){console.log("\u{1F4CB} MODALIT\xC0 COPIA: clono il piatto");let e=yield this.dishService.cloneDish(this.dishToMove.id,t.name);if(!e)throw new Error("Errore nella clonazione del piatto");if(console.log("\u2705 Piatto clonato:",e.id,e.name),this.menuDishes.some(a=>a&&a.menu_id===this.selectedTargetMenuId&&a.dish_id===e.id&&a.is_active)){alert(`Il piatto clonato \xE8 gi\xE0 nel menu "${t.name}"`),this.closeMoveDialog();return}let r=yield this.menuService.addDishToMenu(this.selectedTargetMenuId,e.id,e.category_id||"",0);if(r){console.log("\u2705 Piatto clonato aggiunto al menu"),this.menuDishes=[...this.menuDishes,r],yield this.menuService.loadMenuDishes(this.selectedTargetMenuId),yield this.dishService.loadData(),this.applyFilters(),alert(`\u2705 Piatto "${this.dishToMove.name}" COPIATO (come "${e.name}") e aggiunto al menu "${t.name}"`),this.closeMoveDialog();return}else throw new Error("Errore nell'aggiunta del piatto clonato al menu")}else{if(console.log("\u{1F504} MODALIT\xC0 SPOSTA: sposto il piatto esistente"),this.menuDishes.some(r=>r&&r.menu_id===this.selectedTargetMenuId&&r.dish_id===this.dishToMove.id&&r.is_active)){alert(`Il piatto "${this.dishToMove.name}" \xE8 gi\xE0 nel menu "${t.name}"`),this.closeMoveDialog();return}let n=this.menuDishes.find(r=>r&&r.dish_id===this.dishToMove.id&&r.is_active);if(n)if(console.log("\u{1F4CB} Record trovato per lo spostamento:",n.id),yield this.menuService.updateMenuDish(n.id,{menu_id:this.selectedTargetMenuId})){console.log("\u2705 Record aggiornato con nuovo menu_id"),this.menuDishes=this.menuDishes.map(a=>a&&a.id===n.id?Ws(Fo({},a),{menu_id:this.selectedTargetMenuId}):a),n.menu_id&&(yield this.menuService.loadMenuDishes(n.menu_id)),yield this.menuService.loadMenuDishes(this.selectedTargetMenuId),this.applyFilters(),alert(`\u2705 Piatto "${this.dishToMove.name}" SPOSTATO al menu "${t.name}"`),this.closeMoveDialog();return}else throw new Error("Errore nell'aggiornamento del record");else{console.log("\u2795 Il piatto non \xE8 in nessun menu, lo aggiungo al menu di destinazione");let r=yield this.menuService.addDishToMenu(this.selectedTargetMenuId,this.dishToMove.id,this.dishToMove.category_id||"",0);if(r){console.log("\u2705 Piatto aggiunto al menu di destinazione"),this.menuDishes=[...this.menuDishes,r],yield this.menuService.loadMenuDishes(this.selectedTargetMenuId),this.applyFilters(),alert(`\u2705 Piatto "${this.dishToMove.name}" AGGIUNTO al menu "${t.name}"`),this.closeMoveDialog();return}else throw new Error("Errore nell'aggiunta del piatto al menu")}}}catch(e){console.error("\u274C Errore:",e);let n=this.isCopyMode?"copia":"spostamento";alert(`\u274C Errore durante la ${n} del piatto: ${e.message||"Errore sconosciuto"}`)}finally{this.isMoving=!1}})}getAvailableMenusForMove(){if(this.dishToMove&&!this.isCopyMode){let t=this.getMenuForDish(this.dishToMove.id);if(t)return this.menus.filter(e=>e.id!==t.id)}return this.menus}showDishesWithoutMenu(){this.setViewMode("without-menu")}setViewMode(t){this.viewMode=t,this.applyFilters(),t==="without-menu"&&setTimeout(()=>{let e=document.querySelector(".piatti-senza-menu");e&&e.scrollIntoView({behavior:"smooth"})},100)}startEditMenuName(){this.currentMenu&&(this.editedMenuName=this.currentMenu.name,this.isEditingMenuName=!0)}saveMenuName(){return tt(this,null,function*(){this.currentMenu&&this.editedMenuName.trim()&&((yield this.menuService.updateMenu(this.currentMenu.id,{name:this.editedMenuName}))?(this.isEditingMenuName=!1,yield this.menuService.loadData(),this.changeMenu(this.currentMenu.id)):alert("Errore durante il salvataggio del nome menu."))})}cancelEditMenuName(){this.isEditingMenuName=!1,this.editedMenuName=""}showCopyMenuDialog(t){console.log("\u{1F535} MODAL COPIA attivato per:",t.name),this.dishToMove=t,this.selectedTargetMenuId=null,this.showMoveDialog=!0,this.isCopyMode=!0;let e=this.getMenuForDish(t.id);console.log("\u{1F535} Piatto attualmente in menu:",e?.name||"Nessun menu")}showMoveMenuDialog(t){console.log("\u{1F534} MODAL SPOSTA attivato per:",t.name),this.dishToMove=t,this.selectedTargetMenuId=null,this.showMoveDialog=!0,this.isCopyMode=!1;let e=this.getMenuForDish(t.id);console.log("\u{1F534} DEBUG showMoveMenuDialog:",{dishId:t.id,dishName:t.name,currentMenu:e?.name||"Nessun menu",currentMenuId:e?.id,totalMenus:this.menus.length,menuNames:this.menus.map(r=>r.name)});let n=this.getAvailableMenusForMove();console.log("\u{1F534} Menu disponibili per spostamento:",n.map(r=>r.name)),n.length===0&&(console.warn("\u26A0\uFE0F Nessun menu disponibile per lo spostamento!"),setTimeout(()=>{alert("Non ci sono altri menu disponibili per lo spostamento."),this.closeMoveDialog()},100))}toggleMenuType(){return tt(this,null,function*(){if(!this.currentMenu||this.currentMenu.is_default)return;let t=this.currentMenu.type==="global"?"dedicated":"global";try{if(yield this.menuService.updateMenu(this.currentMenu.id,{type:t})){let n=Ws(Fo({},this.currentMenu),{type:t});this.currentMenu=n;let r=this.menus.findIndex(a=>a.id===this.currentMenu.id);r!==-1&&(this.menus[r]=n),this.isSpecificMenu=t==="dedicated",yield this.menuService.loadData(),console.log(`\u2705 Menu "${this.currentMenu.name}" impostato come ${t}`)}else alert("Errore durante l'aggiornamento del tipo menu")}catch(e){console.error("Errore nel toggle menu type:",e)}})}syncCheckboxState(){this.currentMenu?(this.isSpecificMenu=this.currentMenu.type==="dedicated",this.isFixedPriceMenu=this.currentMenu.fixed_price!=null,this.fixedPriceValue=this.currentMenu.fixed_price??null):(this.isSpecificMenu=!1,this.isFixedPriceMenu=!1,this.fixedPriceValue=null)}toggleShowDeletedDishes(){return tt(this,null,function*(){if(this.showDeletedDishes=!this.showDeletedDishes,this.showDeletedDishes){let t=yield this.dishService.getAllDishesIncludingDeleted();this.dishes=t}else yield this.dishService.loadData();this.applyFilters(),this.calculateStats()})}isDishWithoutMenu(t){return!t||this.dishes.find(n=>n.id===t)?.deleted_at&&!this.showDeletedDishes?!1:!this.existsDishInAnyMenu(t)}getDeletedDishesCount(){return this.dishes.filter(t=>t.deleted_at).length}getDishesWithoutMenuRespectingDeleted(){let t=this.menuDishes.filter(n=>n.is_active===!0).map(n=>n.dish_id),e=[...new Set(t)];return console.log("\u{1F50D} Piatti con menu:",e.length),console.log("\u{1F50D} Piatti totali:",this.dishes.length),this.dishes.filter(n=>{let r=e.includes(n.id),a=this.showDeletedDishes?!0:!n.deleted_at;return!r&&a})}confirmRestoreDish(t){return tt(this,null,function*(){let e=`Sei sicuro di voler ripristinare il piatto "${t.name}"?

Il piatto torner\xE0 disponibile nel sistema.`;confirm(e)&&(yield this.restoreDish(t.id))})}restoreDish(t){return tt(this,null,function*(){try{if(yield this.dishService.restoreDish(t)){console.log("\u2705 Piatto ripristinato con successo");let n=this.dishes.findIndex(a=>a.id===t);n!==-1&&(this.dishes[n].deleted_at=null,this.dishes[n].status="available"),!this.dishes.some(a=>a.deleted_at)&&this.showDeletedDishes?(this.showDeletedDishes=!1,yield this.dishService.loadData()):this.applyFilters(),this.calculateStats(),alert("\u2705 Piatto ripristinato con successo!")}else alert("\u274C Errore durante il ripristino del piatto")}catch(e){console.error("\u274C Errore durante il ripristino:",e),alert("Errore durante il ripristino del piatto")}})}hasDeletedDishes(){return this.dishes.some(t=>t.deleted_at)}refreshAllData(){return tt(this,null,function*(){try{console.log("\u{1F504} Ricarica completa dei dati..."),yield Promise.all([this.dishService.loadData(),this.categoryService.loadData(),this.menuService.loadData(),this.menuDishService.loadData()]),this.currentMenu&&(yield this.menuDishService.loadDishesForMenu(this.currentMenu.id)),this.applyFilters(),this.calculateStats(),console.log("\u2705 Dati ricaricati con successo")}catch(t){console.error("\u274C Errore durante il refresh dei dati:",t)}})}onDeleteMenu(t){return tt(this,null,function*(){if(!t)return;if(t.is_default){alert("\u274C Non puoi eliminare il menu di default. Imposta prima un altro menu come default.");return}let n=confirm(`Sei sicuro di voler eliminare il menu "${t.name}"?

Clicca:
\u2022 "OK" per eliminare anche tutti i piatti del menu
\u2022 "Annulla" per eliminare solo il menu (i piatti rimarranno nel sistema ma senza menu)`);try{if(n){if(!confirm(`ATTENZIONE: Stai per eliminare il menu "${t.name}" e TUTTI i suoi piatti.
Questa azione non pu\xF2 essere annullata.

Sei assolutamente sicuro?`))return;let s=this.menuDishes.filter(h=>h.menu_id===t.id);for(let h of s)yield this.dishService.deleteDish(h.dish_id)}let r=this.menuDishes.filter(l=>l.menu_id===t.id);for(let l of r)yield this.menuDishService.delete(l.id);if(yield this.menuService.delete(t.id)){if(yield this.loadData(),this.menus.length>0){let l=this.menus.find(s=>s.is_default)||this.menus[0];this.changeMenu(l.id)}else this.currentMenu=null,this.selectedMenuId=null;alert(`\u2705 Menu "${t.name}" eliminato con successo!`)}else alert("\u274C Errore durante l'eliminazione del menu")}catch(r){console.error("\u274C Errore durante l'eliminazione del menu:",r),alert("Errore durante l'eliminazione del menu")}})}getMenuForDish(t){if(!t||!this.menuDishes||!this.menus)return null;let e=this.menuDishes.find(n=>n.dish_id===t&&n.is_active);return e&&this.menus.find(n=>n.id===e.menu_id)||null}existsDishInAnyMenu(t){return!t||!this.menuDishes||this.menuDishes.length===0?!1:this.menuDishes.some(e=>e.dish_id===t&&e.is_active===!0)}isSortingByNonCategoryField(){return["name","price","food_cost_percentage","margin"].includes(this.sortField)}toggleMenuFavorite(){return tt(this,null,function*(){if(!(!this.currentMenu||this.currentMenu.is_default))try{let t=!this.currentMenu.is_favorite;if(yield this.menuService.updateMenu(this.currentMenu.id,{is_favorite:t})){this.currentMenu.is_favorite=t;let n=this.menus.findIndex(r=>r.id===this.currentMenu.id);n!==-1&&(this.menus[n].is_favorite=t),console.log(`\u2705 Menu "${this.currentMenu.name}" ${t?"aggiunto ai":"rimosso dai"} preferiti`)}else alert("\u274C Errore durante l'aggiornamento del menu")}catch(t){console.error("\u274C Errore toggleMenuFavorite:",t),alert("Errore durante l'aggiornamento del menu")}})}toggleMenuActive(){return tt(this,null,function*(){if(!this.currentMenu||this.currentMenu.is_default){alert("\u26A0\uFE0F Il menu di default non pu\xF2 essere disattivato");return}try{let t=!this.currentMenu.is_active,e=t?`Attivare il menu "${this.currentMenu.name}"?`:`Disattivare il menu "${this.currentMenu.name}"?

I piatti rimarranno nel sistema ma non saranno visibili nei selettori.`;if(!confirm(e))return;let n;if(t||(n=this.menus.find(a=>a.is_active&&a.id!==this.currentMenu.id&&!a.is_default),n||(n=this.menus.find(a=>a.is_default)),!n&&this.menus.length>0&&(n=this.menus[0])),yield this.menuService.updateMenu(this.currentMenu.id,{is_active:t})){this.currentMenu.is_active=t;let a=this.menus.findIndex(l=>l.id===this.currentMenu.id);a!==-1&&(this.menus[a].is_active=t),!t&&n&&(this.selectedMenuId=n.id,this.currentMenu=n,this.syncCheckboxState(),this.applyFilters(),setTimeout(()=>{this.selectedMenuId=n.id},0)),!t&&!n&&(alert("\u26A0\uFE0F Attenzione: questo era l'ultimo menu attivo!"),this.selectedMenuId=null,this.currentMenu=null,this.isSpecificMenu=!1,this.applyFilters()),console.log(`\u2705 Menu "${this.currentMenu?.name}" ${t?"attivato":"disattivato"}`)}else alert("\u274C Errore durante l'aggiornamento del menu")}catch(t){console.error("\u274C Errore toggleMenuActive:",t),alert("Errore durante l'aggiornamento del menu")}})}toggleMenuDefault(){return tt(this,null,function*(){if(!(!this.currentMenu||this.currentMenu.is_default))try{let t=`Impostare il menu "${this.currentMenu.name}" come menu di default?

Attenzione: Questo menu diventer\xE0 il menu principale del ristorante.
Il menu default corrente verr\xE0 automaticamente impostato come non default.`;if(!confirm(t))return;if(yield this.menuService.setAsDefault(this.currentMenu.id)){let n=this.menus.find(a=>a.is_default&&a.id!==this.currentMenu.id);n&&(n.is_default=!1),this.currentMenu.is_default=!0;let r=this.menus.findIndex(a=>a.id===this.currentMenu.id);r!==-1&&(this.menus[r].is_default=!0),this.currentMenu.is_active=!0,this.currentMenu.type="global",this.isSpecificMenu=!1,yield this.menuService.loadData(),console.log(`\u2705 Menu "${this.currentMenu.name}" impostato come default`),alert(`\u2705 Menu "${this.currentMenu.name}" impostato come menu di default!`)}else alert("\u274C Errore durante l'impostazione del menu come default")}catch(t){console.error("\u274C Errore toggleMenuDefault:",t),alert("Errore durante l'impostazione del menu come default")}})}loadDrinkGroupDetails(){return tt(this,null,function*(){this.drinkGroupDetails=yield this.drinkGroupService.getDrinkGroupDetails()})}openMarkAsDrinkDialog(t){this.ingredientToMarkAsDrink=t,this.selectedDrinkGroup="",this.showMarkAsDrinkDialog=!0}markIngredientAsDrink(){return tt(this,null,function*(){if(!this.ingredientToMarkAsDrink||!this.selectedDrinkGroup)return;(yield this.drinkIngredientService.markAsDrink(this.ingredientToMarkAsDrink.id,this.selectedDrinkGroup))?(alert("Ingrediente contrassegnato come bevanda!"),this.closeMarkAsDrinkDialog(),yield this.ingredientService.loadData()):alert("Errore nel contrassegnare come bevanda")})}getDrinkGroupName(t){return this.drinkIngredientService.getGroupNameForIngredient(t)}closeMarkAsDrinkDialog(){this.showMarkAsDrinkDialog=!1,this.ingredientToMarkAsDrink=null,this.selectedDrinkType=""}openAddDrinkDialog(){return tt(this,null,function*(){yield this.drinkIngredientService.initialize(),this.selectedDrinkIngredient=null,this.drinkPrice=null,this.showAddDrinkDialog=!0})}closeAddDrinkDialog(){this.showAddDrinkDialog=!1,this.selectedDrinkIngredient=null,this.drinkPrice=null}addDrinkFromIngredient(){return tt(this,null,function*(){if(!this.selectedDrinkIngredient||!this.drinkPrice||!this.currentMenu){alert("Seleziona una bevanda e inserisci un prezzo");return}try{(yield this.beverageService.createBeverageFromIngredient(this.selectedDrinkIngredient,this.drinkPrice,this.currentMenu.id))&&(alert("Bevanda aggiunta con successo!"),this.closeAddDrinkDialog(),yield this.refreshAllData())}catch(t){console.error("Errore:",t),alert("Errore nell'aggiunta della bevanda")}})}exportToPDF(){if(this.filteredDishes.length===0){alert("Non ci sono piatti da esportare!");return}let t=new Ue({orientation:"landscape",unit:"mm",format:"a4"}),e=14,n=12;t.setFontSize(18),t.setTextColor(44,62,80),t.text(`Men\xF9: ${this.currentMenu?.name||"Panoramica Piatti"}`,e,n),n+=8,t.setFontSize(11),t.setTextColor(100);let r=new Date().toLocaleDateString("it-IT"),a=this.getViewModeLabel(this.viewMode);t.text(`Generato il ${r}  \u2022  ${a}`,e,n),n+=12,t.setFontSize(12),t.setTextColor(40),t.setFont("Bodoni Moda","bold"),t.text("Riepilogo KPI",e,n),n+=8,t.setFontSize(10),t.setFont("Bodoni Moda","normal"),t.setTextColor(60),[`Totale Piatti:          ${this.stats.totalDishes}`,`Categorie:              ${this.stats.totalCategories}`,`Prezzo Medio:           \u20AC${this.stats.averagePrice.toFixed(2)}`,`Margine Medio:          \u20AC${this.stats.averageMargin.toFixed(2)}`,`Food Cost Medio:        ${this.stats.averageFoodCostPercentage.toFixed(1)}%`].forEach(v=>{t.text(v,e+6,n),n+=7}),n+=8;let s=this.filteredDishes.map(v=>[v.name||"",this.getCategoryName(v.category_id||""),v.allergens&&v.allergens.length>0?v.allergens.sort((y,p)=>y-p).join(", "):"-",`\u20AC${(v.base_price||0).toFixed(2)}`,`${this.calculateFoodCostPercentage(v).toFixed(1)}%`,`\u20AC${this.calculateMargin(v).toFixed(2)}`,this.getStatusText(v.status||"unknown"),v.preparation_time?`${v.preparation_time} min`:"-"]);$0(t,{head:[["Nome","Categoria","Allergeni","Prezzo","FC %","Margine (\u20AC)","Stato","Tempo Prep."]],body:s,startY:n,theme:"grid",styles:{fontSize:8,cellPadding:3,textColor:[44,62,80],lineColor:[200,200,200],lineWidth:.1},headStyles:{fillColor:[44,62,80],textColor:[255,255,255],fontStyle:"bold"},alternateRowStyles:{fillColor:[245,247,250]},columnStyles:{0:{cellWidth:45},1:{cellWidth:35},2:{cellWidth:25,halign:"center"},3:{cellWidth:22,halign:"right"},4:{cellWidth:18,halign:"right"},5:{cellWidth:25,halign:"right"},6:{cellWidth:25,halign:"center"},7:{cellWidth:22,halign:"center"}},margin:{left:e,right:e}});let u=t.lastAutoTable.finalY||n;t.setFontSize(10),t.setTextColor(100),t.text(`Totale piatti mostrati: ${this.filteredDishes.length}`,e,u+12);let d=`Menu_${this.currentMenu?.name||"Piatti"}_${new Date().toISOString().slice(0,10)}.pdf`;t.save(d)}getViewModeLabel(t){return{"menu-only":"Solo questo menu","all-dishes":"Tutti i piatti","without-menu":"Piatti senza menu"}[t]||t}getMenusForDish(t){if(!t||!this.menuDishes||!this.menus||this.menuDishes.length===0)return[];let e=this.menuDishes.filter(r=>r&&r.dish_id===t&&r.is_active===!0),n=[];return e.forEach(r=>{let a=this.menus.find(l=>l&&l.id===r.menu_id);a&&n.push(a)}),n}getMainMenuNameForDish(t){let e=this.getMenusForDish(t);if(e.length===0)return"";let n=e.find(r=>r.is_default);return n?n.name:e[0].name}isDishInMultipleMenus(t){return this.getMenusForDish(t).length>1}isDishInMenu(t,e){let n=e||this.currentMenu?.id;return n?this.menuDishes.some(r=>r.dish_id===t&&r.menu_id===n&&r.is_active):!1}exportCustomerPDF(t){return tt(this,null,function*(){if(this.filteredDishes.length===0){alert("Non ci sono piatti da esportare!");return}let e=this.getCurrentTheme(),n=t?this.getCustomColors(e,t):this.getDefaultColors(e),r=new Ue({orientation:"portrait",unit:"mm",format:"a4",compress:!0});this.fontService.registerFonts(r);let a=t?.font?this.mapFont(t.font):"helvetica",l=15,s=r.internal.pageSize.width,h=r.internal.pageSize.height,u=20,d=()=>tt(this,null,function*(){t?yield this.drawBackground(r,s,h,t,n):(r.setFillColor(n.background[0],n.background[1],n.background[2]),r.rect(0,0,s,h,"F"))});yield d();let v=!1;if(this.restaurantData?.logo_url)try{let W=this.restaurantData.logo_url,U=new Image;U.crossOrigin="anonymous",U.src=W+"?t="+Date.now(),yield new Promise((j,ie)=>{U.onload=j,U.onerror=()=>ie(new Error("Impossibile caricare logo: "+W))});let le=40,we=40,pe=(s-le)/2,X=15;r.addImage(U,"PNG",pe,X,le,we),u=X+we+8,v=!0}catch(W){console.warn("Logo non aggiunto:",W)}v||(u=20),r.setFontSize(18),r.setTextColor(n.restaurantName[0],n.restaurantName[1],n.restaurantName[2]),r.setFont(a,"bold");let y=this.restaurantData?.name||"Il tuo Ristorante",p=r.getTextWidth(y);r.text(y,(s-p)/2,u),u+=8,r.setFontSize(14),r.setTextColor(n.menuTitle[0],n.menuTitle[1],n.menuTitle[2]),r.setFont(a,"normal");let A=`Menu ${this.currentMenu?.name||""}`,N=r.getTextWidth(A);if(r.text(A,(s-N)/2,u),u+=12,this.restaurantData?.address||this.restaurantData?.phone||this.restaurantData?.email){r.setFontSize(10),r.setTextColor(n.textLight[0],n.textLight[1],n.textLight[2]);let W="";this.restaurantData.address&&(W+=this.restaurantData.address),this.restaurantData.phone&&(W+=(W?" \u2022 ":"")+this.restaurantData.phone),this.restaurantData.email&&(W+=(W?" \u2022 ":"")+this.restaurantData.email);let U=r.getTextWidth(W);r.text(W,(s-U)/2,u),u+=10}r.setDrawColor(n.line[0],n.line[1],n.line[2]),r.line(l,u,s-l,u),u+=12;let I=this.groupDishesByCategory();for(let W of I){h-u<35&&(r.addPage(),u=l,yield d());let le=15+W.dishes.length*12;u+le>h-12&&(r.addPage(),u=l,yield d()),r.setFontSize(14),r.setTextColor(n.categoryTitle[0],n.categoryTitle[1],n.categoryTitle[2]);let we=t?.font||"helvetica",pe=this.mapFont(we);r.setFont(pe,"bold"),r.text(W.name.toUpperCase(),l,u),u+=10,r.setDrawColor(n.categoryTitle[0],n.categoryTitle[1],n.categoryTitle[2]),r.setLineWidth(.3),r.line(l,u-2,s-l,u-2),u+=4;for(let X of W.dishes){u>h-20&&(r.addPage(),u=l,yield d()),r.setFontSize(12),r.setTextColor(n.textMain[0],n.textMain[1],n.textMain[2]),r.setFont(pe,"bold");let j=X.name;r.text(j,l+2,u);let ie=`\u20AC ${(X.base_price||0).toFixed(2)}`;r.setTextColor(n.price[0],n.price[1],n.price[2]);let k=r.getTextWidth(ie);if(r.text(ie,s-l-k,u),X.allergens&&X.allergens.length>0){r.setFontSize(9),r.setTextColor(n.allergens[0],n.allergens[1],n.allergens[2]),r.setFont(pe,"normal");let $=` [${[...X.allergens].sort((ce,de)=>ce-de).join(", ")}]`,H=l+2+r.getTextWidth(j)+20;H+r.getTextWidth($)<s-l-k-5&&r.text($,H,u)}if(u+=5,X.description&&X.description.trim()!==""){r.setFontSize(10),r.setTextColor(n.description[0],n.description[1],n.description[2]),r.setFont(pe,"normal");let F=s-2*l-20,$=r.splitTextToSize(X.description,F);for(let H of $)u>h-20&&(r.addPage(),u=l,yield d()),r.text(H,l+5,u),u+=5}u+=4}u+=6}let C=r.getNumberOfPages();for(let W=1;W<=C;W++)r.setPage(W),r.setFontSize(9),r.setTextColor(n.pageNumber[0],n.pageNumber[1],n.pageNumber[2]),r.text(`Pagina ${W} di ${C}`,s/2,h-10,{align:"center"});let Z=`Menu_${this.currentMenu?.name||"Ristorante"}_${new Date().toISOString().slice(0,10)}.pdf`;r.save(Z)})}getDefaultColors(t){return t==="dark"?{background:[15,15,20],textMain:[245,245,247],textLight:[161,161,179],categoryTitle:[114,9,183],price:[114,9,183],allergens:[239,35,60],line:[42,42,58],restaurantName:[245,245,247],menuTitle:[114,9,183],description:[161,161,179],pageNumber:[140,140,160]}:{background:[250,250,252],textMain:[26,26,26],textLight:[49,49,49],categoryTitle:[114,9,183],price:[114,9,183],allergens:[239,35,60],line:[200,200,200],restaurantName:[26,26,26],menuTitle:[114,9,183],description:[49,49,49],pageNumber:[100,100,120]}}exportCustomerPDFWithCustomization(t){return tt(this,null,function*(){if(this.filteredDishes.length===0){alert("Non ci sono piatti da esportare!");return}let e=this.getCurrentTheme(),n=t?this.getCustomColors(e,t):this.getDefaultColors(e),r=new Ue({orientation:"portrait",unit:"mm",format:"a4",compress:!0});this.fontService.registerFonts(r);let a=t?.font?this.mapFont(t.font):"helvetica",l=15,s=r.internal.pageSize.width,h=r.internal.pageSize.height,u=20;yield tt(this,null,function*(){yield this.drawBackground(r,s,h,t,n)}),r.setTextColor(n.restaurantName[0],n.restaurantName[1],n.restaurantName[2]);let v=`Menu_${this.currentMenu?.name||"Ristorante"}_${new Date().toISOString().slice(0,10)}.pdf`;r.save(v)})}getCustomColors(t,e){let n=t==="dark"?{background:[15,15,20],textMain:[245,245,247],textLight:[161,161,179],categoryTitle:[114,9,183],price:[114,9,183],allergens:[239,35,60],line:[42,42,58],restaurantName:[245,245,247],menuTitle:[114,9,183],description:[161,161,179],pageNumber:[140,140,160]}:{background:[250,250,252],textMain:[26,26,26],textLight:[49,49,49],categoryTitle:[114,9,183],price:[114,9,183],allergens:[239,35,60],line:[200,200,200],restaurantName:[26,26,26],menuTitle:[114,9,183],description:[49,49,49],pageNumber:[100,100,120]},r=e.restaurantNameColor?this.hexToRgb(e.restaurantNameColor):n.restaurantName;return{background:n.background,textMain:n.textMain,textLight:n.textLight,categoryTitle:e.categoryColor?this.hexToRgb(e.categoryColor):n.categoryTitle,price:e.priceColor?this.hexToRgb(e.priceColor):n.price,allergens:e.allergenColor?this.hexToRgb(e.allergenColor):n.allergens,line:n.line,restaurantName:r,menuTitle:r,description:e.descriptionColor?this.hexToRgb(e.descriptionColor):n.description,pageNumber:n.pageNumber}}drawBackground(t,e,n,r,a){return tt(this,null,function*(){switch(r.backgroundType){case"theme":{t.setFillColor(a.background[0],a.background[1],a.background[2]),t.rect(0,0,e,n,"F");break}case"color":{let l=this.hexToRgb(r.backgroundColor||"#FFFFFF"),s=(r.backgroundOpacity??100)/100;t.saveGraphicsState(),t.setGState(new t.GState({opacity:s})),t.setFillColor(l[0],l[1],l[2]),t.rect(0,0,e,n,"F"),t.restoreGraphicsState();break}case"gradient":{let l=this.hexToRgb(r.gradientStart||"#7209B7"),s=this.hexToRgb(r.gradientEnd||"#EF233C"),h=r.gradientDirection||"vertical",u=(r.backgroundOpacity??100)/100,d=document.createElement("canvas");d.width=e,d.height=n;let v=d.getContext("2d");if(!v)break;let y=0,p=0,A=0,N=0;switch(h){case"vertical":y=0,p=0,A=0,N=n;break;case"horizontal":y=0,p=0,A=e,N=0;break;case"diagonal-right":y=0,p=0,A=e,N=n;break;case"diagonal-left":y=e,p=0,A=0,N=n;break}let I=v.createLinearGradient(y,p,A,N);I.addColorStop(0,`rgb(${l[0]}, ${l[1]}, ${l[2]})`),I.addColorStop(1,`rgb(${s[0]}, ${s[1]}, ${s[2]})`),v.fillStyle=I,v.fillRect(0,0,e,n),u<1&&(v.globalCompositeOperation="destination-in",v.fillStyle=`rgba(255,255,255,${u})`,v.fillRect(0,0,e,n));let C=d.toDataURL("image/png");t.addImage(C,"PNG",0,0,e,n);break}case"image":{if(r.backgroundImage)try{let l=(r.backgroundOpacity??100)/100,s=yield this.applyOpacityToImage(r.backgroundImage,l,e,n);t.addImage(s,"PNG",0,0,e,n)}catch(l){console.error("Errore applicazione immagine:",l),t.setFillColor(255,255,255),t.rect(0,0,e,n,"F")}break}}})}applyOpacityToImage(t,e,n,r){return tt(this,null,function*(){return new Promise((a,l)=>{let s=new Image;s.crossOrigin="anonymous",s.onload=()=>{let h=document.createElement("canvas"),u=h.getContext("2d");if(!u){l(new Error("Impossibile creare context 2d"));return}let d=Math.round(n*3.78),v=Math.round(r*3.78);h.width=d,h.height=v,u.fillStyle="white",u.fillRect(0,0,d,v),u.globalAlpha=e,u.drawImage(s,0,0,d,v),a(h.toDataURL("image/png"))},s.onerror=()=>{l(new Error("Impossibile caricare immagine"))},s.src=t})})}setCustomFont(t,e){let n={helvetica:"helvetica",times:"times",courier:"courier",georgia:"Georgia",verdana:"Verdana",arial:"Arial",playfair:"PlayfairDisplay",cormorant:"CormorantGaramond",montserrat:"Montserrat",lato:"Lato"};t.setFont(n[e]||"helvetica")}mapFont(t){return{helvetica:"helvetica",verdana:"helvetica",arial:"helvetica",montserrat:"helvetica",lato:"helvetica",times:"times",georgia:"times",playfair:"times",cormorant:"times",courier:"courier"}[t]||"helvetica"}exportCustomerPDFFallback(){if(this.filteredDishes.length===0){alert("Non ci sono piatti da esportare!");return}let t=new Ue({orientation:"portrait",unit:"mm",format:"a4",compress:!0}),e=15,n=t.internal.pageSize.width,r=20;try{t.setFontSize(18),t.setTextColor(33,37,41),t.setFont("Bodoni Moda","bold");let a=this.restaurantData?.name||"Ristorante",l=t.getTextWidth(a);t.text(a,(n-l)/2,r),r+=10,t.setFontSize(14),t.setTextColor(108,117,125),t.setFont("Bodoni Moda","normal");let s=`Menu ${this.currentMenu?.name||""}`,h=t.getTextWidth(s);t.text(s,(n-h)/2,r),r+=15,t.setFontSize(10),t.setTextColor(108,117,125);let u=new Date().toLocaleDateString("it-IT");t.text(`Data: ${u}`,e,r),r+=20,this.groupDishesByCategory().forEach(p=>{let A=15+p.dishes.length*20;r+A>t.internal.pageSize.height-20&&(t.addPage(),r=e),t.setFontSize(14),t.setTextColor(0,123,255),t.setFont("Bodoni Moda","bold"),t.text(p.name.toUpperCase(),e,r),r+=8,t.setDrawColor(200,200,200),t.line(e,r-5,n-e,r-5),r+=5,p.dishes.forEach(N=>{r>t.internal.pageSize.height-20&&(t.addPage(),r=e),t.setFontSize(12),t.setTextColor(33,37,41),t.setFont("Bodoni Moda","bold");let I=N.name;t.text(I,e+5,r);let C="";N.allergens&&N.allergens.length>0&&(C=` [${N.allergens.sort((U,le)=>U-le).join(", ")}]`);let Z=`\u20AC${(N.base_price||0).toFixed(2)}`,W=t.getTextWidth(Z);if(t.text(Z,n-e-W,r),C){let U=e+5+t.getTextWidth(I)+2,le=n-e-W-5,we=t.getTextWidth(C);U+we<le&&(t.setFontSize(9),t.setTextColor(220,38,38),t.setFont("Bodoni Moda","normal"),t.text(C,U,r),t.setFontSize(10),t.setTextColor(108,117,125))}if(r+=6,N.description&&N.description.trim()!==""){t.setFontSize(10),t.setTextColor(108,117,125),t.setFont("Bodoni Moda","normal");let U=n-2*e-40;t.splitTextToSize(N.description,U).forEach(we=>{r>t.internal.pageSize.height-20&&(t.addPage(),r=e),t.text(we,e+10,r),r+=5})}r+=4}),r+=8});let v=t.getNumberOfPages();for(let p=1;p<=v;p++)t.setPage(p),t.setFontSize(10),t.setTextColor(108,117,125),t.text(`Pagina ${p} di ${v}`,n/2,t.internal.pageSize.height-10,{align:"center"});let y=`Menu_${this.currentMenu?.name||"Ristorante"}_${new Date().toISOString().slice(0,10)}.pdf`;t.save(y)}catch(a){console.error("\u274C Errore generazione PDF fallback:",a),alert("Errore durante la generazione del PDF. Riprova.")}}getCurrentTheme(){if(!this.themeService)return"light";try{return this.themeService.getCurrentTheme()}catch{return typeof window<"u"&&document.body.classList.contains("dark-theme")?"dark":"light"}}groupDishesByCategory(){console.log("\u{1F4CA} DEBUG groupDishesByCategory:",{filteredDishes:this.filteredDishes.length,categories:this.categories.length,sortedCategories:this.sortedCategories.length});let t=new Map;this.categories.forEach(r=>{t.set(r.id,[])}),this.filteredDishes.forEach(r=>{r.deleted_at||(r.category_id&&t.has(r.category_id)?t.get(r.category_id).push(r):r.category_id?t.set(r.category_id,[r]):(t.has("no-category")||t.set("no-category",[]),t.get("no-category").push(r)))});let e=[];this.sortedCategories.forEach(r=>{let a=t.get(r.id);a&&a.length>0&&(e.push({name:r.name,dishes:a.sort((l,s)=>l.name.localeCompare(s.name))}),t.delete(r.id))}),t.forEach((r,a)=>{if(a!=="no-category"&&r.length>0){let l=this.categories.find(s=>s.id===a);l&&e.push({name:l.name,dishes:r.sort((s,h)=>s.name.localeCompare(h.name))})}});let n=t.get("no-category");return n&&n.length>0&&e.push({name:"Senza categoria",dishes:n.sort((r,a)=>r.name.localeCompare(a.name))}),console.log("\u{1F4CA} DEBUG Risultato categorie:",e.map(r=>({name:r.name,count:r.dishes.length}))),e}getAllergenName(t){return mc(t)?.name||`Allergene ${t}`}getAllergenIcon(t){return mc(t)?.icon||"\u26A0\uFE0F"}moveDishUp(t){return tt(this,null,function*(){if(!(!this.currentMenu||this.viewMode!=="menu-only")){this.isMoving=!0;try{let e=this.filteredDishes.findIndex(r=>r.id===t.id);e>0&&([this.filteredDishes[e],this.filteredDishes[e-1]]=[this.filteredDishes[e-1],this.filteredDishes[e]],this.filteredDishes=[...this.filteredDishes],this.cdr.detectChanges()),(yield this.menuService.moveDishInMenu(this.currentMenu.id,t.id,"up"))||(yield this.menuService.loadMenuDishes(this.currentMenu.id))}catch(e){console.error("Errore nello spostamento del piatto:",e),yield this.menuService.loadMenuDishes(this.currentMenu.id)}finally{this.isMoving=!1}}})}moveDishDown(t){return tt(this,null,function*(){if(!(!this.currentMenu||this.viewMode!=="menu-only")){this.isMoving=!0;try{let e=this.filteredDishes.findIndex(r=>r.id===t.id);e>=0&&e<this.filteredDishes.length-1&&([this.filteredDishes[e],this.filteredDishes[e+1]]=[this.filteredDishes[e+1],this.filteredDishes[e]],this.filteredDishes=[...this.filteredDishes],this.cdr.detectChanges()),(yield this.menuService.moveDishInMenu(this.currentMenu.id,t.id,"down"))?(setTimeout(()=>tt(this,null,function*(){yield this.menuService.loadMenuDishes(this.currentMenu.id)}),0),console.log("\u2705 Piatto spostato gi\xF9:",t.name)):(yield this.menuService.loadMenuDishes(this.currentMenu.id),this.applyFilters())}catch(e){console.error("Errore nello spostamento del piatto:",e),yield this.menuService.loadMenuDishes(this.currentMenu.id),this.applyFilters()}finally{this.isMoving=!1}}})}initializeMenuOrder(){return tt(this,null,function*(){this.currentMenu&&(yield this.menuService.initializeOrderIndexes(this.currentMenu.id),yield this.menuService.loadMenuDishes(this.currentMenu.id),this.applyFilters())})}prepareAndUpdateChart(){if(!this.menuChartCanvas?.nativeElement||(this.chartInstance&&(this.chartInstance.destroy(),this.chartInstance=null),this.filteredDishes.length===0))return;let t;this.sortChartBy==="criticality"?t=[...this.filteredDishes].sort((A,N)=>{let I=this.calculateFoodCostPercentage(A),C=this.calculateFoodCostPercentage(N);if(I!==C)return C-I;let Z=this.calculateMargin(A),W=this.calculateMargin(N);return Z-W}).slice(0,this.maxDishesInChart):t=[...this.filteredDishes].sort((A,N)=>A.name.localeCompare(N.name)).slice(0,this.maxDishesInChart);let e=t.map(A=>A.name.length>22?A.name.substring(0,19)+"\u2026":A.name),n=t.map(A=>A.food_cost||0),r=t.map(A=>this.calculateMargin(A)),a=t.map(A=>this.calculateFoodCostPercentage(A)),l=t.map(A=>this.calculateMarginPercentage(A)),s=document.documentElement,h=getComputedStyle(s).getPropertyValue("--primary").trim(),u=getComputedStyle(s).getPropertyValue("--tertiary").trim(),d=getComputedStyle(s).getPropertyValue("--danger-color")?.trim()||"#ef4444",v=getComputedStyle(s).getPropertyValue("--success-color")?.trim()||"#10b981",y=getComputedStyle(s).getPropertyValue("--text-color").trim(),p={type:"bar",data:{labels:e,datasets:[{label:"Food Cost (\u20AC)",data:n,backgroundColor:"rgba(239, 68, 68, 0.55)",borderColor:d,borderWidth:1,yAxisID:"y-euro"},{label:"Margine (\u20AC)",data:r,backgroundColor:"rgba(16, 185, 129, 0.55)",borderColor:v,borderWidth:1,yAxisID:"y-euro"},{type:"line",label:"Food Cost %",data:a,borderColor:u,backgroundColor:"transparent",borderWidth:2,pointRadius:3,pointBackgroundColor:u,tension:.2,yAxisID:"y-percent"},{type:"line",label:"Margine %",data:l,borderColor:h,backgroundColor:"transparent",borderWidth:2,pointRadius:3,pointBackgroundColor:h,tension:.2,yAxisID:"y-percent"}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"top",labels:{color:y,usePointStyle:!0,boxWidth:20,padding:16}},tooltip:{mode:"index",intersect:!1}},scales:{x:{ticks:{color:y,maxRotation:45,minRotation:45}},"y-euro":{type:"linear",position:"left",title:{display:!0,text:"\u20AC",color:y},ticks:{color:y},grid:{color:y+"22"}},"y-percent":{type:"linear",position:"right",title:{display:!0,text:"%",color:y},ticks:{color:y},grid:{drawOnChartArea:!1}}}}};this.chartInstance=new vc(this.menuChartCanvas.nativeElement,p)}ngAfterViewInit(){setTimeout(()=>this.prepareAndUpdateChart(),0)}ngOnDestroy(){this.themeSubscription?.unsubscribe(),this.chartInstance&&(this.chartInstance.destroy(),this.chartInstance=null)}changeChartSort(t){this.sortChartBy=t,this.prepareAndUpdateChart()}get hasActiveFilters(){return this.searchTerm.trim()!==""||this.selectedCategory!=="all"||this.statusFilter!=="all"||this.priceRange.min!==null||this.priceRange.max!==null}openPDFCustomizationModal(){this.resetPDFCustomization(),this.showPDFCustomizationModal=!0}closePDFCustomizationModal(){this.showPDFCustomizationModal=!1}resetPDFCustomization(){this.pdfCustomization={font:"helvetica",backgroundType:"theme",backgroundOpacity:100,backgroundColor:"#FFFFFF",gradientStart:"#7209B7",gradientEnd:"#EF233C",gradientDirection:"vertical",categoryColor:this.getDefaultColor("categoryTitle"),priceColor:this.getDefaultColor("price"),allergenColor:this.getDefaultColor("allergens"),descriptionColor:this.getDefaultColor("description"),restaurantNameColor:this.getDefaultColor("restaurantName")},this.uploadedBackgroundImage=null}getDefaultColor(t){let e=this.getCurrentTheme(),r=this.getDefaultColors(e)[t];return!r||r.length!==3?"#000000":this.rgbToHex(r[0],r[1],r[2])}onBackgroundImageUpload(t){let e=t.target;if(e.files&&e.files[0]){let n=e.files[0],r=new FileReader;r.onload=a=>{this.uploadedBackgroundImage=a.target?.result,this.pdfCustomization.backgroundImage=this.uploadedBackgroundImage},r.readAsDataURL(n)}}generateCustomizedPDF(){this.exportCustomerPDF(this.pdfCustomization),this.closePDFCustomizationModal()}hexToRgb(t){let e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]:[0,0,0]}addLinearGradientPattern(t,e,n,r,a,l,s,h){t.addShadingPattern(e,new t.ShadingPattern("axial",[a,l,s,h],[{offset:0,color:n},{offset:1,color:r}]))}rgbToHex(t,e,n){return"#"+[t,e,n].map(r=>{let a=r.toString(16);return a.length===1?"0"+a:a}).join("")}toggleFixedPrice(){return tt(this,null,function*(){if(!this.currentMenu)return;let t=this.isFixedPriceMenu?this.fixedPriceValue??0:null;if(yield this.menuService.updateMenu(this.currentMenu.id,{fixed_price:t})){this.currentMenu.fixed_price=t;let n=this.menus.findIndex(r=>r.id===this.currentMenu.id);n!==-1&&(this.menus[n].fixed_price=t)}else this.isFixedPriceMenu=!this.isFixedPriceMenu,alert("Errore durante il salvataggio")})}saveFixedPrice(){return tt(this,null,function*(){if(!this.currentMenu||this.fixedPriceValue==null)return;if(yield this.menuService.updateMenu(this.currentMenu.id,{fixed_price:this.fixedPriceValue})){this.currentMenu.fixed_price=this.fixedPriceValue;let e=this.menus.findIndex(n=>n.id===this.currentMenu.id);e!==-1&&(this.menus[e].fixed_price=this.fixedPriceValue)}else alert("Errore durante il salvataggio del prezzo")})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=bh({type:i,selectors:[["app-menu-builder"]],viewQuery:function(e,n){if(e&1&&wh(hm,5),e&2){let r;xh(r=Sh())&&(n.menuChartCanvas=r.first)}},decls:223,vars:69,consts:[["menuChart",""],[1,"page-container"],[1,"grid-cards","p-sm"],["data-tutorial","menu-total-dishes",1,"card"],[1,"flex","items-center","gap-sm","mb-md"],[1,"material-icons","text-primary","text-md"],[1,"card-title"],[1,"text-md","font-bold","text-primary","justify-center","flex"],[1,"text-muted","card-footer"],["data-tutorial","menu-avg-price",1,"card"],[1,"text-md","font-bold","text-primary","text-amber-500","justify-center","flex"],["data-tutorial","menu-avg-margin",1,"card"],["data-tutorial","menu-avg-foodcost",1,"card"],[1,"form-card","p-sm","mt-lg"],["data-tutorial","menu-selector"],[1,"form-row"],[1,"form-group"],[1,"standard-label"],[1,"flex","gap-sm","items-center"],[1,"form-select",3,"ngModelChange","change","ngModel","disabled"],[3,"value",4,"ngFor","ngForOf"],[1,"flex","gap-sm"],["title","Modifica nome menu",1,"icon-button",3,"click","disabled"],[1,"material-icons"],["class","mt-sm",4,"ngIf"],[1,"form-group","m-0"],[1,"w-full",3,"ngModelChange","change","ngModel"],["value","menu-only"],["value","all-dishes"],["value","without-menu"],[1,"form-row","mt-sm"],["class","mt-sm flex items-center gap-sm",4,"ngIf"],["class","text-mini text-muted mt-sm ml-6",4,"ngIf"],["class","text-mini text-warning mt-sm ml-6",4,"ngIf"],[1,"flex","flex-wrap","gap-sm","justify-between"],[1,"text-muted"],[1,"flex","items-center","gap-sm"],[1,"material-icons","text-muted","text-sm","ml-xs",3,"title"],["class","chip success ml-md",4,"ngIf"],["class","chip ml-md",4,"ngIf"],["class","form-row mt-sm",4,"ngIf"],[1,"flex","flex-col","gap-sm"],[1,"checkbox-label"],["type","checkbox",3,"ngModelChange","change","ngModel","disabled"],[1,"checkbox-content"],["class","flex items-center gap-sm p-sm rounded","style",`background: color-mix(in srgb, var(--primary) 8%, transparent);
           border-left: 3px solid var(--primary)`,4,"ngIf"],["class","flex items-center gap-sm",4,"ngIf"],["data-tutorial","menu-print",1,"modal-footer","p-sm"],[1,"promethea-button",3,"click"],["name","plus",3,"size"],["title","Elimina menu",1,"promethea-button","ghost",3,"click","disabled"],["name","trash-2",3,"size"],[1,"promethea-button","outline",3,"click"],["name","download",3,"size"],["title","Personalizza e stampa menu",1,"promethea-button","outline",3,"click"],["name","palette",3,"size"],[1,"chart-section","mt-lg","p-sm","card"],[1,"flex","justify-between","items-center","mb-3"],[1,"card-title","flex","items-center","gap-sm"],[1,"flex","items-center","gap-md"],[1,"text-sm","text-muted"],[1,"promethea-button","small",3,"click"],["data-tutorial","menu-chart",1,"chart-container",2,"position","relative","height","320px","width","100%"],["id","menuChart"],["class","empty-state mt-md text-center",4,"ngIf"],["class","text-sm text-muted mt-sm text-center",4,"ngIf"],["data-tutorial","menu-filters",1,"form-card","m-sm02"],[1,"flex","justify-between","items-end","gap-md","flex-wrap"],["type","text","placeholder","Cerca per nome o descrizione...",3,"ngModelChange","input","ngModel"],[3,"ngModelChange","change","ngModel"],["value","all"],["value","available"],["value","unavailable"],["value","out_of_stock"],[2,"display","flex","gap","var(--gap-sm)"],["type","number","placeholder","Min",3,"ngModelChange","input","ngModel"],[2,"align-self","center"],["type","number","placeholder","Max",3,"ngModelChange","input","ngModel"],[1,"modal-footer","p-sm"],[1,"promethea-button","ghost",3,"click"],[1,"material-icons","text-sm"],["data-tutorial","menu-table",1,"table-section","p-sm"],[1,"crm-table"],[4,"ngIf"],[2,"cursor","pointer",3,"click"],["class","material-icons",4,"ngIf"],[2,"width","100px"],["class","modal-overlay",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[3,"value"],[1,"mt-sm"],["type","text","placeholder","Nuovo nome menu","autofocus","",1,"form-input",3,"ngModelChange","keyup.enter","keyup.escape","ngModel"],["title","Salva",1,"icon-button","success",3,"click"],["title","Annulla",1,"icon-button",3,"click"],[1,"text-sm","text-muted","mt-sm"],[1,"mt-sm","flex","items-center","gap-sm"],[1,"flex","items-center","gap-sm","cursor-pointer"],["type","checkbox",1,"form-checkbox",3,"change","checked","disabled"],[1,"ml-xs","text-sm"],[1,"text-mini","text-muted","mt-sm","ml-6"],[1,"text-mini","text-warning","mt-sm","ml-6"],[1,"chip","success","ml-md"],[1,"chip","ml-md"],[1,"material-icons","text-yellow-500","text-sm"],[1,"material-icons","text-green-500","text-sm"],[1,"flex","items-center","gap-sm","p-sm","rounded",2,"background","color-mix(in srgb, var(--primary) 8%, transparent)","border-left","3px solid var(--primary)"],[1,"material-icons","text-mini","gradient-text"],[1,"font-semibold",2,"white-space","nowrap"],["type","number","placeholder","Es. 35.00","min","0","step","0.50",2,"max-width","120px",3,"ngModelChange","blur","keydown.enter","ngModel"],["class","chip-mini",4,"ngIf"],[1,"chip-mini"],[1,"material-icons","text-muted"],["class","chip error ml-md",4,"ngIf"],[1,"chip","error","ml-md"],[1,"material-icons","text-blue-500","text-sm"],[1,"empty-state","mt-md","text-center"],[1,"material-icons","text-3xl","text-muted"],[1,"text-muted","mt-sm"],[1,"text-sm","text-muted","mt-sm","text-center"],[3,"opacity-60","bg-gray-50",4,"ngFor","ngForOf"],["class","chip mb-sm",4,"ngIf"],["class","flex items-center gap-sm mb-sm",4,"ngIf"],["class","flex flex-wrap gap-1 mb-sm",4,"ngIf"],[1,"nomedescpiatto"],[1,"flex","flex-wrap","gap-sm","align-center"],[1,"link",3,"click"],["class","chip-allergeni",4,"ngIf"],["class","text-muted",4,"ngIf"],[1,"status-select",3,"ngModelChange","ngModel"],[1,"flex","gap-sm",2,"justify-content","flex-end"],[1,"order-controls"],[1,"order-number"],["title","Sposta su",1,"icon-button",3,"click","disabled"],[1,"material-icons","text-mini"],["title","Sposta gi\xF9",1,"icon-button",3,"click","disabled"],[1,"chip","mb-sm"],[1,"material-icons","text-red-500","text-sm"],[1,"text-mini","text-red-600","font-medium"],[1,"flex","items-center","gap-sm","mb-sm"],[1,"material-icons","text-amber-500","text-sm"],[1,"text-mini","text-amber-600","font-medium"],[1,"flex","flex-wrap","gap-1","mb-sm"],[4,"ngFor","ngForOf"],["class","chip text-mini bg-purple-100 text-purple-800 border border-purple-200",4,"ngIf"],[1,"chip","text-mini",3,"ngClass"],[1,"material-icons","text-mini","mr-1"],[1,"chip","text-mini","bg-purple-100","text-purple-800","border","border-purple-200"],[1,"chip-allergeni"],["class","chip-mini",3,"title",4,"ngFor","ngForOf"],[1,"chip-mini",3,"title"],["title","Copia in altro menu",1,"promethea-button","small",3,"click","disabled"],["title","Sposta in altro menu",1,"promethea-button","small",3,"click","disabled"],["title","Elimina piatto",1,"promethea-button","ghost","small",3,"click"],["title","Ripristina piatto",1,"promethea-button","success","small",3,"click"],["class","category-header",4,"ngIf"],[1,"category-header"],["colspan","8",2,"background","var(--smoke-color-2)","font-weight","800"],[1,"text-md","flex","gap-md",2,"margin","0","border","none"],[1,"text-primary"],[1,"chip"],["class","text-muted text-mini text-interrupt",4,"ngIf"],["class","flex flex-col gap-sm",4,"ngIf"],[1,"text-muted","text-mini","text-interrupt"],["colspan","8",2,"background","var(--smoke-1)","font-weight","800"],[1,"section-title",2,"margin","0","border","none"],[1,"chip",2,"margin-left","auto"],["class","text-muted","style","font-size: 0.8rem;",4,"ngIf"],["class","ml-1 text-blue-600 font-bold",4,"ngIf"],[1,"ml-1","text-blue-600","font-bold"],[1,"text-muted",2,"font-size","0.8rem"],["colspan","8",1,"empty-state-row"],[1,"empty-state"],[1,"modal-overlay"],[1,"modal-container","modal-sm"],[1,"modal-header"],[1,"section-title","m-0"],[1,"icon-button",3,"click"],[1,"modal-content","p-md"],[1,"form-select",3,"ngModelChange","ngModel"],["value","","disabled",""],["type","number","placeholder","Inserisci prezzo","min","0","step","0.01",1,"form-input",3,"ngModelChange","ngModel"],[1,"modal-footer"],[1,"promethea-button",3,"click","disabled"],[1,"icon-button",3,"click","disabled"],[1,"info-message","mb-md"],["name","info"],[3,"ngModelChange","ngModel","disabled"],[1,"flex","gap-sm","mt-sm"],[1,"text-muted","text-mini"],[1,"promethea-button","ghost",3,"click","disabled"],["class","material-icons animate-spin",4,"ngIf"],[1,"material-icons","animate-spin"],[1,"modal-overlay",3,"click"],[1,"modal-container","modal-lg",3,"click"],["name","x",3,"size"],[1,"form-card"],["name","type",3,"size"],[1,"w-100",3,"ngModelChange","ngModel"],["value","helvetica"],["value","times"],["value","courier"],["value","georgia"],["value","verdana"],["value","arial"],["value","playfair",2,"display","none"],["value","cormorant",2,"display","none"],["value","montserrat",2,"display","none"],["value","lato",2,"display","none"],[2,"border-top","1px solid var(--smoke-1)","margin","var(--gap-lg) 0"],["name","image",3,"size"],[1,"flex","gap-sm","flex-wrap"],[1,"chip",2,"cursor","pointer",3,"click"],["class","form-group",4,"ngIf"],["class","form-row",4,"ngIf"],[1,"text-md","font-bold","mb-md"],[1,"flex","gap-md","items-center"],["type","color",3,"ngModelChange","ngModel"],[1,"promethea-button","ghost","x-small",3,"click"],[1,"modal-footer",2,"margin-top","auto"],["name","rotate-ccw",3,"size"],["type","text","placeholder","#FFFFFF",1,"flex-1",3,"ngModelChange","ngModel"],["type","text","placeholder","#7209B7",3,"ngModelChange","ngModel"],["type","text","placeholder","#EF233C",3,"ngModelChange","ngModel"],["name","arrow-right",3,"size"],["name","upload",3,"size"],["type","file","accept","image/*",1,"w-100",3,"change"],[2,"max-width","200px","border-radius","8px",3,"src"],["type","range","min","0","max","100",3,"ngModelChange","ngModel"]],template:function(e,n){if(e&1){let r=Jt();D(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"span",5),z(5,"restaurant"),E(),D(6,"h3",6),z(7,"Totale Piatti"),E()(),D(8,"div",7),z(9),E(),D(10,"span",8),z(11,"Piatti nel men\xF9"),E()(),D(12,"div",9)(13,"div",4)(14,"span",5),z(15,"euro"),E(),D(16,"h3",6),z(17,"Prezzo Medio"),E()(),D(18,"div",10),z(19),ri(20,"number"),E(),D(21,"span",8),z(22,"Prezzo medio piatto"),E()(),D(23,"div",11)(24,"div",4)(25,"span",5),z(26,"trending_up"),E(),D(27,"h3",6),z(28,"Margine Medio"),E()(),D(29,"div",7),z(30),ri(31,"number"),E(),D(32,"span",8),z(33,"Margine medio"),E()(),D(34,"div",12)(35,"div",4)(36,"span",5),z(37,"account_balance"),E(),D(38,"h3",6),z(39,"Food Cost Medio"),E()(),D(40,"div",7),z(41),ri(42,"number"),E(),D(43,"span",8),z(44,"Food cost medio (in %)"),E()()(),D(45,"div",13)(46,"div",14)(47,"div",15)(48,"div",16)(49,"label",17),z(50,"Menu"),E(),D(51,"div",18)(52,"select",19),qt("ngModelChange",function(l){return Me(r),Ut(n.selectedMenuId,l)||(n.selectedMenuId=l),ke(l)}),Ie("change",function(){return Me(r),ke(n.changeMenu(n.selectedMenuId))}),Xe(53,fm,2,3,"option",20),E(),D(54,"div",21)(55,"button",22),Ie("click",function(){return Me(r),ke(n.startEditMenuName())}),D(56,"span",23),z(57,"edit"),E()()()(),Xe(58,dm,12,1,"div",24),E(),D(59,"div",25)(60,"label",17),z(61,"Visualizzazione:"),E(),D(62,"select",26),qt("ngModelChange",function(l){return Me(r),Ut(n.viewMode,l)||(n.viewMode=l),ke(l)}),Ie("change",function(){return Me(r),ke(n.setViewMode(n.viewMode))}),D(63,"option",27),z(64,"Solo questo menu"),E(),D(65,"option",28),z(66,"Tutti i piatti"),E(),D(67,"option",29),z(68,"Piatti senza menu"),E()()()(),D(69,"div",30)(70,"div",16),Xe(71,pm,5,2,"div",31)(72,gm,2,0,"div",32)(73,mm,2,0,"div",33),E(),D(74,"div",16)(75,"div",34)(76,"div",35),z(77),E(),D(78,"div",36)(79,"span",37),z(80," info "),E(),Xe(81,vm,4,0,"span",38)(82,_m,4,0,"span",39),E()()()(),Xe(83,ym,15,4,"div",40),D(84,"div",41)(85,"label",42)(86,"input",43),qt("ngModelChange",function(l){return Me(r),Ut(n.isFixedPriceMenu,l)||(n.isFixedPriceMenu=l),ke(l)}),Ie("change",function(){return Me(r),ke(n.toggleFixedPrice())}),E(),D(87,"div",44)(88,"strong"),z(89,"Menu a prezzo fisso"),E(),D(90,"span",35),z(91," I piatti non hanno prezzi singoli \u2014 il menu ha un costo unico a persona "),E()()(),Xe(92,wm,7,2,"div",45),E(),D(93,"div",30)(94,"div",16),Xe(95,Am,7,3,"div",46),E()(),Xe(96,Cm,8,2,"div",40),E(),D(97,"div",47)(98,"button",48),Ie("click",function(){return Me(r),ke(n.createNewMenu())}),Yt(99,"lucide-angular",49),z(100," Nuovo Menu "),E(),D(101,"button",50),Ie("click",function(){return Me(r),ke(n.onDeleteMenu(n.currentMenu))}),Yt(102,"lucide-angular",51),z(103," Elimina "),E(),D(104,"button",52),Ie("click",function(){return Me(r),ke(n.exportToPDF())}),Yt(105,"lucide-angular",53),z(106," Menu Staff "),E(),D(107,"button",52),Ie("click",function(){return Me(r),ke(n.exportCustomerPDF())}),Yt(108,"lucide-angular",53),z(109," Menu Semplice "),E(),D(110,"button",54),Ie("click",function(){return Me(r),ke(n.openPDFCustomizationModal())}),Yt(111,"lucide-angular",55),z(112," Menu Pro "),E()()(),D(113,"div",56)(114,"div",57)(115,"h3",58)(116,"span",23),z(117,"bar_chart"),E(),z(118," Analisi Costi e Margini "),E(),D(119,"div",59)(120,"span",60),z(121,"Ordina per:"),E(),D(122,"button",61),Ie("click",function(){return Me(r),ke(n.changeChartSort("name"))}),z(123," Nome "),E(),D(124,"button",61),Ie("click",function(){return Me(r),ke(n.changeChartSort("criticality"))}),z(125," Food Cost "),E()()(),D(126,"div",62),Yt(127,"canvas",63,0),E(),Xe(129,Mm,5,0,"div",64)(130,km,2,1,"div",65),E(),D(131,"div",66)(132,"div",67)(133,"div",15)(134,"div",16)(135,"label",17)(136,"span",23),z(137,"search"),E(),z(138," Cerca "),E(),D(139,"input",68),qt("ngModelChange",function(l){return Me(r),Ut(n.searchTerm,l)||(n.searchTerm=l),ke(l)}),Ie("input",function(){return Me(r),ke(n.applyFilters())}),E()(),D(140,"div",16)(141,"label",17)(142,"span",23),z(143,"category"),E(),z(144," Categoria "),E(),D(145,"select",69),qt("ngModelChange",function(l){return Me(r),Ut(n.selectedCategory,l)||(n.selectedCategory=l),ke(l)}),Ie("change",function(){return Me(r),ke(n.applyFilters())}),D(146,"option",70),z(147,"Tutte le categorie"),E(),Xe(148,Nm,2,2,"option",20),E()()(),D(149,"div",15)(150,"div",16)(151,"label",17)(152,"span",23),z(153,"visibility"),E(),z(154," Stato "),E(),D(155,"select",69),qt("ngModelChange",function(l){return Me(r),Ut(n.statusFilter,l)||(n.statusFilter=l),ke(l)}),Ie("change",function(){return Me(r),ke(n.applyFilters())}),D(156,"option",70),z(157,"Tutti gli stati"),E(),D(158,"option",71),z(159,"Disponibile"),E(),D(160,"option",72),z(161,"Non disponibile"),E(),D(162,"option",73),z(163,"Esaurito"),E()()(),D(164,"div",16)(165,"label",17)(166,"span",23),z(167,"euro"),E(),z(168," Prezzo "),E(),D(169,"div",74)(170,"input",75),qt("ngModelChange",function(l){return Me(r),Ut(n.priceRange.min,l)||(n.priceRange.min=l),ke(l)}),Ie("input",function(){return Me(r),ke(n.applyFilters())}),E(),D(171,"span",76),z(172,"-"),E(),D(173,"input",77),qt("ngModelChange",function(l){return Me(r),Ut(n.priceRange.max,l)||(n.priceRange.max=l),ke(l)}),Ie("input",function(){return Me(r),ke(n.applyFilters())}),E()()()()(),D(174,"div",78)(175,"button",48),Ie("click",function(){return Me(r),ke(n.createNewDish())}),Yt(176,"lucide-angular",49),z(177," Nuovo Piatto "),E(),D(178,"button",48),Ie("click",function(){return Me(r),ke(n.openAddDrinkDialog())}),D(179,"span",23),z(180,"local_drink"),E(),z(181," Aggiungi Bevanda "),E(),D(182,"button",79),Ie("click",function(){return Me(r),ke(n.resetFilters())}),D(183,"span",23),z(184,"refresh"),E(),z(185," Reset Filtri "),E(),D(186,"button",79),Ie("click",function(){return Me(r),ke(n.toggleShowDeletedDishes())}),D(187,"span",80),z(188),E(),z(189),E()()(),D(190,"div",81)(191,"table",82)(192,"thead")(193,"tr"),Xe(194,Lm,4,0,"th",83),D(195,"th",84),Ie("click",function(){return Me(r),ke(n.onSort("name"))}),z(196," Nome "),Xe(197,Dm,2,1,"span",85),E(),D(198,"th",84),Ie("click",function(){return Me(r),ke(n.onSort("category"))}),z(199," Categoria "),Xe(200,Em,2,1,"span",85),E(),D(201,"th",84),Ie("click",function(){return Me(r),ke(n.onSort("price"))}),z(202," Prezzo "),Xe(203,Pm,2,1,"span",85),E(),D(204,"th",84),Ie("click",function(){return Me(r),ke(n.onSort("food_cost_percentage"))}),z(205," FC % "),Xe(206,Im,2,1,"span",85),E(),D(207,"th",84),Ie("click",function(){return Me(r),ke(n.onSort("margin"))}),z(208," Margine (\u20AC) "),Xe(209,Fm,2,1,"span",85),E(),D(210,"th"),z(211,"Stato"),E(),D(212,"th"),z(213,"Tempo Prep."),E(),D(214,"th",86),z(215,"Azioni"),E()()(),D(216,"tbody"),Xe(217,Ym,2,1,"ng-container",83)(218,Mv,4,3,"ng-container",83)(219,kv,9,0,"tr",83),E()()(),Xe(220,Lv,33,5,"div",87)(221,Iv,40,14,"div",87)(222,jv,103,25,"div",88),E()}e&2&&(V(9),Dn(n.stats.totalDishes),V(10),rt("\u20AC",Si(20,60,n.stats.averagePrice,"1.2-2"),""),V(11),rt(" \u20AC",Si(31,63,n.stats.averageMargin,"1.2-2")," "),V(11),rt(" ",Si(42,66,n.stats.averageFoodCostPercentage,"1.0-1"),"% "),V(11),jt("ngModel",n.selectedMenuId),ue("disabled",n.menus.length===0||n.isEditingMenuName),V(),ue("ngForOf",n.menus),V(2),ue("disabled",!n.currentMenu||n.isEditingMenuName),V(3),ue("ngIf",n.isEditingMenuName&&n.currentMenu),V(4),jt("ngModel",n.viewMode),V(9),ue("ngIf",n.currentMenu),V(),ue("ngIf",(n.currentMenu==null?null:n.currentMenu.type)==="dedicated"),V(),ue("ngIf",(n.currentMenu==null?null:n.currentMenu.is_default)&&(n.currentMenu==null?null:n.currentMenu.type)==="dedicated"),V(4),rt(" ",n.getViewModeStats()[n.viewMode]," piatto/i "),V(2),ue("title",n.currentMenu!=null&&n.currentMenu.is_default?"Il menu di default non pu\xF2 essere specifico":"Menu dedicato a una specifica prenotazione/evento"),V(2),ue("ngIf",(n.currentMenu==null?null:n.currentMenu.type)==="dedicated"),V(),ue("ngIf",(n.currentMenu==null?null:n.currentMenu.type)==="global"&&!(n.currentMenu!=null&&n.currentMenu.is_default)),V(),ue("ngIf",n.currentMenu),V(3),jt("ngModel",n.isFixedPriceMenu),ue("disabled",!n.currentMenu||n.currentMenu.is_default),V(6),ue("ngIf",n.isFixedPriceMenu),V(3),ue("ngIf",n.currentMenu),V(),ue("ngIf",n.currentMenu),V(3),ue("size",20),V(2),ue("disabled",!n.currentMenu||n.isEditingMenuName),V(),ue("size",20),V(3),ue("size",20),V(3),ue("size",20),V(3),ue("size",20),V(11),Ci("primary",n.sortChartBy==="name"),V(2),Ci("primary",n.sortChartBy==="criticality"),V(5),ue("ngIf",n.filteredDishes.length===0),V(),ue("ngIf",n.filteredDishes.length>n.maxDishesInChart),V(9),jt("ngModel",n.searchTerm),V(6),jt("ngModel",n.selectedCategory),V(3),ue("ngForOf",n.categories),V(7),jt("ngModel",n.statusFilter),V(15),jt("ngModel",n.priceRange.min),V(3),jt("ngModel",n.priceRange.max),V(3),ue("size",20),V(10),Ci("bg-red-100",n.showDeletedDishes)("text-red-700",n.showDeletedDishes),V(2),rt(" ",n.showDeletedDishes?"visibility_off":"delete"," "),V(),rt(" ",n.showDeletedDishes?"Nascondi Eliminati":"Mostra Eliminati"," "),V(5),ue("ngIf",n.currentMenu&&n.viewMode==="menu-only"),V(3),ue("ngIf",n.sortField==="name"),V(3),ue("ngIf",n.sortField==="category"),V(3),ue("ngIf",n.sortField==="price"),V(3),ue("ngIf",n.sortField==="food_cost_percentage"),V(3),ue("ngIf",n.sortField==="margin"),V(8),ue("ngIf",n.isSortingByNonCategoryField()),V(),ue("ngIf",!n.isSortingByNonCategoryField()),V(),ue("ngIf",n.filteredDishes.length===0),V(),ue("ngIf",n.showAddDrinkDialog),V(),ue("ngIf",n.showMoveDialog),V(),ue("ngIf",n.showPDFCustomizationModal))},dependencies:[Eh,Ch,Mh,kh,Dh,Lh,Nh,Hh,qh,Vh,Bh,zh,jh,Th,Uh,Oh,Wh,Rh,Yh,Zh],styles:[".category-header[_ngcontent-%COMP%]{border-left:4px solid var(--primary)}.category-header[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:var(--gap-md)!important}.crm-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:not(.category-header):hover{background:var(--smoke-1)}.chip.inactive[_ngcontent-%COMP%]{background:color-mix(in srgb,#6b7280 20%,transparent);color:#6b7280}.nomedescpiatto[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:calc(var(--gap-sm) / 2)}.status-select[_ngcontent-%COMP%]{width:fit-content!important}@media (max-width: 768px){.filters-container[_ngcontent-%COMP%]{flex-direction:column}.filter-group[_ngcontent-%COMP%]{min-width:100%}.order-controls[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%]{gap:calc(var(--gap-sm) /2);padding:calc(var(--gap-sm) /2)}}.status-select.available[_ngcontent-%COMP%]{border-color:var(--success-color, #28a745)}.status-select.unavailable[_ngcontent-%COMP%]{border-color:var(--warning-color, #ffc107)}.status-select.out_of_stock[_ngcontent-%COMP%]{border-color:var(--danger-color, #dc3545)}.status-select[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #007bff40}.chip.active[_ngcontent-%COMP%]{background-color:var(--success-color);color:#fff}.chip.inactive[_ngcontent-%COMP%]{background-color:var(--danger-color);color:#fff}.text-warning[_ngcontent-%COMP%]{color:#f59e0b!important}.pianti-senza-menu-section[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(245,158,11,.1),transparent);border-left:4px solid #f59e0b}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}50%{transform:scale(1.05)}to{transform:scale(1)}}.move-button[_ngcontent-%COMP%]:hover{animation:_ngcontent-%COMP%_pulse .5s ease-in-out}tr.opacity-60[_ngcontent-%COMP%]{opacity:.8}tr.bg-gray-50[_ngcontent-%COMP%]{background-color:var(--smoke-1);border:1px solid var(--shadow-1)}tr.no-category-divider[_ngcontent-%COMP%]{border-top:1px solid #e5e7eb}tr.no-category-divider[_ngcontent-%COMP%]:first-child{border-top:none}.category-header[_ngcontent-%COMP%]:not(.category-header){display:none}.chip-allergeni[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:250px;gap:var(--gap-sm);flex-wrap:wrap}.order-controls[_ngcontent-%COMP%]{display:flex;gap:var(--gap-sm);align-items:center;font-weight:700;color:var(--tertiary)}.chart-section[_ngcontent-%COMP%]{border-radius:var(--gap-md);box-shadow:var(--shadow-1);margin:0 var(--gap-sm)}.chart-container[_ngcontent-%COMP%]{margin:var(--gap-sm) 0}.empty-state[_ngcontent-%COMP%]{padding:var(--gap-md);opacity:.7}"]})};export{Z0 as MenuBuilder};
