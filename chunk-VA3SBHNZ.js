import{a as _}from"./chunk-UIXM2F5S.js";import{a as I}from"./chunk-55QV6LZ2.js";import{Ab as E,zb as b}from"./chunk-N3VPFYDE.js";import"./chunk-TB7INTC7.js";import"./chunk-Q3EITIAW.js";import"./chunk-RC3HHTXM.js";import{k as x,l as h,v as S}from"./chunk-MPTEMNWF.js";import{Ib as i,Jb as o,Kb as f,La as n,Va as g,_a as p,ca as c,gb as d,qb as e,rb as t,sb as m,zb as v}from"./chunk-5BU4UD4M.js";import{g as u}from"./chunk-RA2WU32H.js";function P(a,r){a&1&&(e(0,"span",14),i(1," In attesa di approvazione "),t())}function D(a,r){a&1&&(e(0,"div",19)(1,"span",9),i(2,"restaurant"),t(),e(3,"h3"),i(4,"Nessun ristorante cliente"),t(),e(5,"p",4),i(6,"I ristoranti appariranno qui quando utilizzeranno i tuoi prodotti"),t()())}function C(a,r){if(a&1&&(e(0,"div",7)(1,"div",8)(2,"span",9),i(3,"business"),t(),e(4,"h3",10),i(5),t()(),e(6,"div",21)(7,"div",22),m(8,"lucide-angular",23),e(9,"div",24)(10,"span",25),i(11,"Email"),t(),e(12,"span",26),i(13),t()()(),e(14,"div",22)(15,"span",9),i(16,"phone"),t(),e(17,"div",24)(18,"span",25),i(19,"Telefono"),t(),e(20,"span",26),i(21),t()()(),e(22,"div",22)(23,"span",9),i(24,"location_on"),t(),e(25,"div",24)(26,"span",25),i(27,"Indirizzo"),t(),e(28,"span",26),i(29),t()()()()()),a&2){let l=r.$implicit;n(5),o(l.name),n(3),d("size",20),n(5),o(l.email||"N/D"),n(8),o(l.phone||"N/D"),n(8),o(l.address||"N/D")}}function w(a,r){if(a&1&&(e(0,"div",6),p(1,C,30,5,"div",20),t()),a&2){let l=v(2);n(),d("ngForOf",l.restaurants)}}function z(a,r){if(a&1&&(e(0,"div",15)(1,"h2",16)(2,"span",9),i(3,"restaurant"),t(),i(4," Ristoranti Clienti "),t(),p(5,D,7,0,"div",17)(6,w,2,1,"div",18),t()),a&2){let l=v();n(5),d("ngIf",l.restaurants.length===0),n(),d("ngIf",l.restaurants.length>0)}}function A(a,r){a&1&&(e(0,"div",27),m(1,"div",28),e(2,"span"),i(3,"Caricamento dati fornitore..."),t()())}var y=class a{supplierAuthService=c(I);supplierProductsService=c(_);supplierProfile=null;ingredients=[];restaurants=[];products=[];isLoading=!0;ngOnInit(){return u(this,null,function*(){yield this.loadData()})}loadData(){return u(this,null,function*(){this.isLoading=!0;try{yield this.supplierAuthService.loadSupplierProfile(),this.supplierAuthService.supplierProfile$.subscribe(r=>{this.supplierProfile=r}),this.ingredients=yield this.supplierAuthService.getSupplierIngredients(),this.restaurants=yield this.supplierAuthService.getSupplierRestaurants(),yield this.supplierProductsService.loadSupplierProducts(),this.supplierProductsService.products$.subscribe(r=>{this.products=r})}catch(r){console.error("Error loading supplier data:",r)}finally{this.isLoading=!1}})}get totalRestaurants(){return this.restaurants.length}get totalIngredients(){return this.ingredients.length}get totalProducts(){return this.products.length}get activeProducts(){return this.products.filter(r=>r.is_available).length}static \u0275fac=function(l){return new(l||a)};static \u0275cmp=g({type:a,selectors:[["app-supplier-dashboard"]],decls:42,vars:9,consts:[[1,"page-container"],[1,"section-header"],["name","truck",1,"nav-icon",3,"size"],[1,"section-titles"],[1,"text-muted"],["class","chip warning","style","margin-left: 8px;",4,"ngIf"],[1,"grid-cards"],[1,"card"],[1,"flex","items-center","gap-sm","mb-md"],[1,"material-icons"],[1,"card-title"],[1,"text-md","font-bold","text-primary","text-amber-500","justify-center","flex"],["class","border rounded-lg p-lg bg-gradient-light shadow-card my-md",4,"ngIf"],["class","flex flex-col items-center justify-center p-xl gap-md",4,"ngIf"],[1,"chip","warning",2,"margin-left","8px"],[1,"border","rounded-lg","p-lg","bg-gradient-light","shadow-card","my-md"],[1,"section-title"],["class","text-center p-xl opacity-70",4,"ngIf"],["class","grid-cards",4,"ngIf"],[1,"text-center","p-xl","opacity-70"],["class","card",4,"ngFor","ngForOf"],[1,"flex","flex-col","gap-md"],[1,"flex","items-start","gap-sm","py-sm","border-b","border-[var(--smoke-1)]","last:border-0"],["name","mail",1,"nav-icon",3,"size"],[1,"contact-info"],[1,"info-label"],[1,"info-value"],[1,"flex","flex-col","items-center","justify-center","p-xl","gap-md"],[1,"loading-spinner"]],template:function(l,s){l&1&&(e(0,"div",0)(1,"div",1),m(2,"lucide-angular",2),e(3,"div",3)(4,"h1"),i(5,"Dashboard Fornitore"),t(),e(6,"p",4),i(7),p(8,P,2,0,"span",5),t()()(),e(9,"div",6)(10,"div",7)(11,"div",8)(12,"span",9),i(13,"restaurant"),t(),e(14,"h3",10),i(15,"Ristoranti Clienti"),t()(),e(16,"div",11),i(17),t(),e(18,"p",4),i(19,"Ristoranti che usano i tuoi prodotti"),t()(),e(20,"div",7)(21,"div",8)(22,"span",9),i(23,"inventory"),t(),e(24,"h3",10),i(25,"Ingredienti Forniti"),t()(),e(26,"div",11),i(27),t(),e(28,"p",4),i(29,"Ingredienti attualmente in uso"),t()(),e(30,"div",7)(31,"div",8)(32,"span",9),i(33,"storefront"),t(),e(34,"h3",10),i(35,"Prodotti Catalogo"),t()(),e(36,"div",11),i(37),t(),e(38,"p",4),i(39),t()()(),p(40,z,7,2,"div",12)(41,A,4,0,"div",13),t()),l&2&&(n(2),d("size",20),n(5),f(" Benvenuto, ",(s.supplierProfile==null?null:s.supplierProfile.company_name)||"Fornitore"," "),n(),d("ngIf",!(s.supplierProfile!=null&&s.supplierProfile.is_approved)),n(9),o(s.totalRestaurants),n(10),o(s.totalIngredients),n(10),o(s.totalProducts),n(2),f("",s.activeProducts," prodotti attivi"),n(),d("ngIf",!s.isLoading),n(),d("ngIf",s.isLoading))},dependencies:[S,x,h,E,b],encapsulation:2})};export{y as SupplierDashboard};
