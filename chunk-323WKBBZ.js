import{a as ne}from"./chunk-TGPW6HGC.js";import{a as Z}from"./chunk-X5UKLDN5.js";import{a as ee}from"./chunk-4QVY3MP3.js";import{a as X}from"./chunk-EQ4DTPTB.js";import{a as K}from"./chunk-KBFANA3E.js";import"./chunk-LDYAGGWT.js";import{a as J}from"./chunk-NREUF4AQ.js";import{ya as te,za as ie}from"./chunk-KZMQ65O4.js";import{b as L,d as B,h as q,j as $,q as j,r as Q,s as U,t as Y,u as G,x as H}from"./chunk-PZ6IGEMS.js";import"./chunk-HOOEJZZY.js";import"./chunk-37GYPR4T.js";import{j as O,k as z,p as W,s as A}from"./chunk-PWZZTUE6.js";import{$a as h,Cb as N,Ga as l,Gb as D,Hb as a,Ib as I,Jb as u,Kb as R,Lb as k,Nb as x,Ob as v,Pb as S,Vb as F,Wa as T,Xb as V,Zb as P,ba as b,ha as g,hb as p,ia as _,ib as r,jb as i,kb as M,qb as f,tb as m,vb as c}from"./chunk-DU5L5MFQ.js";import{a as E,b as w,j as C}from"./chunk-4ZZIO3ZI.js";function ae(s,t){if(s&1&&(r(0,"option",33),a(1),i()),s&2){let e=t.$implicit;p("value",e.id),l(),u(" ",e.name," ")}}function oe(s,t){if(s&1&&(r(0,"option",33),a(1),i()),s&2){let e=t.$implicit;p("value",e.id),l(),u(" ",e.name," ")}}function se(s,t){s&1&&(r(0,"span"),a(1," piatto"),i())}function le(s,t){s&1&&(r(0,"span"),a(1," piatti"),i())}function de(s,t){if(s&1&&(r(0,"span",34),a(1),i()),s&2){let e=c();l(),u(" di ",e.dishes.length," totali ")}}function ce(s,t){if(s&1&&(r(0,"div",46),a(1),i()),s&2){let e=c().$implicit;l(),u(" ",e.description," ")}}function pe(s,t){if(s&1&&(r(0,"span",41),a(1),i()),s&2){let e=c().$implicit,n=c();l(),u(" ",n.getCategoryName(e.category_id)," ")}}function me(s,t){s&1&&(r(0,"span",47),a(1," Nessuna categoria "),i())}function ge(s,t){if(s&1&&(r(0,"span",52),a(1),i()),s&2){let e=t.$implicit,n=c(3);l(),k(" ",n.getIngredientName(e)," (",n.getIngredientQuantity(e),"",n.getIngredientUnit(e),") ")}}function _e(s,t){if(s&1&&(r(0,"span",53),a(1),i()),s&2){let e=c(2).$implicit,n=c();l(),u(" +",n.getTotalIngredients(e)-2," altri ")}}function ue(s,t){if(s&1&&(r(0,"div")(1,"div",48),a(2),i(),r(3,"div",49),h(4,ge,2,3,"span",50)(5,_e,2,1,"span",51),i()()),s&2){let e=c().$implicit,n=c();l(2),u(" ",n.getTotalIngredients(e)," ingredienti "),l(2),p("ngForOf",e.ingredients_composition==null?null:e.ingredients_composition.slice(0,2)),l(),p("ngIf",n.getTotalIngredients(e)>2)}}function he(s,t){if(s&1){let e=f();r(0,"div",54)(1,"span",47),a(2,"Nessun ingrediente"),i(),r(3,"button",55),m("click",function(){g(e);let o=c().$implicit,d=c();return _(d.navigateToFoodCostBuilderFromTable(o))}),a(4," Aggiungi ingredienti "),i()()}}function fe(s,t){if(s&1){let e=f();r(0,"tr",35)(1,"td")(2,"div",36)(3,"strong",37),a(4),i(),h(5,ce,2,1,"div",38),i()(),r(6,"td"),h(7,pe,2,1,"span",39)(8,me,2,0,"span",40),i(),r(9,"td")(10,"span",41),a(11),i()(),r(12,"td")(13,"div",42),h(14,ue,6,3,"div",43)(15,he,5,0,"ng-template",null,0,P),i()(),r(17,"td")(18,"div",44)(19,"span",21),a(20,"schedule"),i(),a(21),i()(),r(22,"td")(23,"div",3)(24,"button",45),m("click",function(){let o=g(e).$implicit,d=c();return _(d.openEditModal(o))}),r(25,"span",21),a(26,"edit_note"),i(),a(27," Ricetta "),i()()()()}if(s&2){let e=t.$implicit,n=N(16),o=c();l(4),I(e.name),l(),p("ngIf",e.description),l(2),p("ngIf",e.category_id),l(),p("ngIf",!e.category_id),l(2),D(o.getStatusColor(e.status)),l(),u(" ",o.getStatusText(e.status)," "),l(3),p("ngIf",o.getTotalIngredients(e)>0)("ngIfElse",n),l(7),u(" ",e.preparation_time||"-"," ")}}function xe(s,t){s&1&&(r(0,"div",56)(1,"span",21),a(2,"restaurant_menu"),i(),r(3,"h3"),a(4,"Nessun piatto trovato"),i(),r(5,"p",47),a(6,"Modifica i filtri di ricerca"),i()())}function ve(s,t){if(s&1){let e=f();r(0,"div",76),M(1,"lucide-angular",77),r(2,"p"),a(3,"Nessun ingrediente aggiunto al piatto"),i(),r(4,"button",20),m("click",function(){g(e);let o=c(2);return _(o.navigateToFoodCostBuilder())}),r(5,"span",21),a(6,"add_circle"),i(),a(7," Vai al Food Cost Builder "),i()()}}function Se(s,t){if(s&1){let e=f();r(0,"div",88)(1,"label",10),a(2),i(),r(3,"textarea",89),S("ngModelChange",function(o){g(e);let d=c().$implicit,y=c(3);return v(y.ingredientNotes[d.ingredient_id],o)||(y.ingredientNotes[d.ingredient_id]=o),_(o)}),m("input",function(o){g(e);let d=c().$implicit,y=c(3);return _(y.updateIngredientNotes(d.ingredient_id,o.target.value))}),a(4,"                "),i(),r(5,"div",71),a(6," Istruzioni specifiche per la preparazione di questo ingrediente nella ricetta "),i()()}if(s&2){let e=c().$implicit,n=c(3);l(2),u(" Istruzioni specifiche per ",n.getIngredientName(e),": "),l(),x("ngModel",n.ingredientNotes[e.ingredient_id])}}function Ce(s,t){if(s&1){let e=f();r(0,"div",80)(1,"div",81)(2,"div",82)(3,"strong"),a(4),i(),r(5,"span",64),a(6),i()(),r(7,"div",83),a(8),F(9,"number"),i()(),r(10,"div",69)(11,"label",84)(12,"input",85),m("change",function(o){let d=g(e).$implicit,y=c(3);return _(y.toggleIngredientNotes(d.ingredient_id,o.target.checked))}),i(),r(13,"span",86)(14,"span",21),a(15,"notes"),i(),a(16),i()()(),h(17,Se,7,2,"div",87),i()}if(s&2){let e=t.$implicit,n=c(3);l(4),I(n.getIngredientName(e)),l(2),R(" ",n.getIngredientQuantity(e)," ",n.getIngredientUnit(e)," "),l(2),u(" Costo: \u20AC",V(9,7,n.getIngredientCost(e),"1.2-2")," "),l(4),p("checked",n.areNotesEnabled(e.ingredient_id)),l(4),u(" Aggiungi note di preparazione per ",n.getIngredientName(e)," "),l(),p("ngIf",n.areNotesEnabled(e.ingredient_id))}}function be(s,t){if(s&1&&(r(0,"div",78),h(1,Ce,18,10,"div",79),i()),s&2){let e=c(2);l(),p("ngForOf",e.selectedDish==null?null:e.selectedDish.ingredients_composition)}}function ye(s,t){if(s&1){let e=f();r(0,"div",57),m("click",function(){g(e);let o=c();return _(o.closeEditModal())}),r(1,"div",58),m("click",function(o){return g(e),_(o.stopPropagation())}),r(2,"div",59)(3,"h2",60)(4,"span",21),a(5,"edit_note"),i(),a(6),i(),r(7,"button",61),m("click",function(){g(e);let o=c();return _(o.closeEditModal())}),r(8,"span",21),a(9,"close"),i()()(),r(10,"div",6)(11,"div",62)(12,"h4",63)(13,"span",21),a(14,"list_alt"),i(),a(15," Ingredienti del Piatto "),r(16,"span",64),a(17),i(),a(18," Note di Preparazione "),r(19,"span",64),a(20),i()(),h(21,ve,8,0,"div",65)(22,be,2,1,"div",66),i(),r(23,"div",67)(24,"h4",68)(25,"span",21),a(26,"menu_book"),i(),a(27," Istruzioni Generali di Preparazione "),i(),r(28,"div",69)(29,"label",10),a(30,"Descrizione della Ricetta *"),i(),r(31,"textarea",70),S("ngModelChange",function(o){g(e);let d=c();return v(d.recipeInstructions,o)||(d.recipeInstructions=o),_(o)}),i(),r(32,"div",71),a(33," Descrivi i passaggi generali per preparare il piatto, l'ordine di cottura, i tempi complessivi, ecc. "),i()(),r(34,"div",72)(35,"label",10),a(36,"Tempo di Preparazione (minuti)"),i(),r(37,"input",73),S("ngModelChange",function(o){g(e);let d=c();return v(d.preparationTime,o)||(d.preparationTime=o),_(o)}),i()()()(),r(38,"div",19)(39,"button",74),m("click",function(){g(e);let o=c();return _(o.closeEditModal())}),r(40,"span",21),a(41,"close"),i(),a(42," Annulla "),i(),r(43,"button",75),m("click",function(){g(e);let o=c();return _(o.saveRecipe())}),r(44,"span",21),a(45,"save"),i(),a(46," Salva Ricetta "),i()()()()}if(s&2){let e=c();l(6),u(" Ricetta - ",e.selectedDish==null?null:e.selectedDish.name," "),l(11),u(" ",(e.selectedDish==null||e.selectedDish.ingredients_composition==null?null:e.selectedDish.ingredients_composition.length)||0," "),l(3),u(" ",e.getEnabledNotesCount()," "),l(),p("ngIf",!(!(e.selectedDish==null||e.selectedDish.ingredients_composition==null)&&e.selectedDish.ingredients_composition.length)),l(),p("ngIf",e.selectedDish==null||e.selectedDish.ingredients_composition==null?null:e.selectedDish.ingredients_composition.length),l(9),x("ngModel",e.recipeInstructions),l(6),x("ngModel",e.preparationTime),l(6),p("disabled",!e.canSaveRecipe())}}function Ie(s,t){if(s&1){let e=f();r(0,"div",57),m("click",function(){g(e);let o=c();return _(o.cancelDelete())}),r(1,"div",90),m("click",function(o){return g(e),_(o.stopPropagation())}),r(2,"div",91)(3,"h2",60)(4,"span",21),a(5,"warning"),i(),a(6," Conferma Eliminazione "),i()(),r(7,"div",92)(8,"p"),a(9,"Sei sicuro di voler eliminare tutti gli ingredienti della ricetta per "),r(10,"strong"),a(11),i(),a(12,"?"),i(),r(13,"p",47),a(14,"Questa azione non pu\xF2 essere annullata."),i()(),r(15,"div",19)(16,"div",93)(17,"button",74),m("click",function(){g(e);let o=c();return _(o.cancelDelete())}),a(18,"Annulla"),i(),r(19,"button",94),m("click",function(){g(e);let o=c();return _(o.deleteDish())}),r(20,"span",21),a(21,"delete"),i(),a(22," Elimina Ricetta "),i()()()()()}if(s&2){let e=c();l(11),I(e.dishToDelete==null?null:e.dishToDelete.name)}}var re=class s{dishService=b(X);ingredientService=b(K);loadingService=b(J);categoryService=b(Z);menuService=b(ne);menuDishService=b(ee);recipeInstructions="";preparationTime=15;allIngredients=[];dishes=[];filteredDishes=[];categories=[];categoryFilter="all";menus=[];menuFilter="all";menuDishes=[];dishMenuMap=new Map;selectedDish=null;showEditModal=!1;showDeleteConfirm=!1;dishToDelete=null;ingredientNotes={};ingredientNotesEnabled={};searchTerm="";statusFilter="all";ngOnInit(){this.loadIngredients(),this.loadDishes(),this.loadCategories(),this.loadMenusAndAssociations()}loadIngredients(){return C(this,null,function*(){yield this.ingredientService.loadIngredients(),this.ingredientService.data$.subscribe(t=>{this.allIngredients=t})})}loadDishes(){return C(this,null,function*(){this.loadingService.start();try{yield this.dishService.loadDishes(),this.dishService.data$.subscribe(t=>{this.dishes=t,this.applyFilters(),this.loadingService.stop()})}catch(t){this.loadingService.stop(),console.error("Error loading dishes:",t)}})}loadCategories(){return C(this,null,function*(){yield this.categoryService.loadData(),this.categoryService.data$.subscribe(t=>{this.categories=t})})}getCategoryName(t){if(!t)return"Nessuna categoria";let e=this.categories.find(n=>n.id===t);return e?e.name:"Categoria non trovata"}loadMenusAndAssociations(){return C(this,null,function*(){try{yield this.menuService.loadData(),this.menuService.data$.subscribe(t=>{this.menus=t.filter(e=>e.is_active)}),yield this.menuDishService.loadData(),this.menuDishService.data$.subscribe(t=>{this.menuDishes=t.filter(e=>e.is_active),this.buildDishMenuMap()})}catch(t){console.error("Error loading menus:",t)}})}buildDishMenuMap(){let t=new Map;this.menuDishes.forEach(e=>{if(!e.is_active||!e.dish_id)return;let n=e.dish_id;t.has(n)||t.set(n,[]),t.get(n).push(e.menu_id)}),this.dishMenuMap=t}getMenuNamesForDish(t){return(this.dishMenuMap.get(t)||[]).map(n=>{let o=this.menus.find(d=>d.id===n);return o?o.name:"Menu sconosciuto"})}isDishInMenu(t,e){let n=this.dishMenuMap.get(t);return n?n.includes(e):!1}applyFilters(){let t=this.dishes;if(this.statusFilter!=="all"&&(t=t.filter(e=>e.status===this.statusFilter)),this.categoryFilter!=="all"&&(t=t.filter(e=>e.category_id===this.categoryFilter)),this.menuFilter!=="all"&&(this.menuFilter==="no_menu"?t=t.filter(e=>{let n=this.dishMenuMap.get(e.id);return!n||n.length===0}):t=t.filter(e=>this.isDishInMenu(e.id,this.menuFilter))),this.searchTerm){let e=this.searchTerm.toLowerCase();t=t.filter(n=>n.name.toLowerCase().includes(e)||n.description?.toLowerCase().includes(e)||this.hasIngredientWithName(n,e))}this.filteredDishes=t}onMenuFilterChange(){this.applyFilters()}hasIngredientWithName(t,e){return!t||!t.ingredients_composition?!1:t.ingredients_composition.some(n=>this.getIngredientName(n).toLowerCase().includes(e))}onCategoryFilterChange(){this.applyFilters()}onSearchChange(){this.applyFilters()}onStatusFilterChange(){this.applyFilters()}openEditModal(t){this.selectedDish=w(E({},t),{ingredients_composition:t.ingredients_composition?[...t.ingredients_composition]:[]}),this.recipeInstructions=t.recipe_instructions||"",this.preparationTime=t.preparation_time||15,this.initializeIngredientNotes(),this.showEditModal=!0}initializeIngredientNotes(){this.ingredientNotes={},this.ingredientNotesEnabled={},this.selectedDish?.ingredients_composition&&this.selectedDish.ingredients_composition.forEach(t=>{t.ingredient_id&&(this.ingredientNotes[t.ingredient_id]=t.recipe_notes||"",this.ingredientNotesEnabled[t.ingredient_id]=!!t.recipe_notes)})}closeEditModal(){this.selectedDish=null,this.showEditModal=!1,this.ingredientNotes={},this.ingredientNotesEnabled={}}saveRecipe(){return C(this,null,function*(){if(!this.selectedDish||!this.canSaveRecipe()){console.log("Niente da salvare o piatto non selezionato");return}this.loadingService.start();try{let t=this.selectedDish.ingredients_composition?.map(o=>{let d=this.ingredientNotesEnabled[o.ingredient_id]&&this.ingredientNotes[o.ingredient_id]||"";return w(E({},o),{recipe_notes:d})}),e={recipe_instructions:this.recipeInstructions,preparation_time:this.preparationTime,ingredients_composition:t};(yield this.dishService.updateDish(this.selectedDish.id,e))?(yield this.dishService.loadDishes(),this.closeEditModal()):console.error("Error saving recipe")}catch(t){console.error("Error saving recipe:",t)}finally{this.loadingService.stop()}})}updateIngredientNotes(t,e){this.ingredientNotes[t]=e}getIngredientNotes(t){return this.ingredientNotes[t]||""}toggleIngredientNotes(t,e){this.ingredientNotesEnabled[t]=e}areNotesEnabled(t){return this.ingredientNotesEnabled[t]||!1}navigateToFoodCostBuilder(){console.log("Navigate to food cost builder for dish:",this.selectedDish?.id)}navigateToFoodCostBuilderFromTable(t){console.log("Navigate to food cost builder for dish from table:",t.id)}canSaveRecipe(){return this.recipeInstructions&&this.recipeInstructions.trim().length>0?!0:this.selectedDish?.ingredients_composition?this.selectedDish.ingredients_composition.some(t=>this.ingredientNotesEnabled[t.ingredient_id]):!1}cancelDelete(){this.dishToDelete=null,this.showDeleteConfirm=!1}deleteDish(){return C(this,null,function*(){if(this.dishToDelete){this.loadingService.start();try{(yield this.dishService.updateDish(this.dishToDelete.id,{ingredients_composition:[]}))&&(yield this.loadDishes())}catch(t){console.error("Error deleting dish:",t)}finally{this.loadingService.stop(),this.cancelDelete()}}})}getStatusColor(t){return{available:"success",unavailable:"warning",out_of_stock:"danger"}[t]||"secondary"}getStatusText(t){return{available:"Disponibile",unavailable:"Non Disponibile",out_of_stock:"Esaurito"}[t]||t}getTotalIngredients(t){return!t||!t.ingredients_composition?0:t.ingredients_composition.length}getIngredientName(t){return t.ingredient_id?this.allIngredients.find(n=>n.id===t.ingredient_id)?.name||"Ingrediente non trovato":"Ingrediente sconosciuto"}getIngredientQuantity(t){return t.quantity||0}getIngredientUnit(t){return t.unit_symbol||""}getIngredientCost(t){return t.cost||0}getFullIngredient(t){return t.ingredient_id&&this.allIngredients.find(e=>e.id===t.ingredient_id)||null}getSavedIngredientNotes(t){return t.recipe_notes||""}getEnabledNotesCount(){return this.selectedDish?.ingredients_composition?this.selectedDish.ingredients_composition.filter(t=>this.ingredientNotesEnabled[t.ingredient_id]).length:0}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=T({type:s,selectors:[["app-recipe"]],decls:76,vars:16,consts:[["noIngredients",""],[1,"page-container"],[1,"section-header"],[1,"flex","gap-sm"],["name","scroll-text"],[1,"section-title"],[1,"form-card"],[1,"flex","justify-between","items-end","gap-sm","flex-wrap"],[1,"form-row"],[1,"form-group","mb-md"],[1,"standard-label"],[1,"form-input",3,"ngModelChange","change","ngModel"],["value","all"],["value","available"],["value","unavailable"],["value","out_of_stock"],["value","no_menu"],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Nome piatto, ingrediente...",1,"form-input",3,"ngModelChange","input","ngModel"],[1,"modal-footer"],[1,"promethea-button","primary",3,"click"],[1,"material-icons"],[1,"flex","justify-center","gap-sm"],[1,"chip","text-md"],[1,"flex","items-center","gap-sm"],[4,"ngIf"],["class","text-muted text-sm",4,"ngIf"],[1,"table-section","mt-lg","p-sm"],[1,"crm-table"],[1,"text-center"],["class","dish-row",4,"ngFor","ngForOf"],["class","empty-state mt-sm mb-md",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[3,"value"],[1,"text-muted","text-sm"],[1,"dish-row"],[1,"dish-info"],[1,"dish-name"],["class","text-mini",4,"ngIf"],["class","chip",4,"ngIf"],["class","text-muted",4,"ngIf"],[1,"chip"],[1,"ingredients-preview"],[4,"ngIf","ngIfElse"],[1,"preparation-time"],[1,"promethea-button","primary","small",3,"click"],[1,"text-mini"],[1,"text-muted"],[1,"font-semibold"],[1,"ingredients-list"],["class","chip-mini",4,"ngFor","ngForOf"],["class","chip-mini active",4,"ngIf"],[1,"chip-mini"],[1,"chip-mini","active"],[1,"no-ingredients-state"],[1,"promethea-button","link","small",3,"click"],[1,"empty-state","mt-sm","mb-md"],[1,"modal-overlay",3,"click"],[1,"modal-container","modal-lg",3,"click"],[1,"modal-header"],[1,"modal-title"],[1,"icon-button","close-button",3,"click"],[1,"border","rounded-lg","p-lg","bg-gradient-light","shadow-card","my-md"],[1,"flex","items-center","gap-sm","mb-md","font-bold","text-[calc(var(--fs-sm)*1.2)]"],[1,"chip","active"],["class","text-center p-xl opacity-70",4,"ngIf"],["class","grid gap-sm",4,"ngIf"],[1,"border","rounded-lg","p-lg","bg-gradient-light","shadow-card","mt-lg"],[1,"flex","items-center","gap-sm","mb-md","font-bold","text-[calc(var(--fs-sm)*1.2)]",2,"font-size","var(--fs-md)"],[1,"flex","flex-col","gap-1","flex-1","min-w-300"],["name","recipeInstructions","rows","8","placeholder","Descrivi la sequenza generale di preparazione...",1,"form-input","text-area",3,"ngModelChange","ngModel"],[1,"text-muted","mt-sm"],[1,"flex","flex-col","gap-1","flex-1","min-w-300","mt-sm"],["type","number","name","preparationTime","min","1","max","480","placeholder","Es. 15, 30, 45...",1,"form-input",3,"ngModelChange","ngModel"],[1,"promethea-button","secondary",3,"click"],[1,"promethea-button","success",3,"click","disabled"],[1,"text-center","p-xl","opacity-70"],["name","info"],[1,"grid","gap-sm"],["class","border rounded-lg p-md my-md bg-[color-mix(in srgb,var(--background)95%,transparent)] ingredient-card",4,"ngFor","ngForOf"],[1,"border","rounded-lg","p-md","my-md","bg-[color-mix(in","srgb,var(--background)95%,transparent)]","ingredient-card"],[1,"ingredient-header"],[1,"ingredient-main-info"],[1,"ingredient-cost","text-muted"],[1,"flex","items-center","gap-sm","cursor-pointer","p-sm","rounded","transition","hover:bg-[var(--smoke-1)]","large"],["type","checkbox",1,"checkbox-input",3,"change","checked"],[1,"checkbox-text"],["class","flex flex-col gap-1 flex-1 min-w-300 notes-input-container",4,"ngIf"],[1,"flex","flex-col","gap-1","flex-1","min-w-300","notes-input-container"],["rows","3","placeholder","Descrivi come trattare e cucinare questo ingrediente specifico...",1,"form-input","text-area",3,"ngModelChange","input","ngModel"],[1,"modal-container","modal-sm",3,"click"],[1,"p-md","border-t","border-b","border-[var(--smoke-1)]","flex","justify-between","items-center"],[1,"p-lg","flex-1","overflow-y-auto"],[1,"footer-actions"],[1,"promethea-button","danger",3,"click"]],template:function(e,n){e&1&&(r(0,"div",1)(1,"div",2)(2,"div",3),M(3,"lucide-angular",4),r(4,"h1",5),a(5,"Ricette"),i()()(),r(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"label",10),a(11,"Stato:"),i(),r(12,"select",11),S("ngModelChange",function(d){return v(n.statusFilter,d)||(n.statusFilter=d),d}),m("change",function(){return n.onStatusFilterChange()}),r(13,"option",12),a(14,"Tutti i piatti"),i(),r(15,"option",13),a(16,"Disponibili"),i(),r(17,"option",14),a(18,"Non Disponibili"),i(),r(19,"option",15),a(20,"Esauriti"),i()()(),r(21,"div",9)(22,"label",10),a(23,"Menu:"),i(),r(24,"select",11),S("ngModelChange",function(d){return v(n.menuFilter,d)||(n.menuFilter=d),d}),m("change",function(){return n.onMenuFilterChange()}),r(25,"option",12),a(26,"Tutti i menu"),i(),r(27,"option",16),a(28,"Senza menu"),i(),h(29,ae,2,2,"option",17),i()()(),r(30,"div",8)(31,"div",9)(32,"label",10),a(33,"Categoria:"),i(),r(34,"select",11),S("ngModelChange",function(d){return v(n.categoryFilter,d)||(n.categoryFilter=d),d}),m("change",function(){return n.onCategoryFilterChange()}),r(35,"option",12),a(36,"Tutte le categorie"),i(),h(37,oe,2,2,"option",17),i()(),r(38,"div",9)(39,"label",10),a(40,"Cerca:"),i(),r(41,"input",18),S("ngModelChange",function(d){return v(n.searchTerm,d)||(n.searchTerm=d),d}),m("input",function(){return n.onSearchChange()}),i()()()(),r(42,"div",19)(43,"button",20),m("click",function(){return n.loadDishes()}),r(44,"span",21),a(45,"refresh"),i(),a(46," Aggiorna "),i(),r(47,"div",22)(48,"span",23)(49,"span",24)(50,"span"),a(51),i(),h(52,se,2,0,"span",25)(53,le,2,0,"span",25),i()(),h(54,de,2,1,"span",26),i()()(),r(55,"div",27)(56,"table",28)(57,"thead")(58,"tr")(59,"th"),a(60,"Piatto"),i(),r(61,"th"),a(62,"Categoria"),i(),r(63,"th"),a(64,"Stato"),i(),r(65,"th"),a(66,"Ingredienti"),i(),r(67,"th"),a(68,"Tempo (min)"),i(),r(69,"th",29),a(70,"Azioni"),i()()(),r(71,"tbody"),h(72,fe,28,10,"tr",30),i()(),h(73,xe,7,0,"div",31),i(),h(74,ye,47,8,"div",32)(75,Ie,23,1,"div",32),i()),e&2&&(l(12),x("ngModel",n.statusFilter),l(12),x("ngModel",n.menuFilter),l(5),p("ngForOf",n.menus),l(5),x("ngModel",n.categoryFilter),l(3),p("ngForOf",n.categories),l(4),x("ngModel",n.searchTerm),l(7),D(n.filteredDishes.length===0?"secondary":""),l(3),I(n.filteredDishes.length),l(),p("ngIf",n.filteredDishes.length===1),l(),p("ngIf",n.filteredDishes.length!==1),l(),p("ngIf",n.dishes.length!==n.filteredDishes.length),l(18),p("ngForOf",n.filteredDishes),l(),p("ngIf",n.filteredDishes.length===0),l(),p("ngIf",n.showEditModal),l(),p("ngIf",n.showDeleteConfirm))},dependencies:[A,O,z,H,Q,U,L,$,j,B,G,Y,q,ie,te,W],styles:[".dish-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.dish-name[_ngcontent-%COMP%]{font-size:var(--fs-sm);font-weight:600;color:var(--text-color)}.ingredients-preview[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--gap-sm)}.ingredients-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-top:calc(var(--gap-sm) / 2);gap:calc(var(--gap-sm) / 2)}.preparation-time[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-weight:500}.preparation-time[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:16px;color:var(--primary)}.no-ingredients-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;align-items:flex-start}.ingredient-card[_ngcontent-%COMP%]{transition:all .3s ease}.ingredient-card[_ngcontent-%COMP%]:hover{border-color:var(--primary);box-shadow:0 2px 8px var(--shadow)}.ingredient-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:var(--gap-sm);flex-wrap:wrap;gap:var(--gap-sm)}.ingredient-main-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--gap-md);flex-wrap:wrap}.ingredient-cost[_ngcontent-%COMP%]{font-size:var(--fs-sm);font-weight:500}.notes-input-container[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-in-out;margin-top:var(--gap-sm)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-8px)}to{opacity:1;transform:translateY(0)}}.checkbox-label.large[_ngcontent-%COMP%]   .checkbox-text[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--gap-sm);font-weight:600}@media (max-width: 768px){.ingredient-header[_ngcontent-%COMP%], .ingredient-main-info[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:var(--gap-sm)}.action-buttons[_ngcontent-%COMP%]{flex-direction:column}.ingredients-list[_ngcontent-%COMP%]{gap:4px}.ingredient-tag[_ngcontent-%COMP%]{font-size:var(--fs-sm)}}@media print{.filters-section[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%], .modal-overlay[_ngcontent-%COMP%]{display:none!important}.table-container[_ngcontent-%COMP%]{box-shadow:none;border:1px solid #000}}"]})};export{re as Recipe};
