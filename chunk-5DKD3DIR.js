import{a as W}from"./chunk-FAMGUBCP.js";import{x as L}from"./chunk-B4OL4BIV.js";import"./chunk-L3BVOY7C.js";import{c as y,d as C,k as N,m as S,p as A,r as Z}from"./chunk-JKK4MZBS.js";import{Cb as R,Db as O,Eb as b,Ga as f,Hb as r,Ib as h,Ja as s,Jb as x,Kb as V,Wb as F,Yb as z,Za as w,_b as j,cb as m,ga as I,h as P,kb as l,la as p,lb as n,ma as u,mb as i,nb as D,qb as k,rb as M,sb as g,vb as _,xb as c}from"./chunk-G3XPJWB3.js";function B(t,a){if(t&1){let e=g();n(0,"img",9),_("error",function(d){p(e);let v=c();return u(v.onImageError(d))}),i()}if(t&2){let e=c();l("src",e.images[e.previousIndex],f)("alt","Immagine "+(e.previousIndex+1))}}function Q(t,a){if(t&1){let e=g();n(0,"img",9),_("error",function(d){p(e);let v=c();return u(v.onImageError(d))}),i()}if(t&2){let e=c();l("src",e.images[e.currentIndex],f)("alt","Immagine "+(e.currentIndex+1))}}function Y(t,a){if(t&1){let e=g();n(0,"button",10),_("click",function(){p(e);let d=c();return u(d.prev())}),n(1,"span",11),r(2,"chevron_left"),i()()}}function J(t,a){if(t&1){let e=g();n(0,"button",12),_("click",function(){p(e);let d=c();return u(d.next())}),n(1,"span",11),r(2,"chevron_right"),i()()}}function X(t,a){if(t&1){let e=g();n(0,"span",15),_("click",function(){let d=p(e).index,v=c(2);return u(v.goTo(d))}),i()}if(t&2){let e=a.index,o=c(2);b("active",e===o.currentIndex)}}function q(t,a){if(t&1&&(n(0,"div",13),m(1,X,1,2,"span",14),i()),t&2){let e=c();s(),l("ngForOf",e.images)}}function K(t,a){t&1&&(n(0,"div",16)(1,"span",11),r(2,"photo_library"),i(),n(3,"p"),r(4,"Nessuna immagine disponibile"),i()())}var E=class t{images=[];autoPlay=!0;interval=3e3;transitionDuration=600;currentIndex=0;previousIndex=0;isTransitioning=!1;direction="next";timer;ngOnInit(){this.autoPlay&&this.images.length>0&&this.startAutoPlay()}ngOnDestroy(){this.stopAutoPlay()}startAutoPlay(){this.timer&&clearInterval(this.timer),this.images.length>0&&this.autoPlay&&(this.timer=setInterval(()=>{this.next()},this.interval))}stopAutoPlay(){this.timer&&(clearInterval(this.timer),this.timer=null)}next(){this.images.length===0||this.isTransitioning||(this.direction="next",this.previousIndex=this.currentIndex,this.currentIndex=(this.currentIndex+1)%this.images.length,this.startTransition())}prev(){this.images.length===0||this.isTransitioning||(this.direction="prev",this.previousIndex=this.currentIndex,this.currentIndex=(this.currentIndex-1+this.images.length)%this.images.length,this.startTransition())}goTo(a){this.images.length===0||this.isTransitioning||a===this.currentIndex||(this.direction=a>this.currentIndex?"next":"prev",this.previousIndex=this.currentIndex,this.currentIndex=a,this.startTransition())}startTransition(){this.isTransitioning=!0,setTimeout(()=>{this.isTransitioning=!1},this.transitionDuration)}onImageError(a){let e=a.target;console.error("Errore caricamento immagine:",e.src),e.style.display="none";let o=this.images.indexOf(e.src);if(o>-1&&this.images.splice(o,1),this.images.length===0){this.stopAutoPlay();return}this.currentIndex>=this.images.length&&(this.currentIndex=0)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=w({type:t,selectors:[["app-image-slideshow"]],inputs:{images:"images",autoPlay:"autoPlay",interval:"interval",transitionDuration:"transitionDuration"},decls:10,vars:18,consts:[[1,"slideshow-container",3,"mouseenter","mouseleave"],[1,"slides-wrapper"],[1,"slide","previous"],["class","slide-image",3,"src","alt","error",4,"ngIf"],[1,"slide","current"],["class","nav-button prev",3,"click",4,"ngIf"],["class","nav-button next",3,"click",4,"ngIf"],["class","indicators",4,"ngIf"],["class","slideshow-placeholder",4,"ngIf"],[1,"slide-image",3,"error","src","alt"],[1,"nav-button","prev",3,"click"],[1,"material-icons"],[1,"nav-button","next",3,"click"],[1,"indicators"],["class","indicator",3,"active","click",4,"ngFor","ngForOf"],[1,"indicator",3,"click"],[1,"slideshow-placeholder"]],template:function(e,o){e&1&&(n(0,"div",0),_("mouseenter",function(){return o.stopAutoPlay()})("mouseleave",function(){return o.startAutoPlay()}),n(1,"div",1)(2,"div",2),m(3,B,1,2,"img",3),i(),n(4,"div",4),m(5,Q,1,2,"img",3),i()(),m(6,Y,3,0,"button",5)(7,J,3,0,"button",6)(8,q,2,1,"div",7),i(),m(9,K,5,0,"div",8)),e&2&&(s(2),b("exiting",o.isTransitioning)("slide-out-next",o.direction==="next"&&o.isTransitioning)("slide-out-prev",o.direction==="prev"&&o.isTransitioning),s(),l("ngIf",o.images[o.previousIndex]),s(),b("entering",o.isTransitioning)("slide-in-next",o.direction==="next"&&o.isTransitioning)("slide-in-prev",o.direction==="prev"&&o.isTransitioning),s(),l("ngIf",o.images[o.currentIndex]),s(),l("ngIf",o.images.length>1),s(),l("ngIf",o.images.length>1),s(),l("ngIf",o.images.length>1),s(),l("ngIf",o.images.length===0))},dependencies:[S,y,C],styles:[".slideshow-container[_ngcontent-%COMP%]{position:relative;width:100%;height:clamp(250px,50vh,400px);border-radius:clamp(12px,2vw,20px);overflow:hidden;background:var(--smoke-1);box-shadow:0 4px 20px #00000014;margin:0 auto}.slides-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.slide[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;transition:transform .6s cubic-bezier(.4,0,.2,1),opacity .6s cubic-bezier(.4,0,.2,1)}.slide.current[_ngcontent-%COMP%]{z-index:2;opacity:1;transform:translate(0)}.slide.previous[_ngcontent-%COMP%]{z-index:1;opacity:0;transform:translate(0)}.slide.previous.slide-out-next[_ngcontent-%COMP%]{opacity:0;transform:translate(-100%)}.slide.previous.slide-out-prev[_ngcontent-%COMP%]{opacity:0;transform:translate(100%)}.slide.current.slide-in-next[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInFromRight .6s cubic-bezier(.4,0,.2,1) forwards}.slide.current.slide-in-prev[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInFromLeft .6s cubic-bezier(.4,0,.2,1) forwards}@keyframes _ngcontent-%COMP%_slideInFromRight{0%{opacity:0;transform:translate(100%)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_slideInFromLeft{0%{opacity:0;transform:translate(-100%)}to{opacity:1;transform:translate(0)}}.slide-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%;width:auto;height:auto;object-fit:contain;object-position:center;border-radius:clamp(8px,1.5vw,12px)}.fade-transition[_ngcontent-%COMP%]   .slide.previous[_ngcontent-%COMP%]{opacity:0}.fade-transition[_ngcontent-%COMP%]   .slide.current[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .6s ease-in-out forwards}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.nav-button[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);background:#0009;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border:1px solid rgba(255,255,255,.2);color:#fff;width:clamp(40px,6vw,48px);height:clamp(40px,6vw,48px);border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);z-index:10;font-size:clamp(18px,3vw,24px);box-shadow:0 4px 12px #0003}.nav-button[_ngcontent-%COMP%]:hover, .nav-button[_ngcontent-%COMP%]:active{background:var(--primary);transform:translateY(-50%) scale(1.1);box-shadow:0 6px 20px rgba(var(--primary-rgb, 0, 0, 0),.3)}.nav-button.prev[_ngcontent-%COMP%]{left:clamp(8px,2vw,16px)}.nav-button.next[_ngcontent-%COMP%]{right:clamp(8px,2vw,16px)}.indicators[_ngcontent-%COMP%]{position:absolute;bottom:clamp(12px,3vh,20px);left:50%;transform:translate(-50%);display:flex;gap:clamp(6px,1.5vw,10px);z-index:10;padding:clamp(6px,1.5vw,10px);background:#0006;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border-radius:100px}.indicator[_ngcontent-%COMP%]{width:clamp(8px,2vw,12px);height:clamp(8px,2vw,12px);border-radius:50%;background:#fff9;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);border:1px solid rgba(255,255,255,.2)}.indicator.active[_ngcontent-%COMP%]{background:var(--primary);transform:scale(1.3);box-shadow:0 0 8px rgba(var(--primary-rgb, 0, 0, 0),.4)}.slideshow-placeholder[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%;color:var(--smoke-3);background:linear-gradient(135deg,var(--smoke-1) 0%,var(--smoke-2) 100%);padding:clamp(20px,5vw,40px);text-align:center}.slideshow-placeholder[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:clamp(48px,10vw,64px);margin-bottom:clamp(12px,3vw,20px);opacity:.6}@media (hover: none) and (pointer: coarse){.slideshow-container[_ngcontent-%COMP%]{height:clamp(200px,40vh,350px)}.nav-button[_ngcontent-%COMP%]{background:#000000b3;width:clamp(44px,8vw,52px);height:clamp(44px,8vw,52px)}.indicators[_ngcontent-%COMP%]{padding:clamp(8px,2vw,12px)}}"]})};function ee(t,a){t&1&&(n(0,"div",5)(1,"span",6),r(2,"restaurant"),i(),n(3,"h2",7),r(4,"Ristorante non trovato"),i(),n(5,"p",8),r(6,"Il ristorante che stai cercando non esiste o non \xE8 disponibile."),i(),n(7,"button",9)(8,"span",10),r(9,"arrow_back"),i(),r(10," Torna alla ricerca "),i()())}function te(t,a){if(t&1){let e=g();n(0,"img",36),_("error",function(d){p(e);let v=c(3);return u(v.onLogoError(d))}),i()}if(t&2){let e=c(3);l("src",e.restaurant.logo_url,f)("alt",e.restaurant.name)}}function ie(t,a){t&1&&(n(0,"span",10),r(1,"restaurant"),i())}function ne(t,a){if(t&1&&(n(0,"p",8),r(1),i()),t&2){let e=c(3);s(),x(" ",e.restaurant.cuisine_type," ")}}function ae(t,a){if(t&1&&D(0,"app-image-slideshow",37),t&2){let e=c(3);l("images",e.restaurantImages)}}function re(t,a){t&1&&(n(0,"div",38)(1,"div",39)(2,"span",6),r(3,"photo_library"),i(),n(4,"p",8),r(5,"Nessuna immagine disponibile per questo ristorante"),i()()())}function se(t,a){if(t&1&&(n(0,"div",27)(1,"h3",28),r(2,"Descrizione"),i(),n(3,"p"),r(4),i()()),t&2){let e=c(3);s(4),h(e.restaurant.description)}}function oe(t,a){if(t&1&&(n(0,"div",40)(1,"span",10),r(2,"place"),i(),n(3,"span"),r(4),i()()),t&2){let e=c(3);s(4),h(e.restaurant.address)}}function le(t,a){if(t&1&&(n(0,"div",40)(1,"span",10),r(2,"phone"),i(),n(3,"a",41),r(4),i()()),t&2){let e=c(3);s(3),l("href","tel:"+e.restaurant.phone,f),s(),h(e.restaurant.phone)}}function ce(t,a){if(t&1&&(n(0,"div",40)(1,"span",10),r(2,"email"),i(),n(3,"a",41),r(4),i()()),t&2){let e=c(3);s(3),l("href","mailto:"+e.restaurant.email,f),s(),h(e.restaurant.email)}}function de(t,a){t&1&&(n(0,"div",40)(1,"span",42),r(2,"delivery_dining"),i(),n(3,"div")(4,"strong"),r(5,"Consegna a domicilio"),i(),n(6,"p",8),r(7,"Ordina online con consegna a casa"),i()()())}function me(t,a){t&1&&(n(0,"div",40)(1,"span",42),r(2,"takeout_dining"),i(),n(3,"div")(4,"strong"),r(5,"Asporto"),i(),n(6,"p",8),r(7,"Ritira il tuo ordine in ristorante"),i()()())}function _e(t,a){t&1&&(n(0,"div",40)(1,"span",42),r(2,"event_available"),i(),n(3,"div")(4,"strong"),r(5,"Prenotazione tavolo"),i(),n(6,"p",8),r(7,"Prenota il tuo tavolo online"),i()()())}function pe(t,a){if(t&1&&(n(0,"span",51),r(1),i()),t&2){let e=c().$implicit,o=c(6);s(),x(" ",o.getDayName(e)," ")}}function ue(t,a){if(t&1&&(k(0),m(1,pe,2,1,"span",50),M()),t&2){let e=a.$implicit,o=c(6);s(),l("ngIf",o.getDayName(e))}}function ge(t,a){if(t&1&&(n(0,"div",48),m(1,ue,2,1,"ng-container",49),i()),t&2){let e=c().$implicit;s(),l("ngForOf",e.days_of_week)}}function ve(t,a){if(t&1&&(n(0,"div",44)(1,"div",45)(2,"h3",28),r(3),i(),n(4,"span",46),r(5),i()(),m(6,ge,2,1,"div",47),i()),t&2){let e=a.$implicit,o=c(4);s(3),h(e.name),s(2),V(" ",o.formatTime(e.start_time)," - ",o.formatTime(e.end_time)," "),s(),l("ngIf",e.days_of_week&&e.days_of_week.length>0)}}function xe(t,a){if(t&1&&(n(0,"div",23)(1,"div",24)(2,"span",10),r(3,"schedule"),i(),n(4,"h2",25),r(5,"Orari di apertura"),i()(),n(6,"div",11),m(7,ve,7,4,"div",43),i()()),t&2){let e=c(3);s(7),l("ngForOf",e.shifts)}}function fe(t,a){if(t&1){let e=g();n(0,"button",63),_("click",function(){let d=p(e).$implicit,v=c(4);return u(v.selectCategory(d.id))}),n(1,"span",10),r(2,"category"),i(),r(3),i()}if(t&2){let e=a.$implicit,o=c(4);b("active",o.selectedCategory===e.id),s(3),x(" ",e.name," ")}}function he(t,a){if(t&1&&(n(0,"div",46)(1,"span",10),r(2,"schedule"),i(),r(3),i()),t&2){let e=c().$implicit;s(3),x(" ",e.preparation_time," min ")}}function be(t,a){if(t&1&&(n(0,"p",83),r(1),i()),t&2){let e=c().$implicit;s(),x(" ",e.description," ")}}function Ie(t,a){if(t&1){let e=g();n(0,"div",71)(1,"div",72)(2,"img",73),_("error",function(d){let v=p(e).$implicit,T=c(5);return u(T.onDishImageError(d,v))}),i(),n(3,"div",74)(4,"div",75),r(5),F(6,"currency"),i(),m(7,he,4,1,"div",76),i()(),n(8,"div",77)(9,"div")(10,"h3",78),r(11),i(),m(12,be,2,1,"p",79),i(),n(13,"div",80)(14,"button",81),_("click",function(){let d=p(e).$implicit,v=c(5);return u(v.addToCart(d))}),n(15,"span",10),r(16,"add_shopping_cart"),i(),r(17," Aggiungi "),i(),n(18,"button",82)(19,"span",10),r(20,"info"),i()()()()()}if(t&2){let e=a.$implicit;s(2),l("src",e.image_url,f)("alt",e.name),s(3),x(" ",z(6,6,e.base_price,"EUR")," "),s(2),l("ngIf",e.preparation_time),s(4),h(e.name),s(),l("ngIf",e.description)}}function we(t,a){if(t&1){let e=g();n(0,"div",84)(1,"p",85),r(2),i(),n(3,"button",32),_("click",function(){p(e);let d=c(5);return u(d.viewFullMenu())}),n(4,"span",10),r(5,"visibility"),i(),r(6," Vedi tutti i piatti "),i()()}if(t&2){let e=c(5);s(2),x("+",e.filteredDishes.length-6," altri piatti disponibili")}}function ye(t,a){if(t&1&&(n(0,"div",68)(1,"div",22),m(2,Ie,21,9,"div",69),i(),m(3,we,7,1,"div",70),i()),t&2){let e=c(4);s(2),l("ngForOf",e.filteredDishes.slice(0,6)),s(),l("ngIf",e.filteredDishes.length>6)}}function Ce(t,a){if(t&1){let e=g();n(0,"div",86)(1,"span",87),r(2,"search_off"),i(),n(3,"h3",88),r(4,"Nessun piatto trovato"),i(),n(5,"p",8),r(6,"Prova a selezionare un'altra categoria"),i(),n(7,"button",89),_("click",function(){p(e);let d=c(4);return u(d.selectCategory(null))}),n(8,"span",10),r(9,"refresh"),i(),r(10," Mostra tutti i piatti "),i()()}}function Se(t,a){if(t&1){let e=g();n(0,"div",90)(1,"div",13)(2,"span",42),r(3,"local_dining"),i(),n(4,"div")(5,"p",28),r(6,"Piatti selezionati per te"),i(),n(7,"p",91),r(8,"Anteprima del nostro menu completo"),i()()(),n(9,"button",57),_("click",function(){p(e);let d=c(4);return u(d.viewFullMenu())}),n(10,"span",10),r(11,"restaurant_menu"),i(),r(12," Esplora il menu completo "),n(13,"span",10),r(14,"arrow_forward"),i()()()}}function Ee(t,a){if(t&1){let e=g();n(0,"div",23)(1,"div",52)(2,"div",13)(3,"div",14)(4,"span",53),r(5,"restaurant_menu"),i()(),n(6,"div")(7,"h2",54),r(8,"Il Nostro Menu"),i(),n(9,"p",55),r(10,"Scopri le nostre specialit\xE0"),i()()(),n(11,"div",40)(12,"span",56),r(13),i(),n(14,"button",57),_("click",function(){p(e);let d=c(3);return u(d.viewFullMenu())}),n(15,"span",10),r(16,"menu_book"),i(),r(17," Menu Completo "),i()()(),n(18,"div",58)(19,"div",59)(20,"span",60),r(21,"filter_list"),i(),n(22,"span",61),r(23,"Filtra per categoria:"),i()(),n(24,"div",62)(25,"button",63),_("click",function(){p(e);let d=c(3);return u(d.selectCategory(null))}),n(26,"span",10),r(27,"all_inclusive"),i(),r(28," Tutti i piatti "),i(),m(29,fe,4,3,"button",64),i()(),m(30,ye,4,2,"div",65)(31,Ce,11,0,"div",66)(32,Se,15,0,"div",67),i()}if(t&2){let e=c(3);s(13),x("",e.dishes.length," piatti"),s(12),b("active",e.selectedCategory===null),s(4),l("ngForOf",e.categories),s(),l("ngIf",e.filteredDishes.length>0),s(),l("ngIf",e.filteredDishes.length===0),s(),l("ngIf",e.filteredDishes.length>0)}}function Te(t,a){if(t&1){let e=g();n(0,"button",32),_("click",function(){p(e);let d=c(3);return u(d.makeReservation())}),n(1,"span",10),r(2,"event_available"),i(),r(3," Prenota Tavolo "),i()}}function Pe(t,a){if(t&1){let e=g();n(0,"button",57),_("click",function(){p(e);let d=c(3);return u(d.viewFullMenu())}),n(1,"span",10),r(2,"restaurant_menu"),i(),r(3," Vedi Menu Completo "),i()}}function De(t,a){if(t&1){let e=g();n(0,"button",92),_("click",function(){p(e);let d=c(3);return u(d.viewInteractiveMenu())}),n(1,"span",10),r(2,"shopping_cart"),i(),r(3," Ordina Ora "),i()}}function ke(t,a){if(t&1){let e=g();n(0,"div",11)(1,"div",12)(2,"div",13)(3,"div",14),m(4,te,1,2,"img",15)(5,ie,2,0,"span",16),i(),n(6,"div",17)(7,"h1",18),r(8),i(),m(9,ne,2,1,"p",19),i()()(),m(10,ae,1,1,"app-image-slideshow",20)(11,re,6,0,"div",21),n(12,"div",22)(13,"div",23)(14,"div",24)(15,"span",10),r(16,"info"),i(),n(17,"h2",25),r(18,"Informazioni"),i()(),n(19,"div",11),m(20,se,5,1,"div",26),n(21,"div",27)(22,"h3",28),r(23,"Contatti"),i(),n(24,"div",27),m(25,oe,5,1,"div",29)(26,le,5,2,"div",29)(27,ce,5,2,"div",29),i()()()(),n(28,"div",23)(29,"div",24)(30,"span",10),r(31,"room_service"),i(),n(32,"h2",25),r(33,"Servizi"),i()(),n(34,"div",11),m(35,de,8,0,"div",29)(36,me,8,0,"div",29)(37,_e,8,0,"div",29),i()()(),m(38,xe,8,1,"div",30)(39,Ee,33,7,"div",30),n(40,"div",31)(41,"button",32),_("click",function(){p(e);let d=c(2);return u(d.viewRestaurantMap())}),n(42,"span",10),r(43,"map"),i(),r(44," Visualizza Mappa "),i(),m(45,Te,4,0,"button",33)(46,Pe,4,0,"button",34)(47,De,4,0,"button",35),i()()}if(t&2){let e=c(2);s(),O("background",e.restaurant.cover_image_url?"url("+e.restaurant.cover_image_url+")":"var(--gradiente)"),s(3),l("ngIf",e.restaurant.logo_url),s(),l("ngIf",!e.restaurant.logo_url),s(3),h(e.restaurant.name),s(),l("ngIf",e.restaurant.cuisine_type),s(),l("ngIf",e.restaurantImages.length>0),s(),l("ngIf",e.restaurant&&e.restaurantImages.length===0),s(9),l("ngIf",e.restaurant.description),s(5),l("ngIf",e.restaurant.address),s(),l("ngIf",e.restaurant.phone),s(),l("ngIf",e.restaurant.email),s(8),l("ngIf",e.restaurant.accepts_delivery),s(),l("ngIf",e.restaurant.accepts_takeaway),s(),l("ngIf",e.restaurant.allow_table_selection),s(),l("ngIf",e.shifts.length>0),s(),l("ngIf",e.dishes.length>0),s(6),l("ngIf",e.restaurant.allow_table_selection),s(),l("ngIf",e.restaurant),s(),l("ngIf",e.restaurant.accepts_delivery||e.restaurant.accepts_takeaway)}}function Me(t,a){if(t&1&&(n(0,"div",2),m(1,ee,11,0,"div",3)(2,ke,48,20,"div",4),i()),t&2){let e=c();s(),l("ngIf",!e.restaurant),s(),l("ngIf",e.restaurant)}}function Re(t,a){t&1&&(n(0,"div",2)(1,"div",5)(2,"span",93),r(3,"sync"),i(),n(4,"p"),r(5,"Caricamento informazioni ristorante..."),i()()())}var $=class t{restaurantPublicService=I(W);router=I(Z);route=I(A);restaurant=null;shifts=[];dishes=[];filteredDishes=[];selectedCategory=null;loading=!0;categories=[];restaurantImages=[];weekDays=["Lun","Mar","Mer","Gio","Ven","Sab","Dom"];ngOnInit(){return P(this,null,function*(){let a=this.route.snapshot.paramMap.get("id");a?yield this.loadRestaurantData(a):this.router.navigate(["/customer/search"])})}extractCategories(a){this.categories=a||[]}selectCategory(a){this.selectedCategory=a,a?this.filteredDishes=this.dishes.filter(e=>e.category_id===a):this.filteredDishes=[...this.dishes]}formatTime(a){return a?a.substring(0,5):""}getDayName(a){return this.weekDays[a]||""}truncateText(a,e){return a?a.length<=e?a:a.substring(0,e)+"...":""}viewRestaurantMap(){this.restaurant&&this.router.navigate(["/customer/restaurant",this.restaurant.id,"map"])}makeReservation(a,e){e&&e.stopPropagation(),console.log("Navigating to restaurant map:",a),this.router.navigate(["/customer/restaurant",a,"map"])}viewInteractiveMenu(){this.restaurant&&this.router.navigate(["/customer/menu",this.restaurant.id])}onLogoError(a){let e=a.target;e.style.display="none"}onDishImageError(a,e){let o=a.target;o.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgZmlsbD0iI2VhZWFlYSIvPjx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTQiIGZpbGw9IiM5OTkiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj5ObyBpbWFnZTwvdGV4dD48L3N2Zz4=",o.onerror=null}loadRestaurantData(a){return P(this,null,function*(){try{this.loading=!0;let[e,o,d,v,T]=yield Promise.all([this.restaurantPublicService.loadRestaurantById(a),this.restaurantPublicService.loadRestaurantShifts(a),this.restaurantPublicService.loadRestaurantDishes(a),this.restaurantPublicService.loadRestaurantCategories(a),this.restaurantPublicService.loadRestaurantPhotos(a)]);this.restaurant=e,this.shifts=o,this.dishes=d,this.filteredDishes=[...d],this.restaurantImages=T,this.extractCategories(v),console.log("\u2705 Dati caricati:",{ristorante:this.restaurant?.name,piatti:this.dishes.length,turni:this.shifts.length,foto:this.restaurantImages.length})}catch(e){console.error("Error loading restaurant data:",e)}finally{this.loading=!1}})}viewFullMenu(){this.restaurant&&this.router.navigate(["/customer/menu",this.restaurant.id])}addToCart(a){console.log("Aggiunto al carrello:",a)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=w({type:t,selectors:[["app-restaurant-detail"]],decls:3,vars:2,consts:[["loadingTemplate",""],["class","page-container",4,"ngIf","ngIfElse"],[1,"page-container"],["class","flex flex-col items-center justify-center p-xl gap-md",4,"ngIf"],["class","flex flex-col gap-md",4,"ngIf"],[1,"flex","flex-col","items-center","justify-center","p-xl","gap-md"],[1,"material-icons","fs-lg"],[1,"text-lg","font-bold"],[1,"text-muted"],["routerLink","/customer/search",1,"promethea-button"],[1,"material-icons"],[1,"flex","flex-col","gap-md"],[1,"section-header"],[1,"flex","items-center","gap-md"],[1,"header-icon"],["class","logo-image rounded-full",3,"src","alt","error",4,"ngIf"],["class","material-icons",4,"ngIf"],[1,"section-titles"],[1,"section-title"],["class","text-muted",4,"ngIf"],["class","mb-lg",3,"images",4,"ngIf"],["class","image-placeholder card mb-lg",4,"ngIf"],[1,"grid-cards"],[1,"card"],[1,"flex","items-center","gap-sm","mb-md"],[1,"text-md","font-semibold","m-0"],["class","flex flex-col gap-sm",4,"ngIf"],[1,"flex","flex-col","gap-sm"],[1,"font-semibold"],["class","flex items-center gap-sm",4,"ngIf"],["class","card",4,"ngIf"],[1,"flex","flex-wrap","gap-md","justify-center"],[1,"promethea-button",3,"click"],["class","promethea-button",3,"click",4,"ngIf"],["class","promethea-button primary",3,"click",4,"ngIf"],["class","promethea-button ghost",3,"click",4,"ngIf"],[1,"logo-image","rounded-full",3,"error","src","alt"],[1,"mb-lg",3,"images"],[1,"image-placeholder","card","mb-lg"],[1,"flex","flex-col","items-center","justify-center","p-xl","gap-sm"],[1,"flex","items-center","gap-sm"],[1,"link",3,"href"],[1,"material-icons","text-primary"],["class","shift-section",4,"ngFor","ngForOf"],[1,"shift-section"],[1,"flex","justify-between","items-center","mb-sm"],[1,"chip"],["class","flex flex-wrap gap-sm",4,"ngIf"],[1,"flex","flex-wrap","gap-sm"],[4,"ngFor","ngForOf"],["class","chip active",4,"ngIf"],[1,"chip","active"],[1,"flex","items-center","justify-between","mb-md"],[1,"material-icons","text-lg"],[1,"section-title","m-0"],[1,"text-muted","mt-sm"],[1,"chip","bg-gradient"],[1,"promethea-button","primary",3,"click"],[1,"mb-md"],[1,"flex","items-center","gap-sm","p-sm0"],[1,"material-icons","text-muted"],[1,"text-mini","font-semibold","text-muted"],[1,"flex","flex-wrap","gap-sm","pb-2"],[1,"chip","text-normal",3,"click"],["class","chip text-normal",3,"active","click",4,"ngFor","ngForOf"],["class","dishes-preview",4,"ngIf"],["class","text-center py-lg",4,"ngIf"],["class","flex flex-col md:flex-row gap-md justify-between items-center mt-lg pt-md border-t border-smoke-1",4,"ngIf"],[1,"dishes-preview"],["class","card hover-lift flex flex-col",4,"ngFor","ngForOf"],["class","text-center mt-lg pt-md border-t border-smoke-1",4,"ngIf"],[1,"card","hover-lift","flex","flex-col"],[1,"dish-image-container"],[1,"dish-image",3,"error","src","alt"],[1,"dish-badges","flex","justify-between","p-sm"],[1,"dish-price","chip","bg-gradient","text-white"],["class","chip",4,"ngIf"],[1,"p-md","flex","flex-col","gap-md","flex-1"],[1,"card-title"],["class","text-muted line-clamp-2",4,"ngIf"],[1,"flex","gap-sm","card-footer"],[1,"promethea-button","primary","flex-1",3,"click"],["title","Pi\xF9 informazioni",1,"icon-button"],[1,"text-muted","line-clamp-2"],[1,"text-center","mt-lg","pt-md","border-t","border-smoke-1"],[1,"text-muted","mb-md"],[1,"text-center","py-lg"],[1,"material-icons","text-4xl","text-muted","mb-md"],[1,"font-semibold","text-lg"],[1,"promethea-button","ghost","mt-md",3,"click"],[1,"flex","flex-col","md:flex-row","gap-md","justify-between","items-center","mt-lg","pt-md","border-t","border-smoke-1"],[1,"text-mini","text-muted"],[1,"promethea-button","ghost",3,"click"],[1,"material-icons","animate-spin"]],template:function(e,o){if(e&1&&m(0,Me,3,2,"div",1)(1,Re,6,0,"ng-template",null,0,j),e&2){let d=R(2);l("ngIf",!o.loading)("ngIfElse",d)}},dependencies:[S,y,C,L,E,N],styles:[".dish-image-container[_ngcontent-%COMP%]{position:relative;overflow:hidden;border-radius:var(--gap-md);margin-bottom:var(--gap-sm)}.dish-image[_ngcontent-%COMP%]{width:100%;height:180px;object-fit:cover;display:block;transition:transform .3s cubic-bezier(.2,.9,.2,1)}.card[_ngcontent-%COMP%]:hover   .dish-image[_ngcontent-%COMP%]{transform:scale(1.05)}.dish-badges[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0}.dish-badges[_ngcontent-%COMP%]   .chip[_ngcontent-%COMP%]{color:var(--text-color);border:none;background:var(--gradiente)}.text-normal[_ngcontent-%COMP%]{color:var(--text-color)}.line-clamp-2[_ngcontent-%COMP%]{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical}.flex-1[_ngcontent-%COMP%]{flex:1}.hover-lift[_ngcontent-%COMP%]{padding:0}@media (max-width: 768px){.dish-image[_ngcontent-%COMP%]{height:150px}}"]})};export{$ as RestaurantDetail};
